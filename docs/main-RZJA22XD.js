var TF=Object.create;var Ly=Object.defineProperty,AF=Object.defineProperties,NF=Object.getOwnPropertyDescriptor,kF=Object.getOwnPropertyDescriptors,RF=Object.getOwnPropertyNames,ef=Object.getOwnPropertySymbols,iI=Object.getPrototypeOf,Oy=Object.prototype.hasOwnProperty,nI=Object.prototype.propertyIsEnumerable,LF=Reflect.get;var Ry=(t,e)=>(e=Symbol[t])?e:Symbol.for("Symbol."+t);var tI=(t,e,i)=>e in t?Ly(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i,C=(t,e)=>{for(var i in e||={})Oy.call(e,i)&&tI(t,i,e[i]);if(ef)for(var i of ef(e))nI.call(e,i)&&tI(t,i,e[i]);return t},L=(t,e)=>AF(t,kF(e));var pt=(t,e)=>{var i={};for(var n in t)Oy.call(t,n)&&e.indexOf(n)<0&&(i[n]=t[n]);if(t!=null&&ef)for(var n of ef(t))e.indexOf(n)<0&&nI.call(t,n)&&(i[n]=t[n]);return i};var OF=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var PF=(t,e,i,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of RF(e))!Oy.call(t,r)&&r!==i&&Ly(t,r,{get:()=>e[r],enumerable:!(n=NF(e,r))||n.enumerable});return t};var FF=(t,e,i)=>(i=t!=null?TF(iI(t)):{},PF(e||!t||!t.__esModule?Ly(i,"default",{value:t,enumerable:!0}):i,t));var fs=(t,e,i)=>LF(iI(t),i,e);var j=(t,e,i)=>new Promise((n,r)=>{var o=l=>{try{a(i.next(l))}catch(c){r(c)}},s=l=>{try{a(i.throw(l))}catch(c){r(c)}},a=l=>l.done?n(l.value):Promise.resolve(l.value).then(o,s);a((i=i.apply(t,e)).next())}),jF=function(t,e){this[0]=t,this[1]=e};var tf=t=>{var e=t[Ry("asyncIterator")],i=!1,n,r={};return e==null?(e=t[Ry("iterator")](),n=o=>r[o]=s=>e[o](s)):(e=e.call(t),n=o=>r[o]=s=>{if(i){if(i=!1,o==="throw")throw s;return s}return i=!0,{done:!1,value:new jF(new Promise(a=>{var l=e[o](s);if(!(l instanceof Object))throw TypeError("Object expected");a(l)}),1)}}),r[Ry("iterator")]=()=>r,n("next"),"throw"in e?n("throw"):r.throw=o=>{throw o},"return"in e&&n("return"),r};var rk=OF(($x,Wx)=>{"use strict";(function(t,e){typeof define=="function"&&define.amd?define([],e):typeof Wx=="object"&&typeof $x<"u"?Wx.exports=e():t.Papa=e()})($x,function t(){"use strict";var e=typeof self<"u"?self:typeof window<"u"?window:e!==void 0?e:{},i=!e.document&&!!e.postMessage,n=e.IS_PAPA_WORKER||!1,r={},o=0,s={parse:function(D,_){var S=(_=_||{}).dynamicTyping||!1;if(I(S)&&(_.dynamicTypingFunction=S,S={}),_.dynamicTyping=S,_.transform=!!I(_.transform)&&_.transform,_.worker&&s.WORKERS_SUPPORTED){var E=function(){if(!s.WORKERS_SUPPORTED)return!1;var k=(Z=e.URL||e.webkitURL||null,ne=t.toString(),s.BLOB_URL||(s.BLOB_URL=Z.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",ne,")();"],{type:"text/javascript"})))),P=new e.Worker(k),Z,ne;return P.onmessage=b,P.id=o++,r[P.id]=P}();return E.userStep=_.step,E.userChunk=_.chunk,E.userComplete=_.complete,E.userError=_.error,_.step=I(_.step),_.chunk=I(_.chunk),_.complete=I(_.complete),_.error=I(_.error),delete _.worker,void E.postMessage({input:D,config:_,workerId:E.id})}var T=null;return s.NODE_STREAM_INPUT,typeof D=="string"?(D=function(k){return k.charCodeAt(0)===65279?k.slice(1):k}(D),T=_.download?new c(_):new u(_)):D.readable===!0&&I(D.read)&&I(D.on)?T=new h(_):(e.File&&D instanceof File||D instanceof Object)&&(T=new d(_)),T.stream(D)},unparse:function(D,_){var S=!1,E=!0,T=",",k=`\r
`,P='"',Z=P+P,ne=!1,z=null,R=!1;(function(){if(typeof _=="object"){if(typeof _.delimiter!="string"||s.BAD_DELIMITERS.filter(function(O){return _.delimiter.indexOf(O)!==-1}).length||(T=_.delimiter),(typeof _.quotes=="boolean"||typeof _.quotes=="function"||Array.isArray(_.quotes))&&(S=_.quotes),typeof _.skipEmptyLines!="boolean"&&typeof _.skipEmptyLines!="string"||(ne=_.skipEmptyLines),typeof _.newline=="string"&&(k=_.newline),typeof _.quoteChar=="string"&&(P=_.quoteChar),typeof _.header=="boolean"&&(E=_.header),Array.isArray(_.columns)){if(_.columns.length===0)throw new Error("Option columns is empty");z=_.columns}_.escapeChar!==void 0&&(Z=_.escapeChar+P),(typeof _.escapeFormulae=="boolean"||_.escapeFormulae instanceof RegExp)&&(R=_.escapeFormulae instanceof RegExp?_.escapeFormulae:/^[=+\-@\t\r].*$/)}})();var A=new RegExp(p(P),"g");if(typeof D=="string"&&(D=JSON.parse(D)),Array.isArray(D)){if(!D.length||Array.isArray(D[0]))return B(null,D,ne);if(typeof D[0]=="object")return B(z||Object.keys(D[0]),D,ne)}else if(typeof D=="object")return typeof D.data=="string"&&(D.data=JSON.parse(D.data)),Array.isArray(D.data)&&(D.fields||(D.fields=D.meta&&D.meta.fields||z),D.fields||(D.fields=Array.isArray(D.data[0])?D.fields:typeof D.data[0]=="object"?Object.keys(D.data[0]):[]),Array.isArray(D.data[0])||typeof D.data[0]=="object"||(D.data=[D.data])),B(D.fields||[],D.data||[],ne);throw new Error("Unable to serialize unrecognized input");function B(O,oe,te){var $="";typeof O=="string"&&(O=JSON.parse(O)),typeof oe=="string"&&(oe=JSON.parse(oe));var X=Array.isArray(O)&&0<O.length,F=!Array.isArray(oe[0]);if(X&&E){for(var de=0;de<O.length;de++)0<de&&($+=T),$+=ee(O[de],de);0<oe.length&&($+=k)}for(var V=0;V<oe.length;V++){var q=X?O.length:oe[V].length,ie=!1,pe=X?Object.keys(oe[V]).length===0:oe[V].length===0;if(te&&!X&&(ie=te==="greedy"?oe[V].join("").trim()==="":oe[V].length===1&&oe[V][0].length===0),te==="greedy"&&X){for(var he=[],De=0;De<q;De++){var Le=F?O[De]:De;he.push(oe[V][Le])}ie=he.join("").trim()===""}if(!ie){for(var Ee=0;Ee<q;Ee++){0<Ee&&!pe&&($+=T);var Qe=X&&F?O[Ee]:Ee;$+=ee(oe[V][Qe],Ee)}V<oe.length-1&&(!te||0<q&&!pe)&&($+=k)}}return $}function ee(O,oe){if(O==null)return"";if(O.constructor===Date)return JSON.stringify(O).slice(1,25);var te=!1;R&&typeof O=="string"&&R.test(O)&&(O="'"+O,te=!0);var $=O.toString().replace(A,Z);return(te=te||S===!0||typeof S=="function"&&S(O,oe)||Array.isArray(S)&&S[oe]||function(X,F){for(var de=0;de<F.length;de++)if(-1<X.indexOf(F[de]))return!0;return!1}($,s.BAD_DELIMITERS)||-1<$.indexOf(T)||$.charAt(0)===" "||$.charAt($.length-1)===" ")?P+$+P:$}}};if(s.RECORD_SEP="",s.UNIT_SEP="",s.BYTE_ORDER_MARK="\uFEFF",s.BAD_DELIMITERS=["\r",`
`,'"',s.BYTE_ORDER_MARK],s.WORKERS_SUPPORTED=!i&&!!e.Worker,s.NODE_STREAM_INPUT=1,s.LocalChunkSize=10485760,s.RemoteChunkSize=5242880,s.DefaultDelimiter=",",s.Parser=m,s.ParserHandle=f,s.NetworkStreamer=c,s.FileStreamer=d,s.StringStreamer=u,s.ReadableStreamStreamer=h,e.jQuery){var a=e.jQuery;a.fn.parse=function(D){var _=D.config||{},S=[];return this.each(function(k){if(!(a(this).prop("tagName").toUpperCase()==="INPUT"&&a(this).attr("type").toLowerCase()==="file"&&e.FileReader)||!this.files||this.files.length===0)return!0;for(var P=0;P<this.files.length;P++)S.push({file:this.files[P],inputElem:this,instanceConfig:a.extend({},_)})}),E(),this;function E(){if(S.length!==0){var k,P,Z,ne,z=S[0];if(I(D.before)){var R=D.before(z.file,z.inputElem);if(typeof R=="object"){if(R.action==="abort")return k="AbortError",P=z.file,Z=z.inputElem,ne=R.reason,void(I(D.error)&&D.error({name:k},P,Z,ne));if(R.action==="skip")return void T();typeof R.config=="object"&&(z.instanceConfig=a.extend(z.instanceConfig,R.config))}else if(R==="skip")return void T()}var A=z.instanceConfig.complete;z.instanceConfig.complete=function(B){I(A)&&A(B,z.file,z.inputElem),T()},s.parse(z.file,z.instanceConfig)}else I(D.complete)&&D.complete()}function T(){S.splice(0,1),E()}}}function l(D){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(_){var S=M(_);S.chunkSize=parseInt(S.chunkSize),_.step||_.chunk||(S.chunkSize=null),this._handle=new f(S),(this._handle.streamer=this)._config=S}).call(this,D),this.parseChunk=function(_,S){if(this.isFirstChunk&&I(this._config.beforeFirstChunk)){var E=this._config.beforeFirstChunk(_);E!==void 0&&(_=E)}this.isFirstChunk=!1,this._halted=!1;var T=this._partialLine+_;this._partialLine="";var k=this._handle.parse(T,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var P=k.meta.cursor;this._finished||(this._partialLine=T.substring(P-this._baseIndex),this._baseIndex=P),k&&k.data&&(this._rowCount+=k.data.length);var Z=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(n)e.postMessage({results:k,workerId:s.WORKER_ID,finished:Z});else if(I(this._config.chunk)&&!S){if(this._config.chunk(k,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);k=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(k.data),this._completeResults.errors=this._completeResults.errors.concat(k.errors),this._completeResults.meta=k.meta),this._completed||!Z||!I(this._config.complete)||k&&k.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),Z||k&&k.meta.paused||this._nextChunk(),k}this._halted=!0},this._sendError=function(_){I(this._config.error)?this._config.error(_):n&&this._config.error&&e.postMessage({workerId:s.WORKER_ID,error:_,finished:!1})}}function c(D){var _;(D=D||{}).chunkSize||(D.chunkSize=s.RemoteChunkSize),l.call(this,D),this._nextChunk=i?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(S){this._input=S,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(_=new XMLHttpRequest,this._config.withCredentials&&(_.withCredentials=this._config.withCredentials),i||(_.onload=w(this._chunkLoaded,this),_.onerror=w(this._chunkError,this)),_.open(this._config.downloadRequestBody?"POST":"GET",this._input,!i),this._config.downloadRequestHeaders){var S=this._config.downloadRequestHeaders;for(var E in S)_.setRequestHeader(E,S[E])}if(this._config.chunkSize){var T=this._start+this._config.chunkSize-1;_.setRequestHeader("Range","bytes="+this._start+"-"+T)}try{_.send(this._config.downloadRequestBody)}catch(k){this._chunkError(k.message)}i&&_.status===0&&this._chunkError()}},this._chunkLoaded=function(){_.readyState===4&&(_.status<200||400<=_.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:_.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(S){var E=S.getResponseHeader("Content-Range");return E===null?-1:parseInt(E.substring(E.lastIndexOf("/")+1))}(_),this.parseChunk(_.responseText)))},this._chunkError=function(S){var E=_.statusText||S;this._sendError(new Error(E))}}function d(D){var _,S;(D=D||{}).chunkSize||(D.chunkSize=s.LocalChunkSize),l.call(this,D);var E=typeof FileReader<"u";this.stream=function(T){this._input=T,S=T.slice||T.webkitSlice||T.mozSlice,E?((_=new FileReader).onload=w(this._chunkLoaded,this),_.onerror=w(this._chunkError,this)):_=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var T=this._input;if(this._config.chunkSize){var k=Math.min(this._start+this._config.chunkSize,this._input.size);T=S.call(T,this._start,k)}var P=_.readAsText(T,this._config.encoding);E||this._chunkLoaded({target:{result:P}})},this._chunkLoaded=function(T){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(T.target.result)},this._chunkError=function(){this._sendError(_.error)}}function u(D){var _;l.call(this,D=D||{}),this.stream=function(S){return _=S,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var S,E=this._config.chunkSize;return E?(S=_.substring(0,E),_=_.substring(E)):(S=_,_=""),this._finished=!_,this.parseChunk(S)}}}function h(D){l.call(this,D=D||{});var _=[],S=!0,E=!1;this.pause=function(){l.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){l.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(T){this._input=T,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){E&&_.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),_.length?this.parseChunk(_.shift()):S=!0},this._streamData=w(function(T){try{_.push(typeof T=="string"?T:T.toString(this._config.encoding)),S&&(S=!1,this._checkIsFinished(),this.parseChunk(_.shift()))}catch(k){this._streamError(k)}},this),this._streamError=w(function(T){this._streamCleanUp(),this._sendError(T)},this),this._streamEnd=w(function(){this._streamCleanUp(),E=!0,this._streamData("")},this),this._streamCleanUp=w(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function f(D){var _,S,E,T=Math.pow(2,53),k=-T,P=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,Z=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,ne=this,z=0,R=0,A=!1,B=!1,ee=[],O={data:[],errors:[],meta:{}};if(I(D.step)){var oe=D.step;D.step=function(V){if(O=V,X())$();else{if($(),O.data.length===0)return;z+=V.data.length,D.preview&&z>D.preview?S.abort():(O.data=O.data[0],oe(O,ne))}}}function te(V){return D.skipEmptyLines==="greedy"?V.join("").trim()==="":V.length===1&&V[0].length===0}function $(){return O&&E&&(de("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+s.DefaultDelimiter+"'"),E=!1),D.skipEmptyLines&&(O.data=O.data.filter(function(V){return!te(V)})),X()&&function(){if(!O)return;function V(ie,pe){I(D.transformHeader)&&(ie=D.transformHeader(ie,pe)),ee.push(ie)}if(Array.isArray(O.data[0])){for(var q=0;X()&&q<O.data.length;q++)O.data[q].forEach(V);O.data.splice(0,1)}else O.data.forEach(V)}(),function(){if(!O||!D.header&&!D.dynamicTyping&&!D.transform)return O;function V(ie,pe){var he,De=D.header?{}:[];for(he=0;he<ie.length;he++){var Le=he,Ee=ie[he];D.header&&(Le=he>=ee.length?"__parsed_extra":ee[he]),D.transform&&(Ee=D.transform(Ee,Le)),Ee=F(Le,Ee),Le==="__parsed_extra"?(De[Le]=De[Le]||[],De[Le].push(Ee)):De[Le]=Ee}return D.header&&(he>ee.length?de("FieldMismatch","TooManyFields","Too many fields: expected "+ee.length+" fields but parsed "+he,R+pe):he<ee.length&&de("FieldMismatch","TooFewFields","Too few fields: expected "+ee.length+" fields but parsed "+he,R+pe)),De}var q=1;return!O.data.length||Array.isArray(O.data[0])?(O.data=O.data.map(V),q=O.data.length):O.data=V(O.data,0),D.header&&O.meta&&(O.meta.fields=ee),R+=q,O}()}function X(){return D.header&&ee.length===0}function F(V,q){return ie=V,D.dynamicTypingFunction&&D.dynamicTyping[ie]===void 0&&(D.dynamicTyping[ie]=D.dynamicTypingFunction(ie)),(D.dynamicTyping[ie]||D.dynamicTyping)===!0?q==="true"||q==="TRUE"||q!=="false"&&q!=="FALSE"&&(function(pe){if(P.test(pe)){var he=parseFloat(pe);if(k<he&&he<T)return!0}return!1}(q)?parseFloat(q):Z.test(q)?new Date(q):q===""?null:q):q;var ie}function de(V,q,ie,pe){var he={type:V,code:q,message:ie};pe!==void 0&&(he.row=pe),O.errors.push(he)}this.parse=function(V,q,ie){var pe=D.quoteChar||'"';if(D.newline||(D.newline=function(Le,Ee){Le=Le.substring(0,1048576);var Qe=new RegExp(p(Ee)+"([^]*?)"+p(Ee),"gm"),rt=(Le=Le.replace(Qe,"")).split("\r"),ft=Le.split(`
`),yn=1<ft.length&&ft[0].length<rt[0].length;if(rt.length===1||yn)return`
`;for(var fi=0,St=0;St<rt.length;St++)rt[St][0]===`
`&&fi++;return fi>=rt.length/2?`\r
`:"\r"}(V,pe)),E=!1,D.delimiter)I(D.delimiter)&&(D.delimiter=D.delimiter(V),O.meta.delimiter=D.delimiter);else{var he=function(Le,Ee,Qe,rt,ft){var yn,fi,St,jt;ft=ft||[",","	","|",";",s.RECORD_SEP,s.UNIT_SEP];for(var Io=0;Io<ft.length;Io++){var dt=ft[Io],cs=0,mr=0,Hr=0;St=void 0;for(var ds=new m({comments:rt,delimiter:dt,newline:Ee,preview:10}).parse(Le),us=0;us<ds.data.length;us++)if(Qe&&te(ds.data[us]))Hr++;else{var hs=ds.data[us].length;mr+=hs,St!==void 0?0<hs&&(cs+=Math.abs(hs-St),St=hs):St=hs}0<ds.data.length&&(mr/=ds.data.length-Hr),(fi===void 0||cs<=fi)&&(jt===void 0||jt<mr)&&1.99<mr&&(fi=cs,yn=dt,jt=mr)}return{successful:!!(D.delimiter=yn),bestDelimiter:yn}}(V,D.newline,D.skipEmptyLines,D.comments,D.delimitersToGuess);he.successful?D.delimiter=he.bestDelimiter:(E=!0,D.delimiter=s.DefaultDelimiter),O.meta.delimiter=D.delimiter}var De=M(D);return D.preview&&D.header&&De.preview++,_=V,S=new m(De),O=S.parse(_,q,ie),$(),A?{meta:{paused:!0}}:O||{meta:{paused:!1}}},this.paused=function(){return A},this.pause=function(){A=!0,S.abort(),_=I(D.chunk)?"":_.substring(S.getCharIndex())},this.resume=function(){ne.streamer._halted?(A=!1,ne.streamer.parseChunk(_,!0)):setTimeout(ne.resume,3)},this.aborted=function(){return B},this.abort=function(){B=!0,S.abort(),O.meta.aborted=!0,I(D.complete)&&D.complete(O),_=""}}function p(D){return D.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function m(D){var _,S=(D=D||{}).delimiter,E=D.newline,T=D.comments,k=D.step,P=D.preview,Z=D.fastMode,ne=_=D.quoteChar===void 0||D.quoteChar===null?'"':D.quoteChar;if(D.escapeChar!==void 0&&(ne=D.escapeChar),(typeof S!="string"||-1<s.BAD_DELIMITERS.indexOf(S))&&(S=","),T===S)throw new Error("Comment character same as delimiter");T===!0?T="#":(typeof T!="string"||-1<s.BAD_DELIMITERS.indexOf(T))&&(T=!1),E!==`
`&&E!=="\r"&&E!==`\r
`&&(E=`
`);var z=0,R=!1;this.parse=function(A,B,ee){if(typeof A!="string")throw new Error("Input must be a string");var O=A.length,oe=S.length,te=E.length,$=T.length,X=I(k),F=[],de=[],V=[],q=z=0;if(!A)return Pn();if(D.header&&!B){var ie=A.split(E)[0].split(S),pe=[],he={},De=!1;for(var Le in ie){var Ee=ie[Le];I(D.transformHeader)&&(Ee=D.transformHeader(Ee,Le));var Qe=Ee,rt=he[Ee]||0;for(0<rt&&(De=!0,Qe=Ee+"_"+rt),he[Ee]=rt+1;pe.includes(Qe);)Qe=Qe+"_"+rt;pe.push(Qe)}if(De){var ft=A.split(E);ft[0]=pe.join(S),A=ft.join(E)}}if(Z||Z!==!1&&A.indexOf(_)===-1){for(var yn=A.split(E),fi=0;fi<yn.length;fi++){if(V=yn[fi],z+=V.length,fi!==yn.length-1)z+=E.length;else if(ee)return Pn();if(!T||V.substring(0,$)!==T){if(X){if(F=[],Hr(V.split(S)),Jh(),R)return Pn()}else Hr(V.split(S));if(P&&P<=fi)return F=F.slice(0,P),Pn(!0)}}return Pn()}for(var St=A.indexOf(S,z),jt=A.indexOf(E,z),Io=new RegExp(p(ne)+p(_),"g"),dt=A.indexOf(_,z);;)if(A[z]!==_)if(T&&V.length===0&&A.substring(z,z+$)===T){if(jt===-1)return Pn();z=jt+te,jt=A.indexOf(E,z),St=A.indexOf(S,z)}else if(St!==-1&&(St<jt||jt===-1))V.push(A.substring(z,St)),z=St+oe,St=A.indexOf(S,z);else{if(jt===-1)break;if(V.push(A.substring(z,jt)),hs(jt+te),X&&(Jh(),R))return Pn();if(P&&F.length>=P)return Pn(!0)}else for(dt=z,z++;;){if((dt=A.indexOf(_,dt+1))===-1)return ee||de.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:F.length,index:z}),us();if(dt===O-1)return us(A.substring(z,dt).replace(Io,_));if(_!==ne||A[dt+1]!==ne){if(_===ne||dt===0||A[dt-1]!==ne){St!==-1&&St<dt+1&&(St=A.indexOf(S,dt+1)),jt!==-1&&jt<dt+1&&(jt=A.indexOf(E,dt+1));var cs=ds(jt===-1?St:Math.min(St,jt));if(A.substr(dt+1+cs,oe)===S){V.push(A.substring(z,dt).replace(Io,_)),A[z=dt+1+cs+oe]!==_&&(dt=A.indexOf(_,z)),St=A.indexOf(S,z),jt=A.indexOf(E,z);break}var mr=ds(jt);if(A.substring(dt+1+mr,dt+1+mr+te)===E){if(V.push(A.substring(z,dt).replace(Io,_)),hs(dt+1+mr+te),St=A.indexOf(S,z),dt=A.indexOf(_,z),X&&(Jh(),R))return Pn();if(P&&F.length>=P)return Pn(!0);break}de.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:F.length,index:z}),dt++}}else dt++}return us();function Hr(Fn){F.push(Fn),q=z}function ds(Fn){var eI=0;if(Fn!==-1){var ky=A.substring(dt+1,Fn);ky&&ky.trim()===""&&(eI=ky.length)}return eI}function us(Fn){return ee||(Fn===void 0&&(Fn=A.substring(z)),V.push(Fn),z=O,Hr(V),X&&Jh()),Pn()}function hs(Fn){z=Fn,Hr(V),V=[],jt=A.indexOf(E,z)}function Pn(Fn){return{data:F,errors:de,meta:{delimiter:S,linebreak:E,aborted:R,truncated:!!Fn,cursor:q+(B||0)}}}function Jh(){k(Pn()),F=[],de=[]}},this.abort=function(){R=!0},this.getCharIndex=function(){return z}}function b(D){var _=D.data,S=r[_.workerId],E=!1;if(_.error)S.userError(_.error,_.file);else if(_.results&&_.results.data){var T={abort:function(){E=!0,g(_.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:v,resume:v};if(I(S.userStep)){for(var k=0;k<_.results.data.length&&(S.userStep({data:_.results.data[k],errors:_.results.errors,meta:_.results.meta},T),!E);k++);delete _.results}else I(S.userChunk)&&(S.userChunk(_.results,T,_.file),delete _.results)}_.finished&&!E&&g(_.workerId,_.results)}function g(D,_){var S=r[D];I(S.userComplete)&&S.userComplete(_),S.terminate(),delete r[D]}function v(){throw new Error("Not implemented.")}function M(D){if(typeof D!="object"||D===null)return D;var _=Array.isArray(D)?[]:{};for(var S in D)_[S]=M(D[S]);return _}function w(D,_){return function(){D.apply(_,arguments)}}function I(D){return typeof D=="function"}return n&&(e.onmessage=function(D){var _=D.data;if(s.WORKER_ID===void 0&&_&&(s.WORKER_ID=_.workerId),typeof _.input=="string")e.postMessage({workerId:s.WORKER_ID,results:s.parse(_.input,_.config),finished:!0});else if(e.File&&_.input instanceof File||_.input instanceof Object){var S=s.parse(_.input,_.config);S&&e.postMessage({workerId:s.WORKER_ID,results:S,finished:!0})}}),(c.prototype=Object.create(l.prototype)).constructor=c,(d.prototype=Object.create(l.prototype)).constructor=d,(u.prototype=Object.create(u.prototype)).constructor=u,(h.prototype=Object.create(l.prototype)).constructor=h,s})});var rI=null;var Py=1,Fy=Symbol("SIGNAL");function tt(t){let e=rI;return rI=t,e}var oI={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function BF(t){if(!(zy(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Py)){if(!t.producerMustRecompute(t)&&!jy(t)){t.dirty=!1,t.lastCleanEpoch=Py;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Py}}function sI(t){return t&&(t.nextProducerIndex=0),tt(t)}function aI(t,e){if(tt(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(zy(t))for(let i=t.nextProducerIndex;i<t.producerNode.length;i++)By(t.producerNode[i],t.producerIndexOfThis[i]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function jy(t){nf(t);for(let e=0;e<t.producerNode.length;e++){let i=t.producerNode[e],n=t.producerLastReadVersion[e];if(n!==i.version||(BF(i),n!==i.version))return!0}return!1}function lI(t){if(nf(t),zy(t))for(let e=0;e<t.producerNode.length;e++)By(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function By(t,e){if(zF(t),nf(t),t.liveConsumerNode.length===1)for(let n=0;n<t.producerNode.length;n++)By(t.producerNode[n],t.producerIndexOfThis[n]);let i=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[i],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[i],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let n=t.liveConsumerIndexOfThis[e],r=t.liveConsumerNode[e];nf(r),r.producerIndexOfThis[n]=e}}function zy(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function nf(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function zF(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function VF(){throw new Error}var UF=VF;function cI(t){UF=t}function xe(t){return typeof t=="function"}function jl(t){let i=t(n=>{Error.call(n),n.stack=new Error().stack});return i.prototype=Object.create(Error.prototype),i.prototype.constructor=i,i}var rf=jl(t=>function(i){t(this),this.message=i?`${i.length} errors occurred during unsubscription:
${i.map((n,r)=>`${r+1}) ${n.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=i});function ga(t,e){if(t){let i=t.indexOf(e);0<=i&&t.splice(i,1)}}var mt=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:i}=this;if(i)if(this._parentage=null,Array.isArray(i))for(let o of i)o.remove(this);else i.remove(this);let{initialTeardown:n}=this;if(xe(n))try{n()}catch(o){e=o instanceof rf?o.errors:[o]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let o of r)try{dI(o)}catch(s){e=e??[],s instanceof rf?e=[...e,...s.errors]:e.push(s)}}if(e)throw new rf(e)}}add(e){var i;if(e&&e!==this)if(this.closed)dI(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(i=this._finalizers)!==null&&i!==void 0?i:[]).push(e)}}_hasParent(e){let{_parentage:i}=this;return i===e||Array.isArray(i)&&i.includes(e)}_addParent(e){let{_parentage:i}=this;this._parentage=Array.isArray(i)?(i.push(e),i):i?[i,e]:e}_removeParent(e){let{_parentage:i}=this;i===e?this._parentage=null:Array.isArray(i)&&ga(i,e)}remove(e){let{_finalizers:i}=this;i&&ga(i,e),e instanceof t&&e._removeParent(this)}};mt.EMPTY=(()=>{let t=new mt;return t.closed=!0,t})();var Vy=mt.EMPTY;function of(t){return t instanceof mt||t&&"closed"in t&&xe(t.remove)&&xe(t.add)&&xe(t.unsubscribe)}function dI(t){xe(t)?t():t.unsubscribe()}var gr={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Bl={setTimeout(t,e,...i){let{delegate:n}=Bl;return n?.setTimeout?n.setTimeout(t,e,...i):setTimeout(t,e,...i)},clearTimeout(t){let{delegate:e}=Bl;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function sf(t){Bl.setTimeout(()=>{let{onUnhandledError:e}=gr;if(e)e(t);else throw t})}function Sd(){}var uI=Uy("C",void 0,void 0);function hI(t){return Uy("E",void 0,t)}function fI(t){return Uy("N",t,void 0)}function Uy(t,e,i){return{kind:t,value:e,error:i}}var ya=null;function zl(t){if(gr.useDeprecatedSynchronousErrorHandling){let e=!ya;if(e&&(ya={errorThrown:!1,error:null}),t(),e){let{errorThrown:i,error:n}=ya;if(ya=null,i)throw n}}else t()}function pI(t){gr.useDeprecatedSynchronousErrorHandling&&ya&&(ya.errorThrown=!0,ya.error=t)}var ba=class extends mt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,of(e)&&e.add(this)):this.destination=$F}static create(e,i,n){return new So(e,i,n)}next(e){this.isStopped?Hy(fI(e),this):this._next(e)}error(e){this.isStopped?Hy(hI(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Hy(uI,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},GF=Function.prototype.bind;function Gy(t,e){return GF.call(t,e)}var $y=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:i}=this;if(i.next)try{i.next(e)}catch(n){af(n)}}error(e){let{partialObserver:i}=this;if(i.error)try{i.error(e)}catch(n){af(n)}else af(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(i){af(i)}}},So=class extends ba{constructor(e,i,n){super();let r;if(xe(e)||!e)r={next:e??void 0,error:i??void 0,complete:n??void 0};else{let o;this&&gr.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&Gy(e.next,o),error:e.error&&Gy(e.error,o),complete:e.complete&&Gy(e.complete,o)}):r=e}this.destination=new $y(r)}};function af(t){gr.useDeprecatedSynchronousErrorHandling?pI(t):sf(t)}function HF(t){throw t}function Hy(t,e){let{onStoppedNotification:i}=gr;i&&Bl.setTimeout(()=>i(t,e))}var $F={closed:!0,next:Sd,error:HF,complete:Sd};var Vl=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Li(t){return t}function Wy(...t){return Yy(t)}function Yy(t){return t.length===0?Li:t.length===1?t[0]:function(i){return t.reduce((n,r)=>r(n),i)}}var Ie=(()=>{class t{constructor(i){i&&(this._subscribe=i)}lift(i){let n=new t;return n.source=this,n.operator=i,n}subscribe(i,n,r){let o=YF(i)?i:new So(i,n,r);return zl(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(i){try{return this._subscribe(i)}catch(n){i.error(n)}}forEach(i,n){return n=mI(n),new n((r,o)=>{let s=new So({next:a=>{try{i(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(i){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(i)}[Vl](){return this}pipe(...i){return Yy(i)(this)}toPromise(i){return i=mI(i),new i((n,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>n(o))})}}return t.create=e=>new t(e),t})();function mI(t){var e;return(e=t??gr.Promise)!==null&&e!==void 0?e:Promise}function WF(t){return t&&xe(t.next)&&xe(t.error)&&xe(t.complete)}function YF(t){return t&&t instanceof ba||WF(t)&&of(t)}function Zy(t){return xe(t?.lift)}function Ae(t){return e=>{if(Zy(e))return e.lift(function(i){try{return t(i,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}function Te(t,e,i,n,r){return new qy(t,e,i,n,r)}var qy=class extends ba{constructor(e,i,n,r,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=i?function(a){try{i(a)}catch(l){e.error(l)}}:super._next,this._error=r?function(a){try{r(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=n?function(){try{n()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:i}=this;super.unsubscribe(),!i&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Ul(){return Ae((t,e)=>{let i=null;t._refCount++;let n=Te(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){i=null;return}let r=t._connection,o=i;i=null,r&&(!o||r===o)&&r.unsubscribe(),e.unsubscribe()});t.subscribe(n),n.closed||(i=t.connect())})}var Gl=class extends Ie{constructor(e,i){super(),this.source=e,this.subjectFactory=i,this._subject=null,this._refCount=0,this._connection=null,Zy(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new mt;let i=this.getSubject();e.add(this.source.subscribe(Te(i,void 0,()=>{this._teardown(),i.complete()},n=>{this._teardown(),i.error(n)},()=>this._teardown()))),e.closed&&(this._connection=null,e=mt.EMPTY)}return e}refCount(){return Ul()(this)}};var gI=jl(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var qe=(()=>{class t extends Ie{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(i){let n=new lf(this,this);return n.operator=i,n}_throwIfClosed(){if(this.closed)throw new gI}next(i){zl(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let n of this.currentObservers)n.next(i)}})}error(i){zl(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=i;let{observers:n}=this;for(;n.length;)n.shift().error(i)}})}complete(){zl(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:i}=this;for(;i.length;)i.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var i;return((i=this.observers)===null||i===void 0?void 0:i.length)>0}_trySubscribe(i){return this._throwIfClosed(),super._trySubscribe(i)}_subscribe(i){return this._throwIfClosed(),this._checkFinalizedStatuses(i),this._innerSubscribe(i)}_innerSubscribe(i){let{hasError:n,isStopped:r,observers:o}=this;return n||r?Vy:(this.currentObservers=null,o.push(i),new mt(()=>{this.currentObservers=null,ga(o,i)}))}_checkFinalizedStatuses(i){let{hasError:n,thrownError:r,isStopped:o}=this;n?i.error(r):o&&i.complete()}asObservable(){let i=new Ie;return i.source=this,i}}return t.create=(e,i)=>new lf(e,i),t})(),lf=class extends qe{constructor(e,i){super(),this.destination=e,this.source=i}next(e){var i,n;(n=(i=this.destination)===null||i===void 0?void 0:i.next)===null||n===void 0||n.call(i,e)}error(e){var i,n;(n=(i=this.destination)===null||i===void 0?void 0:i.error)===null||n===void 0||n.call(i,e)}complete(){var e,i;(i=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||i===void 0||i.call(e)}_subscribe(e){var i,n;return(n=(i=this.source)===null||i===void 0?void 0:i.subscribe(e))!==null&&n!==void 0?n:Vy}};var Gt=class extends qe{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let i=super._subscribe(e);return!i.closed&&e.next(this._value),i}getValue(){let{hasError:e,thrownError:i,_value:n}=this;if(e)throw i;return this._throwIfClosed(),n}next(e){super.next(this._value=e)}};var Ky={now(){return(Ky.delegate||Date).now()},delegate:void 0};var cf=class extends mt{constructor(e,i){super()}schedule(e,i=0){return this}};var Cd={setInterval(t,e,...i){let{delegate:n}=Cd;return n?.setInterval?n.setInterval(t,e,...i):setInterval(t,e,...i)},clearInterval(t){let{delegate:e}=Cd;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var df=class extends cf{constructor(e,i){super(e,i),this.scheduler=e,this.work=i,this.pending=!1}schedule(e,i=0){var n;if(this.closed)return this;this.state=e;let r=this.id,o=this.scheduler;return r!=null&&(this.id=this.recycleAsyncId(o,r,i)),this.pending=!0,this.delay=i,this.id=(n=this.id)!==null&&n!==void 0?n:this.requestAsyncId(o,this.id,i),this}requestAsyncId(e,i,n=0){return Cd.setInterval(e.flush.bind(e,this),n)}recycleAsyncId(e,i,n=0){if(n!=null&&this.delay===n&&this.pending===!1)return i;i!=null&&Cd.clearInterval(i)}execute(e,i){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let n=this._execute(e,i);if(n)return n;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,i){let n=!1,r;try{this.work(e)}catch(o){n=!0,r=o||new Error("Scheduled action threw falsy error")}if(n)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){let{id:e,scheduler:i}=this,{actions:n}=i;this.work=this.state=this.scheduler=null,this.pending=!1,ga(n,this),e!=null&&(this.id=this.recycleAsyncId(i,e,null)),this.delay=null,super.unsubscribe()}}};var Hl=class t{constructor(e,i=t.now){this.schedulerActionCtor=e,this.now=i}schedule(e,i=0,n){return new this.schedulerActionCtor(this,e).schedule(n,i)}};Hl.now=Ky.now;var uf=class extends Hl{constructor(e,i=Hl.now){super(e,i),this.actions=[],this._active=!1}flush(e){let{actions:i}=this;if(this._active){i.push(e);return}let n;this._active=!0;do if(n=e.execute(e.state,e.delay))break;while(e=i.shift());if(this._active=!1,n){for(;e=i.shift();)e.unsubscribe();throw n}}};var Ed=new uf(df),yI=Ed;var Oi=new Ie(t=>t.complete());function hf(t){return t&&xe(t.schedule)}function Xy(t){return t[t.length-1]}function ff(t){return xe(Xy(t))?t.pop():void 0}function $r(t){return hf(Xy(t))?t.pop():void 0}function bI(t,e){return typeof Xy(t)=="number"?t.pop():e}function xI(t,e,i,n){function r(o){return o instanceof i?o:new i(function(s){s(o)})}return new(i||(i=Promise))(function(o,s){function a(d){try{c(n.next(d))}catch(u){s(u)}}function l(d){try{c(n.throw(d))}catch(u){s(u)}}function c(d){d.done?o(d.value):r(d.value).then(a,l)}c((n=n.apply(t,e||[])).next())})}function vI(t){var e=typeof Symbol=="function"&&Symbol.iterator,i=e&&t[e],n=0;if(i)return i.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function va(t){return this instanceof va?(this.v=t,this):new va(t)}function _I(t,e,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=i.apply(t,e||[]),r,o=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),r[Symbol.asyncIterator]=function(){return this},r;function s(f){return function(p){return Promise.resolve(p).then(f,u)}}function a(f,p){n[f]&&(r[f]=function(m){return new Promise(function(b,g){o.push([f,m,b,g])>1||l(f,m)})},p&&(r[f]=p(r[f])))}function l(f,p){try{c(n[f](p))}catch(m){h(o[0][3],m)}}function c(f){f.value instanceof va?Promise.resolve(f.value.v).then(d,u):h(o[0][2],f)}function d(f){l("next",f)}function u(f){l("throw",f)}function h(f,p){f(p),o.shift(),o.length&&l(o[0][0],o[0][1])}}function MI(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],i;return e?e.call(t):(t=typeof vI=="function"?vI(t):t[Symbol.iterator](),i={},n("next"),n("throw"),n("return"),i[Symbol.asyncIterator]=function(){return this},i);function n(o){i[o]=t[o]&&function(s){return new Promise(function(a,l){s=t[o](s),r(a,l,s.done,s.value)})}}function r(o,s,a,l){Promise.resolve(l).then(function(c){o({value:c,done:a})},s)}}var $l=t=>t&&typeof t.length=="number"&&typeof t!="function";function pf(t){return xe(t?.then)}function mf(t){return xe(t[Vl])}function gf(t){return Symbol.asyncIterator&&xe(t?.[Symbol.asyncIterator])}function yf(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function ZF(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var bf=ZF();function vf(t){return xe(t?.[bf])}function xf(t){return _I(this,arguments,function*(){let i=t.getReader();try{for(;;){let{value:n,done:r}=yield va(i.read());if(r)return yield va(void 0);yield yield va(n)}}finally{i.releaseLock()}})}function _f(t){return xe(t?.getReader)}function ut(t){if(t instanceof Ie)return t;if(t!=null){if(mf(t))return qF(t);if($l(t))return KF(t);if(pf(t))return XF(t);if(gf(t))return DI(t);if(vf(t))return QF(t);if(_f(t))return JF(t)}throw yf(t)}function qF(t){return new Ie(e=>{let i=t[Vl]();if(xe(i.subscribe))return i.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function KF(t){return new Ie(e=>{for(let i=0;i<t.length&&!e.closed;i++)e.next(t[i]);e.complete()})}function XF(t){return new Ie(e=>{t.then(i=>{e.closed||(e.next(i),e.complete())},i=>e.error(i)).then(null,sf)})}function QF(t){return new Ie(e=>{for(let i of t)if(e.next(i),e.closed)return;e.complete()})}function DI(t){return new Ie(e=>{e2(t,e).catch(i=>e.error(i))})}function JF(t){return DI(xf(t))}function e2(t,e){var i,n,r,o;return xI(this,void 0,void 0,function*(){try{for(i=MI(t);n=yield i.next(),!n.done;){let s=n.value;if(e.next(s),e.closed)return}}catch(s){r={error:s}}finally{try{n&&!n.done&&(o=i.return)&&(yield o.call(i))}finally{if(r)throw r.error}}e.complete()})}function Xi(t,e,i,n=0,r=!1){let o=e.schedule(function(){i(),r?t.add(this.schedule(null,n)):this.unsubscribe()},n);if(t.add(o),!r)return o}function Mf(t,e=0){return Ae((i,n)=>{i.subscribe(Te(n,r=>Xi(n,t,()=>n.next(r),e),()=>Xi(n,t,()=>n.complete(),e),r=>Xi(n,t,()=>n.error(r),e)))})}function Df(t,e=0){return Ae((i,n)=>{n.add(t.schedule(()=>i.subscribe(n),e))})}function wI(t,e){return ut(t).pipe(Df(e),Mf(e))}function II(t,e){return ut(t).pipe(Df(e),Mf(e))}function SI(t,e){return new Ie(i=>{let n=0;return e.schedule(function(){n===t.length?i.complete():(i.next(t[n++]),i.closed||this.schedule())})})}function CI(t,e){return new Ie(i=>{let n;return Xi(i,e,()=>{n=t[bf](),Xi(i,e,()=>{let r,o;try{({value:r,done:o}=n.next())}catch(s){i.error(s);return}o?i.complete():i.next(r)},0,!0)}),()=>xe(n?.return)&&n.return()})}function wf(t,e){if(!t)throw new Error("Iterable cannot be null");return new Ie(i=>{Xi(i,e,()=>{let n=t[Symbol.asyncIterator]();Xi(i,e,()=>{n.next().then(r=>{r.done?i.complete():i.next(r.value)})},0,!0)})})}function EI(t,e){return wf(xf(t),e)}function TI(t,e){if(t!=null){if(mf(t))return wI(t,e);if($l(t))return SI(t,e);if(pf(t))return II(t,e);if(gf(t))return wf(t,e);if(vf(t))return CI(t,e);if(_f(t))return EI(t,e)}throw yf(t)}function ot(t,e){return e?TI(t,e):ut(t)}function le(...t){let e=$r(t);return ot(t,e)}function ps(t,e){let i=xe(t)?t:()=>t,n=r=>r.error(i());return new Ie(e?r=>e.schedule(n,0,r):n)}function If(t){return!!t&&(t instanceof Ie||xe(t.lift)&&xe(t.subscribe))}var Co=jl(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function AI(t){return t instanceof Date&&!isNaN(t)}function me(t,e){return Ae((i,n)=>{let r=0;i.subscribe(Te(n,o=>{n.next(t.call(e,o,r++))}))})}var{isArray:t2}=Array;function i2(t,e){return t2(e)?t(...e):t(e)}function Wl(t){return me(e=>i2(t,e))}var{isArray:n2}=Array,{getPrototypeOf:r2,prototype:o2,keys:s2}=Object;function Sf(t){if(t.length===1){let e=t[0];if(n2(e))return{args:e,keys:null};if(a2(e)){let i=s2(e);return{args:i.map(n=>e[n]),keys:i}}}return{args:t,keys:null}}function a2(t){return t&&typeof t=="object"&&r2(t)===o2}function Cf(t,e){return t.reduce((i,n,r)=>(i[n]=e[r],i),{})}function xa(...t){let e=$r(t),i=ff(t),{args:n,keys:r}=Sf(t);if(n.length===0)return ot([],e);let o=new Ie(l2(n,e,r?s=>Cf(r,s):Li));return i?o.pipe(Wl(i)):o}function l2(t,e,i=Li){return n=>{NI(e,()=>{let{length:r}=t,o=new Array(r),s=r,a=r;for(let l=0;l<r;l++)NI(e,()=>{let c=ot(t[l],e),d=!1;c.subscribe(Te(n,u=>{o[l]=u,d||(d=!0,a--),a||n.next(i(o.slice()))},()=>{--s||n.complete()}))},n)},n)}}function NI(t,e,i){t?Xi(i,t,e):e()}function kI(t,e,i,n,r,o,s,a){let l=[],c=0,d=0,u=!1,h=()=>{u&&!l.length&&!c&&e.complete()},f=m=>c<n?p(m):l.push(m),p=m=>{o&&e.next(m),c++;let b=!1;ut(i(m,d++)).subscribe(Te(e,g=>{r?.(g),o?f(g):e.next(g)},()=>{b=!0},void 0,()=>{if(b)try{for(c--;l.length&&c<n;){let g=l.shift();s?Xi(e,s,()=>p(g)):p(g)}h()}catch(g){e.error(g)}}))};return t.subscribe(Te(e,f,()=>{u=!0,h()})),()=>{a?.()}}function Bt(t,e,i=1/0){return xe(e)?Bt((n,r)=>me((o,s)=>e(n,o,r,s))(ut(t(n,r))),i):(typeof e=="number"&&(i=e),Ae((n,r)=>kI(n,r,t,i)))}function Wr(t=1/0){return Bt(Li,t)}function RI(){return Wr(1)}function ms(...t){return RI()(ot(t,$r(t)))}function Ef(t){return new Ie(e=>{ut(t()).subscribe(e)})}function Td(...t){let e=ff(t),{args:i,keys:n}=Sf(t),r=new Ie(o=>{let{length:s}=i;if(!s){o.complete();return}let a=new Array(s),l=s,c=s;for(let d=0;d<s;d++){let u=!1;ut(i[d]).subscribe(Te(o,h=>{u||(u=!0,c--),a[d]=h},()=>l--,void 0,()=>{(!l||!u)&&(c||o.next(n?Cf(n,a):a),o.complete())}))}});return e?r.pipe(Wl(e)):r}var c2=["addListener","removeListener"],d2=["addEventListener","removeEventListener"],u2=["on","off"];function Ad(t,e,i,n){if(xe(i)&&(n=i,i=void 0),n)return Ad(t,e,i).pipe(Wl(n));let[r,o]=p2(t)?d2.map(s=>a=>t[s](e,a,i)):h2(t)?c2.map(LI(t,e)):f2(t)?u2.map(LI(t,e)):[];if(!r&&$l(t))return Bt(s=>Ad(s,e,i))(ut(t));if(!r)throw new TypeError("Invalid event target");return new Ie(s=>{let a=(...l)=>s.next(1<l.length?l:l[0]);return r(a),()=>o(a)})}function LI(t,e){return i=>n=>t[i](e,n)}function h2(t){return xe(t.addListener)&&xe(t.removeListener)}function f2(t){return xe(t.on)&&xe(t.off)}function p2(t){return xe(t.addEventListener)&&xe(t.removeEventListener)}function OI(t=0,e,i=yI){let n=-1;return e!=null&&(hf(e)?i=e:n=e),new Ie(r=>{let o=AI(t)?+t-i.now():t;o<0&&(o=0);let s=0;return i.schedule(function(){r.closed||(r.next(s++),0<=n?this.schedule(void 0,n):r.complete())},o)})}function Qy(...t){let e=$r(t),i=bI(t,1/0),n=t;return n.length?n.length===1?ut(n[0]):Wr(i)(ot(n,e)):Oi}function Ht(t,e){return Ae((i,n)=>{let r=0;i.subscribe(Te(n,o=>t.call(e,o,r++)&&n.next(o)))})}function PI(t){return Ae((e,i)=>{let n=!1,r=null,o=null,s=!1,a=()=>{if(o?.unsubscribe(),o=null,n){n=!1;let c=r;r=null,i.next(c)}s&&i.complete()},l=()=>{o=null,s&&i.complete()};e.subscribe(Te(i,c=>{n=!0,r=c,o||ut(t(c)).subscribe(o=Te(i,a,l))},()=>{s=!0,(!n||!o||o.closed)&&i.complete()}))})}function Tf(t,e=Ed){return PI(()=>OI(t,e))}function pi(t){return Ae((e,i)=>{let n=null,r=!1,o;n=e.subscribe(Te(i,void 0,void 0,s=>{o=ut(t(s,pi(t)(e))),n?(n.unsubscribe(),n=null,o.subscribe(i)):r=!0})),r&&(n.unsubscribe(),n=null,o.subscribe(i))})}function FI(t,e,i,n,r){return(o,s)=>{let a=i,l=e,c=0;o.subscribe(Te(s,d=>{let u=c++;l=a?t(l,d,u):(a=!0,d),n&&s.next(l)},r&&(()=>{a&&s.next(l),s.complete()})))}}function jn(t,e){return xe(e)?Bt(t,e,1):Bt(t,1)}function Af(t,e=Ed){return Ae((i,n)=>{let r=null,o=null,s=null,a=()=>{if(r){r.unsubscribe(),r=null;let c=o;o=null,n.next(c)}};function l(){let c=s+t,d=e.now();if(d<c){r=this.schedule(void 0,c-d),n.add(r);return}a()}i.subscribe(Te(n,c=>{o=c,s=e.now(),r||(r=e.schedule(l,t),n.add(r))},()=>{a(),n.complete()},void 0,()=>{o=r=null}))})}function gs(t){return Ae((e,i)=>{let n=!1;e.subscribe(Te(i,r=>{n=!0,i.next(r)},()=>{n||i.next(t),i.complete()}))})}function wi(t){return t<=0?()=>Oi:Ae((e,i)=>{let n=0;e.subscribe(Te(i,r=>{++n<=t&&(i.next(r),t<=n&&i.complete())}))})}function Jy(t){return me(()=>t)}function Nf(t,e=Li){return t=t??m2,Ae((i,n)=>{let r,o=!0;i.subscribe(Te(n,s=>{let a=e(s);(o||!t(r,a))&&(o=!1,r=a,n.next(s))}))})}function m2(t,e){return t===e}function kf(t=g2){return Ae((e,i)=>{let n=!1;e.subscribe(Te(i,r=>{n=!0,i.next(r)},()=>n?i.complete():i.error(t())))})}function g2(){return new Co}function Yr(t){return Ae((e,i)=>{try{e.subscribe(i)}finally{i.add(t)}})}function bn(t,e){let i=arguments.length>=2;return n=>n.pipe(t?Ht((r,o)=>t(r,o,n)):Li,wi(1),i?gs(e):kf(()=>new Co))}function Yl(t){return t<=0?()=>Oi:Ae((e,i)=>{let n=[];e.subscribe(Te(i,r=>{n.push(r),t<n.length&&n.shift()},()=>{for(let r of n)i.next(r);i.complete()},void 0,()=>{n=null}))})}function eb(t,e){let i=arguments.length>=2;return n=>n.pipe(t?Ht((r,o)=>t(r,o,n)):Li,Yl(1),i?gs(e):kf(()=>new Co))}function tb(t,e){return Ae(FI(t,e,arguments.length>=2,!0))}function nb(t={}){let{connector:e=()=>new qe,resetOnError:i=!0,resetOnComplete:n=!0,resetOnRefCountZero:r=!0}=t;return o=>{let s,a,l,c=0,d=!1,u=!1,h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),s=l=void 0,d=u=!1},p=()=>{let m=s;f(),m?.unsubscribe()};return Ae((m,b)=>{c++,!u&&!d&&h();let g=l=l??e();b.add(()=>{c--,c===0&&!u&&!d&&(a=ib(p,r))}),g.subscribe(b),!s&&c>0&&(s=new So({next:v=>g.next(v),error:v=>{u=!0,h(),a=ib(f,i,v),g.error(v)},complete:()=>{d=!0,h(),a=ib(f,n),g.complete()}}),ut(m).subscribe(s))})(o)}}function ib(t,e,...i){if(e===!0){t();return}if(e===!1)return;let n=new So({next:()=>{n.unsubscribe(),t()}});return ut(e(...i)).subscribe(n)}function Nd(t){return Ht((e,i)=>t<=i)}function Zl(...t){let e=$r(t);return Ae((i,n)=>{(e?ms(t,i,e):ms(t,i)).subscribe(n)})}function Pi(t,e){return Ae((i,n)=>{let r=null,o=0,s=!1,a=()=>s&&!r&&n.complete();i.subscribe(Te(n,l=>{r?.unsubscribe();let c=0,d=o++;ut(t(l,d)).subscribe(r=Te(n,u=>n.next(e?e(l,u,d,c++):u),()=>{r=null,a()}))},()=>{s=!0,a()}))})}function Zr(t){return Ae((e,i)=>{ut(t).subscribe(Te(i,()=>i.complete(),Sd)),!i.closed&&e.subscribe(i)})}function st(t,e,i){let n=xe(t)||e||i?{next:t,error:e,complete:i}:t;return n?Ae((r,o)=>{var s;(s=n.subscribe)===null||s===void 0||s.call(n);let a=!0;r.subscribe(Te(o,l=>{var c;(c=n.next)===null||c===void 0||c.call(n,l),o.next(l)},()=>{var l;a=!1,(l=n.complete)===null||l===void 0||l.call(n),o.complete()},l=>{var c;a=!1,(c=n.error)===null||c===void 0||c.call(n,l),o.error(l)},()=>{var l,c;a&&((l=n.unsubscribe)===null||l===void 0||l.call(n)),(c=n.finalize)===null||c===void 0||c.call(n)}))}):Li}var wS="https://g.co/ng/security#xss",W=class extends Error{constructor(e,i){super(pp(e,i)),this.code=e}};function pp(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function Hd(t){return{toString:t}.toString()}var Rf="__parameters__";function y2(t){return function(...i){if(t){let n=t(...i);for(let r in n)this[r]=n[r]}}}function IS(t,e,i){return Hd(()=>{let n=y2(e);function r(...o){if(this instanceof r)return n.apply(this,o),this;let s=new r(...o);return a.annotation=s,a;function a(l,c,d){let u=l.hasOwnProperty(Rf)?l[Rf]:Object.defineProperty(l,Rf,{value:[]})[Rf];for(;u.length<=d;)u.push(null);return(u[d]=u[d]||[]).push(s),l}}return i&&(r.prototype=Object.create(i.prototype)),r.prototype.ngMetadataName=t,r.annotationCls=r,r})}var mi=globalThis;function vt(t){for(let e in t)if(t[e]===vt)return e;throw Error("Could not find renamed property on target object.")}function b2(t,e){for(let i in e)e.hasOwnProperty(i)&&!t.hasOwnProperty(i)&&(t[i]=e[i])}function ji(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(ji).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let i=e.indexOf(`
`);return i===-1?e:e.substring(0,i)}function bb(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var v2=vt({__forward_ref__:vt});function Ds(t){return t.__forward_ref__=Ds,t.toString=function(){return ji(this())},t}function Fi(t){return SS(t)?t():t}function SS(t){return typeof t=="function"&&t.hasOwnProperty(v2)&&t.__forward_ref__===Ds}function H(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function ye(t){return{providers:t.providers||[],imports:t.imports||[]}}function mp(t){return jI(t,ES)||jI(t,TS)}function CS(t){return mp(t)!==null}function jI(t,e){return t.hasOwnProperty(e)?t[e]:null}function x2(t){let e=t&&(t[ES]||t[TS]);return e||null}function BI(t){return t&&(t.hasOwnProperty(zI)||t.hasOwnProperty(_2))?t[zI]:null}var ES=vt({\u0275prov:vt}),zI=vt({\u0275inj:vt}),TS=vt({ngInjectableDef:vt}),_2=vt({ngInjectorDef:vt}),J=class{constructor(e,i){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof i=="number"?this.__NG_ELEMENT_ID__=i:i!==void 0&&(this.\u0275prov=H({token:this,providedIn:i.providedIn||"root",factory:i.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function AS(t){return t&&!!t.\u0275providers}var M2=vt({\u0275cmp:vt}),D2=vt({\u0275dir:vt}),w2=vt({\u0275pipe:vt}),I2=vt({\u0275mod:vt}),Wf=vt({\u0275fac:vt}),kd=vt({__NG_ELEMENT_ID__:vt}),VI=vt({__NG_ENV_ID__:vt});function tc(t){return typeof t=="string"?t:t==null?"":String(t)}function S2(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():tc(t)}function C2(t,e){let i=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new W(-200,t)}function xv(t,e){throw new W(-201,!1)}var je=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(je||{}),vb;function NS(){return vb}function Qi(t){let e=vb;return vb=t,e}function kS(t,e,i){let n=mp(t);if(n&&n.providedIn=="root")return n.value===void 0?n.value=n.factory():n.value;if(i&je.Optional)return null;if(e!==void 0)return e;xv(t,"Injector")}var E2={},Ld=E2,xb="__NG_DI_FLAG__",Yf="ngTempTokenPath",T2="ngTokenPath",A2=/\n/gm,N2="\u0275",UI="__source",Jl;function k2(){return Jl}function ys(t){let e=Jl;return Jl=t,e}function R2(t,e=je.Default){if(Jl===void 0)throw new W(-203,!1);return Jl===null?kS(t,void 0,e):Jl.get(t,e&je.Optional?null:void 0,e)}function N(t,e=je.Default){return(NS()||R2)(Fi(t),e)}function U(t,e=je.Default){return N(t,gp(e))}function gp(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function _b(t){let e=[];for(let i=0;i<t.length;i++){let n=Fi(t[i]);if(Array.isArray(n)){if(n.length===0)throw new W(900,!1);let r,o=je.Default;for(let s=0;s<n.length;s++){let a=n[s],l=L2(a);typeof l=="number"?l===-1?r=a.token:o|=l:r=a}e.push(N(r,o))}else e.push(N(n))}return e}function RS(t,e){return t[xb]=e,t.prototype[xb]=e,t}function L2(t){return t[xb]}function O2(t,e,i,n){let r=t[Yf];throw e[UI]&&r.unshift(e[UI]),t.message=P2(`
`+t.message,r,i,n),t[T2]=r,t[Yf]=null,t}function P2(t,e,i,n=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==N2?t.slice(2):t;let r=ji(e);if(Array.isArray(e))r=e.map(ji).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):ji(a)))}r=`{${o.join(", ")}}`}return`${i}${n?"("+n+")":""}[${r}]: ${t.replace(A2,`
  `)}`}var $d=RS(IS("Optional"),8);var yp=RS(IS("SkipSelf"),4);function Da(t,e){let i=t.hasOwnProperty(Wf);return i?t[Wf]:null}function F2(t,e,i){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++){let r=t[n],o=e[n];if(i&&(r=i(r),o=i(o)),o!==r)return!1}return!0}function j2(t){return t.flat(Number.POSITIVE_INFINITY)}function _v(t,e){t.forEach(i=>Array.isArray(i)?_v(i,e):e(i))}function LS(t,e,i){e>=t.length?t.push(i):t.splice(e,0,i)}function Zf(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function B2(t,e){let i=[];for(let n=0;n<t;n++)i.push(e);return i}function z2(t,e,i,n){let r=t.length;if(r==e)t.push(i,n);else if(r===1)t.push(n,t[0]),t[0]=i;else{for(r--,t.push(t[r-1],t[r]);r>e;){let o=r-2;t[r]=t[o],r--}t[e]=i,t[e+1]=n}}function Mv(t,e,i){let n=Wd(t,e);return n>=0?t[n|1]=i:(n=~n,z2(t,n,e,i)),n}function rb(t,e){let i=Wd(t,e);if(i>=0)return t[i|1]}function Wd(t,e){return V2(t,e,1)}function V2(t,e,i){let n=0,r=t.length>>i;for(;r!==n;){let o=n+(r-n>>1),s=t[o<<i];if(e===s)return o<<i;s>e?r=o:n=o+1}return~(r<<i)}var ic={},Ji=[],nc=new J(""),OS=new J("",-1),PS=new J(""),qf=class{get(e,i=Ld){if(i===Ld){let n=new Error(`NullInjectorError: No provider for ${ji(e)}!`);throw n.name="NullInjectorError",n}return i}},FS=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(FS||{}),Xr=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Xr||{}),_e=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(_e||{});function U2(t,e,i){let n=t.length;for(;;){let r=t.indexOf(e,i);if(r===-1)return r;if(r===0||t.charCodeAt(r-1)<=32){let o=e.length;if(r+o===n||t.charCodeAt(r+o)<=32)return r}i=r+1}}function Mb(t,e,i){let n=0;for(;n<i.length;){let r=i[n];if(typeof r=="number"){if(r!==0)break;n++;let o=i[n++],s=i[n++],a=i[n++];t.setAttribute(e,s,a,o)}else{let o=r,s=i[++n];G2(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),n++}}return n}function jS(t){return t===3||t===4||t===6}function G2(t){return t.charCodeAt(0)===64}function Od(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let i=-1;for(let n=0;n<e.length;n++){let r=e[n];typeof r=="number"?i=r:i===0||(i===-1||i===2?GI(t,i,r,null,e[++n]):GI(t,i,r,null,null))}}return t}function GI(t,e,i,n,r){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===i){if(n===null){r!==null&&(t[o+1]=r);return}else if(n===t[o+1]){t[o+2]=r;return}}o++,n!==null&&o++,r!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,i),n!==null&&t.splice(o++,0,n),r!==null&&t.splice(o++,0,r)}var BS="ng-template";function H2(t,e,i,n){let r=0;if(n){for(;r<e.length&&typeof e[r]=="string";r+=2)if(e[r]==="class"&&U2(e[r+1].toLowerCase(),i,0)!==-1)return!0}else if(Dv(t))return!1;if(r=e.indexOf(1,r),r>-1){let o;for(;++r<e.length&&typeof(o=e[r])=="string";)if(o.toLowerCase()===i)return!0}return!1}function Dv(t){return t.type===4&&t.value!==BS}function $2(t,e,i){let n=t.type===4&&!i?BS:t.value;return e===n}function W2(t,e,i){let n=4,r=t.attrs,o=r!==null?q2(r):0,s=!1;for(let a=0;a<e.length;a++){let l=e[a];if(typeof l=="number"){if(!s&&!yr(n)&&!yr(l))return!1;if(s&&yr(l))continue;s=!1,n=l|n&1;continue}if(!s)if(n&4){if(n=2|n&1,l!==""&&!$2(t,l,i)||l===""&&e.length===1){if(yr(n))return!1;s=!0}}else if(n&8){if(r===null||!H2(t,r,l,i)){if(yr(n))return!1;s=!0}}else{let c=e[++a],d=Y2(l,r,Dv(t),i);if(d===-1){if(yr(n))return!1;s=!0;continue}if(c!==""){let u;if(d>o?u="":u=r[d+1].toLowerCase(),n&2&&c!==u){if(yr(n))return!1;s=!0}}}}return yr(n)||s}function yr(t){return(t&1)===0}function Y2(t,e,i,n){if(e===null)return-1;let r=0;if(n||!i){let o=!1;for(;r<e.length;){let s=e[r];if(s===t)return r;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++r];for(;typeof a=="string";)a=e[++r];continue}else{if(s===4)break;if(s===0){r+=4;continue}}r+=o?1:2}return-1}else return K2(e,t)}function zS(t,e,i=!1){for(let n=0;n<e.length;n++)if(W2(t,e[n],i))return!0;return!1}function Z2(t){let e=t.attrs;if(e!=null){let i=e.indexOf(5);if(!(i&1))return e[i+1]}return null}function q2(t){for(let e=0;e<t.length;e++){let i=t[e];if(jS(i))return e}return t.length}function K2(t,e){let i=t.indexOf(4);if(i>-1)for(i++;i<t.length;){let n=t[i];if(typeof n=="number")return-1;if(n===e)return i;i++}return-1}function X2(t,e){e:for(let i=0;i<e.length;i++){let n=e[i];if(t.length===n.length){for(let r=0;r<t.length;r++)if(t[r]!==n[r])continue e;return!0}}return!1}function HI(t,e){return t?":not("+e.trim()+")":e}function Q2(t){let e=t[0],i=1,n=2,r="",o=!1;for(;i<t.length;){let s=t[i];if(typeof s=="string")if(n&2){let a=t[++i];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else n&8?r+="."+s:n&4&&(r+=" "+s);else r!==""&&!yr(s)&&(e+=HI(o,r),r=""),n=s,o=o||!yr(n);i++}return r!==""&&(e+=HI(o,r)),e}function J2(t){return t.map(Q2).join(",")}function ej(t){let e=[],i=[],n=1,r=2;for(;n<t.length;){let o=t[n];if(typeof o=="string")r===2?o!==""&&e.push(o,t[++n]):r===8&&i.push(o);else{if(!yr(r))break;r=o}n++}return{attrs:e,classes:i}}function $e(t){return Hd(()=>{let e=$S(t),i=L(C({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===FS.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Xr.Emulated,styles:t.styles||Ji,_:null,schemas:t.schemas||null,tView:null,id:""});WS(i);let n=t.dependencies;return i.directiveDefs=WI(n,!1),i.pipeDefs=WI(n,!0),i.id=nj(i),i})}function tj(t){return vs(t)||VS(t)}function ij(t){return t!==null}function be(t){return Hd(()=>({type:t.type,bootstrap:t.bootstrap||Ji,declarations:t.declarations||Ji,imports:t.imports||Ji,exports:t.exports||Ji,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function $I(t,e){if(t==null)return ic;let i={};for(let n in t)if(t.hasOwnProperty(n)){let r=t[n],o,s,a=_e.None;Array.isArray(r)?(a=r[0],o=r[1],s=r[2]??o):(o=r,s=r),e?(i[o]=a!==_e.None?[n,a]:n,e[o]=s):i[o]=n}return i}function Ve(t){return Hd(()=>{let e=$S(t);return WS(e),e})}function wv(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function vs(t){return t[M2]||null}function VS(t){return t[D2]||null}function US(t){return t[w2]||null}function GS(t){let e=vs(t)||VS(t)||US(t);return e!==null?e.standalone:!1}function HS(t,e){let i=t[I2]||null;if(!i&&e===!0)throw new Error(`Type ${ji(t)} does not have '\u0275mod' property.`);return i}function $S(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||ic,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||Ji,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:$I(t.inputs,e),outputs:$I(t.outputs),debugInfo:null}}function WS(t){t.features?.forEach(e=>e(t))}function WI(t,e){if(!t)return null;let i=e?US:tj;return()=>(typeof t=="function"?t():t).map(n=>i(n)).filter(ij)}function nj(t){let e=0,i=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let r of i)e=Math.imul(31,e)+r.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function bp(t){return{\u0275providers:t}}function rj(...t){return{\u0275providers:YS(!0,t),\u0275fromNgModule:!0}}function YS(t,...e){let i=[],n=new Set,r,o=s=>{i.push(s)};return _v(e,s=>{let a=s;Db(a,o,[],n)&&(r||=[],r.push(a))}),r!==void 0&&ZS(r,o),i}function ZS(t,e){for(let i=0;i<t.length;i++){let{ngModule:n,providers:r}=t[i];Iv(r,o=>{e(o,n)})}}function Db(t,e,i,n){if(t=Fi(t),!t)return!1;let r=null,o=BI(t),s=!o&&vs(t);if(!o&&!s){let l=t.ngModule;if(o=BI(l),o)r=l;else return!1}else{if(s&&!s.standalone)return!1;r=t}let a=n.has(r);if(s){if(a)return!1;if(n.add(r),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let c of l)Db(c,e,i,n)}}else if(o){if(o.imports!=null&&!a){n.add(r);let c;try{_v(o.imports,d=>{Db(d,e,i,n)&&(c||=[],c.push(d))})}finally{}c!==void 0&&ZS(c,e)}if(!a){let c=Da(r)||(()=>new r);e({provide:r,useFactory:c,deps:Ji},r),e({provide:PS,useValue:r,multi:!0},r),e({provide:nc,useValue:()=>N(r),multi:!0},r)}let l=o.providers;if(l!=null&&!a){let c=t;Iv(l,d=>{e(d,c)})}}else return!1;return r!==t&&t.providers!==void 0}function Iv(t,e){for(let i of t)AS(i)&&(i=i.\u0275providers),Array.isArray(i)?Iv(i,e):e(i)}var oj=vt({provide:String,useValue:vt});function qS(t){return t!==null&&typeof t=="object"&&oj in t}function sj(t){return!!(t&&t.useExisting)}function aj(t){return!!(t&&t.useFactory)}function rc(t){return typeof t=="function"}function lj(t){return!!t.useClass}var vp=new J(""),zf={},cj={},ob;function Sv(){return ob===void 0&&(ob=new qf),ob}var Ii=class{},Pd=class extends Ii{get destroyed(){return this._destroyed}constructor(e,i,n,r){super(),this.parent=i,this.source=n,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Ib(e,s=>this.processProvider(s)),this.records.set(OS,ql(void 0,this)),r.has("environment")&&this.records.set(Ii,ql(void 0,this));let o=this.records.get(vp);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(PS,Ji,je.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=tt(null);try{for(let n of this._ngOnDestroyHooks)n.ngOnDestroy();let i=this._onDestroyHooks;this._onDestroyHooks=[];for(let n of i)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),tt(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let i=ys(this),n=Qi(void 0),r;try{return e()}finally{ys(i),Qi(n)}}get(e,i=Ld,n=je.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(VI))return e[VI](this);n=gp(n);let r,o=ys(this),s=Qi(void 0);try{if(!(n&je.SkipSelf)){let l=this.records.get(e);if(l===void 0){let c=pj(e)&&mp(e);c&&this.injectableDefInScope(c)?l=ql(wb(e),zf):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l)}let a=n&je.Self?Sv():this.parent;return i=n&je.Optional&&i===Ld?null:i,a.get(e,i)}catch(a){if(a.name==="NullInjectorError"){if((a[Yf]=a[Yf]||[]).unshift(ji(e)),o)throw a;return O2(a,e,"R3InjectorError",this.source)}else throw a}finally{Qi(s),ys(o)}}resolveInjectorInitializers(){let e=tt(null),i=ys(this),n=Qi(void 0),r;try{let o=this.get(nc,Ji,je.Self);for(let s of o)s()}finally{ys(i),Qi(n),tt(e)}}toString(){let e=[],i=this.records;for(let n of i.keys())e.push(ji(n));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new W(205,!1)}processProvider(e){e=Fi(e);let i=rc(e)?e:Fi(e&&e.provide),n=uj(e);if(!rc(e)&&e.multi===!0){let r=this.records.get(i);r||(r=ql(void 0,zf,!0),r.factory=()=>_b(r.multi),this.records.set(i,r)),i=e,r.multi.push(e)}this.records.set(i,n)}hydrate(e,i){let n=tt(null);try{return i.value===zf&&(i.value=cj,i.value=i.factory()),typeof i.value=="object"&&i.value&&fj(i.value)&&this._ngOnDestroyHooks.add(i.value),i.value}finally{tt(n)}}injectableDefInScope(e){if(!e.providedIn)return!1;let i=Fi(e.providedIn);return typeof i=="string"?i==="any"||this.scopes.has(i):this.injectorDefTypes.has(i)}removeOnDestroy(e){let i=this._onDestroyHooks.indexOf(e);i!==-1&&this._onDestroyHooks.splice(i,1)}};function wb(t){let e=mp(t),i=e!==null?e.factory:Da(t);if(i!==null)return i;if(t instanceof J)throw new W(204,!1);if(t instanceof Function)return dj(t);throw new W(204,!1)}function dj(t){if(t.length>0)throw new W(204,!1);let i=x2(t);return i!==null?()=>i.factory(t):()=>new t}function uj(t){if(qS(t))return ql(void 0,t.useValue);{let e=KS(t);return ql(e,zf)}}function KS(t,e,i){let n;if(rc(t)){let r=Fi(t);return Da(r)||wb(r)}else if(qS(t))n=()=>Fi(t.useValue);else if(aj(t))n=()=>t.useFactory(..._b(t.deps||[]));else if(sj(t))n=()=>N(Fi(t.useExisting));else{let r=Fi(t&&(t.useClass||t.provide));if(hj(t))n=()=>new r(..._b(t.deps));else return Da(r)||wb(r)}return n}function ql(t,e,i=!1){return{factory:t,value:e,multi:i?[]:void 0}}function hj(t){return!!t.deps}function fj(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function pj(t){return typeof t=="function"||typeof t=="object"&&t instanceof J}function Ib(t,e){for(let i of t)Array.isArray(i)?Ib(i,e):i&&AS(i)?Ib(i.\u0275providers,e):e(i)}function wr(t,e){t instanceof Pd&&t.assertNotDestroyed();let i,n=ys(t),r=Qi(void 0);try{return e()}finally{ys(n),Qi(r)}}function XS(){return NS()!==void 0||k2()!=null}function mj(t){if(!XS())throw new W(-203,!1)}function gj(t){let e=mi.ng;if(e&&e.\u0275compilerFacade)return e.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}function yj(t){return typeof t=="function"}var No=0,Oe=1,we=2,gi=3,vr=4,xn=5,Fd=6,jd=7,xr=8,oc=9,_r=10,$t=11,Bd=12,YI=13,dc=14,Mr=15,Yd=16,Kl=17,Eo=18,xp=19,QS=20,bs=21,sb=22,wa=23,Dr=25,JS=1;var Ia=7,Kf=8,sc=9,vn=10,Cv=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Cv||{});function _a(t){return Array.isArray(t)&&typeof t[JS]=="object"}function ko(t){return Array.isArray(t)&&t[JS]===!0}function eC(t){return(t.flags&4)!==0}function _p(t){return t.componentOffset>-1}function Ev(t){return(t.flags&1)===1}function xs(t){return!!t.template}function bj(t){return(t[we]&512)!==0}var Sb=class{constructor(e,i,n){this.previousValue=e,this.currentValue=i,this.firstChange=n}isFirstChange(){return this.firstChange}};function tC(t,e,i,n){e!==null?e.applyValueToInputSignal(e,n):t[i]=n}function tn(){return iC}function iC(t){return t.type.prototype.ngOnChanges&&(t.setInput=xj),vj}tn.ngInherit=!0;function vj(){let t=rC(this),e=t?.current;if(e){let i=t.previous;if(i===ic)t.previous=e;else for(let n in e)i[n]=e[n];t.current=null,this.ngOnChanges(e)}}function xj(t,e,i,n,r){let o=this.declaredInputs[n],s=rC(t)||_j(t,{previous:ic,current:null}),a=s.current||(s.current={}),l=s.previous,c=l[o];a[o]=new Sb(c&&c.currentValue,i,l===ic),tC(t,e,r,i)}var nC="__ngSimpleChanges__";function rC(t){return t[nC]||null}function _j(t,e){return t[nC]=e}var ZI=null;var qr=function(t,e,i){ZI?.(t,e,i)},Mj="svg",Dj="math",wj=!1;function Ij(){return wj}function Qr(t){for(;Array.isArray(t);)t=t[No];return t}function oC(t,e){return Qr(e[t])}function Bn(t,e){return Qr(e[t.index])}function sC(t,e){return t.data[e]}function Sj(t,e){return t[e]}function ws(t,e){let i=e[t];return _a(i)?i:i[No]}function Cj(t){return(t[we]&4)===4}function Tv(t){return(t[we]&128)===128}function Ej(t){return ko(t[gi])}function Xf(t,e){return e==null?null:t[e]}function aC(t){t[Kl]=0}function Tj(t){t[we]&1024||(t[we]|=1024,Tv(t)&&zd(t))}function Aj(t,e){for(;t>0;)e=e[dc],t--;return e}function Av(t){return!!(t[we]&9216||t[wa]?.dirty)}function Cb(t){t[_r].changeDetectionScheduler?.notify(1),Av(t)?zd(t):t[we]&64&&(Ij()?(t[we]|=1024,zd(t)):t[_r].changeDetectionScheduler?.notify())}function zd(t){t[_r].changeDetectionScheduler?.notify();let e=Vd(t);for(;e!==null&&!(e[we]&8192||(e[we]|=8192,!Tv(e)));)e=Vd(e)}function lC(t,e){if((t[we]&256)===256)throw new W(911,!1);t[bs]===null&&(t[bs]=[]),t[bs].push(e)}function Nj(t,e){if(t[bs]===null)return;let i=t[bs].indexOf(e);i!==-1&&t[bs].splice(i,1)}function Vd(t){let e=t[gi];return ko(e)?e[gi]:e}var Pe={lFrame:yC(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function kj(){return Pe.lFrame.elementDepthCount}function Rj(){Pe.lFrame.elementDepthCount++}function Lj(){Pe.lFrame.elementDepthCount--}function cC(){return Pe.bindingsEnabled}function dC(){return Pe.skipHydrationRootTNode!==null}function Oj(t){return Pe.skipHydrationRootTNode===t}function Pj(){Pe.skipHydrationRootTNode=null}function He(){return Pe.lFrame.lView}function Qt(){return Pe.lFrame.tView}function zn(t){return Pe.lFrame.contextLView=t,t[xr]}function Vn(t){return Pe.lFrame.contextLView=null,t}function Bi(){let t=uC();for(;t!==null&&t.type===64;)t=t.parent;return t}function uC(){return Pe.lFrame.currentTNode}function Fj(){let t=Pe.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Zd(t,e){let i=Pe.lFrame;i.currentTNode=t,i.isParent=e}function hC(){return Pe.lFrame.isParent}function fC(){Pe.lFrame.isParent=!1}function jj(){let t=Pe.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function Bj(){return Pe.lFrame.bindingIndex}function zj(t){return Pe.lFrame.bindingIndex=t}function Mp(){return Pe.lFrame.bindingIndex++}function Nv(t){let e=Pe.lFrame,i=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,i}function Vj(){return Pe.lFrame.inI18n}function Uj(t,e){let i=Pe.lFrame;i.bindingIndex=i.bindingRootIndex=t,Eb(e)}function Gj(){return Pe.lFrame.currentDirectiveIndex}function Eb(t){Pe.lFrame.currentDirectiveIndex=t}function Hj(t){let e=Pe.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function pC(){return Pe.lFrame.currentQueryIndex}function kv(t){Pe.lFrame.currentQueryIndex=t}function $j(t){let e=t[Oe];return e.type===2?e.declTNode:e.type===1?t[xn]:null}function mC(t,e,i){if(i&je.SkipSelf){let r=e,o=t;for(;r=r.parent,r===null&&!(i&je.Host);)if(r=$j(o),r===null||(o=o[dc],r.type&10))break;if(r===null)return!1;e=r,t=o}let n=Pe.lFrame=gC();return n.currentTNode=e,n.lView=t,!0}function Rv(t){let e=gC(),i=t[Oe];Pe.lFrame=e,e.currentTNode=i.firstChild,e.lView=t,e.tView=i,e.contextLView=t,e.bindingIndex=i.bindingStartIndex,e.inI18n=!1}function gC(){let t=Pe.lFrame,e=t===null?null:t.child;return e===null?yC(t):e}function yC(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function bC(){let t=Pe.lFrame;return Pe.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var vC=bC;function Lv(){let t=bC();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Wj(t){return(Pe.lFrame.contextLView=Aj(t,Pe.lFrame.contextLView))[xr]}function Is(){return Pe.lFrame.selectedIndex}function Sa(t){Pe.lFrame.selectedIndex=t}function Ov(){let t=Pe.lFrame;return sC(t.tView,t.selectedIndex)}function Yj(){return Pe.lFrame.currentNamespace}var xC=!0;function Pv(){return xC}function Fv(t){xC=t}function Zj(t,e,i){let{ngOnChanges:n,ngOnInit:r,ngDoCheck:o}=e.type.prototype;if(n){let s=iC(e);(i.preOrderHooks??=[]).push(t,s),(i.preOrderCheckHooks??=[]).push(t,s)}r&&(i.preOrderHooks??=[]).push(0-t,r),o&&((i.preOrderHooks??=[]).push(t,o),(i.preOrderCheckHooks??=[]).push(t,o))}function jv(t,e){for(let i=e.directiveStart,n=e.directiveEnd;i<n;i++){let o=t.data[i].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:d}=o;s&&(t.contentHooks??=[]).push(-i,s),a&&((t.contentHooks??=[]).push(i,a),(t.contentCheckHooks??=[]).push(i,a)),l&&(t.viewHooks??=[]).push(-i,l),c&&((t.viewHooks??=[]).push(i,c),(t.viewCheckHooks??=[]).push(i,c)),d!=null&&(t.destroyHooks??=[]).push(i,d)}}function Vf(t,e,i){_C(t,e,3,i)}function Uf(t,e,i,n){(t[we]&3)===i&&_C(t,e,i,n)}function ab(t,e){let i=t[we];(i&3)===e&&(i&=16383,i+=1,t[we]=i)}function _C(t,e,i,n){let r=n!==void 0?t[Kl]&65535:0,o=n??-1,s=e.length-1,a=0;for(let l=r;l<s;l++)if(typeof e[l+1]=="number"){if(a=e[l],n!=null&&a>=n)break}else e[l]<0&&(t[Kl]+=65536),(a<o||o==-1)&&(qj(t,i,e,l),t[Kl]=(t[Kl]&4294901760)+l+2),l++}function qI(t,e){qr(4,t,e);let i=tt(null);try{e.call(t)}finally{tt(i),qr(5,t,e)}}function qj(t,e,i,n){let r=i[n]<0,o=i[n+1],s=r?-i[n]:i[n],a=t[s];r?t[we]>>14<t[Kl]>>16&&(t[we]&3)===e&&(t[we]+=16384,qI(a,o)):qI(a,o)}var ec=-1,Ca=class{constructor(e,i,n){this.factory=e,this.resolving=!1,this.canSeeViewProviders=i,this.injectImpl=n}};function Kj(t){return t instanceof Ca}function Xj(t){return(t.flags&8)!==0}function Qj(t){return(t.flags&16)!==0}function MC(t){return t!==ec}function Qf(t){return t&32767}function Jj(t){return t>>16}function Jf(t,e){let i=Jj(t),n=e;for(;i>0;)n=n[dc],i--;return n}var Tb=!0;function ep(t){let e=Tb;return Tb=t,e}var eB=256,DC=eB-1,wC=5,tB=0,Kr={};function iB(t,e,i){let n;typeof i=="string"?n=i.charCodeAt(0)||0:i.hasOwnProperty(kd)&&(n=i[kd]),n==null&&(n=i[kd]=tB++);let r=n&DC,o=1<<r;e.data[t+(r>>wC)]|=o}function tp(t,e){let i=IC(t,e);if(i!==-1)return i;let n=e[Oe];n.firstCreatePass&&(t.injectorIndex=e.length,lb(n.data,t),lb(e,null),lb(n.blueprint,null));let r=Bv(t,e),o=t.injectorIndex;if(MC(r)){let s=Qf(r),a=Jf(r,e),l=a[Oe].data;for(let c=0;c<8;c++)e[o+c]=a[s+c]|l[s+c]}return e[o+8]=r,o}function lb(t,e){t.push(0,0,0,0,0,0,0,0,e)}function IC(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Bv(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let i=0,n=null,r=e;for(;r!==null;){if(n=AC(r),n===null)return ec;if(i++,r=r[dc],n.injectorIndex!==-1)return n.injectorIndex|i<<16}return ec}function Ab(t,e,i){iB(t,e,i)}function nB(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let i=t.attrs;if(i){let n=i.length,r=0;for(;r<n;){let o=i[r];if(jS(o))break;if(o===0)r=r+2;else if(typeof o=="number")for(r++;r<n&&typeof i[r]=="string";)r++;else{if(o===e)return i[r+1];r=r+2}}}return null}function SC(t,e,i){if(i&je.Optional||t!==void 0)return t;xv(e,"NodeInjector")}function CC(t,e,i,n){if(i&je.Optional&&n===void 0&&(n=null),!(i&(je.Self|je.Host))){let r=t[oc],o=Qi(void 0);try{return r?r.get(e,n,i&je.Optional):kS(e,n,i&je.Optional)}finally{Qi(o)}}return SC(n,e,i)}function EC(t,e,i,n=je.Default,r){if(t!==null){if(e[we]&2048&&!(n&je.Self)){let s=aB(t,e,i,n,Kr);if(s!==Kr)return s}let o=TC(t,e,i,n,Kr);if(o!==Kr)return o}return CC(e,i,n,r)}function TC(t,e,i,n,r){let o=oB(i);if(typeof o=="function"){if(!mC(e,t,n))return n&je.Host?SC(r,i,n):CC(e,i,n,r);try{let s;if(s=o(n),s==null&&!(n&je.Optional))xv(i);else return s}finally{vC()}}else if(typeof o=="number"){let s=null,a=IC(t,e),l=ec,c=n&je.Host?e[Mr][xn]:null;for((a===-1||n&je.SkipSelf)&&(l=a===-1?Bv(t,e):e[a+8],l===ec||!XI(n,!1)?a=-1:(s=e[Oe],a=Qf(l),e=Jf(l,e)));a!==-1;){let d=e[Oe];if(KI(o,a,d.data)){let u=rB(a,e,i,s,n,c);if(u!==Kr)return u}l=e[a+8],l!==ec&&XI(n,e[Oe].data[a+8]===c)&&KI(o,a,e)?(s=d,a=Qf(l),e=Jf(l,e)):a=-1}}return r}function rB(t,e,i,n,r,o){let s=e[Oe],a=s.data[t+8],l=n==null?_p(a)&&Tb:n!=s&&(a.type&3)!==0,c=r&je.Host&&o===a,d=Gf(a,s,i,l,c);return d!==null?Ea(e,s,d,a):Kr}function Gf(t,e,i,n,r){let o=t.providerIndexes,s=e.data,a=o&1048575,l=t.directiveStart,c=t.directiveEnd,d=o>>20,u=n?a:a+d,h=r?a+d:c;for(let f=u;f<h;f++){let p=s[f];if(f<l&&i===p||f>=l&&p.type===i)return f}if(r){let f=s[l];if(f&&xs(f)&&f.type===i)return l}return null}function Ea(t,e,i,n){let r=t[i],o=e.data;if(Kj(r)){let s=r;s.resolving&&C2(S2(o[i]));let a=ep(s.canSeeViewProviders);s.resolving=!0;let l,c=s.injectImpl?Qi(s.injectImpl):null,d=mC(t,n,je.Default);try{r=t[i]=s.factory(void 0,o,t,n),e.firstCreatePass&&i>=n.directiveStart&&Zj(i,o[i],e)}finally{c!==null&&Qi(c),ep(a),s.resolving=!1,vC()}}return r}function oB(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(kd)?t[kd]:void 0;return typeof e=="number"?e>=0?e&DC:sB:e}function KI(t,e,i){let n=1<<t;return!!(i[e+(t>>wC)]&n)}function XI(t,e){return!(t&je.Self)&&!(t&je.Host&&e)}var Ma=class{constructor(e,i){this._tNode=e,this._lView=i}get(e,i,n){return EC(this._tNode,this._lView,e,gp(n),i)}};function sB(){return new Ma(Bi(),He())}function uc(t){return Hd(()=>{let e=t.prototype.constructor,i=e[Wf]||Nb(e),n=Object.prototype,r=Object.getPrototypeOf(t.prototype).constructor;for(;r&&r!==n;){let o=r[Wf]||Nb(r);if(o&&o!==i)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function Nb(t){return SS(t)?()=>{let e=Nb(Fi(t));return e&&e()}:Da(t)}function aB(t,e,i,n,r){let o=t,s=e;for(;o!==null&&s!==null&&s[we]&2048&&!(s[we]&512);){let a=TC(o,s,i,n|je.Self,Kr);if(a!==Kr)return a;let l=o.parent;if(!l){let c=s[QS];if(c){let d=c.get(i,Kr,n);if(d!==Kr)return d}l=AC(s),s=s[dc]}o=l}return r}function AC(t){let e=t[Oe],i=e.type;return i===2?e.declTNode:i===1?t[xn]:null}function Ro(t){return nB(Bi(),t)}function QI(t,e=null,i=null,n){let r=NC(t,e,i,n);return r.resolveInjectorInitializers(),r}function NC(t,e=null,i=null,n,r=new Set){let o=[i||Ji,rj(t)];return n=n||(typeof t=="object"?void 0:ji(t)),new Pd(o,e||Sv(),n||null,r)}var zi=(()=>{let e=class e{static create(n,r){if(Array.isArray(n))return QI({name:""},r,n,"");{let o=n.name??"";return QI({name:o},n.parent,n.providers,o)}}};e.THROW_IF_NOT_FOUND=Ld,e.NULL=new qf,e.\u0275prov=H({token:e,providedIn:"any",factory:()=>N(OS)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})();var lB="ngOriginalError";function cb(t){return t[lB]}var en=class{constructor(){this._console=console}handleError(e){let i=this._findOriginalError(e);this._console.error("ERROR",e),i&&this._console.error("ORIGINAL ERROR",i)}_findOriginalError(e){let i=e&&cb(e);for(;i&&cb(i);)i=cb(i);return i||null}},kC=new J("",{providedIn:"root",factory:()=>U(en).handleError.bind(void 0)}),zv=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=cB,e.__NG_ENV_ID__=n=>n;let t=e;return t})(),kb=class extends zv{constructor(e){super(),this._lView=e}onDestroy(e){return lC(this._lView,e),()=>Nj(this._lView,e)}};function cB(){return new kb(He())}function dB(){return hc(Bi(),He())}function hc(t,e){return new ke(Bn(t,e))}var ke=(()=>{let e=class e{constructor(n){this.nativeElement=n}};e.__NG_ELEMENT_ID__=dB;let t=e;return t})();function uB(t){return t instanceof ke?t.nativeElement:t}var Rb=class extends qe{constructor(e=!1){super(),this.destroyRef=void 0,this.__isAsync=e,XS()&&(this.destroyRef=U(zv,{optional:!0})??void 0)}emit(e){let i=tt(null);try{super.next(e)}finally{tt(i)}}subscribe(e,i,n){let r=e,o=i||(()=>null),s=n;if(e&&typeof e=="object"){let l=e;r=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=db(o),r&&(r=db(r)),s&&(s=db(s)));let a=super.subscribe({next:r,error:o,complete:s});return e instanceof mt&&e.add(a),a}};function db(t){return e=>{setTimeout(t,void 0,e)}}var Ye=Rb;function hB(){return this._results[Symbol.iterator]()}var ip=class t{get changes(){return this._changes??=new Ye}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let i=t.prototype;i[Symbol.iterator]||(i[Symbol.iterator]=hB)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,i){return this._results.reduce(e,i)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,i){this.dirty=!1;let n=j2(e);(this._changesDetected=!F2(this._results,n,i))&&(this._results=n,this.length=n.length,this.last=n[this.length-1],this.first=n[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function RC(t){return(t.flags&128)===128}var LC=new Map,fB=0;function pB(){return fB++}function mB(t){LC.set(t[xp],t)}function gB(t){LC.delete(t[xp])}var JI="__ngContext__";function Ta(t,e){_a(e)?(t[JI]=e[xp],mB(e)):t[JI]=e}function OC(t){return FC(t[Bd])}function PC(t){return FC(t[vr])}function FC(t){for(;t!==null&&!ko(t);)t=t[vr];return t}var Lb;function jC(t){Lb=t}function yB(){if(Lb!==void 0)return Lb;if(typeof document<"u")return document;throw new W(210,!1)}var qd=new J("",{providedIn:"root",factory:()=>bB}),bB="ng",Vv=new J(""),Un=new J("",{providedIn:"platform",factory:()=>"unknown"});var _n=new J(""),Kd=new J("",{providedIn:"root",factory:()=>yB().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var vB="h",xB="b";var _B=()=>null;function Uv(t,e,i=!1){return _B(t,e,i)}var BC=!1,MB=new J("",{providedIn:"root",factory:()=>BC});var Lf;function DB(){if(Lf===void 0&&(Lf=null,mi.trustedTypes))try{Lf=mi.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Lf}function Dp(t){return DB()?.createHTML(t)||t}var Of;function wB(){if(Of===void 0&&(Of=null,mi.trustedTypes))try{Of=mi.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Of}function eS(t){return wB()?.createScriptURL(t)||t}var To=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${wS})`}},Ob=class extends To{getTypeName(){return"HTML"}},Pb=class extends To{getTypeName(){return"Style"}},Fb=class extends To{getTypeName(){return"Script"}},jb=class extends To{getTypeName(){return"URL"}},Bb=class extends To{getTypeName(){return"ResourceURL"}};function Ir(t){return t instanceof To?t.changingThisBreaksApplicationSecurity:t}function Ss(t,e){let i=IB(t);if(i!=null&&i!==e){if(i==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${i} (see ${wS})`)}return i===e}function IB(t){return t instanceof To&&t.getTypeName()||null}function zC(t){return new Ob(t)}function VC(t){return new Pb(t)}function UC(t){return new Fb(t)}function GC(t){return new jb(t)}function HC(t){return new Bb(t)}function SB(t){let e=new Vb(t);return CB()?new zb(e):e}var zb=class{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let i=new window.DOMParser().parseFromString(Dp(e),"text/html").body;return i===null?this.inertDocumentHelper.getInertBodyElement(e):(i.removeChild(i.firstChild),i)}catch{return null}}},Vb=class{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let i=this.inertDocument.createElement("template");return i.innerHTML=Dp(e),i}};function CB(){try{return!!new window.DOMParser().parseFromString(Dp(""),"text/html")}catch{return!1}}var EB=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function wp(t){return t=String(t),t.match(EB)?t:"unsafe:"+t}function Lo(t){let e={};for(let i of t.split(","))e[i]=!0;return e}function Xd(...t){let e={};for(let i of t)for(let n in i)i.hasOwnProperty(n)&&(e[n]=!0);return e}var $C=Lo("area,br,col,hr,img,wbr"),WC=Lo("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),YC=Lo("rp,rt"),TB=Xd(YC,WC),AB=Xd(WC,Lo("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),NB=Xd(YC,Lo("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),tS=Xd($C,AB,NB,TB),ZC=Lo("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),kB=Lo("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),RB=Lo("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),LB=Xd(ZC,kB,RB),OB=Lo("script,style,template"),Ub=class{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let i=e.firstChild,n=!0,r=[];for(;i;){if(i.nodeType===Node.ELEMENT_NODE?n=this.startElement(i):i.nodeType===Node.TEXT_NODE?this.chars(i.nodeValue):this.sanitizedSomething=!0,n&&i.firstChild){r.push(i),i=jB(i);continue}for(;i;){i.nodeType===Node.ELEMENT_NODE&&this.endElement(i);let o=FB(i);if(o){i=o;break}i=r.pop()}}return this.buf.join("")}startElement(e){let i=iS(e).toLowerCase();if(!tS.hasOwnProperty(i))return this.sanitizedSomething=!0,!OB.hasOwnProperty(i);this.buf.push("<"),this.buf.push(i);let n=e.attributes;for(let r=0;r<n.length;r++){let o=n.item(r),s=o.name,a=s.toLowerCase();if(!LB.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=o.value;ZC[a]&&(l=wp(l)),this.buf.push(" ",s,'="',nS(l),'"')}return this.buf.push(">"),!0}endElement(e){let i=iS(e).toLowerCase();tS.hasOwnProperty(i)&&!$C.hasOwnProperty(i)&&(this.buf.push("</"),this.buf.push(i),this.buf.push(">"))}chars(e){this.buf.push(nS(e))}};function PB(t,e){return(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function FB(t){let e=t.nextSibling;if(e&&t!==e.previousSibling)throw qC(e);return e}function jB(t){let e=t.firstChild;if(e&&PB(t,e))throw qC(e);return e}function iS(t){let e=t.nodeName;return typeof e=="string"?e:"FORM"}function qC(t){return new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`)}var BB=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,zB=/([^\#-~ |!])/g;function nS(t){return t.replace(/&/g,"&amp;").replace(BB,function(e){let i=e.charCodeAt(0),n=e.charCodeAt(1);return"&#"+((i-55296)*1024+(n-56320)+65536)+";"}).replace(zB,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var Pf;function KC(t,e){let i=null;try{Pf=Pf||SB(t);let n=e?String(e):"";i=Pf.getInertBodyElement(n);let r=5,o=n;do{if(r===0)throw new Error("Failed to sanitize html because the input is unstable");r--,n=o,o=i.innerHTML,i=Pf.getInertBodyElement(n)}while(n!==o);let a=new Ub().sanitizeChildren(rS(i)||i);return Dp(a)}finally{if(i){let n=rS(i)||i;for(;n.firstChild;)n.removeChild(n.firstChild)}}}function rS(t){return"content"in t&&VB(t)?t.content:null}function VB(t){return t.nodeType===Node.ELEMENT_NODE&&t.nodeName==="TEMPLATE"}var Si=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Si||{});function UB(t){let e=QC();return e?e.sanitize(Si.URL,t)||"":Ss(t,"URL")?Ir(t):wp(tc(t))}function GB(t){let e=QC();if(e)return eS(e.sanitize(Si.RESOURCE_URL,t)||"");if(Ss(t,"ResourceURL"))return eS(Ir(t));throw new W(904,!1)}function HB(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?GB:UB}function XC(t,e,i){return HB(e,i)(t)}function QC(){let t=He();return t&&t[_r].sanitizer}function JC(t){return t instanceof Function?t():t}function $B(t){return(t??U(zi)).get(Un)==="browser"}var Ao=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Ao||{}),WB;function Gv(t,e){return WB(t,e)}function Xl(t,e,i,n,r){if(n!=null){let o,s=!1;ko(n)?o=n:_a(n)&&(s=!0,n=n[No]);let a=Qr(n);t===0&&i!==null?r==null?oE(e,i,a):np(e,i,a,r||null,!0):t===1&&i!==null?np(e,i,a,r||null,!0):t===2?az(e,a,s):t===3&&e.destroyNode(a),o!=null&&cz(e,t,o,i,r)}}function YB(t,e){return t.createText(e)}function ZB(t,e,i){t.setValue(e,i)}function eE(t,e,i){return t.createElement(e,i)}function qB(t,e){tE(t,e),e[No]=null,e[xn]=null}function KB(t,e,i,n,r,o){n[No]=r,n[xn]=e,Ip(t,n,i,1,r,o)}function tE(t,e){e[_r].changeDetectionScheduler?.notify(1),Ip(t,e,e[$t],2,null,null)}function XB(t){let e=t[Bd];if(!e)return ub(t[Oe],t);for(;e;){let i=null;if(_a(e))i=e[Bd];else{let n=e[vn];n&&(i=n)}if(!i){for(;e&&!e[vr]&&e!==t;)_a(e)&&ub(e[Oe],e),e=e[gi];e===null&&(e=t),_a(e)&&ub(e[Oe],e),i=e&&e[vr]}e=i}}function QB(t,e,i,n){let r=vn+n,o=i.length;n>0&&(i[r-1][vr]=e),n<o-vn?(e[vr]=i[r],LS(i,vn+n,e)):(i.push(e),e[vr]=null),e[gi]=i;let s=e[Yd];s!==null&&i!==s&&JB(s,e);let a=e[Eo];a!==null&&a.insertView(t),Cb(e),e[we]|=128}function JB(t,e){let i=t[sc],r=e[gi][gi][Mr];e[Mr]!==r&&(t[we]|=Cv.HasTransplantedViews),i===null?t[sc]=[e]:i.push(e)}function iE(t,e){let i=t[sc],n=i.indexOf(e);i.splice(n,1)}function Gb(t,e){if(t.length<=vn)return;let i=vn+e,n=t[i];if(n){let r=n[Yd];r!==null&&r!==t&&iE(r,n),e>0&&(t[i-1][vr]=n[vr]);let o=Zf(t,vn+e);qB(n[Oe],n);let s=o[Eo];s!==null&&s.detachView(o[Oe]),n[gi]=null,n[vr]=null,n[we]&=-129}return n}function nE(t,e){if(!(e[we]&256)){let i=e[$t];i.destroyNode&&Ip(t,e,i,3,null,null),XB(e)}}function ub(t,e){if(e[we]&256)return;let i=tt(null);try{e[we]&=-129,e[we]|=256,e[wa]&&lI(e[wa]),tz(t,e),ez(t,e),e[Oe].type===1&&e[$t].destroy();let n=e[Yd];if(n!==null&&ko(e[gi])){n!==e[gi]&&iE(n,e);let r=e[Eo];r!==null&&r.detachView(t)}gB(e)}finally{tt(i)}}function ez(t,e){let i=t.cleanup,n=e[jd];if(i!==null)for(let o=0;o<i.length-1;o+=2)if(typeof i[o]=="string"){let s=i[o+3];s>=0?n[s]():n[-s].unsubscribe(),o+=2}else{let s=n[i[o+1]];i[o].call(s)}n!==null&&(e[jd]=null);let r=e[bs];if(r!==null){e[bs]=null;for(let o=0;o<r.length;o++){let s=r[o];s()}}}function tz(t,e){let i;if(t!=null&&(i=t.destroyHooks)!=null)for(let n=0;n<i.length;n+=2){let r=e[i[n]];if(!(r instanceof Ca)){let o=i[n+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=r[o[s]],l=o[s+1];qr(4,a,l);try{l.call(a)}finally{qr(5,a,l)}}else{qr(4,r,o);try{o.call(r)}finally{qr(5,r,o)}}}}}function rE(t,e,i){return iz(t,e.parent,i)}function iz(t,e,i){let n=e;for(;n!==null&&n.type&40;)e=n,n=e.parent;if(n===null)return i[No];{let{componentOffset:r}=n;if(r>-1){let{encapsulation:o}=t.data[n.directiveStart+r];if(o===Xr.None||o===Xr.Emulated)return null}return Bn(n,i)}}function np(t,e,i,n,r){t.insertBefore(e,i,n,r)}function oE(t,e,i){t.appendChild(e,i)}function oS(t,e,i,n,r){n!==null?np(t,e,i,n,r):oE(t,e,i)}function nz(t,e,i,n){t.removeChild(e,i,n)}function Hv(t,e){return t.parentNode(e)}function rz(t,e){return t.nextSibling(e)}function sE(t,e,i){return sz(t,e,i)}function oz(t,e,i){return t.type&40?Bn(t,i):null}var sz=oz,sS;function $v(t,e,i,n){let r=rE(t,n,e),o=e[$t],s=n.parent||e[xn],a=sE(s,n,e);if(r!=null)if(Array.isArray(i))for(let l=0;l<i.length;l++)oS(o,r,i[l],a,!1);else oS(o,r,i,a,!1);sS!==void 0&&sS(o,n,e,i,r)}function Hf(t,e){if(e!==null){let i=e.type;if(i&3)return Bn(e,t);if(i&4)return Hb(-1,t[e.index]);if(i&8){let n=e.child;if(n!==null)return Hf(t,n);{let r=t[e.index];return ko(r)?Hb(-1,r):Qr(r)}}else{if(i&32)return Gv(e,t)()||Qr(t[e.index]);{let n=aE(t,e);if(n!==null){if(Array.isArray(n))return n[0];let r=Vd(t[Mr]);return Hf(r,n)}else return Hf(t,e.next)}}}return null}function aE(t,e){if(e!==null){let n=t[Mr][xn],r=e.projection;return n.projection[r]}return null}function Hb(t,e){let i=vn+t+1;if(i<e.length){let n=e[i],r=n[Oe].firstChild;if(r!==null)return Hf(n,r)}return e[Ia]}function az(t,e,i){let n=Hv(t,e);n&&nz(t,n,e,i)}function Wv(t,e,i,n,r,o,s){for(;i!=null;){let a=n[i.index],l=i.type;if(s&&e===0&&(a&&Ta(Qr(a),n),i.flags|=2),(i.flags&32)!==32)if(l&8)Wv(t,e,i.child,n,r,o,!1),Xl(e,t,r,a,o);else if(l&32){let c=Gv(i,n),d;for(;d=c();)Xl(e,t,r,d,o);Xl(e,t,r,a,o)}else l&16?lE(t,e,n,i,r,o):Xl(e,t,r,a,o);i=s?i.projectionNext:i.next}}function Ip(t,e,i,n,r,o){Wv(i,n,t.firstChild,e,r,o,!1)}function lz(t,e,i){let n=e[$t],r=rE(t,i,e),o=i.parent||e[xn],s=sE(o,i,e);lE(n,0,e,i,r,s)}function lE(t,e,i,n,r,o){let s=i[Mr],l=s[xn].projection[n.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++){let d=l[c];Xl(e,t,r,d,o)}else{let c=l,d=s[gi];RC(n)&&(c.flags|=128),Wv(t,e,c,d,r,o,!0)}}function cz(t,e,i,n,r){let o=i[Ia],s=Qr(i);o!==s&&Xl(e,t,n,o,r);for(let a=vn;a<i.length;a++){let l=i[a];Ip(l[Oe],l,t,e,n,o)}}function dz(t,e,i,n,r){if(e)r?t.addClass(i,n):t.removeClass(i,n);else{let o=n.indexOf("-")===-1?void 0:Ao.DashCase;r==null?t.removeStyle(i,n,o):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=Ao.Important),t.setStyle(i,n,r,o))}}function uz(t,e,i){t.setAttribute(e,"style",i)}function cE(t,e,i){i===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",i)}function dE(t,e,i){let{mergedAttrs:n,classes:r,styles:o}=i;n!==null&&Mb(t,e,n),r!==null&&cE(t,e,r),o!==null&&uz(t,e,o)}var Sr={};function Ze(t=1){uE(Qt(),He(),Is()+t,!1)}function uE(t,e,i,n){if(!n)if((e[we]&3)===3){let o=t.preOrderCheckHooks;o!==null&&Vf(e,o,i)}else{let o=t.preOrderHooks;o!==null&&Uf(e,o,0,i)}Sa(i)}function G(t,e=je.Default){let i=He();if(i===null)return N(t,e);let n=Bi();return EC(n,i,Fi(t),e)}function Sp(){let t="invalid";throw new Error(t)}function hE(t,e,i,n,r,o){let s=tt(null);try{let a=null;r&_e.SignalBased&&(a=e[n][Fy]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),r&_e.HasDecoratorInputTransform&&(o=t.inputTransforms[n].call(e,o)),t.setInput!==null?t.setInput(e,a,o,i,n):tC(e,a,n,o)}finally{tt(s)}}function hz(t,e){let i=t.hostBindingOpCodes;if(i!==null)try{for(let n=0;n<i.length;n++){let r=i[n];if(r<0)Sa(~r);else{let o=r,s=i[++n],a=i[++n];Uj(s,o);let l=e[o];a(2,l)}}}finally{Sa(-1)}}function Cp(t,e,i,n,r,o,s,a,l,c,d){let u=e.blueprint.slice();return u[No]=r,u[we]=n|4|128|8|64,(c!==null||t&&t[we]&2048)&&(u[we]|=2048),aC(u),u[gi]=u[dc]=t,u[xr]=i,u[_r]=s||t&&t[_r],u[$t]=a||t&&t[$t],u[oc]=l||t&&t[oc]||null,u[xn]=o,u[xp]=pB(),u[Fd]=d,u[QS]=c,u[Mr]=e.type==2?t[Mr]:u,u}function Qd(t,e,i,n,r){let o=t.data[e];if(o===null)o=fz(t,e,i,n,r),Vj()&&(o.flags|=32);else if(o.type&64){o.type=i,o.value=n,o.attrs=r;let s=Fj();o.injectorIndex=s===null?-1:s.injectorIndex}return Zd(o,!0),o}function fz(t,e,i,n,r){let o=uC(),s=hC(),a=s?o:o&&o.parent,l=t.data[e]=vz(t,a,i,e,n,r);return t.firstChild===null&&(t.firstChild=l),o!==null&&(s?o.child==null&&l.parent!==null&&(o.child=l):o.next===null&&(o.next=l,l.prev=o)),l}function fE(t,e,i,n){if(i===0)return-1;let r=e.length;for(let o=0;o<i;o++)e.push(n),t.blueprint.push(n),t.data.push(null);return r}function pE(t,e,i,n,r){let o=Is(),s=n&2;try{Sa(-1),s&&e.length>Dr&&uE(t,e,Dr,!1),qr(s?2:0,r),i(n,r)}finally{Sa(o),qr(s?3:1,r)}}function mE(t,e,i){if(eC(e)){let n=tt(null);try{let r=e.directiveStart,o=e.directiveEnd;for(let s=r;s<o;s++){let a=t.data[s];if(a.contentQueries){let l=i[s];a.contentQueries(1,l,s)}}}finally{tt(n)}}}function gE(t,e,i){cC()&&(Iz(t,e,i,Bn(i,e)),(i.flags&64)===64&&ME(t,e,i))}function yE(t,e,i=Bn){let n=e.localNames;if(n!==null){let r=e.index+1;for(let o=0;o<n.length;o+=2){let s=n[o+1],a=s===-1?i(e,t):t[s];t[r++]=a}}}function bE(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Yv(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Yv(t,e,i,n,r,o,s,a,l,c,d){let u=Dr+n,h=u+r,f=pz(u,h),p=typeof c=="function"?c():c;return f[Oe]={type:t,blueprint:f,template:i,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:p,incompleteFirstPass:!1,ssrId:d}}function pz(t,e){let i=[];for(let n=0;n<e;n++)i.push(n<t?null:Sr);return i}function mz(t,e,i,n){let o=n.get(MB,BC)||i===Xr.ShadowDom,s=t.selectRootElement(e,o);return gz(s),s}function gz(t){yz(t)}var yz=()=>null;function bz(t,e,i,n){let r=IE(e);r.push(i),t.firstCreatePass&&SE(t).push(n,r.length-1)}function vz(t,e,i,n,r,o){let s=e?e.injectorIndex:-1,a=0;return dC()&&(a|=128),{type:i,index:n,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function aS(t,e,i,n,r){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;n??={};let a,l=_e.None;Array.isArray(s)?(a=s[0],l=s[1]):a=s;let c=o;if(r!==null){if(!r.hasOwnProperty(o))continue;c=r[o]}t===0?lS(n,i,c,a,l):lS(n,i,c,a)}return n}function lS(t,e,i,n,r){let o;t.hasOwnProperty(i)?(o=t[i]).push(e,n):o=t[i]=[e,n],r!==void 0&&o.push(r)}function xz(t,e,i){let n=e.directiveStart,r=e.directiveEnd,o=t.data,s=e.attrs,a=[],l=null,c=null;for(let d=n;d<r;d++){let u=o[d],h=i?i.get(u):null,f=h?h.inputs:null,p=h?h.outputs:null;l=aS(0,u.inputs,d,l,f),c=aS(1,u.outputs,d,c,p);let m=l!==null&&s!==null&&!Dv(e)?Pz(l,d,s):null;a.push(m)}l!==null&&(l.hasOwnProperty("class")&&(e.flags|=8),l.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=l,e.outputs=c}function _z(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function vE(t,e,i,n,r,o,s,a){let l=Bn(e,i),c=e.inputs,d;!a&&c!=null&&(d=c[n])?(Zv(t,i,d,n,r),_p(e)&&Mz(i,e.index)):e.type&3?(n=_z(n),r=s!=null?s(r,e.value||"",n):r,o.setProperty(l,n,r)):e.type&12}function Mz(t,e){let i=ws(e,t);i[we]&16||(i[we]|=64)}function xE(t,e,i,n){if(cC()){let r=n===null?null:{"":-1},o=Cz(t,i),s,a;o===null?s=a=null:[s,a]=o,s!==null&&_E(t,e,i,s,r,a),r&&Ez(i,n,r)}i.mergedAttrs=Od(i.mergedAttrs,i.attrs)}function _E(t,e,i,n,r,o){for(let c=0;c<n.length;c++)Ab(tp(i,e),t,n[c].type);Az(i,t.data.length,n.length);for(let c=0;c<n.length;c++){let d=n[c];d.providersResolver&&d.providersResolver(d)}let s=!1,a=!1,l=fE(t,e,n.length,null);for(let c=0;c<n.length;c++){let d=n[c];i.mergedAttrs=Od(i.mergedAttrs,d.hostAttrs),Nz(t,i,e,l,d),Tz(l,d,r),d.contentQueries!==null&&(i.flags|=4),(d.hostBindings!==null||d.hostAttrs!==null||d.hostVars!==0)&&(i.flags|=64);let u=d.type.prototype;!s&&(u.ngOnChanges||u.ngOnInit||u.ngDoCheck)&&((t.preOrderHooks??=[]).push(i.index),s=!0),!a&&(u.ngOnChanges||u.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(i.index),a=!0),l++}xz(t,i,o)}function Dz(t,e,i,n,r){let o=r.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;wz(s)!=a&&s.push(a),s.push(i,n,o)}}function wz(t){let e=t.length;for(;e>0;){let i=t[--e];if(typeof i=="number"&&i<0)return i}return 0}function Iz(t,e,i,n){let r=i.directiveStart,o=i.directiveEnd;_p(i)&&kz(e,i,t.data[r+i.componentOffset]),t.firstCreatePass||tp(i,e),Ta(n,e);let s=i.initialInputs;for(let a=r;a<o;a++){let l=t.data[a],c=Ea(e,t,a,i);if(Ta(c,e),s!==null&&Oz(e,a-r,c,l,i,s),xs(l)){let d=ws(i.index,e);d[xr]=Ea(e,t,a,i)}}}function ME(t,e,i){let n=i.directiveStart,r=i.directiveEnd,o=i.index,s=Gj();try{Sa(o);for(let a=n;a<r;a++){let l=t.data[a],c=e[a];Eb(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&Sz(l,c)}}finally{Sa(-1),Eb(s)}}function Sz(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function Cz(t,e){let i=t.directiveRegistry,n=null,r=null;if(i)for(let o=0;o<i.length;o++){let s=i[o];if(zS(e,s.selectors,!1))if(n||(n=[]),xs(s))if(s.findHostDirectiveDefs!==null){let a=[];r=r||new Map,s.findHostDirectiveDefs(s,a,r),n.unshift(...a,s);let l=a.length;$b(t,e,l)}else n.unshift(s),$b(t,e,0);else r=r||new Map,s.findHostDirectiveDefs?.(s,n,r),n.push(s)}return n===null?null:[n,r]}function $b(t,e,i){e.componentOffset=i,(t.components??=[]).push(e.index)}function Ez(t,e,i){if(e){let n=t.localNames=[];for(let r=0;r<e.length;r+=2){let o=i[e[r+1]];if(o==null)throw new W(-301,!1);n.push(e[r],o)}}}function Tz(t,e,i){if(i){if(e.exportAs)for(let n=0;n<e.exportAs.length;n++)i[e.exportAs[n]]=t;xs(e)&&(i[""]=t)}}function Az(t,e,i){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+i,t.providerIndexes=e}function Nz(t,e,i,n,r){t.data[n]=r;let o=r.factory||(r.factory=Da(r.type,!0)),s=new Ca(o,xs(r),G);t.blueprint[n]=s,i[n]=s,Dz(t,e,n,fE(t,i,r.hostVars,Sr),r)}function kz(t,e,i){let n=Bn(e,t),r=bE(i),o=t[_r].rendererFactory,s=16;i.signals?s=4096:i.onPush&&(s=64);let a=Ep(t,Cp(t,r,null,s,n,e,null,o.createRenderer(n,i),null,null,null));t[e.index]=a}function Rz(t,e,i,n,r,o){let s=Bn(t,e);Lz(e[$t],s,o,t.value,i,n,r)}function Lz(t,e,i,n,r,o,s){if(o==null)t.removeAttribute(e,r,i);else{let a=s==null?tc(o):s(o,n||"",r);t.setAttribute(e,r,a,i)}}function Oz(t,e,i,n,r,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let l=s[a++],c=s[a++],d=s[a++],u=s[a++];hE(n,i,l,c,d,u)}}function Pz(t,e,i){let n=null,r=0;for(;r<i.length;){let o=i[r];if(o===0){r+=4;continue}else if(o===5){r+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){n===null&&(n=[]);let s=t[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){n.push(o,s[a+1],s[a+2],i[r+1]);break}}r+=2}return n}function DE(t,e,i,n){return[t,!0,0,e,null,n,null,i,null,null]}function wE(t,e){let i=t.contentQueries;if(i!==null){let n=tt(null);try{for(let r=0;r<i.length;r+=2){let o=i[r],s=i[r+1];if(s!==-1){let a=t.data[s];kv(o),a.contentQueries(2,e[s],s)}}}finally{tt(n)}}}function Ep(t,e){return t[Bd]?t[YI][vr]=e:t[Bd]=e,t[YI]=e,e}function Wb(t,e,i){kv(0);let n=tt(null);try{e(t,i)}finally{tt(n)}}function IE(t){return t[jd]||(t[jd]=[])}function SE(t){return t.cleanup||(t.cleanup=[])}function CE(t,e){let i=t[oc],n=i?i.get(en,null):null;n&&n.handleError(e)}function Zv(t,e,i,n,r){for(let o=0;o<i.length;){let s=i[o++],a=i[o++],l=i[o++],c=e[s],d=t.data[s];hE(d,c,n,a,l,r)}}function EE(t,e,i){let n=oC(e,t);ZB(t[$t],n,i)}function Fz(t,e){let i=ws(e,t),n=i[Oe];jz(n,i);let r=i[No];r!==null&&i[Fd]===null&&(i[Fd]=Uv(r,i[oc])),qv(n,i,i[xr])}function jz(t,e){for(let i=e.length;i<t.blueprint.length;i++)e.push(t.blueprint[i])}function qv(t,e,i){Rv(e);try{let n=t.viewQuery;n!==null&&Wb(1,n,i);let r=t.template;r!==null&&pE(t,e,r,1,i),t.firstCreatePass&&(t.firstCreatePass=!1),e[Eo]?.finishViewCreation(t),t.staticContentQueries&&wE(t,e),t.staticViewQueries&&Wb(2,t.viewQuery,i);let o=t.components;o!==null&&Bz(e,o)}catch(n){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),n}finally{e[we]&=-5,Lv()}}function Bz(t,e){for(let i=0;i<e.length;i++)Fz(t,e[i])}function zz(t,e,i,n){let r=tt(null);try{let o=e.tView,a=t[we]&4096?4096:16,l=Cp(t,o,i,a,null,e,null,null,n?.injector??null,n?.embeddedViewInjector??null,n?.dehydratedView??null),c=t[e.index];l[Yd]=c;let d=t[Eo];return d!==null&&(l[Eo]=d.createEmbeddedView(o)),qv(o,l,i),l}finally{tt(r)}}function cS(t,e){return!e||e.firstChild===null||RC(t)}function Vz(t,e,i,n=!0){let r=e[Oe];if(QB(r,e,t,i),n){let s=Hb(i,t),a=e[$t],l=Hv(a,t[Ia]);l!==null&&KB(r,t[xn],a,e,l,s)}let o=e[Fd];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function rp(t,e,i,n,r=!1){for(;i!==null;){let o=e[i.index];o!==null&&n.push(Qr(o)),ko(o)&&Uz(o,n);let s=i.type;if(s&8)rp(t,e,i.child,n);else if(s&32){let a=Gv(i,e),l;for(;l=a();)n.push(l)}else if(s&16){let a=aE(e,i);if(Array.isArray(a))n.push(...a);else{let l=Vd(e[Mr]);rp(l[Oe],l,a,n,!0)}}i=r?i.projectionNext:i.next}return n}function Uz(t,e){for(let i=vn;i<t.length;i++){let n=t[i],r=n[Oe].firstChild;r!==null&&rp(n[Oe],n,r,e)}t[Ia]!==t[No]&&e.push(t[Ia])}var TE=[];function Gz(t){return t[wa]??Hz(t)}function Hz(t){let e=TE.pop()??Object.create(Wz);return e.lView=t,e}function $z(t){t.lView[wa]!==t&&(t.lView=null,TE.push(t))}var Wz=L(C({},oI),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{zd(t.lView)},consumerOnSignalRead(){this.lView[wa]=this}}),AE=100;function NE(t,e=!0,i=0){let n=t[_r],r=n.rendererFactory,o=!1;o||r.begin?.();try{Yz(t,i)}catch(s){throw e&&CE(t,s),s}finally{o||(r.end?.(),n.inlineEffectRunner?.flush())}}function Yz(t,e){Yb(t,e);let i=0;for(;Av(t);){if(i===AE)throw new W(103,!1);i++,Yb(t,1)}}function Zz(t,e,i,n){let r=e[we];if((r&256)===256)return;let o=!1;!o&&e[_r].inlineEffectRunner?.flush(),Rv(e);let s=null,a=null;!o&&qz(t)&&(a=Gz(e),s=sI(a));try{aC(e),zj(t.bindingStartIndex),i!==null&&pE(t,e,i,2,n);let l=(r&3)===3;if(!o)if(l){let u=t.preOrderCheckHooks;u!==null&&Vf(e,u,null)}else{let u=t.preOrderHooks;u!==null&&Uf(e,u,0,null),ab(e,0)}if(Kz(e),kE(e,0),t.contentQueries!==null&&wE(t,e),!o)if(l){let u=t.contentCheckHooks;u!==null&&Vf(e,u)}else{let u=t.contentHooks;u!==null&&Uf(e,u,1),ab(e,1)}hz(t,e);let c=t.components;c!==null&&LE(e,c,0);let d=t.viewQuery;if(d!==null&&Wb(2,d,n),!o)if(l){let u=t.viewCheckHooks;u!==null&&Vf(e,u)}else{let u=t.viewHooks;u!==null&&Uf(e,u,2),ab(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[sb]){for(let u of e[sb])u();e[sb]=null}o||(e[we]&=-73)}catch(l){throw zd(e),l}finally{a!==null&&(aI(a,s),$z(a)),Lv()}}function qz(t){return t.type!==2}function kE(t,e){for(let i=OC(t);i!==null;i=PC(i))for(let n=vn;n<i.length;n++){let r=i[n];RE(r,e)}}function Kz(t){for(let e=OC(t);e!==null;e=PC(e)){if(!(e[we]&Cv.HasTransplantedViews))continue;let i=e[sc];for(let n=0;n<i.length;n++){let r=i[n],o=r[gi];Tj(r)}}}function Xz(t,e,i){let n=ws(e,t);RE(n,i)}function RE(t,e){Tv(t)&&Yb(t,e)}function Yb(t,e){let n=t[Oe],r=t[we],o=t[wa],s=!!(e===0&&r&16);if(s||=!!(r&64&&e===0),s||=!!(r&1024),s||=!!(o?.dirty&&jy(o)),o&&(o.dirty=!1),t[we]&=-9217,s)Zz(n,t,n.template,t[xr]);else if(r&8192){kE(t,1);let a=n.components;a!==null&&LE(t,a,1)}}function LE(t,e,i){for(let n=0;n<e.length;n++)Xz(t,e[n],i)}function Kv(t){for(t[_r].changeDetectionScheduler?.notify();t;){t[we]|=64;let e=Vd(t);if(bj(t)&&!e)return t;t=e}return null}var Aa=class{get rootNodes(){let e=this._lView,i=e[Oe];return rp(i,e,i.firstChild,[])}constructor(e,i,n=!0){this._lView=e,this._cdRefInjectingView=i,this.notifyErrorHandler=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[xr]}set context(e){this._lView[xr]=e}get destroyed(){return(this._lView[we]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[gi];if(ko(e)){let i=e[Kf],n=i?i.indexOf(this):-1;n>-1&&(Gb(e,n),Zf(i,n))}this._attachedToViewContainer=!1}nE(this._lView[Oe],this._lView)}onDestroy(e){lC(this._lView,e)}markForCheck(){Kv(this._cdRefInjectingView||this._lView)}detach(){this._lView[we]&=-129}reattach(){Cb(this._lView),this._lView[we]|=128}detectChanges(){this._lView[we]|=1024,NE(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new W(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,tE(this._lView[Oe],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new W(902,!1);this._appRef=e,Cb(this._lView)}},Jr=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=eV;let t=e;return t})(),Qz=Jr,Jz=class extends Qz{constructor(e,i,n){super(),this._declarationLView=e,this._declarationTContainer=i,this.elementRef=n}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,i){return this.createEmbeddedViewImpl(e,i)}createEmbeddedViewImpl(e,i,n){let r=zz(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:i,dehydratedView:n});return new Aa(r)}};function eV(){return Xv(Bi(),He())}function Xv(t,e){return t.type&4?new Jz(e,t,hc(t,e)):null}var Sie=new RegExp(`^(\\d+)*(${xB}|${vB})*(.*)`);var tV=()=>null;function dS(t,e){return tV(t,e)}var ac=class{},Zb=class{},op=class{};function iV(t){let e=Error(`No component factory found for ${ji(t)}.`);return e[nV]=t,e}var nV="ngComponent";var qb=class{resolveComponentFactory(e){throw iV(e)}},Ra=(()=>{let e=class e{};e.NULL=new qb;let t=e;return t})(),Na=class{},Cs=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>rV();let t=e;return t})();function rV(){let t=He(),e=Bi(),i=ws(e.index,t);return(_a(i)?i:t)[$t]}var oV=(()=>{let e=class e{};e.\u0275prov=H({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),hb={};var uS=new Set;function Jd(t){uS.has(t)||(uS.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function hS(...t){}function sV(){let t=typeof mi.requestAnimationFrame=="function",e=mi[t?"requestAnimationFrame":"setTimeout"],i=mi[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&i){let n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);let r=i[Zone.__symbol__("OriginalDelegate")];r&&(i=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:i}}var ge=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ye(!1),this.onMicrotaskEmpty=new Ye(!1),this.onStable=new Ye(!1),this.onError=new Ye(!1),typeof Zone>"u")throw new W(908,!1);Zone.assertZonePatched();let r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!n&&i,r.shouldCoalesceRunChangeDetection=n,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=sV().nativeRequestAnimationFrame,cV(r)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new W(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new W(909,!1)}run(e,i,n){return this._inner.run(e,i,n)}runTask(e,i,n,r){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,e,aV,hS,hS);try{return o.runTask(s,i,n)}finally{o.cancelTask(s)}}runGuarded(e,i,n){return this._inner.runGuarded(e,i,n)}runOutsideAngular(e){return this._outer.run(e)}},aV={};function Qv(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function lV(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(mi,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Kb(t),t.isCheckStableRunning=!0,Qv(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Kb(t))}function cV(t){let e=()=>{lV(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(i,n,r,o,s,a)=>{if(dV(a))return i.invokeTask(r,o,s,a);try{return fS(t),i.invokeTask(r,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),pS(t)}},onInvoke:(i,n,r,o,s,a,l)=>{try{return fS(t),i.invoke(r,o,s,a,l)}finally{t.shouldCoalesceRunChangeDetection&&e(),pS(t)}},onHasTask:(i,n,r,o)=>{i.hasTask(r,o),n===r&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,Kb(t),Qv(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(i,n,r,o)=>(i.handleError(r,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function Kb(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function fS(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function pS(t){t._nesting--,Qv(t)}var Xb=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ye,this.onMicrotaskEmpty=new Ye,this.onStable=new Ye,this.onError=new Ye}run(e,i,n){return e.apply(i,n)}runGuarded(e,i,n){return e.apply(i,n)}runOutsideAngular(e){return e()}runTask(e,i,n,r){return e.apply(i,n)}};function dV(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}function uV(t="zone.js",e){return t==="noop"?new Xb:t==="zone.js"?new ge(e):t}var Ql=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Ql||{}),hV={destroy(){}};function Tp(t,e){!e&&mj(Tp);let i=e?.injector??U(zi);if(!$B(i))return hV;Jd("NgAfterNextRender");let n=i.get(Jv),r=n.handler??=new Jb,o=e?.phase??Ql.MixedReadWrite,s=()=>{r.unregister(l),a()},a=i.get(zv).onDestroy(s),l=wr(i,()=>new Qb(o,()=>{s(),t()}));return r.register(l),{destroy:s}}var Qb=class{constructor(e,i){this.phase=e,this.callbackFn=i,this.zone=U(ge),this.errorHandler=U(en,{optional:!0}),U(ac,{optional:!0})?.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}},Jb=class{constructor(){this.executingCallbacks=!1,this.buckets={[Ql.EarlyRead]:new Set,[Ql.Write]:new Set,[Ql.MixedReadWrite]:new Set,[Ql.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(let e of Object.values(this.buckets))for(let i of e)i.invoke();this.executingCallbacks=!1;for(let e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(let e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}},Jv=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let n=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let r of n)r()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=H({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function ev(t,e,i){let n=i?t.styles:null,r=i?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)r=bb(r,a);else if(o==2){let l=a,c=e[++s];n=bb(n,l+": "+c+";")}}i?t.styles=n:t.stylesWithoutHost=n,i?t.classes=r:t.classesWithoutHost=r}var sp=class extends Ra{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let i=vs(e);return new lc(i,this.ngModule)}};function mS(t){let e=[];for(let i in t){if(!t.hasOwnProperty(i))continue;let n=t[i];n!==void 0&&e.push({propName:Array.isArray(n)?n[0]:n,templateName:i})}return e}function fV(t){let e=t.toLowerCase();return e==="svg"?Mj:e==="math"?Dj:null}var tv=class{constructor(e,i){this.injector=e,this.parentInjector=i}get(e,i,n){n=gp(n);let r=this.injector.get(e,hb,n);return r!==hb||i===hb?r:this.parentInjector.get(e,i,n)}},lc=class extends op{get inputs(){let e=this.componentDef,i=e.inputTransforms,n=mS(e.inputs);if(i!==null)for(let r of n)i.hasOwnProperty(r.propName)&&(r.transform=i[r.propName]);return n}get outputs(){return mS(this.componentDef.outputs)}constructor(e,i){super(),this.componentDef=e,this.ngModule=i,this.componentType=e.type,this.selector=J2(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!i}create(e,i,n,r){let o=tt(null);try{r=r||this.ngModule;let s=r instanceof Ii?r:r?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new tv(e,s):e,l=a.get(Na,null);if(l===null)throw new W(407,!1);let c=a.get(oV,null),d=a.get(Jv,null),u=a.get(ac,null),h={rendererFactory:l,sanitizer:c,inlineEffectRunner:null,afterRenderEventManager:d,changeDetectionScheduler:u},f=l.createRenderer(null,this.componentDef),p=this.componentDef.selectors[0][0]||"div",m=n?mz(f,n,this.componentDef.encapsulation,a):eE(f,p,fV(p)),b=512;this.componentDef.signals?b|=4096:this.componentDef.onPush||(b|=16);let g=null;m!==null&&(g=Uv(m,a,!0));let v=Yv(0,null,null,1,0,null,null,null,null,null,null),M=Cp(null,v,null,b,null,null,h,f,a,null,g);Rv(M);let w,I;try{let D=this.componentDef,_,S=null;D.findHostDirectiveDefs?(_=[],S=new Map,D.findHostDirectiveDefs(D,_,S),_.push(D)):_=[D];let E=pV(M,m),T=mV(E,m,D,_,M,h,f);I=sC(v,Dr),m&&bV(f,D,m,n),i!==void 0&&vV(I,this.ngContentSelectors,i),w=yV(T,D,_,S,M,[xV]),qv(v,M,null)}finally{Lv()}return new iv(this.componentType,w,hc(I,M),M,I)}finally{tt(o)}}},iv=class extends Zb{constructor(e,i,n,r,o){super(),this.location=n,this._rootLView=r,this._tNode=o,this.previousInputValues=null,this.instance=i,this.hostView=this.changeDetectorRef=new Aa(r,void 0,!1),this.componentType=e}setInput(e,i){let n=this._tNode.inputs,r;if(n!==null&&(r=n[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),i))return;let o=this._rootLView;Zv(o[Oe],o,r,e,i),this.previousInputValues.set(e,i);let s=ws(this._tNode.index,o);Kv(s)}}get injector(){return new Ma(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function pV(t,e){let i=t[Oe],n=Dr;return t[n]=e,Qd(i,n,2,"#host",null)}function mV(t,e,i,n,r,o,s){let a=r[Oe];gV(n,t,e,s);let l=null;e!==null&&(l=Uv(e,r[oc]));let c=o.rendererFactory.createRenderer(e,i),d=16;i.signals?d=4096:i.onPush&&(d=64);let u=Cp(r,bE(i),null,d,r[t.index],t,o,c,null,null,l);return a.firstCreatePass&&$b(a,t,n.length-1),Ep(r,u),r[t.index]=u}function gV(t,e,i,n){for(let r of t)e.mergedAttrs=Od(e.mergedAttrs,r.hostAttrs);e.mergedAttrs!==null&&(ev(e,e.mergedAttrs,!0),i!==null&&dE(n,i,e))}function yV(t,e,i,n,r,o){let s=Bi(),a=r[Oe],l=Bn(s,r);_E(a,r,s,i,null,n);for(let d=0;d<i.length;d++){let u=s.directiveStart+d,h=Ea(r,a,u,s);Ta(h,r)}ME(a,r,s),l&&Ta(l,r);let c=Ea(r,a,s.directiveStart+s.componentOffset,s);if(t[xr]=r[xr]=c,o!==null)for(let d of o)d(c,e);return mE(a,s,r),c}function bV(t,e,i,n){if(n)Mb(t,i,["ng-version","17.3.12"]);else{let{attrs:r,classes:o}=ej(e.selectors[0]);r&&Mb(t,i,r),o&&o.length>0&&cE(t,i,o.join(" "))}}function vV(t,e,i){let n=t.projection=[];for(let r=0;r<e.length;r++){let o=i[r];n.push(o!=null?Array.from(o):null)}}function xV(){let t=Bi();jv(He()[Oe],t)}var Cr=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=_V;let t=e;return t})();function _V(){let t=Bi();return PE(t,He())}var MV=Cr,OE=class extends MV{constructor(e,i,n){super(),this._lContainer=e,this._hostTNode=i,this._hostLView=n}get element(){return hc(this._hostTNode,this._hostLView)}get injector(){return new Ma(this._hostTNode,this._hostLView)}get parentInjector(){let e=Bv(this._hostTNode,this._hostLView);if(MC(e)){let i=Jf(e,this._hostLView),n=Qf(e),r=i[Oe].data[n+8];return new Ma(r,i)}else return new Ma(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let i=gS(this._lContainer);return i!==null&&i[e]||null}get length(){return this._lContainer.length-vn}createEmbeddedView(e,i,n){let r,o;typeof n=="number"?r=n:n!=null&&(r=n.index,o=n.injector);let s=dS(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(i||{},o,s);return this.insertImpl(a,r,cS(this._hostTNode,s)),a}createComponent(e,i,n,r,o){let s=e&&!yj(e),a;if(s)a=i;else{let p=i||{};a=p.index,n=p.injector,r=p.projectableNodes,o=p.environmentInjector||p.ngModuleRef}let l=s?e:new lc(vs(e)),c=n||this.parentInjector;if(!o&&l.ngModule==null){let m=(s?c:this.parentInjector).get(Ii,null);m&&(o=m)}let d=vs(l.componentType??{}),u=dS(this._lContainer,d?.id??null),h=u?.firstChild??null,f=l.create(c,r,h,o);return this.insertImpl(f.hostView,a,cS(this._hostTNode,u)),f}insert(e,i){return this.insertImpl(e,i,!0)}insertImpl(e,i,n){let r=e._lView;if(Ej(r)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let l=r[gi],c=new OE(l,l[xn],l[gi]);c.detach(c.indexOf(e))}}let o=this._adjustIndex(i),s=this._lContainer;return Vz(s,r,o,n),e.attachToViewContainerRef(),LS(fb(s),o,e),e}move(e,i){return this.insert(e,i)}indexOf(e){let i=gS(this._lContainer);return i!==null?i.indexOf(e):-1}remove(e){let i=this._adjustIndex(e,-1),n=Gb(this._lContainer,i);n&&(Zf(fb(this._lContainer),i),nE(n[Oe],n))}detach(e){let i=this._adjustIndex(e,-1),n=Gb(this._lContainer,i);return n&&Zf(fb(this._lContainer),i)!=null?new Aa(n):null}_adjustIndex(e,i=0){return e??this.length+i}};function gS(t){return t[Kf]}function fb(t){return t[Kf]||(t[Kf]=[])}function PE(t,e){let i,n=e[t.index];return ko(n)?i=n:(i=DE(n,e,null,t),e[t.index]=i,Ep(e,i)),wV(i,e,t,n),new OE(i,t,e)}function DV(t,e){let i=t[$t],n=i.createComment(""),r=Bn(e,t),o=Hv(i,r);return np(i,o,n,rz(i,r),!1),n}var wV=CV,IV=()=>!1;function SV(t,e,i){return IV(t,e,i)}function CV(t,e,i,n){if(t[Ia])return;let r;i.type&8?r=Qr(n):r=DV(e,i),t[Ia]=r}var nv=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},rv=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let i=e.queries;if(i!==null){let n=e.contentQueries!==null?e.contentQueries[0]:i.length,r=[];for(let o=0;o<n;o++){let s=i.getByIndex(o),a=this.queries[s.indexInDeclarationView];r.push(a.clone())}return new t(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let i=0;i<this.queries.length;i++)e0(e,i).matches!==null&&this.queries[i].setDirty()}},ap=class{constructor(e,i,n=null){this.flags=i,this.read=n,typeof e=="string"?this.predicate=OV(e):this.predicate=e}},ov=class t{constructor(e=[]){this.queries=e}elementStart(e,i){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(e,i)}elementEnd(e){for(let i=0;i<this.queries.length;i++)this.queries[i].elementEnd(e)}embeddedTView(e){let i=null;for(let n=0;n<this.length;n++){let r=i!==null?i.length:0,o=this.getByIndex(n).embeddedTView(e,r);o&&(o.indexInDeclarationView=n,i!==null?i.push(o):i=[o])}return i!==null?new t(i):null}template(e,i){for(let n=0;n<this.queries.length;n++)this.queries[n].template(e,i)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},sv=class t{constructor(e,i=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=i}elementStart(e,i){this.isApplyingToNode(i)&&this.matchTNode(e,i)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,i){this.elementStart(e,i)}embeddedTView(e,i){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,i),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let i=this._declarationNodeIndex,n=e.parent;for(;n!==null&&n.type&8&&n.index!==i;)n=n.parent;return i===(n!==null?n.index:-1)}return this._appliesToNextNode}matchTNode(e,i){let n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){let o=n[r];this.matchTNodeWithReadOption(e,i,EV(i,o)),this.matchTNodeWithReadOption(e,i,Gf(i,e,o,!1,!1))}else n===Jr?i.type&4&&this.matchTNodeWithReadOption(e,i,-1):this.matchTNodeWithReadOption(e,i,Gf(i,e,n,!1,!1))}matchTNodeWithReadOption(e,i,n){if(n!==null){let r=this.metadata.read;if(r!==null)if(r===ke||r===Cr||r===Jr&&i.type&4)this.addMatch(i.index,-2);else{let o=Gf(i,e,r,!1,!1);o!==null&&this.addMatch(i.index,o)}else this.addMatch(i.index,n)}}addMatch(e,i){this.matches===null?this.matches=[e,i]:this.matches.push(e,i)}};function EV(t,e){let i=t.localNames;if(i!==null){for(let n=0;n<i.length;n+=2)if(i[n]===e)return i[n+1]}return null}function TV(t,e){return t.type&11?hc(t,e):t.type&4?Xv(t,e):null}function AV(t,e,i,n){return i===-1?TV(e,t):i===-2?NV(t,e,n):Ea(t,t[Oe],i,e)}function NV(t,e,i){if(i===ke)return hc(e,t);if(i===Jr)return Xv(e,t);if(i===Cr)return PE(e,t)}function FE(t,e,i,n){let r=e[Eo].queries[n];if(r.matches===null){let o=t.data,s=i.matches,a=[];for(let l=0;s!==null&&l<s.length;l+=2){let c=s[l];if(c<0)a.push(null);else{let d=o[c];a.push(AV(e,d,s[l+1],i.metadata.read))}}r.matches=a}return r.matches}function av(t,e,i,n){let r=t.queries.getByIndex(i),o=r.matches;if(o!==null){let s=FE(t,e,r,i);for(let a=0;a<o.length;a+=2){let l=o[a];if(l>0)n.push(s[a/2]);else{let c=o[a+1],d=e[-l];for(let u=vn;u<d.length;u++){let h=d[u];h[Yd]===h[gi]&&av(h[Oe],h,c,n)}if(d[sc]!==null){let u=d[sc];for(let h=0;h<u.length;h++){let f=u[h];av(f[Oe],f,c,n)}}}}}return n}function kV(t,e){return t[Eo].queries[e].queryList}function jE(t,e,i){let n=new ip((i&4)===4);return bz(t,e,n,n.destroy),(e[Eo]??=new rv).queries.push(new nv(n))-1}function RV(t,e,i){let n=Qt();return n.firstCreatePass&&(BE(n,new ap(t,e,i),-1),(e&2)===2&&(n.staticViewQueries=!0)),jE(n,He(),e)}function LV(t,e,i,n){let r=Qt();if(r.firstCreatePass){let o=Bi();BE(r,new ap(e,i,n),o.index),PV(r,t),(i&2)===2&&(r.staticContentQueries=!0)}return jE(r,He(),i)}function OV(t){return t.split(",").map(e=>e.trim())}function BE(t,e,i){t.queries===null&&(t.queries=new ov),t.queries.track(new sv(e,i))}function PV(t,e){let i=t.contentQueries||(t.contentQueries=[]),n=i.length?i[i.length-1]:-1;e!==n&&i.push(t.queries.length-1,e)}function e0(t,e){return t.queries.getByIndex(e)}function FV(t,e){let i=t[Oe],n=e0(i,e);return n.crossesNgTemplate?av(i,t,e,[]):FE(i,t,n,e)}function zE(t){return typeof t=="function"&&t[Fy]!==void 0}function VE(t){return zE(t)&&typeof t.set=="function"}function jV(t){let e=[],i=new Map;function n(r){let o=i.get(r);if(!o){let s=t(r);i.set(r,o=s.then(UV))}return o}return lp.forEach((r,o)=>{let s=[];r.templateUrl&&s.push(n(r.templateUrl).then(c=>{r.template=c}));let a=typeof r.styles=="string"?[r.styles]:r.styles||[];if(r.styles=a,r.styleUrl&&r.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");if(r.styleUrls?.length){let c=r.styles.length,d=r.styleUrls;r.styleUrls.forEach((u,h)=>{a.push(""),s.push(n(u).then(f=>{a[c+h]=f,d.splice(d.indexOf(u),1),d.length==0&&(r.styleUrls=void 0)}))})}else r.styleUrl&&s.push(n(r.styleUrl).then(c=>{a.push(c),r.styleUrl=void 0}));let l=Promise.all(s).then(()=>GV(o));e.push(l)}),zV(),Promise.all(e).then(()=>{})}var lp=new Map,BV=new Set;function zV(){let t=lp;return lp=new Map,t}function VV(){return lp.size===0}function UV(t){return typeof t=="string"?t:t.text()}function GV(t){BV.delete(t)}function HV(t){return Object.getPrototypeOf(t.prototype).constructor}function Ci(t){let e=HV(t.type),i=!0,n=[t];for(;e;){let r;if(xs(t))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new W(903,!1);r=e.\u0275dir}if(r){if(i){n.push(r);let s=t;s.inputs=Ff(t.inputs),s.inputTransforms=Ff(t.inputTransforms),s.declaredInputs=Ff(t.declaredInputs),s.outputs=Ff(t.outputs);let a=r.hostBindings;a&&qV(t,a);let l=r.viewQuery,c=r.contentQueries;if(l&&YV(t,l),c&&ZV(t,c),$V(t,r),b2(t.outputs,r.outputs),xs(r)&&r.data.animation){let d=t.data;d.animation=(d.animation||[]).concat(r.data.animation)}}let o=r.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===Ci&&(i=!1)}}e=Object.getPrototypeOf(e)}WV(n)}function $V(t,e){for(let i in e.inputs){if(!e.inputs.hasOwnProperty(i)||t.inputs.hasOwnProperty(i))continue;let n=e.inputs[i];if(n!==void 0&&(t.inputs[i]=n,t.declaredInputs[i]=e.declaredInputs[i],e.inputTransforms!==null)){let r=Array.isArray(n)?n[0]:n;if(!e.inputTransforms.hasOwnProperty(r))continue;t.inputTransforms??={},t.inputTransforms[r]=e.inputTransforms[r]}}}function WV(t){let e=0,i=null;for(let n=t.length-1;n>=0;n--){let r=t[n];r.hostVars=e+=r.hostVars,r.hostAttrs=Od(r.hostAttrs,i=Od(i,r.hostAttrs))}}function Ff(t){return t===ic?{}:t===Ji?[]:t}function YV(t,e){let i=t.viewQuery;i?t.viewQuery=(n,r)=>{e(n,r),i(n,r)}:t.viewQuery=e}function ZV(t,e){let i=t.contentQueries;i?t.contentQueries=(n,r,o)=>{e(n,r,o),i(n,r,o)}:t.contentQueries=e}function qV(t,e){let i=t.hostBindings;i?t.hostBindings=(n,r)=>{e(n,r),i(n,r)}:t.hostBindings=e}function Vi(t){let e=t.inputConfig,i={};for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];Array.isArray(r)&&r[3]&&(i[n]=r[3])}t.inputTransforms=i}var _s=class{},Ud=class{};var cp=class extends _s{constructor(e,i,n){super(),this._parent=i,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new sp(this);let r=HS(e);this._bootstrapComponents=JC(r.bootstrap),this._r3Injector=NC(e,i,[{provide:_s,useValue:this},{provide:Ra,useValue:this.componentFactoryResolver},...n],ji(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(i=>i()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},dp=class extends Ud{constructor(e){super(),this.moduleType=e}create(e){return new cp(this.moduleType,e,[])}};function KV(t,e,i){return new cp(t,e,i)}var lv=class extends _s{constructor(e){super(),this.componentFactoryResolver=new sp(this),this.instance=null;let i=new Pd([...e.providers,{provide:_s,useValue:this},{provide:Ra,useValue:this.componentFactoryResolver}],e.parent||Sv(),e.debugName,new Set(["environment"]));this.injector=i,e.runEnvironmentInitializers&&i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Ap(t,e,i=null){return new lv({providers:t,parent:e,debugName:i,runEnvironmentInitializers:!0}).injector}var La=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Gt(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function UE(t){return QV(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function XV(t,e){if(Array.isArray(t))for(let i=0;i<t.length;i++)e(t[i]);else{let i=t[Symbol.iterator](),n;for(;!(n=i.next()).done;)e(n.value)}}function QV(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function JV(t,e,i){return t[e]=i}function Ms(t,e,i){let n=t[e];return Object.is(n,i)?!1:(t[e]=i,!0)}function GE(t,e,i,n){let r=Ms(t,e,i);return Ms(t,e+1,n)||r}function e4(t){return(t.flags&32)===32}function t4(t,e,i,n,r,o,s,a,l){let c=e.consts,d=Qd(e,t,4,s||null,Xf(c,a));xE(e,i,d,Xf(c,l)),jv(e,d);let u=d.tView=Yv(2,d,n,r,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return e.queries!==null&&(e.queries.template(e,d),u.queries=e.queries.embeddedTView(d)),d}function Ui(t,e,i,n,r,o,s,a){let l=He(),c=Qt(),d=t+Dr,u=c.firstCreatePass?t4(d,c,l,e,i,n,r,o,s):c.data[d];Zd(u,!1);let h=i4(c,l,u,t);Pv()&&$v(c,l,h,u),Ta(h,l);let f=DE(h,l,h,u);return l[d]=f,Ep(l,f),SV(f,u,l),Ev(u)&&gE(c,l,u),s!=null&&yE(l,u,a),Ui}var i4=n4;function n4(t,e,i,n){return Fv(!0),e[$t].createComment("")}function Ei(t,e,i,n){let r=He(),o=Mp();if(Ms(r,o,e)){let s=Qt(),a=Ov();Rz(a,r,t,e,i,n)}return Ei}function r4(t,e,i,n){return Ms(t,Mp(),i)?e+tc(i)+n:Sr}function o4(t,e,i,n,r,o){let s=Bj(),a=GE(t,s,i,r);return Nv(2),a?e+tc(i)+n+tc(r)+o:Sr}function jf(t,e){return t<<17|e<<2}function ka(t){return t>>17&32767}function s4(t){return(t&2)==2}function a4(t,e){return t&131071|e<<17}function cv(t){return t|2}function cc(t){return(t&131068)>>2}function pb(t,e){return t&-131069|e<<2}function l4(t){return(t&1)===1}function dv(t){return t|1}function c4(t,e,i,n,r,o){let s=o?e.classBindings:e.styleBindings,a=ka(s),l=cc(s);t[n]=i;let c=!1,d;if(Array.isArray(i)){let u=i;d=u[1],(d===null||Wd(u,d)>0)&&(c=!0)}else d=i;if(r)if(l!==0){let h=ka(t[a+1]);t[n+1]=jf(h,a),h!==0&&(t[h+1]=pb(t[h+1],n)),t[a+1]=a4(t[a+1],n)}else t[n+1]=jf(a,0),a!==0&&(t[a+1]=pb(t[a+1],n)),a=n;else t[n+1]=jf(l,0),a===0?a=n:t[l+1]=pb(t[l+1],n),l=n;c&&(t[n+1]=cv(t[n+1])),yS(t,d,n,!0),yS(t,d,n,!1),d4(e,d,t,n,o),s=jf(a,l),o?e.classBindings=s:e.styleBindings=s}function d4(t,e,i,n,r){let o=r?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&Wd(o,e)>=0&&(i[n+1]=dv(i[n+1]))}function yS(t,e,i,n){let r=t[i+1],o=e===null,s=n?ka(r):cc(r),a=!1;for(;s!==0&&(a===!1||o);){let l=t[s],c=t[s+1];u4(l,e)&&(a=!0,t[s+1]=n?dv(c):cv(c)),s=n?ka(c):cc(c)}a&&(t[i+1]=n?cv(r):dv(r))}function u4(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Wd(t,e)>=0:!1}var br={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function h4(t){return t.substring(br.key,br.keyEnd)}function f4(t){return p4(t),HE(t,$E(t,0,br.textEnd))}function HE(t,e){let i=br.textEnd;return i===e?-1:(e=br.keyEnd=m4(t,br.key=e,i),$E(t,e,i))}function p4(t){br.key=0,br.keyEnd=0,br.value=0,br.valueEnd=0,br.textEnd=t.length}function $E(t,e,i){for(;e<i&&t.charCodeAt(e)<=32;)e++;return e}function m4(t,e,i){for(;e<i&&t.charCodeAt(e)>32;)e++;return e}function Ct(t,e,i){let n=He(),r=Mp();if(Ms(n,r,e)){let o=Qt(),s=Ov();vE(o,s,n,t,e,n[$t],i,!1)}return Ct}function uv(t,e,i,n,r){let o=e.inputs,s=r?"class":"style";Zv(t,i,o[s],s,n)}function Dt(t,e){return y4(t,e,null,!0),Dt}function Oa(t){b4(w4,g4,t,!0)}function g4(t,e){for(let i=f4(e);i>=0;i=HE(e,i))Mv(t,h4(e),!0)}function y4(t,e,i,n){let r=He(),o=Qt(),s=Nv(2);if(o.firstUpdatePass&&YE(o,t,s,n),e!==Sr&&Ms(r,s,e)){let a=o.data[Is()];ZE(o,a,r,r[$t],t,r[s+1]=S4(e,i),n,s)}}function b4(t,e,i,n){let r=Qt(),o=Nv(2);r.firstUpdatePass&&YE(r,null,o,n);let s=He();if(i!==Sr&&Ms(s,o,i)){let a=r.data[Is()];if(qE(a,n)&&!WE(r,o)){let l=n?a.classesWithoutHost:a.stylesWithoutHost;l!==null&&(i=bb(l,i||"")),uv(r,a,s,i,n)}else I4(r,a,s,s[$t],s[o+1],s[o+1]=D4(t,e,i),n,o)}}function WE(t,e){return e>=t.expandoStartIndex}function YE(t,e,i,n){let r=t.data;if(r[i+1]===null){let o=r[Is()],s=WE(t,i);qE(o,n)&&e===null&&!s&&(e=!1),e=v4(r,o,e,n),c4(r,o,e,i,s,n)}}function v4(t,e,i,n){let r=Hj(t),o=n?e.residualClasses:e.residualStyles;if(r===null)(n?e.classBindings:e.styleBindings)===0&&(i=mb(null,t,e,i,n),i=Gd(i,e.attrs,n),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==r)if(i=mb(r,t,e,i,n),o===null){let l=x4(t,e,n);l!==void 0&&Array.isArray(l)&&(l=mb(null,t,e,l[1],n),l=Gd(l,e.attrs,n),_4(t,e,n,l))}else o=M4(t,e,n)}return o!==void 0&&(n?e.residualClasses=o:e.residualStyles=o),i}function x4(t,e,i){let n=i?e.classBindings:e.styleBindings;if(cc(n)!==0)return t[ka(n)]}function _4(t,e,i,n){let r=i?e.classBindings:e.styleBindings;t[ka(r)]=n}function M4(t,e,i){let n,r=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<r;o++){let s=t[o].hostAttrs;n=Gd(n,s,i)}return Gd(n,e.attrs,i)}function mb(t,e,i,n,r){let o=null,s=i.directiveEnd,a=i.directiveStylingLast;for(a===-1?a=i.directiveStart:a++;a<s&&(o=e[a],n=Gd(n,o.hostAttrs,r),o!==t);)a++;return t!==null&&(i.directiveStylingLast=a),n}function Gd(t,e,i){let n=i?1:2,r=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?r=s:r===n&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),Mv(t,s,i?!0:e[++o]))}return t===void 0?null:t}function D4(t,e,i){if(i==null||i==="")return Ji;let n=[],r=Ir(i);if(Array.isArray(r))for(let o=0;o<r.length;o++)t(n,r[o],!0);else if(typeof r=="object")for(let o in r)r.hasOwnProperty(o)&&t(n,o,r[o]);else typeof r=="string"&&e(n,r);return n}function w4(t,e,i){let n=String(e);n!==""&&!n.includes(" ")&&Mv(t,n,i)}function I4(t,e,i,n,r,o,s,a){r===Sr&&(r=Ji);let l=0,c=0,d=0<r.length?r[0]:null,u=0<o.length?o[0]:null;for(;d!==null||u!==null;){let h=l<r.length?r[l+1]:void 0,f=c<o.length?o[c+1]:void 0,p=null,m;d===u?(l+=2,c+=2,h!==f&&(p=u,m=f)):u===null||d!==null&&d<u?(l+=2,p=d):(c+=2,p=u,m=f),p!==null&&ZE(t,e,i,n,p,m,s,a),d=l<r.length?r[l]:null,u=c<o.length?o[c]:null}}function ZE(t,e,i,n,r,o,s,a){if(!(e.type&3))return;let l=t.data,c=l[a+1],d=l4(c)?bS(l,e,i,r,cc(c),s):void 0;if(!up(d)){up(o)||s4(c)&&(o=bS(l,null,i,r,a,s));let u=oC(Is(),i);dz(n,s,u,r,o)}}function bS(t,e,i,n,r,o){let s=e===null,a;for(;r>0;){let l=t[r],c=Array.isArray(l),d=c?l[1]:l,u=d===null,h=i[r+1];h===Sr&&(h=u?Ji:void 0);let f=u?rb(h,n):d===n?h:void 0;if(c&&!up(f)&&(f=rb(l,n)),up(f)&&(a=f,s))return a;let p=t[r+1];r=s?ka(p):cc(p)}if(e!==null){let l=o?e.residualClasses:e.residualStyles;l!=null&&(a=rb(l,n))}return a}function up(t){return t!==void 0}function S4(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=ji(Ir(t)))),t}function qE(t,e){return(t.flags&(e?8:16))!==0}function C4(t,e,i,n,r,o){let s=e.consts,a=Xf(s,r),l=Qd(e,t,2,n,a);return xE(e,i,l,Xf(s,o)),l.attrs!==null&&ev(l,l.attrs,!1),l.mergedAttrs!==null&&ev(l,l.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,l),l}function ce(t,e,i,n){let r=He(),o=Qt(),s=Dr+t,a=r[$t],l=o.firstCreatePass?C4(s,o,r,e,i,n):o.data[s],c=E4(o,r,l,a,e,t);r[s]=c;let d=Ev(l);return Zd(l,!0),dE(a,c,l),!e4(l)&&Pv()&&$v(o,r,c,l),kj()===0&&Ta(c,r),Rj(),d&&(gE(o,r,l),mE(o,l,r)),n!==null&&yE(r,l),ce}function ue(){let t=Bi();hC()?fC():(t=t.parent,Zd(t,!1));let e=t;Oj(e)&&Pj(),Lj();let i=Qt();return i.firstCreatePass&&(jv(i,t),eC(t)&&i.queries.elementEnd(t)),e.classesWithoutHost!=null&&Xj(e)&&uv(i,e,He(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&Qj(e)&&uv(i,e,He(),e.stylesWithoutHost,!1),ue}function at(t,e,i,n){return ce(t,e,i,n),ue(),at}var E4=(t,e,i,n,r,o)=>(Fv(!0),eE(n,r,Yj()));function Er(){return He()}var hp="en-US";var T4=hp;function A4(t){typeof t=="string"&&(T4=t.toLowerCase().replace(/_/g,"-"))}function it(t,e,i,n){let r=He(),o=Qt(),s=Bi();return KE(o,r,r[$t],s,t,e,n),it}function N4(t,e,i,n){let r=t.cleanup;if(r!=null)for(let o=0;o<r.length-1;o+=2){let s=r[o];if(s===i&&r[o+1]===n){let a=e[jd],l=r[o+2];return a.length>l?a[l]:null}typeof s=="string"&&(o+=2)}return null}function KE(t,e,i,n,r,o,s){let a=Ev(n),c=t.firstCreatePass&&SE(t),d=e[xr],u=IE(e),h=!0;if(n.type&3||s){let m=Bn(n,e),b=s?s(m):m,g=u.length,v=s?w=>s(Qr(w[n.index])):n.index,M=null;if(!s&&a&&(M=N4(t,e,r,n.index)),M!==null){let w=M.__ngLastListenerFn__||M;w.__ngNextListenerFn__=o,M.__ngLastListenerFn__=o,h=!1}else{o=xS(n,e,d,o,!1);let w=i.listen(b,r,o);u.push(o,w),c&&c.push(r,v,g,g+1)}}else o=xS(n,e,d,o,!1);let f=n.outputs,p;if(h&&f!==null&&(p=f[r])){let m=p.length;if(m)for(let b=0;b<m;b+=2){let g=p[b],v=p[b+1],I=e[g][v].subscribe(o),D=u.length;u.push(o,I),c&&c.push(r,n.index,D,-(D+1))}}}function vS(t,e,i,n){let r=tt(null);try{return qr(6,e,i),i(n)!==!1}catch(o){return CE(t,o),!1}finally{qr(7,e,i),tt(r)}}function xS(t,e,i,n,r){return function o(s){if(s===Function)return n;let a=t.componentOffset>-1?ws(t.index,e):e;Kv(a);let l=vS(e,i,n,s),c=o.__ngNextListenerFn__;for(;c;)l=vS(e,i,c,s)&&l,c=c.__ngNextListenerFn__;return r&&l===!1&&s.preventDefault(),l}}function Gn(t=1){return Wj(t)}function k4(t,e){let i=null,n=Z2(t);for(let r=0;r<e.length;r++){let o=e[r];if(o==="*"){i=r;continue}if(n===null?zS(t,o,!0):X2(n,o))return r}return i}function yi(t){let e=He()[Mr][xn];if(!e.projection){let i=t?t.length:1,n=e.projection=B2(i,null),r=n.slice(),o=e.child;for(;o!==null;){let s=t?k4(o,t):0;s!==null&&(r[s]?r[s].projectionNext=o:n[s]=o,r[s]=o),o=o.next}}}function kt(t,e=0,i){let n=He(),r=Qt(),o=Qd(r,Dr+t,16,null,i||null);o.projection===null&&(o.projection=e),fC(),(!n[Fd]||dC())&&(o.flags&32)!==32&&lz(r,n,o)}function Pa(t,e,i,n){LV(t,e,i,n)}function Fa(t,e,i){RV(t,e,i)}function Tr(t){let e=He(),i=Qt(),n=pC();kv(n+1);let r=e0(i,n);if(t.dirty&&Cj(e)===((r.metadata.flags&2)===2)){if(r.matches===null)t.reset([]);else{let o=FV(e,n);t.reset(o,uB),t.notifyOnChanges()}return!0}return!1}function Ar(){return kV(He(),pC())}function R4(t,e,i,n){i>=t.data.length&&(t.data[i]=null,t.blueprint[i]=null),e[i]=n}function Ue(t,e=""){let i=He(),n=Qt(),r=t+Dr,o=n.firstCreatePass?Qd(n,r,1,e,null):n.data[r],s=L4(n,i,o,e,t);i[r]=s,Pv()&&$v(n,i,s,o),Zd(o,!1)}var L4=(t,e,i,n,r)=>(Fv(!0),YB(e[$t],n));function Mn(t){return t0("",t,""),Mn}function t0(t,e,i){let n=He(),r=r4(n,t,e,i);return r!==Sr&&EE(n,Is(),r),t0}function i0(t,e,i,n,r){let o=He(),s=o4(o,t,e,i,n,r);return s!==Sr&&EE(o,Is(),s),i0}function n0(t,e,i){VE(e)&&(e=e());let n=He(),r=Mp();if(Ms(n,r,e)){let o=Qt(),s=Ov();vE(o,s,n,t,e,n[$t],i,!1)}return n0}function XE(t,e){let i=VE(t);return i&&t.set(e),i}function r0(t,e){let i=He(),n=Qt(),r=Bi();return KE(n,i,i[$t],r,t,e),r0}function O4(t,e,i){let n=Qt();if(n.firstCreatePass){let r=xs(t);hv(i,n.data,n.blueprint,r,!0),hv(e,n.data,n.blueprint,r,!1)}}function hv(t,e,i,n,r){if(t=Fi(t),Array.isArray(t))for(let o=0;o<t.length;o++)hv(t[o],e,i,n,r);else{let o=Qt(),s=He(),a=Bi(),l=rc(t)?t:Fi(t.provide),c=KS(t),d=a.providerIndexes&1048575,u=a.directiveStart,h=a.providerIndexes>>20;if(rc(t)||!t.multi){let f=new Ca(c,r,G),p=yb(l,e,r?d:d+h,u);p===-1?(Ab(tp(a,s),o,l),gb(o,t,e.length),e.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),i.push(f),s.push(f)):(i[p]=f,s[p]=f)}else{let f=yb(l,e,d+h,u),p=yb(l,e,d,d+h),m=f>=0&&i[f],b=p>=0&&i[p];if(r&&!b||!r&&!m){Ab(tp(a,s),o,l);let g=j4(r?F4:P4,i.length,r,n,c);!r&&b&&(i[p].providerFactory=g),gb(o,t,e.length,0),e.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),i.push(g),s.push(g)}else{let g=QE(i[r?p:f],c,!r&&n);gb(o,t,f>-1?f:p,g)}!r&&n&&b&&i[p].componentProviders++}}}function gb(t,e,i,n){let r=rc(e),o=lj(e);if(r||o){let l=(o?Fi(e.useClass):e).prototype.ngOnDestroy;if(l){let c=t.destroyHooks||(t.destroyHooks=[]);if(!r&&e.multi){let d=c.indexOf(i);d===-1?c.push(i,[n,l]):c[d+1].push(n,l)}else c.push(i,l)}}}function QE(t,e,i){return i&&t.componentProviders++,t.multi.push(e)-1}function yb(t,e,i,n){for(let r=i;r<n;r++)if(e[r]===t)return r;return-1}function P4(t,e,i,n){return fv(this.multi,[])}function F4(t,e,i,n){let r=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=Ea(i,i[Oe],this.providerFactory.index,n);o=a.slice(0,s),fv(r,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],fv(r,o);return o}function fv(t,e){for(let i=0;i<t.length;i++){let n=t[i];e.push(n())}return e}function j4(t,e,i,n,r){let o=new Ca(t,i,G);return o.multi=[],o.index=e,o.componentProviders=0,QE(o,r,n&&!i),o}function Hn(t,e=[]){return i=>{i.providersResolver=(n,r)=>O4(n,r?r(t):t,e)}}var B4=(()=>{let e=class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=YS(!1,n.type),o=r.length>0?Ap([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,o)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=H({token:e,providedIn:"environment",factory:()=>new e(N(Ii))});let t=e;return t})();function Wt(t){Jd("NgStandalone"),t.getStandaloneInjector=e=>e.get(B4).getOrCreateStandaloneInjector(t)}function z4(t,e){let i=t[e];return i===Sr?void 0:i}function V4(t,e,i,n,r,o,s){let a=e+i;return GE(t,a,r,o)?JV(t,a+2,s?n.call(s,r,o):n(r,o)):z4(t,a+2)}function JE(t,e){let i=Qt(),n,r=t+Dr;i.firstCreatePass?(n=U4(e,i.pipeRegistry),i.data[r]=n,n.onDestroy&&(i.destroyHooks??=[]).push(r,n.onDestroy)):n=i.data[r];let o=n.factory||(n.factory=Da(n.type,!0)),s,a=Qi(G);try{let l=ep(!1),c=o();return ep(l),R4(i,He(),r,c),c}finally{Qi(a)}}function U4(t,e){if(e)for(let i=e.length-1;i>=0;i--){let n=e[i];if(t===n.name)return n}}function eT(t,e,i,n){let r=t+Dr,o=He(),s=Sj(o,r);return G4(o,r)?V4(o,jj(),e,s.transform,i,n,s):s.transform(i,n)}function G4(t,e){return t[Oe].data[e].pure}var Bf=null;function H4(t){Bf!==null&&(t.defaultEncapsulation!==Bf.defaultEncapsulation||t.preserveWhitespaces!==Bf.preserveWhitespaces)||(Bf=t)}var Np=(()=>{let e=class e{log(n){console.log(n)}warn(n){console.warn(n)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var o0=new J(""),eu=new J(""),kp=(()=>{let e=class e{constructor(n,r,o){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,s0||($4(o),o.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ge.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&this._pendingCount===0&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb()}});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>r.updateCb&&r.updateCb(n)?(clearTimeout(r.timeoutId),!1):!0)}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,o){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==s),n()},r)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:o})}whenStable(n,r,o){if(o&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,o),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,o){return[]}};e.\u0275fac=function(r){return new(r||e)(N(ge),N(Rp),N(eu))},e.\u0275prov=H({token:e,factory:e.\u0275fac});let t=e;return t})(),Rp=(()=>{let e=class e{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return s0?.findTestabilityInTree(this,n,r)??null}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();function $4(t){s0=t}var s0;function ja(t){return!!t&&typeof t.then=="function"}function tT(t){return!!t&&typeof t.subscribe=="function"}var Lp=new J(""),iT=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=U(Lp,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let n=[];for(let o of this.appInits){let s=o();if(ja(s))n.push(s);else if(tT(s)){let a=new Promise((l,c)=>{s.subscribe({complete:l,error:c})});n.push(a)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(o=>{this.reject(o)}),n.length===0&&r(),this.initialized=!0}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Op=new J("");function W4(){cI(()=>{throw new W(600,!1)})}function Y4(t){return t.isBoundToModule}function Z4(t,e,i){try{let n=i();return ja(n)?n.catch(r=>{throw e.runOutsideAngular(()=>t.handleError(r)),r}):n}catch(n){throw e.runOutsideAngular(()=>t.handleError(n)),n}}function nT(t,e){return Array.isArray(e)?e.reduce(nT,t):C(C({},t),e)}var Oo=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=U(kC),this.afterRenderEffectManager=U(Jv),this.externalTestViews=new Set,this.beforeRender=new qe,this.afterTick=new qe,this.componentTypes=[],this.components=[],this.isStable=U(La).hasPendingTasks.pipe(me(n=>!n)),this._injector=U(Ii)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){let o=n instanceof op;if(!this._injector.get(iT).done){let f=!o&&GS(n),p=!1;throw new W(405,p)}let a;o?a=n:a=this._injector.get(Ra).resolveComponentFactory(n),this.componentTypes.push(a.componentType);let l=Y4(a)?void 0:this._injector.get(_s),c=r||a.selector,d=a.create(zi.NULL,[],c,l),u=d.location.nativeElement,h=d.injector.get(o0,null);return h?.registerApplication(u),d.onDestroy(()=>{this.detachView(d.hostView),$f(this.components,d),h?.unregisterApplication(u)}),this._loadComponent(d),d}tick(){this._tick(!0)}_tick(n){if(this._runningTick)throw new W(101,!1);let r=tt(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(n)}catch(o){this.internalErrorHandler(o)}finally{this.afterTick.next(),this._runningTick=!1,tt(r)}}detectChangesInAttachedViews(n){let r=0,o=this.afterRenderEffectManager;for(;;){if(r===AE)throw new W(103,!1);if(n){let s=r===0;this.beforeRender.next(s);for(let{_lView:a,notifyErrorHandler:l}of this._views)q4(a,s,l)}if(r++,o.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:s})=>pv(s))&&(o.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:s})=>pv(s))))break}}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;$f(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);let r=this._injector.get(Op,[]);[...this._bootstrapListeners,...r].forEach(o=>o(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>$f(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new W(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function $f(t,e){let i=t.indexOf(e);i>-1&&t.splice(i,1)}function q4(t,e,i){!e&&!pv(t)||K4(t,i,e)}function pv(t){return Av(t)}function K4(t,e,i){let n;i?(n=0,t[we]|=1024):t[we]&64?n=0:n=1,NE(t,e,n)}var mv=class{constructor(e,i){this.ngModuleFactory=e,this.componentFactories=i}},Pp=(()=>{let e=class e{compileModuleSync(n){return new dp(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),o=HS(n),s=JC(o.declarations).reduce((a,l)=>{let c=vs(l);return c&&a.push(new lc(c)),a},[]);return new mv(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),X4=new J("");function Q4(t,e,i){let n=new dp(i);return Promise.resolve(n)}function _S(t){for(let e=t.length-1;e>=0;e--)if(t[e]!==void 0)return t[e]}var J4=(()=>{let e=class e{constructor(){this.zone=U(ge),this.applicationRef=U(Oo)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function eU(t){return[{provide:ge,useFactory:t},{provide:nc,multi:!0,useFactory:()=>{let e=U(J4,{optional:!0});return()=>e.initialize()}},{provide:nc,multi:!0,useFactory:()=>{let e=U(nU);return()=>{e.initialize()}}},{provide:kC,useFactory:tU}]}function tU(){let t=U(ge),e=U(en);return i=>t.runOutsideAngular(()=>e.handleError(i))}function iU(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var nU=(()=>{let e=class e{constructor(){this.subscription=new mt,this.initialized=!1,this.zone=U(ge),this.pendingTasks=U(La)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ge.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ge.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function rU(){return typeof $localize<"u"&&$localize.locale||hp}var Fp=new J("",{providedIn:"root",factory:()=>U(Fp,je.Optional|je.SkipSelf)||rU()});var rT=new J(""),oT=(()=>{let e=class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){let o=uV(r?.ngZone,iU({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return o.run(()=>{let s=KV(n.moduleType,this.injector,eU(()=>o)),a=s.injector.get(en,null);return o.runOutsideAngular(()=>{let l=o.onError.subscribe({next:c=>{a.handleError(c)}});s.onDestroy(()=>{$f(this._modules,s),l.unsubscribe()})}),Z4(a,o,()=>{let l=s.injector.get(iT);return l.runInitializers(),l.donePromise.then(()=>{let c=s.injector.get(Fp,hp);return A4(c||hp),this._moduleDoBootstrap(s),s})})})}bootstrapModule(n,r=[]){let o=nT({},r);return Q4(this.injector,o,n).then(s=>this.bootstrapModuleFactory(s,o))}_moduleDoBootstrap(n){let r=n.injector.get(Oo);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(o=>r.bootstrap(o));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(r);else throw new W(-403,!1);this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new W(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());let n=this._injector.get(rT,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}};e.\u0275fac=function(r){return new(r||e)(N(zi))},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})(),Rd=null,sT=new J("");function oU(t){if(Rd&&!Rd.get(sT,!1))throw new W(400,!1);W4(),Rd=t;let e=t.get(oT);return lU(t),e}function a0(t,e,i=[]){let n=`Platform: ${e}`,r=new J(n);return(o=[])=>{let s=aT();if(!s||s.injector.get(sT,!1)){let a=[...i,...o,{provide:r,useValue:!0}];t?t(a):oU(sU(a,n))}return aU(r)}}function sU(t=[],e){return zi.create({name:e,providers:[{provide:vp,useValue:"platform"},{provide:rT,useValue:new Set([()=>Rd=null])},...t]})}function aU(t){let e=aT();if(!e)throw new W(401,!1);return e}function aT(){return Rd?.get(oT)??null}function lU(t){t.get(Vv,null)?.forEach(i=>i())}var nn=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=cU;let t=e;return t})();function cU(t){return dU(Bi(),He(),(t&16)===16)}function dU(t,e,i){if(_p(t)&&!i){let n=ws(t.index,e);return new Aa(n,n)}else if(t.type&47){let n=e[Mr];return new Aa(n,e)}return null}var gv=class{constructor(){}supports(e){return UE(e)}create(e){return new yv(e)}},uU=(t,e)=>e,yv=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||uU}forEachItem(e){let i;for(i=this._itHead;i!==null;i=i._next)e(i)}forEachOperation(e){let i=this._itHead,n=this._removalsHead,r=0,o=null;for(;i||n;){let s=!n||i&&i.currentIndex<MS(n,r,o)?i:n,a=MS(s,r,o),l=s.currentIndex;if(s===n)r--,n=n._nextRemoved;else if(i=i._next,s.previousIndex==null)r++;else{o||(o=[]);let c=a-r,d=l-r;if(c!=d){for(let h=0;h<c;h++){let f=h<o.length?o[h]:o[h]=0,p=f+h;d<=p&&p<c&&(o[h]=f+1)}let u=s.previousIndex;o[u]=d-c}}a!==l&&e(s,a,l)}}forEachPreviousItem(e){let i;for(i=this._previousItHead;i!==null;i=i._nextPrevious)e(i)}forEachAddedItem(e){let i;for(i=this._additionsHead;i!==null;i=i._nextAdded)e(i)}forEachMovedItem(e){let i;for(i=this._movesHead;i!==null;i=i._nextMoved)e(i)}forEachRemovedItem(e){let i;for(i=this._removalsHead;i!==null;i=i._nextRemoved)e(i)}forEachIdentityChange(e){let i;for(i=this._identityChangesHead;i!==null;i=i._nextIdentityChange)e(i)}diff(e){if(e==null&&(e=[]),!UE(e))throw new W(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i=this._itHead,n=!1,r,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),i===null||!Object.is(i.trackById,s)?(i=this._mismatch(i,o,s,a),n=!0):(n&&(i=this._verifyReinsertion(i,o,s,a)),Object.is(i.item,o)||this._addIdentityChange(i,o)),i=i._next}else r=0,XV(e,a=>{s=this._trackByFn(r,a),i===null||!Object.is(i.trackById,s)?(i=this._mismatch(i,a,s,r),n=!0):(n&&(i=this._verifyReinsertion(i,a,s,r)),Object.is(i.item,a)||this._addIdentityChange(i,a)),i=i._next,r++}),this.length=r;return this._truncate(i),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,i,n,r){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(n,null),e!==null?(Object.is(e.item,i)||this._addIdentityChange(e,i),this._reinsertAfter(e,o,r)):(e=this._linkedRecords===null?null:this._linkedRecords.get(n,r),e!==null?(Object.is(e.item,i)||this._addIdentityChange(e,i),this._moveAfter(e,o,r)):e=this._addAfter(new bv(i,n),o,r)),e}_verifyReinsertion(e,i,n,r){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(n,null);return o!==null?e=this._reinsertAfter(o,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;e!==null;){let i=e._next;this._addToRemovals(this._unlink(e)),e=i}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,i,n){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let r=e._prevRemoved,o=e._nextRemoved;return r===null?this._removalsHead=o:r._nextRemoved=o,o===null?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(e,i,n),this._addToMoves(e,n),e}_moveAfter(e,i,n){return this._unlink(e),this._insertAfter(e,i,n),this._addToMoves(e,n),e}_addAfter(e,i,n){return this._insertAfter(e,i,n),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,i,n){let r=i===null?this._itHead:i._next;return e._next=r,e._prev=i,r===null?this._itTail=e:r._prev=e,i===null?this._itHead=e:i._next=e,this._linkedRecords===null&&(this._linkedRecords=new fp),this._linkedRecords.put(e),e.currentIndex=n,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let i=e._prev,n=e._next;return i===null?this._itHead=n:i._next=n,n===null?this._itTail=i:n._prev=i,e}_addToMoves(e,i){return e.previousIndex===i||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new fp),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,i){return e.item=i,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},bv=class{constructor(e,i){this.item=e,this.trackById=i,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},vv=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,i){let n;for(n=this._head;n!==null;n=n._nextDup)if((i===null||i<=n.currentIndex)&&Object.is(n.trackById,e))return n;return null}remove(e){let i=e._prevDup,n=e._nextDup;return i===null?this._head=n:i._nextDup=n,n===null?this._tail=i:n._prevDup=i,this._head===null}},fp=class{constructor(){this.map=new Map}put(e){let i=e.trackById,n=this.map.get(i);n||(n=new vv,this.map.set(i,n)),n.add(e)}get(e,i){let n=e,r=this.map.get(n);return r?r.get(e,i):null}remove(e){let i=e.trackById;return this.map.get(i).remove(e)&&this.map.delete(i),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function MS(t,e,i){let n=t.previousIndex;if(n===null)return n;let r=0;return i&&n<i.length&&(r=i[n]),n+e+r}function DS(){return new jp([new gv])}var jp=(()=>{let e=class e{constructor(n){this.factories=n}static create(n,r){if(r!=null){let o=r.factories.slice();n=n.concat(o)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||DS()),deps:[[e,new yp,new $d]]}}find(n){let r=this.factories.find(o=>o.supports(n));if(r!=null)return r;throw new W(901,!1)}};e.\u0275prov=H({token:e,providedIn:"root",factory:DS});let t=e;return t})();var lT=a0(null,"core",[]),cT=(()=>{let e=class e{constructor(n){}};e.\u0275fac=function(r){return new(r||e)(N(Oo))},e.\u0275mod=be({type:e}),e.\u0275inj=ye({});let t=e;return t})();function Lt(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function fc(t,e=NaN){return!isNaN(parseFloat(t))&&!isNaN(Number(t))?Number(t):e}function dT(t){let e=vs(t);if(!e)return null;let i=new lc(e);return{get selector(){return i.selector},get type(){return i.componentType},get inputs(){return i.inputs},get outputs(){return i.outputs},get ngContentSelectors(){return i.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var mT=null;function eo(){return mT}function gT(t){mT??=t}var Bp=class{};var Se=new J(""),h0=(()=>{let e=class e{historyGo(n){throw new Error("")}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=H({token:e,factory:()=>U(fU),providedIn:"platform"});let t=e;return t})(),yT=new J(""),fU=(()=>{let e=class e extends h0{constructor(){super(),this._doc=U(Se),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return eo().getBaseHref(this._doc)}onPopState(n){let r=eo().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=eo().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,o){this._history.pushState(n,r,o)}replaceState(n,r,o){this._history.replaceState(n,r,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=H({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function f0(t,e){if(t.length==0)return e;if(e.length==0)return t;let i=0;return t.endsWith("/")&&i++,e.startsWith("/")&&i++,i==2?t+e.substring(1):i==1?t+e:t+"/"+e}function uT(t){let e=t.match(/#|\?|$/),i=e&&e.index||t.length,n=i-(t[i-1]==="/"?1:0);return t.slice(0,n)+t.slice(i)}function Po(t){return t&&t[0]!=="?"?"?"+t:t}var Fo=(()=>{let e=class e{historyGo(n){throw new Error("")}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=H({token:e,factory:()=>U(p0),providedIn:"root"});let t=e;return t})(),bT=new J(""),p0=(()=>{let e=class e extends Fo{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??U(Se).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return f0(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+Po(this._platformLocation.search),o=this._platformLocation.hash;return o&&n?`${r}${o}`:r}pushState(n,r,o,s){let a=this.prepareExternalUrl(o+Po(s));this._platformLocation.pushState(n,r,a)}replaceState(n,r,o,s){let a=this.prepareExternalUrl(o+Po(s));this._platformLocation.replaceState(n,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}};e.\u0275fac=function(r){return new(r||e)(N(h0),N(bT,8))},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),vT=(()=>{let e=class e extends Fo{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(n){let r=f0(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,o,s){let a=this.prepareExternalUrl(o+Po(s));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.pushState(n,r,a)}replaceState(n,r,o,s){let a=this.prepareExternalUrl(o+Po(s));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}};e.\u0275fac=function(r){return new(r||e)(N(h0),N(bT,8))},e.\u0275prov=H({token:e,factory:e.\u0275fac});let t=e;return t})(),Es=(()=>{let e=class e{constructor(n){this._subject=new Ye,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=gU(uT(hT(r))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Po(r))}normalize(n){return e.stripTrailingSlash(mU(this._basePath,hT(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",o=null){this._locationStrategy.pushState(o,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Po(r)),o)}replaceState(n,r="",o=null){this._locationStrategy.replaceState(o,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Po(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(o=>o(n,r))}subscribe(n,r,o){return this._subject.subscribe({next:n,error:r,complete:o})}};e.normalizeQueryParams=Po,e.joinWithSlash=f0,e.stripTrailingSlash=uT,e.\u0275fac=function(r){return new(r||e)(N(Fo))},e.\u0275prov=H({token:e,factory:()=>pU(),providedIn:"root"});let t=e;return t})();function pU(){return new Es(N(Fo))}function mU(t,e){if(!t||!e.startsWith(t))return e;let i=e.substring(t.length);return i===""||["/",";","?","#"].includes(i[0])?i:e}function hT(t){return t.replace(/\/index.html$/,"")}function gU(t){if(new RegExp("^(https?:)?//").test(t)){let[,i]=t.split(/\/\/[^\/]+/);return i}return t}function Vp(t,e){e=encodeURIComponent(e);for(let i of t.split(";")){let n=i.indexOf("="),[r,o]=n==-1?[i,""]:[i.slice(0,n),i.slice(n+1)];if(r.trim()===e)return decodeURIComponent(o)}return null}var l0=class{constructor(e,i,n,r){this.$implicit=e,this.ngForOf=i,this.index=n,this.count=r}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Ts=(()=>{let e=class e{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,o){this._viewContainer=n,this._template=r,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;if(!this._differ&&n)if(0)try{}catch{}else this._differ=this._differs.find(n).create(this.ngForTrackBy)}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((o,s,a)=>{if(o.previousIndex==null)r.createEmbeddedView(this._template,new l0(o.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)r.remove(s===null?void 0:s);else if(s!==null){let l=r.get(s);r.move(l,a),fT(l,o)}});for(let o=0,s=r.length;o<s;o++){let l=r.get(o).context;l.index=o,l.count=s,l.ngForOf=this._ngForOf}n.forEachIdentityChange(o=>{let s=r.get(o.currentIndex);fT(s,o)})}static ngTemplateContextGuard(n,r){return!0}};e.\u0275fac=function(r){return new(r||e)(G(Cr),G(Jr),G(jp))},e.\u0275dir=Ve({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function fT(t,e){t.context.$implicit=e.item}var Up=(()=>{let e=class e{constructor(n,r){this._viewContainer=n,this._context=new c0,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){pT("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){pT("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}};e.\u0275fac=function(r){return new(r||e)(G(Cr),G(Jr))},e.\u0275dir=Ve({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),c0=class{constructor(){this.$implicit=null,this.ngIf=null}};function pT(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${ji(e)}'.`)}var io=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=be({type:e}),e.\u0275inj=ye({});let t=e;return t})(),m0="browser",yU="server";function g0(t){return t===m0}function Gp(t){return t===yU}var xT=(()=>{let e=class e{};e.\u0275prov=H({token:e,providedIn:"root",factory:()=>g0(U(Un))?new d0(U(Se),window):new u0});let t=e;return t})(),d0=class{constructor(e,i){this.document=e,this.window=i,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let i=bU(this.document,e);i&&(this.scrollToElement(i),i.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let i=e.getBoundingClientRect(),n=i.left+this.window.pageXOffset,r=i.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(n-o[0],r-o[1])}};function bU(t,e){let i=t.getElementById(e)||t.getElementsByName(e)[0];if(i)return i;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let n=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),r=n.currentNode;for(;r;){let o=r.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}r=n.nextNode()}}return null}var u0=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},to=class{};var iu=class{},mc=class{},Dn=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(i=>{let n=i.indexOf(":");if(n>0){let r=i.slice(0,n),o=r.toLowerCase(),s=i.slice(n+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((i,n)=>{this.setHeaderEntries(n,i)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([i,n])=>{this.setHeaderEntries(i,n)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let i=this.headers.get(e.toLowerCase());return i&&i.length>0?i[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,i){return this.clone({name:e,value:i,op:"a"})}set(e,i){return this.clone({name:e,value:i,op:"s"})}delete(e,i){return this.clone({name:e,value:i,op:"d"})}maybeSetNormalizedName(e,i){this.normalizedNames.has(i)||this.normalizedNames.set(i,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(i=>{this.headers.set(i,e.headers.get(i)),this.normalizedNames.set(i,e.normalizedNames.get(i))})}clone(e){let i=new t;return i.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,i.lazyUpdate=(this.lazyUpdate||[]).concat([e]),i}applyUpdate(e){let i=e.name.toLowerCase();switch(e.op){case"a":case"s":let n=e.value;if(typeof n=="string"&&(n=[n]),n.length===0)return;this.maybeSetNormalizedName(e.name,i);let r=(e.op==="a"?this.headers.get(i):void 0)||[];r.push(...n),this.headers.set(i,r);break;case"d":let o=e.value;if(!o)this.headers.delete(i),this.normalizedNames.delete(i);else{let s=this.headers.get(i);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(i),this.normalizedNames.delete(i)):this.headers.set(i,s)}break}}setHeaderEntries(e,i){let n=(Array.isArray(i)?i:[i]).map(o=>o.toString()),r=e.toLowerCase();this.headers.set(r,n),this.maybeSetNormalizedName(e,r)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(i=>e(this.normalizedNames.get(i),this.headers.get(i)))}};var b0=class{encodeKey(e){return _T(e)}encodeValue(e){return _T(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function _U(t,e){let i=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(r=>{let o=r.indexOf("="),[s,a]=o==-1?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,o)),e.decodeValue(r.slice(o+1))],l=i.get(s)||[];l.push(a),i.set(s,l)}),i}var MU=/%(\d[a-f0-9])/gi,DU={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function _T(t){return encodeURIComponent(t).replace(MU,(e,i)=>DU[i]??e)}function Hp(t){return`${t}`}var no=class t{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new b0,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=_U(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(i=>{let n=e.fromObject[i],r=Array.isArray(n)?n.map(Hp):[Hp(n)];this.map.set(i,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let i=this.map.get(e);return i?i[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,i){return this.clone({param:e,value:i,op:"a"})}appendAll(e){let i=[];return Object.keys(e).forEach(n=>{let r=e[n];Array.isArray(r)?r.forEach(o=>{i.push({param:n,value:o,op:"a"})}):i.push({param:n,value:r,op:"a"})}),this.clone(i)}set(e,i){return this.clone({param:e,value:i,op:"s"})}delete(e,i){return this.clone({param:e,value:i,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let i=this.encoder.encodeKey(e);return this.map.get(e).map(n=>i+"="+this.encoder.encodeValue(n)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let i=new t({encoder:this.encoder});return i.cloneFrom=this.cloneFrom||this,i.updates=(this.updates||[]).concat(e),i}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let i=(e.op==="a"?this.map.get(e.param):void 0)||[];i.push(Hp(e.value)),this.map.set(e.param,i);break;case"d":if(e.value!==void 0){let n=this.map.get(e.param)||[],r=n.indexOf(Hp(e.value));r!==-1&&n.splice(r,1),n.length>0?this.map.set(e.param,n):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var v0=class{constructor(){this.map=new Map}set(e,i){return this.map.set(e,i),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function wU(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function MT(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function DT(t){return typeof Blob<"u"&&t instanceof Blob}function wT(t){return typeof FormData<"u"&&t instanceof FormData}function IU(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var tu=class t{constructor(e,i,n,r){this.url=i,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let o;if(wU(this.method)||r?(this.body=n!==void 0?n:null,o=r):o=n,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new Dn,this.context??=new v0,!this.params)this.params=new no,this.urlWithParams=i;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=i;else{let a=i.indexOf("?"),l=a===-1?"?":a<i.length-1?"&":"";this.urlWithParams=i+l+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||MT(this.body)||DT(this.body)||wT(this.body)||IU(this.body)?this.body:this.body instanceof no?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||wT(this.body)?null:DT(this.body)?this.body.type||null:MT(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof no?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let i=e.method||this.method,n=e.url||this.url,r=e.responseType||this.responseType,o=e.transferCache??this.transferCache,s=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,l=e.reportProgress??this.reportProgress,c=e.headers||this.headers,d=e.params||this.params,u=e.context??this.context;return e.setHeaders!==void 0&&(c=Object.keys(e.setHeaders).reduce((h,f)=>h.set(f,e.setHeaders[f]),c)),e.setParams&&(d=Object.keys(e.setParams).reduce((h,f)=>h.set(f,e.setParams[f]),d)),new t(i,n,s,{params:d,headers:c,context:u,reportProgress:l,responseType:r,withCredentials:a,transferCache:o})}},pc=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(pc||{}),nu=class{constructor(e,i=Wp.Ok,n="OK"){this.headers=e.headers||new Dn,this.status=e.status!==void 0?e.status:i,this.statusText=e.statusText||n,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},x0=class t extends nu{constructor(e={}){super(e),this.type=pc.ResponseHeader}clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},gc=class t extends nu{constructor(e={}){super(e),this.type=pc.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},$p=class extends nu{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},Wp=function(t){return t[t.Continue=100]="Continue",t[t.SwitchingProtocols=101]="SwitchingProtocols",t[t.Processing=102]="Processing",t[t.EarlyHints=103]="EarlyHints",t[t.Ok=200]="Ok",t[t.Created=201]="Created",t[t.Accepted=202]="Accepted",t[t.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",t[t.NoContent=204]="NoContent",t[t.ResetContent=205]="ResetContent",t[t.PartialContent=206]="PartialContent",t[t.MultiStatus=207]="MultiStatus",t[t.AlreadyReported=208]="AlreadyReported",t[t.ImUsed=226]="ImUsed",t[t.MultipleChoices=300]="MultipleChoices",t[t.MovedPermanently=301]="MovedPermanently",t[t.Found=302]="Found",t[t.SeeOther=303]="SeeOther",t[t.NotModified=304]="NotModified",t[t.UseProxy=305]="UseProxy",t[t.Unused=306]="Unused",t[t.TemporaryRedirect=307]="TemporaryRedirect",t[t.PermanentRedirect=308]="PermanentRedirect",t[t.BadRequest=400]="BadRequest",t[t.Unauthorized=401]="Unauthorized",t[t.PaymentRequired=402]="PaymentRequired",t[t.Forbidden=403]="Forbidden",t[t.NotFound=404]="NotFound",t[t.MethodNotAllowed=405]="MethodNotAllowed",t[t.NotAcceptable=406]="NotAcceptable",t[t.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",t[t.RequestTimeout=408]="RequestTimeout",t[t.Conflict=409]="Conflict",t[t.Gone=410]="Gone",t[t.LengthRequired=411]="LengthRequired",t[t.PreconditionFailed=412]="PreconditionFailed",t[t.PayloadTooLarge=413]="PayloadTooLarge",t[t.UriTooLong=414]="UriTooLong",t[t.UnsupportedMediaType=415]="UnsupportedMediaType",t[t.RangeNotSatisfiable=416]="RangeNotSatisfiable",t[t.ExpectationFailed=417]="ExpectationFailed",t[t.ImATeapot=418]="ImATeapot",t[t.MisdirectedRequest=421]="MisdirectedRequest",t[t.UnprocessableEntity=422]="UnprocessableEntity",t[t.Locked=423]="Locked",t[t.FailedDependency=424]="FailedDependency",t[t.TooEarly=425]="TooEarly",t[t.UpgradeRequired=426]="UpgradeRequired",t[t.PreconditionRequired=428]="PreconditionRequired",t[t.TooManyRequests=429]="TooManyRequests",t[t.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",t[t.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",t[t.InternalServerError=500]="InternalServerError",t[t.NotImplemented=501]="NotImplemented",t[t.BadGateway=502]="BadGateway",t[t.ServiceUnavailable=503]="ServiceUnavailable",t[t.GatewayTimeout=504]="GatewayTimeout",t[t.HttpVersionNotSupported=505]="HttpVersionNotSupported",t[t.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",t[t.InsufficientStorage=507]="InsufficientStorage",t[t.LoopDetected=508]="LoopDetected",t[t.NotExtended=510]="NotExtended",t[t.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",t}(Wp||{});function y0(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var Ba=(()=>{let e=class e{constructor(n){this.handler=n}request(n,r,o={}){let s;if(n instanceof tu)s=n;else{let c;o.headers instanceof Dn?c=o.headers:c=new Dn(o.headers);let d;o.params&&(o.params instanceof no?d=o.params:d=new no({fromObject:o.params})),s=new tu(n,r,o.body!==void 0?o.body:null,{headers:c,context:o.context,params:d,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials,transferCache:o.transferCache})}let a=le(s).pipe(jn(c=>this.handler.handle(c)));if(n instanceof tu||o.observe==="events")return a;let l=a.pipe(Ht(c=>c instanceof gc));switch(o.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return l.pipe(me(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return l.pipe(me(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return l.pipe(me(c=>{if(c.body!==null&&typeof c.body!="string")throw new Error("Response is not a string.");return c.body}));case"json":default:return l.pipe(me(c=>c.body))}case"response":return l;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:new no().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,o={}){return this.request("PATCH",n,y0(o,r))}post(n,r,o={}){return this.request("POST",n,y0(o,r))}put(n,r,o={}){return this.request("PUT",n,y0(o,r))}};e.\u0275fac=function(r){return new(r||e)(N(iu))},e.\u0275prov=H({token:e,factory:e.\u0275fac});let t=e;return t})();function CT(t,e){return e(t)}function SU(t,e){return(i,n)=>e.intercept(i,{handle:r=>t(r,n)})}function CU(t,e,i){return(n,r)=>wr(i,()=>e(n,o=>t(o,r)))}var EU=new J(""),_0=new J(""),TU=new J(""),AU=new J("");function NU(){let t=null;return(e,i)=>{t===null&&(t=(U(EU,{optional:!0})??[]).reduceRight(SU,CT));let n=U(La),r=n.add();return t(e,i).pipe(Yr(()=>n.remove(r)))}}var IT=(()=>{let e=class e extends iu{constructor(n,r){super(),this.backend=n,this.injector=r,this.chain=null,this.pendingTasks=U(La);let o=U(AU,{optional:!0});this.backend=o??n}handle(n){if(this.chain===null){let o=Array.from(new Set([...this.injector.get(_0),...this.injector.get(TU,[])]));this.chain=o.reduceRight((s,a)=>CU(s,a,this.injector),CT)}let r=this.pendingTasks.add();return this.chain(n,o=>this.backend.handle(o)).pipe(Yr(()=>this.pendingTasks.remove(r)))}};e.\u0275fac=function(r){return new(r||e)(N(mc),N(Ii))},e.\u0275prov=H({token:e,factory:e.\u0275fac});let t=e;return t})();var kU=/^\)\]\}',?\n/;function RU(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}var Yp=(()=>{let e=class e{constructor(n){this.xhrFactory=n}handle(n){if(n.method==="JSONP")throw new W(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?ot(r.\u0275loadImpl()):le(null)).pipe(Pi(()=>new Ie(s=>{let a=r.build();if(a.open(n.method,n.urlWithParams),n.withCredentials&&(a.withCredentials=!0),n.headers.forEach((b,g)=>a.setRequestHeader(b,g.join(","))),n.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){let b=n.detectContentTypeHeader();b!==null&&a.setRequestHeader("Content-Type",b)}if(n.responseType){let b=n.responseType.toLowerCase();a.responseType=b!=="json"?b:"text"}let l=n.serializeBody(),c=null,d=()=>{if(c!==null)return c;let b=a.statusText||"OK",g=new Dn(a.getAllResponseHeaders()),v=RU(a)||n.url;return c=new x0({headers:g,status:a.status,statusText:b,url:v}),c},u=()=>{let{headers:b,status:g,statusText:v,url:M}=d(),w=null;g!==Wp.NoContent&&(w=typeof a.response>"u"?a.responseText:a.response),g===0&&(g=w?Wp.Ok:0);let I=g>=200&&g<300;if(n.responseType==="json"&&typeof w=="string"){let D=w;w=w.replace(kU,"");try{w=w!==""?JSON.parse(w):null}catch(_){w=D,I&&(I=!1,w={error:_,text:w})}}I?(s.next(new gc({body:w,headers:b,status:g,statusText:v,url:M||void 0})),s.complete()):s.error(new $p({error:w,headers:b,status:g,statusText:v,url:M||void 0}))},h=b=>{let{url:g}=d(),v=new $p({error:b,status:a.status||0,statusText:a.statusText||"Unknown Error",url:g||void 0});s.error(v)},f=!1,p=b=>{f||(s.next(d()),f=!0);let g={type:pc.DownloadProgress,loaded:b.loaded};b.lengthComputable&&(g.total=b.total),n.responseType==="text"&&a.responseText&&(g.partialText=a.responseText),s.next(g)},m=b=>{let g={type:pc.UploadProgress,loaded:b.loaded};b.lengthComputable&&(g.total=b.total),s.next(g)};return a.addEventListener("load",u),a.addEventListener("error",h),a.addEventListener("timeout",h),a.addEventListener("abort",h),n.reportProgress&&(a.addEventListener("progress",p),l!==null&&a.upload&&a.upload.addEventListener("progress",m)),a.send(l),s.next({type:pc.Sent}),()=>{a.removeEventListener("error",h),a.removeEventListener("abort",h),a.removeEventListener("load",u),a.removeEventListener("timeout",h),n.reportProgress&&(a.removeEventListener("progress",p),l!==null&&a.upload&&a.upload.removeEventListener("progress",m)),a.readyState!==a.DONE&&a.abort()}})))}};e.\u0275fac=function(r){return new(r||e)(N(to))},e.\u0275prov=H({token:e,factory:e.\u0275fac});let t=e;return t})(),ET=new J(""),LU="XSRF-TOKEN",OU=new J("",{providedIn:"root",factory:()=>LU}),PU="X-XSRF-TOKEN",FU=new J("",{providedIn:"root",factory:()=>PU}),Zp=class{},jU=(()=>{let e=class e{constructor(n,r,o){this.doc=n,this.platform=r,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=Vp(n,this.cookieName),this.lastCookieString=n),this.lastToken}};e.\u0275fac=function(r){return new(r||e)(N(Se),N(Un),N(OU))},e.\u0275prov=H({token:e,factory:e.\u0275fac});let t=e;return t})();function BU(t,e){let i=t.url.toLowerCase();if(!U(ET)||t.method==="GET"||t.method==="HEAD"||i.startsWith("http://")||i.startsWith("https://"))return e(t);let n=U(Zp).getToken(),r=U(FU);return n!=null&&!t.headers.has(r)&&(t=t.clone({headers:t.headers.set(r,n)})),e(t)}var TT=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(TT||{});function zU(t,e){return{\u0275kind:t,\u0275providers:e}}function VU(...t){let e=[Ba,Yp,IT,{provide:iu,useExisting:IT},{provide:mc,useExisting:Yp},{provide:_0,useValue:BU,multi:!0},{provide:ET,useValue:!0},{provide:Zp,useClass:jU}];for(let i of t)e.push(...i.\u0275providers);return bp(e)}var ST=new J("");function UU(){return zU(TT.LegacyInterceptors,[{provide:ST,useFactory:NU},{provide:_0,useExisting:ST,multi:!0}])}var AT=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=be({type:e}),e.\u0275inj=ye({providers:[VU(UU())]});let t=e;return t})();var I0=class extends Bp{constructor(){super(...arguments),this.supportsDOMEvents=!0}},S0=class t extends I0{static makeCurrent(){gT(new t)}onAndCancel(e,i,n){return e.addEventListener(i,n),()=>{e.removeEventListener(i,n)}}dispatchEvent(e,i){e.dispatchEvent(i)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,i){return i=i||this.getDefaultDocument(),i.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,i){return i==="window"?window:i==="document"?e:i==="body"?e.body:null}getBaseHref(e){let i=GU();return i==null?null:HU(i)}resetBaseElement(){ru=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Vp(document.cookie,e)}},ru=null;function GU(){return ru=ru||document.querySelector("base"),ru?ru.getAttribute("href"):null}function HU(t){return new URL(t,document.baseURI).pathname}var C0=class{addToWindow(e){mi.getAngularTestability=(n,r=!0)=>{let o=e.findTestabilityInTree(n,r);if(o==null)throw new W(5103,!1);return o},mi.getAllAngularTestabilities=()=>e.getAllTestabilities(),mi.getAllAngularRootElements=()=>e.getAllRootElements();let i=n=>{let r=mi.getAllAngularTestabilities(),o=r.length,s=function(){o--,o==0&&n()};r.forEach(a=>{a.whenStable(s)})};mi.frameworkStabilizers||(mi.frameworkStabilizers=[]),mi.frameworkStabilizers.push(i)}findTestabilityInTree(e,i,n){if(i==null)return null;let r=e.getTestability(i);return r??(n?eo().isShadowRoot(i)?this.findTestabilityInTree(e,i.host,!0):this.findTestabilityInTree(e,i.parentElement,!0):null)}},$U=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac});let t=e;return t})(),E0=new J(""),RT=(()=>{let e=class e{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(o=>{o.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,o){return this._findPluginFor(r).addEventListener(n,r,o)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(s=>s.supports(n)),!r)throw new W(5101,!1);return this._eventNameToPlugin.set(n,r),r}};e.\u0275fac=function(r){return new(r||e)(N(E0),N(ge))},e.\u0275prov=H({token:e,factory:e.\u0275fac});let t=e;return t})(),qp=class{constructor(e){this._doc=e}},D0="ng-app-id",LT=(()=>{let e=class e{constructor(n,r,o,s={}){this.doc=n,this.appId=r,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Gp(s),this.resetHostNodes()}addStyles(n){for(let r of n)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(n){for(let r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(let r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(let r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){let r=this.styleRef;r.get(n)?.elements?.forEach(o=>o.remove()),r.delete(n)}collectServerRenderedStyles(){let n=this.doc.head?.querySelectorAll(`style[${D0}="${this.appId}"]`);if(n?.length){let r=new Map;return n.forEach(o=>{o.textContent!=null&&r.set(o.textContent,o)}),r}return null}changeUsageCount(n,r){let o=this.styleRef;if(o.has(n)){let s=o.get(n);return s.usage+=r,s.usage}return o.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){let o=this.styleNodesInDOM,s=o?.get(r);if(s?.parentNode===n)return o.delete(r),s.removeAttribute(D0),s;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=r,this.platformIsServer&&a.setAttribute(D0,this.appId),n.appendChild(a),a}}addStyleToHost(n,r){let o=this.getStyleElement(n,r),s=this.styleRef,a=s.get(r)?.elements;a?a.push(o):s.set(r,{elements:[o],usage:1})}resetHostNodes(){let n=this.hostNodes;n.clear(),n.add(this.doc.head)}};e.\u0275fac=function(r){return new(r||e)(N(Se),N(qd),N(Kd,8),N(Un))},e.\u0275prov=H({token:e,factory:e.\u0275fac});let t=e;return t})(),w0={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},A0=/%COMP%/g,OT="%COMP%",WU=`_nghost-${OT}`,YU=`_ngcontent-${OT}`,ZU=!0,qU=new J("",{providedIn:"root",factory:()=>ZU});function KU(t){return YU.replace(A0,t)}function XU(t){return WU.replace(A0,t)}function PT(t,e){return e.map(i=>i.replace(A0,t))}var Kp=(()=>{let e=class e{constructor(n,r,o,s,a,l,c,d=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=l,this.ngZone=c,this.nonce=d,this.rendererByCompId=new Map,this.platformIsServer=Gp(l),this.defaultRenderer=new ou(n,a,c,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Xr.ShadowDom&&(r=L(C({},r),{encapsulation:Xr.Emulated}));let o=this.getOrCreateRenderer(n,r);return o instanceof Xp?o.applyToHost(n):o instanceof su&&o.applyStyles(),o}getOrCreateRenderer(n,r){let o=this.rendererByCompId,s=o.get(r.id);if(!s){let a=this.doc,l=this.ngZone,c=this.eventManager,d=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(r.encapsulation){case Xr.Emulated:s=new Xp(c,d,r,this.appId,u,a,l,h);break;case Xr.ShadowDom:return new T0(c,d,n,r,a,l,this.nonce,h);default:s=new su(c,d,r,u,a,l,h);break}o.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(r){return new(r||e)(N(RT),N(LT),N(qd),N(qU),N(Se),N(Un),N(ge),N(Kd))},e.\u0275prov=H({token:e,factory:e.\u0275fac});let t=e;return t})(),ou=class{constructor(e,i,n,r){this.eventManager=e,this.doc=i,this.ngZone=n,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,i){return i?this.doc.createElementNS(w0[i]||i,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,i){(NT(e)?e.content:e).appendChild(i)}insertBefore(e,i,n){e&&(NT(e)?e.content:e).insertBefore(i,n)}removeChild(e,i){e&&e.removeChild(i)}selectRootElement(e,i){let n=typeof e=="string"?this.doc.querySelector(e):e;if(!n)throw new W(-5104,!1);return i||(n.textContent=""),n}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,i,n,r){if(r){i=r+":"+i;let o=w0[r];o?e.setAttributeNS(o,i,n):e.setAttribute(i,n)}else e.setAttribute(i,n)}removeAttribute(e,i,n){if(n){let r=w0[n];r?e.removeAttributeNS(r,i):e.removeAttribute(`${n}:${i}`)}else e.removeAttribute(i)}addClass(e,i){e.classList.add(i)}removeClass(e,i){e.classList.remove(i)}setStyle(e,i,n,r){r&(Ao.DashCase|Ao.Important)?e.style.setProperty(i,n,r&Ao.Important?"important":""):e.style[i]=n}removeStyle(e,i,n){n&Ao.DashCase?e.style.removeProperty(i):e.style[i]=""}setProperty(e,i,n){e!=null&&(e[i]=n)}setValue(e,i){e.nodeValue=i}listen(e,i,n){if(typeof e=="string"&&(e=eo().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${i}`);return this.eventManager.addEventListener(e,i,this.decoratePreventDefault(n))}decoratePreventDefault(e){return i=>{if(i==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(i)):e(i))===!1&&i.preventDefault()}}};function NT(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var T0=class extends ou{constructor(e,i,n,r,o,s,a,l){super(e,o,s,l),this.sharedStylesHost=i,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let c=PT(r.id,r.styles);for(let d of c){let u=document.createElement("style");a&&u.setAttribute("nonce",a),u.textContent=d,this.shadowRoot.appendChild(u)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,i){return super.appendChild(this.nodeOrShadowRoot(e),i)}insertBefore(e,i,n){return super.insertBefore(this.nodeOrShadowRoot(e),i,n)}removeChild(e,i){return super.removeChild(this.nodeOrShadowRoot(e),i)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},su=class extends ou{constructor(e,i,n,r,o,s,a,l){super(e,o,s,a),this.sharedStylesHost=i,this.removeStylesOnCompDestroy=r,this.styles=l?PT(l,n.styles):n.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Xp=class extends su{constructor(e,i,n,r,o,s,a,l){let c=r+"-"+n.id;super(e,i,n,o,s,a,l,c),this.contentAttr=KU(c),this.hostAttr=XU(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,i){let n=super.createElement(e,i);return super.setAttribute(n,this.contentAttr,""),n}},QU=(()=>{let e=class e extends qp{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,o){return n.addEventListener(r,o,!1),()=>this.removeEventListener(n,r,o)}removeEventListener(n,r,o){return n.removeEventListener(r,o)}};e.\u0275fac=function(r){return new(r||e)(N(Se))},e.\u0275prov=H({token:e,factory:e.\u0275fac});let t=e;return t})(),kT=["alt","control","meta","shift"],JU={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},e3={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},t3=(()=>{let e=class e extends qp{constructor(n){super(n)}supports(n){return e.parseEventName(n)!=null}addEventListener(n,r,o){let s=e.parseEventName(r),a=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>eo().onAndCancel(n,s.domEventName,a))}static parseEventName(n){let r=n.toLowerCase().split("."),o=r.shift();if(r.length===0||!(o==="keydown"||o==="keyup"))return null;let s=e._normalizeKey(r.pop()),a="",l=r.indexOf("code");if(l>-1&&(r.splice(l,1),a="code."),kT.forEach(d=>{let u=r.indexOf(d);u>-1&&(r.splice(u,1),a+=d+".")}),a+=s,r.length!=0||s.length===0)return null;let c={};return c.domEventName=o,c.fullKey=a,c}static matchEventFullKeyCode(n,r){let o=JU[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(o=n.code,s="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),kT.forEach(a=>{if(a!==o){let l=e3[a];l(n)&&(s+=a+".")}}),s+=o,s===r)}static eventCallback(n,r,o){return s=>{e.matchEventFullKeyCode(s,n)&&o.runGuarded(()=>r(s))}}static _normalizeKey(n){return n==="esc"?"escape":n}};e.\u0275fac=function(r){return new(r||e)(N(Se))},e.\u0275prov=H({token:e,factory:e.\u0275fac});let t=e;return t})();function i3(){S0.makeCurrent()}function n3(){return new en}function r3(){return jC(document),document}var o3=[{provide:Un,useValue:m0},{provide:Vv,useValue:i3,multi:!0},{provide:Se,useFactory:r3,deps:[]}],FT=a0(lT,"browser",o3),s3=new J(""),a3=[{provide:eu,useClass:C0,deps:[]},{provide:o0,useClass:kp,deps:[ge,Rp,eu]},{provide:kp,useClass:kp,deps:[ge,Rp,eu]}],l3=[{provide:vp,useValue:"root"},{provide:en,useFactory:n3,deps:[]},{provide:E0,useClass:QU,multi:!0,deps:[Se,ge,Un]},{provide:E0,useClass:t3,multi:!0,deps:[Se]},Kp,LT,RT,{provide:Na,useExisting:Kp},{provide:to,useClass:$U,deps:[]},[]],Qp=(()=>{let e=class e{constructor(n){}static withServerTransition(n){return{ngModule:e,providers:[{provide:qd,useValue:n.appId}]}}};e.\u0275fac=function(r){return new(r||e)(N(s3,12))},e.\u0275mod=be({type:e}),e.\u0275inj=ye({providers:[...l3,...a3],imports:[io,cT]});let t=e;return t})();var jT=(()=>{let e=class e{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}};e.\u0275fac=function(r){return new(r||e)(N(Se))},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var N0=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=H({token:e,factory:function(r){let o=null;return r?o=new(r||e):o=N(c3),o},providedIn:"root"});let t=e;return t})(),c3=(()=>{let e=class e extends N0{constructor(n){super(),this._doc=n}sanitize(n,r){if(r==null)return null;switch(n){case Si.NONE:return r;case Si.HTML:return Ss(r,"HTML")?Ir(r):KC(this._doc,String(r)).toString();case Si.STYLE:return Ss(r,"Style")?Ir(r):r;case Si.SCRIPT:if(Ss(r,"Script"))return Ir(r);throw new W(5200,!1);case Si.URL:return Ss(r,"URL")?Ir(r):wp(String(r));case Si.RESOURCE_URL:if(Ss(r,"ResourceURL"))return Ir(r);throw new W(5201,!1);default:throw new W(5202,!1)}}bypassSecurityTrustHtml(n){return zC(n)}bypassSecurityTrustStyle(n){return VC(n)}bypassSecurityTrustScript(n){return UC(n)}bypassSecurityTrustUrl(n){return GC(n)}bypassSecurityTrustResourceUrl(n){return HC(n)}};e.\u0275fac=function(r){return new(r||e)(N(Se))},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Re="primary",_u=Symbol("RouteTitle"),F0=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let i=this.params[e];return Array.isArray(i)?i[0]:i}return null}getAll(e){if(this.has(e)){let i=this.params[e];return Array.isArray(i)?i:[i]}return[]}get keys(){return Object.keys(this.params)}};function _c(t){return new F0(t)}function d3(t,e,i){let n=i.path.split("/");if(n.length>t.length||i.pathMatch==="full"&&(e.hasChildren()||n.length<t.length))return null;let r={};for(let o=0;o<n.length;o++){let s=n[o],a=t[o];if(s.startsWith(":"))r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,n.length),posParams:r}}function u3(t,e){if(t.length!==e.length)return!1;for(let i=0;i<t.length;++i)if(!ro(t[i],e[i]))return!1;return!0}function ro(t,e){let i=t?j0(t):void 0,n=e?j0(e):void 0;if(!i||!n||i.length!=n.length)return!1;let r;for(let o=0;o<i.length;o++)if(r=i[o],!YT(t[r],e[r]))return!1;return!0}function j0(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function YT(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let i=[...t].sort(),n=[...e].sort();return i.every((r,o)=>n[o]===r)}else return t===e}function ZT(t){return t.length>0?t[t.length-1]:null}function Ls(t){return If(t)?t:ja(t)?ot(Promise.resolve(t)):le(t)}var h3={exact:KT,subset:XT},qT={exact:f3,subset:p3,ignored:()=>!0};function BT(t,e,i){return h3[i.paths](t.root,e.root,i.matrixParams)&&qT[i.queryParams](t.queryParams,e.queryParams)&&!(i.fragment==="exact"&&t.fragment!==e.fragment)}function f3(t,e){return ro(t,e)}function KT(t,e,i){if(!Va(t.segments,e.segments)||!tm(t.segments,e.segments,i)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let n in e.children)if(!t.children[n]||!KT(t.children[n],e.children[n],i))return!1;return!0}function p3(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(i=>YT(t[i],e[i]))}function XT(t,e,i){return QT(t,e,e.segments,i)}function QT(t,e,i,n){if(t.segments.length>i.length){let r=t.segments.slice(0,i.length);return!(!Va(r,i)||e.hasChildren()||!tm(r,i,n))}else if(t.segments.length===i.length){if(!Va(t.segments,i)||!tm(t.segments,i,n))return!1;for(let r in e.children)if(!t.children[r]||!XT(t.children[r],e.children[r],n))return!1;return!0}else{let r=i.slice(0,t.segments.length),o=i.slice(t.segments.length);return!Va(t.segments,r)||!tm(t.segments,r,n)||!t.children[Re]?!1:QT(t.children[Re],e,o,n)}}function tm(t,e,i){return e.every((n,r)=>qT[i](t[r].parameters,n.parameters))}var Ns=class{constructor(e=new lt([],{}),i={},n=null){this.root=e,this.queryParams=i,this.fragment=n}get queryParamMap(){return this._queryParamMap??=_c(this.queryParams),this._queryParamMap}toString(){return y3.serialize(this)}},lt=class{constructor(e,i){this.segments=e,this.children=i,this.parent=null,Object.values(i).forEach(n=>n.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return im(this)}},za=class{constructor(e,i){this.path=e,this.parameters=i}get parameterMap(){return this._parameterMap??=_c(this.parameters),this._parameterMap}toString(){return eA(this)}};function m3(t,e){return Va(t,e)&&t.every((i,n)=>ro(i.parameters,e[n].parameters))}function Va(t,e){return t.length!==e.length?!1:t.every((i,n)=>i.path===e[n].path)}function g3(t,e){let i=[];return Object.entries(t.children).forEach(([n,r])=>{n===Re&&(i=i.concat(e(r,n)))}),Object.entries(t.children).forEach(([n,r])=>{n!==Re&&(i=i.concat(e(r,n)))}),i}var Mu=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=H({token:e,factory:()=>new fu,providedIn:"root"});let t=e;return t})(),fu=class{parse(e){let i=new z0(e);return new Ns(i.parseRootSegment(),i.parseQueryParams(),i.parseFragment())}serialize(e){let i=`/${au(e.root,!0)}`,n=x3(e.queryParams),r=typeof e.fragment=="string"?`#${b3(e.fragment)}`:"";return`${i}${n}${r}`}},y3=new fu;function im(t){return t.segments.map(e=>eA(e)).join("/")}function au(t,e){if(!t.hasChildren())return im(t);if(e){let i=t.children[Re]?au(t.children[Re],!1):"",n=[];return Object.entries(t.children).forEach(([r,o])=>{r!==Re&&n.push(`${r}:${au(o,!1)}`)}),n.length>0?`${i}(${n.join("//")})`:i}else{let i=g3(t,(n,r)=>r===Re?[au(t.children[Re],!1)]:[`${r}:${au(n,!1)}`]);return Object.keys(t.children).length===1&&t.children[Re]!=null?`${im(t)}/${i[0]}`:`${im(t)}/(${i.join("//")})`}}function JT(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Jp(t){return JT(t).replace(/%3B/gi,";")}function b3(t){return encodeURI(t)}function B0(t){return JT(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function nm(t){return decodeURIComponent(t)}function zT(t){return nm(t.replace(/\+/g,"%20"))}function eA(t){return`${B0(t.path)}${v3(t.parameters)}`}function v3(t){return Object.entries(t).map(([e,i])=>`;${B0(e)}=${B0(i)}`).join("")}function x3(t){let e=Object.entries(t).map(([i,n])=>Array.isArray(n)?n.map(r=>`${Jp(i)}=${Jp(r)}`).join("&"):`${Jp(i)}=${Jp(n)}`).filter(i=>i);return e.length?`?${e.join("&")}`:""}var _3=/^[^\/()?;#]+/;function R0(t){let e=t.match(_3);return e?e[0]:""}var M3=/^[^\/()?;=#]+/;function D3(t){let e=t.match(M3);return e?e[0]:""}var w3=/^[^=?&#]+/;function I3(t){let e=t.match(w3);return e?e[0]:""}var S3=/^[^&#]+/;function C3(t){let e=t.match(S3);return e?e[0]:""}var z0=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new lt([],{}):new lt([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let i={};this.peekStartsWith("/(")&&(this.capture("/"),i=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(e.length>0||Object.keys(i).length>0)&&(n[Re]=new lt(e,i)),n}parseSegment(){let e=R0(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new W(4009,!1);return this.capture(e),new za(nm(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let i=D3(this.remaining);if(!i)return;this.capture(i);let n="";if(this.consumeOptional("=")){let r=R0(this.remaining);r&&(n=r,this.capture(n))}e[nm(i)]=nm(n)}parseQueryParam(e){let i=I3(this.remaining);if(!i)return;this.capture(i);let n="";if(this.consumeOptional("=")){let s=C3(this.remaining);s&&(n=s,this.capture(n))}let r=zT(i),o=zT(n);if(e.hasOwnProperty(r)){let s=e[r];Array.isArray(s)||(s=[s],e[r]=s),s.push(o)}else e[r]=o}parseParens(e){let i={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let n=R0(this.remaining),r=this.remaining[n.length];if(r!=="/"&&r!==")"&&r!==";")throw new W(4010,!1);let o;n.indexOf(":")>-1?(o=n.slice(0,n.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=Re);let s=this.parseChildren();i[o]=Object.keys(s).length===1?s[Re]:new lt([],s),this.consumeOptional("//")}return i}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new W(4011,!1)}};function tA(t){return t.segments.length>0?new lt([],{[Re]:t}):t}function iA(t){let e={};for(let[n,r]of Object.entries(t.children)){let o=iA(r);if(n===Re&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[n]=o)}let i=new lt(t.segments,e);return E3(i)}function E3(t){if(t.numberOfChildren===1&&t.children[Re]){let e=t.children[Re];return new lt(t.segments.concat(e.segments),e.children)}return t}function Mc(t){return t instanceof Ns}function T3(t,e,i=null,n=null){let r=nA(t);return rA(r,e,i,n)}function nA(t){let e;function i(o){let s={};for(let l of o.children){let c=i(l);s[l.outlet]=c}let a=new lt(o.url,s);return o===t&&(e=a),a}let n=i(t.root),r=tA(n);return e??r}function rA(t,e,i,n){let r=t;for(;r.parent;)r=r.parent;if(e.length===0)return L0(r,r,r,i,n);let o=A3(e);if(o.toRoot())return L0(r,r,new lt([],{}),i,n);let s=N3(o,r,t),a=s.processChildren?du(s.segmentGroup,s.index,o.commands):sA(s.segmentGroup,s.index,o.commands);return L0(r,s.segmentGroup,a,i,n)}function rm(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function pu(t){return typeof t=="object"&&t!=null&&t.outlets}function L0(t,e,i,n,r){let o={};n&&Object.entries(n).forEach(([l,c])=>{o[l]=Array.isArray(c)?c.map(d=>`${d}`):`${c}`});let s;t===e?s=i:s=oA(t,e,i);let a=tA(iA(s));return new Ns(a,o,r)}function oA(t,e,i){let n={};return Object.entries(t.children).forEach(([r,o])=>{o===e?n[r]=i:n[r]=oA(o,e,i)}),new lt(t.segments,n)}var om=class{constructor(e,i,n){if(this.isAbsolute=e,this.numberOfDoubleDots=i,this.commands=n,e&&n.length>0&&rm(n[0]))throw new W(4003,!1);let r=n.find(pu);if(r&&r!==ZT(n))throw new W(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function A3(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new om(!0,0,t);let e=0,i=!1,n=t.reduce((r,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return typeof o!="string"?[...r,o]:s===0?(o.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?i=!0:a===".."?e++:a!=""&&r.push(a))}),r):[...r,o]},[]);return new om(i,e,n)}var vc=class{constructor(e,i,n){this.segmentGroup=e,this.processChildren=i,this.index=n}};function N3(t,e,i){if(t.isAbsolute)return new vc(e,!0,0);if(!i)return new vc(e,!1,NaN);if(i.parent===null)return new vc(i,!0,0);let n=rm(t.commands[0])?0:1,r=i.segments.length-1+n;return k3(i,r,t.numberOfDoubleDots)}function k3(t,e,i){let n=t,r=e,o=i;for(;o>r;){if(o-=r,n=n.parent,!n)throw new W(4005,!1);r=n.segments.length}return new vc(n,!1,r-o)}function R3(t){return pu(t[0])?t[0].outlets:{[Re]:t}}function sA(t,e,i){if(t??=new lt([],{}),t.segments.length===0&&t.hasChildren())return du(t,e,i);let n=L3(t,e,i),r=i.slice(n.commandIndex);if(n.match&&n.pathIndex<t.segments.length){let o=new lt(t.segments.slice(0,n.pathIndex),{});return o.children[Re]=new lt(t.segments.slice(n.pathIndex),t.children),du(o,0,r)}else return n.match&&r.length===0?new lt(t.segments,{}):n.match&&!t.hasChildren()?V0(t,e,i):n.match?du(t,0,r):V0(t,e,i)}function du(t,e,i){if(i.length===0)return new lt(t.segments,{});{let n=R3(i),r={};if(Object.keys(n).some(o=>o!==Re)&&t.children[Re]&&t.numberOfChildren===1&&t.children[Re].segments.length===0){let o=du(t.children[Re],e,i);return new lt(t.segments,o.children)}return Object.entries(n).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(r[o]=sA(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{n[o]===void 0&&(r[o]=s)}),new lt(t.segments,r)}}function L3(t,e,i){let n=0,r=e,o={match:!1,pathIndex:0,commandIndex:0};for(;r<t.segments.length;){if(n>=i.length)return o;let s=t.segments[r],a=i[n];if(pu(a))break;let l=`${a}`,c=n<i.length-1?i[n+1]:null;if(r>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!UT(l,c,s))return o;n+=2}else{if(!UT(l,{},s))return o;n++}r++}return{match:!0,pathIndex:r,commandIndex:n}}function V0(t,e,i){let n=t.segments.slice(0,e),r=0;for(;r<i.length;){let o=i[r];if(pu(o)){let l=O3(o.outlets);return new lt(n,l)}if(r===0&&rm(i[0])){let l=t.segments[e];n.push(new za(l.path,VT(i[0]))),r++;continue}let s=pu(o)?o.outlets[Re]:`${o}`,a=r<i.length-1?i[r+1]:null;s&&a&&rm(a)?(n.push(new za(s,VT(a))),r+=2):(n.push(new za(s,{})),r++)}return new lt(n,{})}function O3(t){let e={};return Object.entries(t).forEach(([i,n])=>{typeof n=="string"&&(n=[n]),n!==null&&(e[i]=V0(new lt([],{}),0,n))}),e}function VT(t){let e={};return Object.entries(t).forEach(([i,n])=>e[i]=`${n}`),e}function UT(t,e,i){return t==i.path&&ro(e,i.parameters)}var uu="imperative",si=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(si||{}),$n=class{constructor(e,i){this.id=e,this.url=i}},Dc=class extends $n{constructor(e,i,n="imperative",r=null){super(e,i),this.type=si.NavigationStart,this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Nr=class extends $n{constructor(e,i,n){super(e,i),this.urlAfterRedirects=n,this.type=si.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},In=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(In||{}),sm=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(sm||{}),ks=class extends $n{constructor(e,i,n,r){super(e,i),this.reason=n,this.code=r,this.type=si.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Rs=class extends $n{constructor(e,i,n,r){super(e,i),this.reason=n,this.code=r,this.type=si.NavigationSkipped}},mu=class extends $n{constructor(e,i,n,r){super(e,i),this.error=n,this.target=r,this.type=si.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},am=class extends $n{constructor(e,i,n,r){super(e,i),this.urlAfterRedirects=n,this.state=r,this.type=si.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},U0=class extends $n{constructor(e,i,n,r){super(e,i),this.urlAfterRedirects=n,this.state=r,this.type=si.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},G0=class extends $n{constructor(e,i,n,r,o){super(e,i),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=o,this.type=si.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},H0=class extends $n{constructor(e,i,n,r){super(e,i),this.urlAfterRedirects=n,this.state=r,this.type=si.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},$0=class extends $n{constructor(e,i,n,r){super(e,i),this.urlAfterRedirects=n,this.state=r,this.type=si.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},W0=class{constructor(e){this.route=e,this.type=si.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Y0=class{constructor(e){this.route=e,this.type=si.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Z0=class{constructor(e){this.snapshot=e,this.type=si.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},q0=class{constructor(e){this.snapshot=e,this.type=si.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},K0=class{constructor(e){this.snapshot=e,this.type=si.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},X0=class{constructor(e){this.snapshot=e,this.type=si.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},lm=class{constructor(e,i,n){this.routerEvent=e,this.position=i,this.anchor=n,this.type=si.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},gu=class{},yu=class{constructor(e){this.url=e}};var Q0=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Du,this.attachRef=null}},Du=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){let o=this.getOrCreateContext(n);o.outlet=r,this.contexts.set(n,o)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new Q0,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),cm=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let i=this.pathFromRoot(e);return i.length>1?i[i.length-2]:null}children(e){let i=J0(e,this._root);return i?i.children.map(n=>n.value):[]}firstChild(e){let i=J0(e,this._root);return i&&i.children.length>0?i.children[0].value:null}siblings(e){let i=ex(e,this._root);return i.length<2?[]:i[i.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return ex(e,this._root).map(i=>i.value)}};function J0(t,e){if(t===e.value)return e;for(let i of e.children){let n=J0(t,i);if(n)return n}return null}function ex(t,e){if(t===e.value)return[e];for(let i of e.children){let n=ex(t,i);if(n.length)return n.unshift(e),n}return[]}var wn=class{constructor(e,i){this.value=e,this.children=i}toString(){return`TreeNode(${this.value})`}};function bc(t){let e={};return t&&t.children.forEach(i=>e[i.value.outlet]=i),e}var dm=class extends cm{constructor(e,i){super(e),this.snapshot=i,dx(this,e)}toString(){return this.snapshot.toString()}};function aA(t){let e=P3(t),i=new Gt([new za("",{})]),n=new Gt({}),r=new Gt({}),o=new Gt({}),s=new Gt(""),a=new jo(i,n,o,s,r,Re,t,e.root);return a.snapshot=e.root,new dm(new wn(a,[]),e)}function P3(t){let e={},i={},n={},r="",o=new bu([],e,n,r,i,Re,t,null,{});return new um("",new wn(o,[]))}var jo=class{constructor(e,i,n,r,o,s,a,l){this.urlSubject=e,this.paramsSubject=i,this.queryParamsSubject=n,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(me(c=>c[_u]))??le(void 0),this.url=e,this.params=i,this.queryParams=n,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(me(e=>_c(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(me(e=>_c(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function cx(t,e,i="emptyOnly"){let n,{routeConfig:r}=t;return e!==null&&(i==="always"||r?.path===""||!e.component&&!e.routeConfig?.loadComponent)?n={params:C(C({},e.params),t.params),data:C(C({},e.data),t.data),resolve:C(C(C(C({},t.data),e.data),r?.data),t._resolvedData)}:n={params:C({},t.params),data:C({},t.data),resolve:C(C({},t.data),t._resolvedData??{})},r&&cA(r)&&(n.resolve[_u]=r.title),n}var bu=class{get title(){return this.data?.[_u]}constructor(e,i,n,r,o,s,a,l,c){this.url=e,this.params=i,this.queryParams=n,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=_c(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=_c(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(n=>n.toString()).join("/"),i=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${i}')`}},um=class extends cm{constructor(e,i){super(i),this.url=e,dx(this,i)}toString(){return lA(this._root)}};function dx(t,e){e.value._routerState=t,e.children.forEach(i=>dx(t,i))}function lA(t){let e=t.children.length>0?` { ${t.children.map(lA).join(", ")} } `:"";return`${t.value}${e}`}function O0(t){if(t.snapshot){let e=t.snapshot,i=t._futureSnapshot;t.snapshot=i,ro(e.queryParams,i.queryParams)||t.queryParamsSubject.next(i.queryParams),e.fragment!==i.fragment&&t.fragmentSubject.next(i.fragment),ro(e.params,i.params)||t.paramsSubject.next(i.params),u3(e.url,i.url)||t.urlSubject.next(i.url),ro(e.data,i.data)||t.dataSubject.next(i.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function tx(t,e){let i=ro(t.params,e.params)&&m3(t.url,e.url),n=!t.parent!=!e.parent;return i&&!n&&(!t.parent||tx(t.parent,e.parent))}function cA(t){return typeof t.title=="string"||t.title===null}var ux=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=Re,this.activateEvents=new Ye,this.deactivateEvents=new Ye,this.attachEvents=new Ye,this.detachEvents=new Ye,this.parentContexts=U(Du),this.location=U(Cr),this.changeDetector=U(nn),this.environmentInjector=U(Ii),this.inputBinder=U(ym,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:o}=n.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new W(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new W(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new W(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new W(4013,!1);this._activatedRoute=n;let o=this.location,a=n.snapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,c=new ix(n,l,o.injector);this.activated=o.createComponent(a,{index:o.length,injector:c,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=Ve({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[tn]});let t=e;return t})(),ix=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,i,n){this.route=e,this.childContexts=i,this.parent=n}get(e,i){return e===jo?this.route:e===Du?this.childContexts:this.parent.get(e,i)}},ym=new J(""),GT=(()=>{let e=class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){let{activatedRoute:r}=n,o=xa([r.queryParams,r.params,r.data]).pipe(Pi(([s,a,l],c)=>(l=C(C(C({},s),a),l),c===0?le(l):Promise.resolve(l)))).subscribe(s=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(n);return}let a=dT(r.component);if(!a){this.unsubscribeFromRouteData(n);return}for(let{templateName:l}of a.inputs)n.activatedComponentRef.setInput(l,s[l])});this.outletDataSubscriptions.set(n,o)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac});let t=e;return t})();function F3(t,e,i){let n=vu(t,e._root,i?i._root:void 0);return new dm(n,e)}function vu(t,e,i){if(i&&t.shouldReuseRoute(e.value,i.value.snapshot)){let n=i.value;n._futureSnapshot=e.value;let r=j3(t,e,i);return new wn(n,r)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>vu(t,a)),s}}let n=B3(e.value),r=e.children.map(o=>vu(t,o));return new wn(n,r)}}function j3(t,e,i){return e.children.map(n=>{for(let r of i.children)if(t.shouldReuseRoute(n.value,r.value.snapshot))return vu(t,n,r);return vu(t,n)})}function B3(t){return new jo(new Gt(t.url),new Gt(t.params),new Gt(t.queryParams),new Gt(t.fragment),new Gt(t.data),t.outlet,t.component,t)}var dA="ngNavigationCancelingError";function uA(t,e){let{redirectTo:i,navigationBehaviorOptions:n}=Mc(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=hA(!1,In.Redirect);return r.url=i,r.navigationBehaviorOptions=n,r}function hA(t,e){let i=new Error(`NavigationCancelingError: ${t||""}`);return i[dA]=!0,i.cancellationCode=e,i}function z3(t){return fA(t)&&Mc(t.url)}function fA(t){return!!t&&t[dA]}var V3=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=$e({type:e,selectors:[["ng-component"]],standalone:!0,features:[Wt],decls:1,vars:0,template:function(r,o){r&1&&at(0,"router-outlet")},dependencies:[ux],encapsulation:2});let t=e;return t})();function U3(t,e){return t.providers&&!t._injector&&(t._injector=Ap(t.providers,e,`Route: ${t.path}`)),t._injector??e}function hx(t){let e=t.children&&t.children.map(hx),i=e?L(C({},t),{children:e}):C({},t);return!i.component&&!i.loadComponent&&(e||i.loadChildren)&&i.outlet&&i.outlet!==Re&&(i.component=V3),i}function oo(t){return t.outlet||Re}function G3(t,e){let i=t.filter(n=>oo(n)===e);return i.push(...t.filter(n=>oo(n)!==e)),i}function wu(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let i=e.routeConfig;if(i?._loadedInjector)return i._loadedInjector;if(i?._injector)return i._injector}return null}var H3=(t,e,i,n)=>me(r=>(new nx(e,r.targetRouterState,r.currentRouterState,i,n).activate(t),r)),nx=class{constructor(e,i,n,r,o){this.routeReuseStrategy=e,this.futureState=i,this.currState=n,this.forwardEvent=r,this.inputBindingEnabled=o}activate(e){let i=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(i,n,e),O0(this.futureState.root),this.activateChildRoutes(i,n,e)}deactivateChildRoutes(e,i,n){let r=bc(i);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,r[s],n),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,n)})}deactivateRoutes(e,i,n){let r=e.value,o=i?i.value:null;if(r===o)if(r.component){let s=n.getContext(r.outlet);s&&this.deactivateChildRoutes(e,i,s.children)}else this.deactivateChildRoutes(e,i,n);else o&&this.deactivateRouteAndItsChildren(i,n)}deactivateRouteAndItsChildren(e,i){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,i):this.deactivateRouteAndOutlet(e,i)}detachAndStoreRouteSubtree(e,i){let n=i.getContext(e.value.outlet),r=n&&e.value.component?n.children:i,o=bc(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);if(n&&n.outlet){let s=n.outlet.detach(),a=n.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,i){let n=i.getContext(e.value.outlet),r=n&&e.value.component?n.children:i,o=bc(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);n&&(n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated()),n.attachRef=null,n.route=null)}activateChildRoutes(e,i,n){let r=bc(i);e.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],n),this.forwardEvent(new X0(o.value.snapshot))}),e.children.length&&this.forwardEvent(new q0(e.value.snapshot))}activateRoutes(e,i,n){let r=e.value,o=i?i.value:null;if(O0(r),r===o)if(r.component){let s=n.getOrCreateContext(r.outlet);this.activateChildRoutes(e,i,s.children)}else this.activateChildRoutes(e,i,n);else if(r.component){let s=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),O0(a.route.value),this.activateChildRoutes(e,null,s.children)}else{let a=wu(r.snapshot);s.attachRef=null,s.route=r,s.injector=a,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,n)}},hm=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},xc=class{constructor(e,i){this.component=e,this.route=i}};function $3(t,e,i){let n=t._root,r=e?e._root:null;return lu(n,r,i,[n.value])}function W3(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Ic(t,e){let i=Symbol(),n=e.get(t,i);return n===i?typeof t=="function"&&!CS(t)?t:e.get(t):n}function lu(t,e,i,n,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=bc(e);return t.children.forEach(s=>{Y3(s,o[s.value.outlet],i,n.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>hu(a,i.getContext(s),r)),r}function Y3(t,e,i,n,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=i?i.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=Z3(s,o,o.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new hm(n)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?lu(t,e,a?a.children:null,n,r):lu(t,e,i,n,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new xc(a.outlet.component,s))}else s&&hu(e,a,r),r.canActivateChecks.push(new hm(n)),o.component?lu(t,null,a?a.children:null,n,r):lu(t,null,i,n,r);return r}function Z3(t,e,i){if(typeof i=="function")return i(t,e);switch(i){case"pathParamsChange":return!Va(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Va(t.url,e.url)||!ro(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!tx(t,e)||!ro(t.queryParams,e.queryParams);case"paramsChange":default:return!tx(t,e)}}function hu(t,e,i){let n=bc(t),r=t.value;Object.entries(n).forEach(([o,s])=>{r.component?e?hu(s,e.children.getContext(o),i):hu(s,null,i):hu(s,e,i)}),r.component?e&&e.outlet&&e.outlet.isActivated?i.canDeactivateChecks.push(new xc(e.outlet.component,r)):i.canDeactivateChecks.push(new xc(null,r)):i.canDeactivateChecks.push(new xc(null,r))}function Iu(t){return typeof t=="function"}function q3(t){return typeof t=="boolean"}function K3(t){return t&&Iu(t.canLoad)}function X3(t){return t&&Iu(t.canActivate)}function Q3(t){return t&&Iu(t.canActivateChild)}function J3(t){return t&&Iu(t.canDeactivate)}function eG(t){return t&&Iu(t.canMatch)}function pA(t){return t instanceof Co||t?.name==="EmptyError"}var em=Symbol("INITIAL_VALUE");function wc(){return Pi(t=>xa(t.map(e=>e.pipe(wi(1),Zl(em)))).pipe(me(e=>{for(let i of e)if(i!==!0){if(i===em)return em;if(i===!1||i instanceof Ns)return i}return!0}),Ht(e=>e!==em),wi(1)))}function tG(t,e){return Bt(i=>{let{targetSnapshot:n,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=i;return s.length===0&&o.length===0?le(L(C({},i),{guardsResult:!0})):iG(s,n,r,t).pipe(Bt(a=>a&&q3(a)?nG(n,o,t,e):le(a)),me(a=>L(C({},i),{guardsResult:a})))})}function iG(t,e,i,n){return ot(t).pipe(Bt(r=>lG(r.component,r.route,i,e,n)),bn(r=>r!==!0,!0))}function nG(t,e,i,n){return ot(e).pipe(jn(r=>ms(oG(r.route.parent,n),rG(r.route,n),aG(t,r.path,i),sG(t,r.route,i))),bn(r=>r!==!0,!0))}function rG(t,e){return t!==null&&e&&e(new K0(t)),le(!0)}function oG(t,e){return t!==null&&e&&e(new Z0(t)),le(!0)}function sG(t,e,i){let n=e.routeConfig?e.routeConfig.canActivate:null;if(!n||n.length===0)return le(!0);let r=n.map(o=>Ef(()=>{let s=wu(e)??i,a=Ic(o,s),l=X3(a)?a.canActivate(e,t):wr(s,()=>a(e,t));return Ls(l).pipe(bn())}));return le(r).pipe(wc())}function aG(t,e,i){let n=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>W3(s)).filter(s=>s!==null).map(s=>Ef(()=>{let a=s.guards.map(l=>{let c=wu(s.node)??i,d=Ic(l,c),u=Q3(d)?d.canActivateChild(n,t):wr(c,()=>d(n,t));return Ls(u).pipe(bn())});return le(a).pipe(wc())}));return le(o).pipe(wc())}function lG(t,e,i,n,r){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return le(!0);let s=o.map(a=>{let l=wu(e)??r,c=Ic(a,l),d=J3(c)?c.canDeactivate(t,e,i,n):wr(l,()=>c(t,e,i,n));return Ls(d).pipe(bn())});return le(s).pipe(wc())}function cG(t,e,i,n){let r=e.canLoad;if(r===void 0||r.length===0)return le(!0);let o=r.map(s=>{let a=Ic(s,t),l=K3(a)?a.canLoad(e,i):wr(t,()=>a(e,i));return Ls(l)});return le(o).pipe(wc(),mA(n))}function mA(t){return Wy(st(e=>{if(Mc(e))throw uA(t,e)}),me(e=>e===!0))}function dG(t,e,i,n){let r=e.canMatch;if(!r||r.length===0)return le(!0);let o=r.map(s=>{let a=Ic(s,t),l=eG(a)?a.canMatch(e,i):wr(t,()=>a(e,i));return Ls(l)});return le(o).pipe(wc(),mA(n))}var xu=class{constructor(e){this.segmentGroup=e||null}},fm=class extends Error{constructor(e){super(),this.urlTree=e}};function yc(t){return ps(new xu(t))}function uG(t){return ps(new W(4e3,!1))}function hG(t){return ps(hA(!1,In.GuardRejected))}var rx=class{constructor(e,i){this.urlSerializer=e,this.urlTree=i}lineralizeSegments(e,i){let n=[],r=i.root;for(;;){if(n=n.concat(r.segments),r.numberOfChildren===0)return le(n);if(r.numberOfChildren>1||!r.children[Re])return uG(e.redirectTo);r=r.children[Re]}}applyRedirectCommands(e,i,n){let r=this.applyRedirectCreateUrlTree(i,this.urlSerializer.parse(i),e,n);if(i.startsWith("/"))throw new fm(r);return r}applyRedirectCreateUrlTree(e,i,n,r){let o=this.createSegmentGroup(e,i.root,n,r);return new Ns(o,this.createQueryParams(i.queryParams,this.urlTree.queryParams),i.fragment)}createQueryParams(e,i){let n={};return Object.entries(e).forEach(([r,o])=>{if(typeof o=="string"&&o.startsWith(":")){let a=o.substring(1);n[r]=i[a]}else n[r]=o}),n}createSegmentGroup(e,i,n,r){let o=this.createSegments(e,i.segments,n,r),s={};return Object.entries(i.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(e,l,n,r)}),new lt(o,s)}createSegments(e,i,n,r){return i.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,r):this.findOrReturn(o,n))}findPosParam(e,i,n){let r=n[i.path.substring(1)];if(!r)throw new W(4001,!1);return r}findOrReturn(e,i){let n=0;for(let r of i){if(r.path===e.path)return i.splice(n),r;n++}return e}},ox={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function fG(t,e,i,n,r){let o=fx(t,e,i);return o.matched?(n=U3(e,n),dG(n,e,i,r).pipe(me(s=>s===!0?o:C({},ox)))):le(o)}function fx(t,e,i){if(e.path==="**")return pG(i);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||i.length>0)?C({},ox):{matched:!0,consumedSegments:[],remainingSegments:i,parameters:{},positionalParamSegments:{}};let r=(e.matcher||d3)(i,t,e);if(!r)return C({},ox);let o={};Object.entries(r.posParams??{}).forEach(([a,l])=>{o[a]=l.path});let s=r.consumed.length>0?C(C({},o),r.consumed[r.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:i.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function pG(t){return{matched:!0,parameters:t.length>0?ZT(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function HT(t,e,i,n){return i.length>0&&yG(t,i,n)?{segmentGroup:new lt(e,gG(n,new lt(i,t.children))),slicedSegments:[]}:i.length===0&&bG(t,i,n)?{segmentGroup:new lt(t.segments,mG(t,i,n,t.children)),slicedSegments:i}:{segmentGroup:new lt(t.segments,t.children),slicedSegments:i}}function mG(t,e,i,n){let r={};for(let o of i)if(bm(t,e,o)&&!n[oo(o)]){let s=new lt([],{});r[oo(o)]=s}return C(C({},n),r)}function gG(t,e){let i={};i[Re]=e;for(let n of t)if(n.path===""&&oo(n)!==Re){let r=new lt([],{});i[oo(n)]=r}return i}function yG(t,e,i){return i.some(n=>bm(t,e,n)&&oo(n)!==Re)}function bG(t,e,i){return i.some(n=>bm(t,e,n))}function bm(t,e,i){return(t.hasChildren()||e.length>0)&&i.pathMatch==="full"?!1:i.path===""}function vG(t,e,i,n){return oo(t)!==n&&(n===Re||!bm(e,i,t))?!1:fx(e,t,i).matched}function xG(t,e,i){return e.length===0&&!t.children[i]}var sx=class{};function _G(t,e,i,n,r,o,s="emptyOnly"){return new ax(t,e,i,n,r,s,o).recognize()}var MG=31,ax=class{constructor(e,i,n,r,o,s,a){this.injector=e,this.configLoader=i,this.rootComponentType=n,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new rx(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new W(4002,`'${e.segmentGroup}'`)}recognize(){let e=HT(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(me(i=>{let n=new bu([],Object.freeze({}),Object.freeze(C({},this.urlTree.queryParams)),this.urlTree.fragment,{},Re,this.rootComponentType,null,{}),r=new wn(n,i),o=new um("",r),s=T3(n,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root,null),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,Re).pipe(pi(n=>{if(n instanceof fm)return this.urlTree=n.urlTree,this.match(n.urlTree.root);throw n instanceof xu?this.noMatchError(n):n}))}inheritParamsAndData(e,i){let n=e.value,r=cx(n,i,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(o=>this.inheritParamsAndData(o,n))}processSegmentGroup(e,i,n,r){return n.segments.length===0&&n.hasChildren()?this.processChildren(e,i,n):this.processSegment(e,i,n,n.segments,r,!0).pipe(me(o=>o instanceof wn?[o]:[]))}processChildren(e,i,n){let r=[];for(let o of Object.keys(n.children))o==="primary"?r.unshift(o):r.push(o);return ot(r).pipe(jn(o=>{let s=n.children[o],a=G3(i,o);return this.processSegmentGroup(e,a,s,o)}),tb((o,s)=>(o.push(...s),o)),gs(null),eb(),Bt(o=>{if(o===null)return yc(n);let s=gA(o);return DG(s),le(s)}))}processSegment(e,i,n,r,o,s){return ot(i).pipe(jn(a=>this.processSegmentAgainstRoute(a._injector??e,i,a,n,r,o,s).pipe(pi(l=>{if(l instanceof xu)return le(null);throw l}))),bn(a=>!!a),pi(a=>{if(pA(a))return xG(n,r,o)?le(new sx):yc(n);throw a}))}processSegmentAgainstRoute(e,i,n,r,o,s,a){return vG(n,r,o,s)?n.redirectTo===void 0?this.matchSegmentAgainstRoute(e,r,n,o,s):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,r,i,n,o,s):yc(r):yc(r)}expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s){let{matched:a,consumedSegments:l,positionalParamSegments:c,remainingSegments:d}=fx(i,r,o);if(!a)return yc(i);r.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>MG&&(this.allowRedirects=!1));let u=this.applyRedirects.applyRedirectCommands(l,r.redirectTo,c);return this.applyRedirects.lineralizeSegments(r,u).pipe(Bt(h=>this.processSegment(e,n,i,h.concat(d),s,!1)))}matchSegmentAgainstRoute(e,i,n,r,o){let s=fG(i,n,r,e,this.urlSerializer);return n.path==="**"&&(i.children={}),s.pipe(Pi(a=>a.matched?(e=n._injector??e,this.getChildConfig(e,n,r).pipe(Pi(({routes:l})=>{let c=n._loadedInjector??e,{consumedSegments:d,remainingSegments:u,parameters:h}=a,f=new bu(d,h,Object.freeze(C({},this.urlTree.queryParams)),this.urlTree.fragment,IG(n),oo(n),n.component??n._loadedComponent??null,n,SG(n)),{segmentGroup:p,slicedSegments:m}=HT(i,d,u,l);if(m.length===0&&p.hasChildren())return this.processChildren(c,l,p).pipe(me(g=>g===null?null:new wn(f,g)));if(l.length===0&&m.length===0)return le(new wn(f,[]));let b=oo(n)===o;return this.processSegment(c,l,p,m,b?Re:o,!0).pipe(me(g=>new wn(f,g instanceof wn?[g]:[])))}))):yc(i)))}getChildConfig(e,i,n){return i.children?le({routes:i.children,injector:e}):i.loadChildren?i._loadedRoutes!==void 0?le({routes:i._loadedRoutes,injector:i._loadedInjector}):cG(e,i,n,this.urlSerializer).pipe(Bt(r=>r?this.configLoader.loadChildren(e,i).pipe(st(o=>{i._loadedRoutes=o.routes,i._loadedInjector=o.injector})):hG(i))):le({routes:[],injector:e})}};function DG(t){t.sort((e,i)=>e.value.outlet===Re?-1:i.value.outlet===Re?1:e.value.outlet.localeCompare(i.value.outlet))}function wG(t){let e=t.value.routeConfig;return e&&e.path===""}function gA(t){let e=[],i=new Set;for(let n of t){if(!wG(n)){e.push(n);continue}let r=e.find(o=>n.value.routeConfig===o.value.routeConfig);r!==void 0?(r.children.push(...n.children),i.add(r)):e.push(n)}for(let n of i){let r=gA(n.children);e.push(new wn(n.value,r))}return e.filter(n=>!i.has(n))}function IG(t){return t.data||{}}function SG(t){return t.resolve||{}}function CG(t,e,i,n,r,o){return Bt(s=>_G(t,e,i,n,s.extractedUrl,r,o).pipe(me(({state:a,tree:l})=>L(C({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function EG(t,e){return Bt(i=>{let{targetSnapshot:n,guards:{canActivateChecks:r}}=i;if(!r.length)return le(i);let o=new Set(r.map(l=>l.route)),s=new Set;for(let l of o)if(!s.has(l))for(let c of yA(l))s.add(c);let a=0;return ot(s).pipe(jn(l=>o.has(l)?TG(l,n,t,e):(l.data=cx(l,l.parent,t).resolve,le(void 0))),st(()=>a++),Yl(1),Bt(l=>a===s.size?le(i):Oi))})}function yA(t){let e=t.children.map(i=>yA(i)).flat();return[t,...e]}function TG(t,e,i,n){let r=t.routeConfig,o=t._resolve;return r?.title!==void 0&&!cA(r)&&(o[_u]=r.title),AG(o,t,e,n).pipe(me(s=>(t._resolvedData=s,t.data=cx(t,t.parent,i).resolve,null)))}function AG(t,e,i,n){let r=j0(t);if(r.length===0)return le({});let o={};return ot(r).pipe(Bt(s=>NG(t[s],e,i,n).pipe(bn(),st(a=>{o[s]=a}))),Yl(1),Jy(o),pi(s=>pA(s)?Oi:ps(s)))}function NG(t,e,i,n){let r=wu(e)??n,o=Ic(t,r),s=o.resolve?o.resolve(e,i):wr(r,()=>o(e,i));return Ls(s)}function P0(t){return Pi(e=>{let i=t(e);return i?ot(i).pipe(me(()=>e)):le(e)})}var bA=(()=>{let e=class e{buildTitle(n){let r,o=n.root;for(;o!==void 0;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(s=>s.outlet===Re);return r}getResolvedTitleForRoute(n){return n.data[_u]}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=H({token:e,factory:()=>U(kG),providedIn:"root"});let t=e;return t})(),kG=(()=>{let e=class e extends bA{constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}};e.\u0275fac=function(r){return new(r||e)(N(jT))},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Su=new J("",{providedIn:"root",factory:()=>({})}),pm=new J(""),px=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=U(Pp)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return le(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=Ls(n.loadComponent()).pipe(me(vA),st(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),Yr(()=>{this.componentLoaders.delete(n)})),o=new Gl(r,()=>new qe).pipe(Ul());return this.componentLoaders.set(n,o),o}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return le({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let s=RG(r,this.compiler,n,this.onLoadEndListener).pipe(Yr(()=>{this.childrenLoaders.delete(r)})),a=new Gl(s,()=>new qe).pipe(Ul());return this.childrenLoaders.set(r,a),a}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function RG(t,e,i,n){return Ls(t.loadChildren()).pipe(me(vA),Bt(r=>r instanceof Ud||Array.isArray(r)?le(r):ot(e.compileModuleAsync(r))),me(r=>{n&&n(t);let o,s,a=!1;return Array.isArray(r)?(s=r,a=!0):(o=r.create(i).injector,s=o.get(pm,[],{optional:!0,self:!0}).flat()),{routes:s.map(hx),injector:o}}))}function LG(t){return t&&typeof t=="object"&&"default"in t}function vA(t){return LG(t)?t.default:t}var mx=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=H({token:e,factory:()=>U(OG),providedIn:"root"});let t=e;return t})(),OG=(()=>{let e=class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),xA=new J(""),_A=new J("");function PG(t,e,i){let n=t.get(_A),r=t.get(Se);return t.get(ge).runOutsideAngular(()=>{if(!r.startViewTransition||n.skipNextTransition)return n.skipNextTransition=!1,new Promise(c=>setTimeout(c));let o,s=new Promise(c=>{o=c}),a=r.startViewTransition(()=>(o(),FG(t))),{onViewTransitionCreated:l}=n;return l&&wr(t,()=>l({transition:a,from:e,to:i})),s})}function FG(t){return new Promise(e=>{Tp(e,{injector:t})})}var gx=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new qe,this.transitionAbortSubject=new qe,this.configLoader=U(px),this.environmentInjector=U(Ii),this.urlSerializer=U(Mu),this.rootContexts=U(Du),this.location=U(Es),this.inputBindingEnabled=U(ym,{optional:!0})!==null,this.titleStrategy=U(bA),this.options=U(Su,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=U(mx),this.createViewTransition=U(xA,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>le(void 0),this.rootComponentType=null;let n=o=>this.events.next(new W0(o)),r=o=>this.events.next(new Y0(o));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(L(C(C({},this.transitions.value),n),{id:r}))}setupNavigations(n,r,o){return this.transitions=new Gt({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:uu,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ht(s=>s.id!==0),me(s=>L(C({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),Pi(s=>{let a=!1,l=!1;return le(s).pipe(Pi(c=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",In.SupersededByNewNavigation),Oi;this.currentTransition=s,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?L(C({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let d=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=c.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!d&&u!=="reload"){let h="";return this.events.next(new Rs(c.id,this.urlSerializer.serialize(c.rawUrl),h,sm.IgnoredSameUrlNavigation)),c.resolve(null),Oi}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return le(c).pipe(Pi(h=>{let f=this.transitions?.getValue();return this.events.next(new Dc(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),f!==this.transitions?.getValue()?Oi:Promise.resolve(h)}),CG(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),st(h=>{s.targetSnapshot=h.targetSnapshot,s.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation=L(C({},this.currentNavigation),{finalUrl:h.urlAfterRedirects});let f=new am(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}));if(d&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:h,extractedUrl:f,source:p,restoredState:m,extras:b}=c,g=new Dc(h,this.urlSerializer.serialize(f),p,m);this.events.next(g);let v=aA(this.rootComponentType).snapshot;return this.currentTransition=s=L(C({},c),{targetSnapshot:v,urlAfterRedirects:f,extras:L(C({},b),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=f,le(s)}else{let h="";return this.events.next(new Rs(c.id,this.urlSerializer.serialize(c.extractedUrl),h,sm.IgnoredByUrlHandlingStrategy)),c.resolve(null),Oi}}),st(c=>{let d=new U0(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(d)}),me(c=>(this.currentTransition=s=L(C({},c),{guards:$3(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),s)),tG(this.environmentInjector,c=>this.events.next(c)),st(c=>{if(s.guardsResult=c.guardsResult,Mc(c.guardsResult))throw uA(this.urlSerializer,c.guardsResult);let d=new G0(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(d)}),Ht(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",In.GuardRejected),!1)),P0(c=>{if(c.guards.canActivateChecks.length)return le(c).pipe(st(d=>{let u=new H0(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(u)}),Pi(d=>{let u=!1;return le(d).pipe(EG(this.paramsInheritanceStrategy,this.environmentInjector),st({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(d,"",In.NoDataFromResolver)}}))}),st(d=>{let u=new $0(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(u)}))}),P0(c=>{let d=u=>{let h=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(u.routeConfig).pipe(st(f=>{u.component=f}),me(()=>{})));for(let f of u.children)h.push(...d(f));return h};return xa(d(c.targetSnapshot.root)).pipe(gs(null),wi(1))}),P0(()=>this.afterPreactivation()),Pi(()=>{let{currentSnapshot:c,targetSnapshot:d}=s,u=this.createViewTransition?.(this.environmentInjector,c.root,d.root);return u?ot(u).pipe(me(()=>s)):le(s)}),me(c=>{let d=F3(n.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=s=L(C({},c),{targetRouterState:d}),this.currentNavigation.targetRouterState=d,s}),st(()=>{this.events.next(new gu)}),H3(this.rootContexts,n.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),wi(1),st({next:c=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Nr(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{a=!0}}),Zr(this.transitionAbortSubject.pipe(st(c=>{throw c}))),Yr(()=>{!a&&!l&&this.cancelNavigationTransition(s,"",In.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),pi(c=>{if(l=!0,fA(c))this.events.next(new ks(s.id,this.urlSerializer.serialize(s.extractedUrl),c.message,c.cancellationCode)),z3(c)?this.events.next(new yu(c.url)):s.resolve(!1);else{this.events.next(new mu(s.id,this.urlSerializer.serialize(s.extractedUrl),c,s.targetSnapshot??void 0));try{s.resolve(n.errorHandler(c))}catch(d){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(d)}}return Oi}))}))}cancelNavigationTransition(n,r,o){let s=new ks(n.id,this.urlSerializer.serialize(n.extractedUrl),r,o);this.events.next(s),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function jG(t){return t!==uu}var BG=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=H({token:e,factory:()=>U(zG),providedIn:"root"});let t=e;return t})(),lx=class{shouldDetach(e){return!1}store(e,i){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,i){return e.routeConfig===i.routeConfig}},zG=(()=>{let e=class e extends lx{};e.\u0275fac=(()=>{let n;return function(o){return(n||(n=uc(e)))(o||e)}})(),e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),MA=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=H({token:e,factory:()=>U(VG),providedIn:"root"});let t=e;return t})(),VG=(()=>{let e=class e extends MA{constructor(){super(...arguments),this.location=U(Es),this.urlSerializer=U(Mu),this.options=U(Su,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=U(mx),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Ns,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=aA(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&n(r.url,r.state)})}handleRouterEvent(n,r){if(n instanceof Dc)this.stateMemento=this.createStateMemento();else if(n instanceof Rs)this.rawUrlTree=r.initialUrl;else if(n instanceof am){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(o,r)}}else n instanceof gu?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r))):n instanceof ks&&(n.code===In.GuardRejected||n.code===In.NoDataFromResolver)?this.restoreHistory(r):n instanceof mu?this.restoreHistory(r,!0):n instanceof Nr&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,r){let o=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl){let s=this.browserPageId,a=C(C({},r.extras.state),this.generateNgRouterState(r.id,s));this.location.replaceState(o,"",a)}else{let s=C(C({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(o,"",s)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,s=this.currentPageId-o;s!==0?this.location.historyGo(s):this.currentUrlTree===n.finalUrl&&s===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}};e.\u0275fac=(()=>{let n;return function(o){return(n||(n=uc(e)))(o||e)}})(),e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),cu=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(cu||{});function DA(t,e){t.events.pipe(Ht(i=>i instanceof Nr||i instanceof ks||i instanceof mu||i instanceof Rs),me(i=>i instanceof Nr||i instanceof Rs?cu.COMPLETE:(i instanceof ks?i.code===In.Redirect||i.code===In.SupersededByNewNavigation:!1)?cu.REDIRECTING:cu.FAILED),Ht(i=>i!==cu.REDIRECTING),wi(1)).subscribe(()=>{e()})}function UG(t){throw t}var GG={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},HG={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Gi=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=U(Np),this.stateManager=U(MA),this.options=U(Su,{optional:!0})||{},this.pendingTasks=U(La),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=U(gx),this.urlSerializer=U(Mu),this.location=U(Es),this.urlHandlingStrategy=U(mx),this._events=new qe,this.errorHandler=this.options.errorHandler||UG,this.navigated=!1,this.routeReuseStrategy=U(BG),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=U(pm,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!U(ym,{optional:!0}),this.eventsSubscription=new mt,this.isNgZoneEnabled=U(ge)instanceof ge&&ge.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let o=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(o!==null&&s!==null){if(this.stateManager.handleRouterEvent(r,s),r instanceof ks&&r.code!==In.Redirect&&r.code!==In.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Nr)this.navigated=!0;else if(r instanceof yu){let a=this.urlHandlingStrategy.merge(r.url,o.currentRawUrl),l={info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||jG(o.source)};this.scheduleNavigation(a,uu,null,l,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}WG(r)&&this._events.next(r)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),uu,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",r)},0)})}navigateToSyncWithBrowser(n,r,o){let s={replaceUrl:!0},a=o?.navigationId?o:null;if(o){let c=C({},o);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(s.state=c)}let l=this.parseUrl(n);this.scheduleNavigation(l,r,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(hx),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:o,queryParams:s,fragment:a,queryParamsHandling:l,preserveFragment:c}=r,d=c?this.currentUrlTree.fragment:a,u=null;switch(l){case"merge":u=C(C({},this.currentUrlTree.queryParams),s);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=s||null}u!==null&&(u=this.removeEmptyProps(u));let h;try{let f=o?o.snapshot:this.routerState.snapshot.root;h=nA(f)}catch{(typeof n[0]!="string"||!n[0].startsWith("/"))&&(n=[]),h=this.currentUrlTree.root}return rA(h,n,u,d??null)}navigateByUrl(n,r={skipLocationChange:!1}){let o=Mc(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,uu,null,r)}navigate(n,r={skipLocationChange:!1}){return $G(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let o;if(r===!0?o=C({},GG):r===!1?o=C({},HG):o=r,Mc(n))return BT(this.currentUrlTree,n,o);let s=this.parseUrl(n);return BT(this.currentUrlTree,s,o)}removeEmptyProps(n){return Object.entries(n).reduce((r,[o,s])=>(s!=null&&(r[o]=s),r),{})}scheduleNavigation(n,r,o,s,a){if(this.disposed)return Promise.resolve(!1);let l,c,d;a?(l=a.resolve,c=a.reject,d=a.promise):d=new Promise((h,f)=>{l=h,c=f});let u=this.pendingTasks.add();return DA(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:s,resolve:l,reject:c,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(h=>Promise.reject(h))}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function $G(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new W(4008,!1)}function WG(t){return!(t instanceof gu)&&!(t instanceof yu)}var mm=(()=>{let e=class e{constructor(n,r,o,s,a,l){this.router=n,this.route=r,this.tabIndexAttribute=o,this.renderer=s,this.el=a,this.locationStrategy=l,this.href=null,this.commands=null,this.onChanges=new qe,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let c=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area",this.isAnchorElement?this.subscription=n.events.subscribe(d=>{d instanceof Nr&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){n!=null?(this.commands=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(n,r,o,s,a){let l=this.urlTree;if(l===null||this.isAnchorElement&&(n!==0||r||o||s||a||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(l,c),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.href=n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n)):null;let r=this.href===null?null:XC(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(n,r){let o=this.renderer,s=this.el.nativeElement;r!==null?o.setAttribute(s,n,r):o.removeAttribute(s,n)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(r){return new(r||e)(G(Gi),G(jo),Ro("tabindex"),G(Cs),G(ke),G(Fo))},e.\u0275dir=Ve({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,o){r&1&&it("click",function(a){return o.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),r&2&&Ei("target",o.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[_e.HasDecoratorInputTransform,"preserveFragment","preserveFragment",Lt],skipLocationChange:[_e.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",Lt],replaceUrl:[_e.HasDecoratorInputTransform,"replaceUrl","replaceUrl",Lt],routerLink:"routerLink"},standalone:!0,features:[Vi,tn]});let t=e;return t})(),wA=(()=>{let e=class e{get isActive(){return this._isActive}constructor(n,r,o,s,a){this.router=n,this.element=r,this.renderer=o,this.cdr=s,this.link=a,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new Ye,this.routerEventsSubscription=n.events.subscribe(l=>{l instanceof Nr&&this.update()})}ngAfterContentInit(){le(this.links.changes,le(null)).pipe(Wr()).subscribe(n=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let n=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=ot(n).pipe(Wr()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(n){let r=Array.isArray(n)?n:n.split(" ");this.classes=r.filter(o=>!!o)}ngOnChanges(n){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let n=this.hasActiveLinks();this.classes.forEach(r=>{n?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),n&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==n&&(this._isActive=n,this.cdr.markForCheck(),this.isActiveChange.emit(n))})}isLinkActive(n){let r=YG(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return o=>{let s=o.urlTree;return s?n.isActive(s,r):!1}}hasActiveLinks(){let n=this.isLinkActive(this.router);return this.link&&n(this.link)||this.links.some(n)}};e.\u0275fac=function(r){return new(r||e)(G(Gi),G(ke),G(Cs),G(nn),G(mm,8))},e.\u0275dir=Ve({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function(r,o,s){if(r&1&&Pa(s,mm,5),r&2){let a;Tr(a=Ar())&&(o.links=a)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[tn]});let t=e;return t})();function YG(t){return!!t.paths}var gm=class{};var ZG=(()=>{let e=class e{constructor(n,r,o,s,a){this.router=n,this.injector=o,this.preloadingStrategy=s,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(Ht(n=>n instanceof Nr),jn(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){let o=[];for(let s of r){s.providers&&!s._injector&&(s._injector=Ap(s.providers,n,`Route: ${s.path}`));let a=s._injector??n,l=s._loadedInjector??a;(s.loadChildren&&!s._loadedRoutes&&s.canLoad===void 0||s.loadComponent&&!s._loadedComponent)&&o.push(this.preloadConfig(a,s)),(s.children||s._loadedRoutes)&&o.push(this.processRoutes(l,s.children??s._loadedRoutes))}return ot(o).pipe(Wr())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let o;r.loadChildren&&r.canLoad===void 0?o=this.loader.loadChildren(n,r):o=le(null);let s=o.pipe(Bt(a=>a===null?le(void 0):(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,this.processRoutes(a.injector??n,a.routes))));if(r.loadComponent&&!r._loadedComponent){let a=this.loader.loadComponent(r);return ot([s,a]).pipe(Wr())}else return s})}};e.\u0275fac=function(r){return new(r||e)(N(Gi),N(Pp),N(Ii),N(gm),N(px))},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),IA=new J(""),qG=(()=>{let e=class e{constructor(n,r,o,s,a={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=o,this.zone=s,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},this.environmentInjector=U(Ii),a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Dc?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof Nr?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof Rs&&n.code===sm.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof lm&&(n.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(n.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>j(this,null,function*(){yield new Promise(o=>{setTimeout(()=>{o()}),Tp(()=>{o()},{injector:this.environmentInjector})}),this.zone.run(()=>{this.transitions.events.next(new lm(n,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};e.\u0275fac=function(r){Sp()},e.\u0275prov=H({token:e,factory:e.\u0275fac});let t=e;return t})();function KG(t){return t.routerState.root}function Cu(t,e){return{\u0275kind:t,\u0275providers:e}}function XG(){let t=U(zi);return e=>{let i=t.get(Oo);if(e!==i.components[0])return;let n=t.get(Gi),r=t.get(SA);t.get(yx)===1&&n.initialNavigation(),t.get(CA,null,je.Optional)?.setUpPreloading(),t.get(IA,null,je.Optional)?.init(),n.resetRootComponentType(i.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var SA=new J("",{factory:()=>new qe}),yx=new J("",{providedIn:"root",factory:()=>1});function QG(){return Cu(2,[{provide:yx,useValue:0},{provide:Lp,multi:!0,deps:[zi],useFactory:e=>{let i=e.get(yT,Promise.resolve());return()=>i.then(()=>new Promise(n=>{let r=e.get(Gi),o=e.get(SA);DA(r,()=>{n(!0)}),e.get(gx).afterPreactivation=()=>(n(!0),o.closed?le(void 0):o),r.initialNavigation()}))}}])}function JG(){return Cu(3,[{provide:Lp,multi:!0,useFactory:()=>{let e=U(Gi);return()=>{e.setUpLocationChangeListener()}}},{provide:yx,useValue:2}])}var CA=new J("");function eH(t){return Cu(0,[{provide:CA,useExisting:ZG},{provide:gm,useExisting:t}])}function tH(){return Cu(8,[GT,{provide:ym,useExisting:GT}])}function iH(t){let e=[{provide:xA,useValue:PG},{provide:_A,useValue:C({skipNextTransition:!!t?.skipInitialTransition},t)}];return Cu(9,e)}var $T=new J("ROUTER_FORROOT_GUARD"),nH=[Es,{provide:Mu,useClass:fu},Gi,Du,{provide:jo,useFactory:KG,deps:[Gi]},px,[]],bx=(()=>{let e=class e{constructor(n){}static forRoot(n,r){return{ngModule:e,providers:[nH,[],{provide:pm,multi:!0,useValue:n},{provide:$T,useFactory:aH,deps:[[Gi,new $d,new yp]]},{provide:Su,useValue:r||{}},r?.useHash?oH():sH(),rH(),r?.preloadingStrategy?eH(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?lH(r):[],r?.bindToComponentInputs?tH().\u0275providers:[],r?.enableViewTransitions?iH().\u0275providers:[],cH()]}}static forChild(n){return{ngModule:e,providers:[{provide:pm,multi:!0,useValue:n}]}}};e.\u0275fac=function(r){return new(r||e)(N($T,8))},e.\u0275mod=be({type:e}),e.\u0275inj=ye({});let t=e;return t})();function rH(){return{provide:IA,useFactory:()=>{let t=U(xT),e=U(ge),i=U(Su),n=U(gx),r=U(Mu);return i.scrollOffset&&t.setOffset(i.scrollOffset),new qG(r,n,t,e,i)}}}function oH(){return{provide:Fo,useClass:vT}}function sH(){return{provide:Fo,useClass:p0}}function aH(t){return"guarded"}function lH(t){return[t.initialNavigation==="disabled"?JG().\u0275providers:[],t.initialNavigation==="enabledBlocking"?QG().\u0275providers:[]]}var WT=new J("");function cH(){return[{provide:WT,useFactory:XG},{provide:Op,multi:!0,useExisting:WT}]}var Os=(()=>{let e=class e{constructor(n){this.http=n,this.apiUrl="/api/champions",this.httpOptions={headers:new Dn({"Content-Type":"application/json"})}}getChampions(){return this.http.get(this.apiUrl).pipe(st(()=>console.log("fetched champions")),pi(this.handleError("getChampions",[])))}getChampionById(n){return this.getChampions().pipe(me(r=>r.find(o=>o.id===n)))}updateChampion(n){return this.http.put(this.apiUrl,n,this.httpOptions).pipe(st(r=>console.log(`updated champion id=${n.id}`)),pi(this.handleError("updateChampion")))}addChampion(n){return this.http.post(this.apiUrl,n,this.httpOptions).pipe(st(r=>console.log(`added champion w/ id=${r.id}`)),pi(this.handleError("addChampion")))}getChampionIds(){return this.getChampions().pipe(me(n=>n.map(r=>r.id)))}deleteChampion(n){let r=`${this.apiUrl}/champions/${n}`;return this.http.delete(r)}handleError(n="operation",r){return o=>(console.error(`${n} failed: ${o.message}`),le(r))}};e.\u0275fac=function(r){return new(r||e)(N(Ba))},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var xx;try{xx=typeof Intl<"u"&&Intl.v8BreakIterator}catch{xx=!1}var Ot=(()=>{let e=class e{constructor(n){this._platformId=n,this.isBrowser=this._platformId?g0(this._platformId):typeof document=="object"&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!!(window.chrome||xx)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}};e.\u0275fac=function(r){return new(r||e)(N(Un))},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Eu;function dH(){if(Eu==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Eu=!0}))}finally{Eu=Eu||!1}return Eu}function Sc(t){return dH()?t:!!t.capture}var Ua;function EA(){if(Ua==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return Ua=!1,Ua;if("scrollBehavior"in document.documentElement.style)Ua=!0;else{let t=Element.prototype.scrollTo;t?Ua=!/\{\s*\[native code\]\s*\}/.test(t.toString()):Ua=!1}}return Ua}var vx;function uH(){if(vx==null){let t=typeof document<"u"?document.head:null;vx=!!(t&&(t.createShadowRoot||t.attachShadow))}return vx}function TA(t){if(uH()){let e=t.getRootNode?t.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function kr(t){return t.composedPath?t.composedPath()[0]:t.target}function Tu(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function Cc(t){return Array.isArray(t)?t:[t]}function Yt(t){return t==null?"":typeof t=="string"?t:`${t}px`}function Bo(t){return t instanceof ke?t.nativeElement:t}var hH=(()=>{let e=class e{create(n){return typeof MutationObserver>"u"?null:new MutationObserver(n)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var AA=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=be({type:e}),e.\u0275inj=ye({providers:[hH]});let t=e;return t})();var NA=new Set,Ha,fH=(()=>{let e=class e{constructor(n,r){this._platform=n,this._nonce=r,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):mH}matchMedia(n){return(this._platform.WEBKIT||this._platform.BLINK)&&pH(n,this._nonce),this._matchMedia(n)}};e.\u0275fac=function(r){return new(r||e)(N(Ot),N(Kd,8))},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function pH(t,e){if(!NA.has(t))try{Ha||(Ha=document.createElement("style"),e&&Ha.setAttribute("nonce",e),Ha.setAttribute("type","text/css"),document.head.appendChild(Ha)),Ha.sheet&&(Ha.sheet.insertRule(`@media ${t} {body{ }}`,0),NA.add(t))}catch(i){console.error(i)}}function mH(t){return{matches:t==="all"||t==="",media:t,addListener:()=>{},removeListener:()=>{}}}var RA=(()=>{let e=class e{constructor(n,r){this._mediaMatcher=n,this._zone=r,this._queries=new Map,this._destroySubject=new qe}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(n){return kA(Cc(n)).some(o=>this._registerQuery(o).mql.matches)}observe(n){let o=kA(Cc(n)).map(a=>this._registerQuery(a).observable),s=xa(o);return s=ms(s.pipe(wi(1)),s.pipe(Nd(1),Af(0))),s.pipe(me(a=>{let l={matches:!1,breakpoints:{}};return a.forEach(({matches:c,query:d})=>{l.matches=l.matches||c,l.breakpoints[d]=c}),l}))}_registerQuery(n){if(this._queries.has(n))return this._queries.get(n);let r=this._mediaMatcher.matchMedia(n),s={observable:new Ie(a=>{let l=c=>this._zone.run(()=>a.next(c));return r.addListener(l),()=>{r.removeListener(l)}}).pipe(Zl(r),me(({matches:a})=>({query:n,matches:a})),Zr(this._destroySubject)),mql:r};return this._queries.set(n,s),s}};e.\u0275fac=function(r){return new(r||e)(N(fH),N(ge))},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function kA(t){return t.map(e=>e.split(",")).reduce((e,i)=>e.concat(i)).map(e=>e.trim())}function Mx(t){return t.buttons===0||t.detail===0}function Dx(t){let e=t.touches&&t.touches[0]||t.changedTouches&&t.changedTouches[0];return!!e&&e.identifier===-1&&(e.radiusX==null||e.radiusX===1)&&(e.radiusY==null||e.radiusY===1)}var gH=new J("cdk-input-modality-detector-options"),yH={ignoreKeys:[18,17,224,91,16]},PA=650,Ec=Sc({passive:!0,capture:!0}),bH=(()=>{let e=class e{get mostRecentModality(){return this._modality.value}constructor(n,r,o,s){this._platform=n,this._mostRecentTarget=null,this._modality=new Gt(null),this._lastTouchMs=0,this._onKeydown=a=>{this._options?.ignoreKeys?.some(l=>l===a.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=kr(a))},this._onMousedown=a=>{Date.now()-this._lastTouchMs<PA||(this._modality.next(Mx(a)?"keyboard":"mouse"),this._mostRecentTarget=kr(a))},this._onTouchstart=a=>{if(Dx(a)){this._modality.next("keyboard");return}this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=kr(a)},this._options=C(C({},yH),s),this.modalityDetected=this._modality.pipe(Nd(1)),this.modalityChanged=this.modalityDetected.pipe(Nf()),n.isBrowser&&r.runOutsideAngular(()=>{o.addEventListener("keydown",this._onKeydown,Ec),o.addEventListener("mousedown",this._onMousedown,Ec),o.addEventListener("touchstart",this._onTouchstart,Ec)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Ec),document.removeEventListener("mousedown",this._onMousedown,Ec),document.removeEventListener("touchstart",this._onTouchstart,Ec))}};e.\u0275fac=function(r){return new(r||e)(N(Ot),N(ge),N(Se),N(gH,8))},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Mm=function(t){return t[t.IMMEDIATE=0]="IMMEDIATE",t[t.EVENTUAL=1]="EVENTUAL",t}(Mm||{}),vH=new J("cdk-focus-monitor-default-options"),_m=Sc({passive:!0,capture:!0}),Dm=(()=>{let e=class e{constructor(n,r,o,s,a){this._ngZone=n,this._platform=r,this._inputModalityDetector=o,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new qe,this._rootNodeFocusAndBlurListener=l=>{let c=kr(l);for(let d=c;d;d=d.parentElement)l.type==="focus"?this._onFocus(l,d):this._onBlur(l,d)},this._document=s,this._detectionMode=a?.detectionMode||Mm.IMMEDIATE}monitor(n,r=!1){let o=Bo(n);if(!this._platform.isBrowser||o.nodeType!==1)return le();let s=TA(o)||this._getDocument(),a=this._elementInfo.get(o);if(a)return r&&(a.checkChildren=!0),a.subject;let l={checkChildren:r,subject:new qe,rootNode:s};return this._elementInfo.set(o,l),this._registerGlobalListeners(l),l.subject}stopMonitoring(n){let r=Bo(n),o=this._elementInfo.get(r);o&&(o.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(o))}focusVia(n,r,o){let s=Bo(n),a=this._getDocument().activeElement;s===a?this._getClosestElementsInfo(s).forEach(([l,c])=>this._originChanged(l,r,c)):(this._setOrigin(r),typeof s.focus=="function"&&s.focus(o))}ngOnDestroy(){this._elementInfo.forEach((n,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(n){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(n)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:n&&this._isLastInteractionFromInputLabel(n)?"mouse":"program"}_shouldBeAttributedToTouch(n){return this._detectionMode===Mm.EVENTUAL||!!n?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(n,r){n.classList.toggle("cdk-focused",!!r),n.classList.toggle("cdk-touch-focused",r==="touch"),n.classList.toggle("cdk-keyboard-focused",r==="keyboard"),n.classList.toggle("cdk-mouse-focused",r==="mouse"),n.classList.toggle("cdk-program-focused",r==="program")}_setOrigin(n,r=!1){this._ngZone.runOutsideAngular(()=>{if(this._origin=n,this._originFromTouchInteraction=n==="touch"&&r,this._detectionMode===Mm.IMMEDIATE){clearTimeout(this._originTimeoutId);let o=this._originFromTouchInteraction?PA:1;this._originTimeoutId=setTimeout(()=>this._origin=null,o)}})}_onFocus(n,r){let o=this._elementInfo.get(r),s=kr(n);!o||!o.checkChildren&&r!==s||this._originChanged(r,this._getFocusOrigin(s),o)}_onBlur(n,r){let o=this._elementInfo.get(r);!o||o.checkChildren&&n.relatedTarget instanceof Node&&r.contains(n.relatedTarget)||(this._setClasses(r),this._emitOrigin(o,null))}_emitOrigin(n,r){n.subject.observers.length&&this._ngZone.run(()=>n.subject.next(r))}_registerGlobalListeners(n){if(!this._platform.isBrowser)return;let r=n.rootNode,o=this._rootNodeFocusListenerCount.get(r)||0;o||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,_m),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,_m)}),this._rootNodeFocusListenerCount.set(r,o+1),++this._monitoredElementCount===1&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Zr(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(n){let r=n.rootNode;if(this._rootNodeFocusListenerCount.has(r)){let o=this._rootNodeFocusListenerCount.get(r);o>1?this._rootNodeFocusListenerCount.set(r,o-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,_m),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,_m),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(n,r,o){this._setClasses(n,r),this._emitOrigin(o,r),this._lastFocusOrigin=r}_getClosestElementsInfo(n){let r=[];return this._elementInfo.forEach((o,s)=>{(s===n||o.checkChildren&&s.contains(n))&&r.push([s,o])}),r}_isLastInteractionFromInputLabel(n){let{_mostRecentTarget:r,mostRecentModality:o}=this._inputModalityDetector;if(o!=="mouse"||!r||r===n||n.nodeName!=="INPUT"&&n.nodeName!=="TEXTAREA"||n.disabled)return!1;let s=n.labels;if(s){for(let a=0;a<s.length;a++)if(s[a].contains(r))return!0}return!1}};e.\u0275fac=function(r){return new(r||e)(N(ge),N(Ot),N(bH),N(Se,8),N(vH,8))},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var $a=function(t){return t[t.NONE=0]="NONE",t[t.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",t[t.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",t}($a||{}),LA="cdk-high-contrast-black-on-white",OA="cdk-high-contrast-white-on-black",_x="cdk-high-contrast-active",FA=(()=>{let e=class e{constructor(n,r){this._platform=n,this._document=r,this._breakpointSubscription=U(RA).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return $a.NONE;let n=this._document.createElement("div");n.style.backgroundColor="rgb(1,2,3)",n.style.position="absolute",this._document.body.appendChild(n);let r=this._document.defaultView||window,o=r&&r.getComputedStyle?r.getComputedStyle(n):null,s=(o&&o.backgroundColor||"").replace(/ /g,"");switch(n.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return $a.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return $a.BLACK_ON_WHITE}return $a.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let n=this._document.body.classList;n.remove(_x,LA,OA),this._hasCheckedHighContrastMode=!0;let r=this.getHighContrastMode();r===$a.BLACK_ON_WHITE?n.add(_x,LA):r===$a.WHITE_ON_BLACK&&n.add(_x,OA)}}};e.\u0275fac=function(r){return new(r||e)(N(Ot),N(Se))},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var xH=new J("cdk-dir-doc",{providedIn:"root",factory:_H});function _H(){return U(Se)}var MH=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function DH(t){let e=t?.toLowerCase()||"";return e==="auto"&&typeof navigator<"u"&&navigator?.language?MH.test(navigator.language)?"rtl":"ltr":e==="rtl"?"rtl":"ltr"}var BA=(()=>{let e=class e{constructor(n){if(this.value="ltr",this.change=new Ye,n){let r=n.body?n.body.dir:null,o=n.documentElement?n.documentElement.dir:null;this.value=DH(r||o||"ltr")}}ngOnDestroy(){this.change.complete()}};e.\u0275fac=function(r){return new(r||e)(N(xH,8))},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Ps=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=be({type:e}),e.\u0275inj=ye({});let t=e;return t})();var CH=["mat-internal-form-field",""],EH=["*"];function TH(){return!0}var AH=new J("mat-sanity-checks",{providedIn:"root",factory:TH}),Et=(()=>{let e=class e{constructor(n,r,o){this._sanityChecks=r,this._document=o,this._hasDoneGlobalChecks=!1,n._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(n){return Tu()?!1:typeof this._sanityChecks=="boolean"?this._sanityChecks:!!this._sanityChecks[n]}};e.\u0275fac=function(r){return new(r||e)(N(FA),N(AH,8),N(Se))},e.\u0275mod=be({type:e}),e.\u0275inj=ye({imports:[Ps,Ps]});let t=e;return t})();var Wn=function(t){return t[t.FADING_IN=0]="FADING_IN",t[t.VISIBLE=1]="VISIBLE",t[t.FADING_OUT=2]="FADING_OUT",t[t.HIDDEN=3]="HIDDEN",t}(Wn||{}),Sx=class{constructor(e,i,n,r=!1){this._renderer=e,this.element=i,this.config=n,this._animationForciblyDisabledThroughCss=r,this.state=Wn.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}},zA=Sc({passive:!0,capture:!0}),Cx=class{constructor(){this._events=new Map,this._delegateEventHandler=e=>{let i=kr(e);i&&this._events.get(e.type)?.forEach((n,r)=>{(r===i||r.contains(i))&&n.forEach(o=>o.handleEvent(e))})}}addHandler(e,i,n,r){let o=this._events.get(i);if(o){let s=o.get(n);s?s.add(r):o.set(n,new Set([r]))}else this._events.set(i,new Map([[n,new Set([r])]])),e.runOutsideAngular(()=>{document.addEventListener(i,this._delegateEventHandler,zA)})}removeHandler(e,i,n){let r=this._events.get(e);if(!r)return;let o=r.get(i);o&&(o.delete(n),o.size===0&&r.delete(i),r.size===0&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,zA)))}},VA={enterDuration:225,exitDuration:150},NH=800,UA=Sc({passive:!0,capture:!0}),GA=["mousedown","touchstart"],HA=["mouseup","mouseleave","touchend","touchcancel"],Au=class Au{constructor(e,i,n,r){this._target=e,this._ngZone=i,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Bo(n))}fadeInRipple(e,i,n={}){let r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o=C(C({},VA),n.animation);n.centered&&(e=r.left+r.width/2,i=r.top+r.height/2);let s=n.radius||kH(e,i,r),a=e-r.left,l=i-r.top,c=o.enterDuration,d=document.createElement("div");d.classList.add("mat-ripple-element"),d.style.left=`${a-s}px`,d.style.top=`${l-s}px`,d.style.height=`${s*2}px`,d.style.width=`${s*2}px`,n.color!=null&&(d.style.backgroundColor=n.color),d.style.transitionDuration=`${c}ms`,this._containerElement.appendChild(d);let u=window.getComputedStyle(d),h=u.transitionProperty,f=u.transitionDuration,p=h==="none"||f==="0s"||f==="0s, 0s"||r.width===0&&r.height===0,m=new Sx(this,d,n,p);d.style.transform="scale3d(1, 1, 1)",m.state=Wn.FADING_IN,n.persistent||(this._mostRecentTransientRipple=m);let b=null;return!p&&(c||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let g=()=>this._finishRippleTransition(m),v=()=>this._destroyRipple(m);d.addEventListener("transitionend",g),d.addEventListener("transitioncancel",v),b={onTransitionEnd:g,onTransitionCancel:v}}),this._activeRipples.set(m,b),(p||!c)&&this._finishRippleTransition(m),m}fadeOutRipple(e){if(e.state===Wn.FADING_OUT||e.state===Wn.HIDDEN)return;let i=e.element,n=C(C({},VA),e.config.animation);i.style.transitionDuration=`${n.exitDuration}ms`,i.style.opacity="0",e.state=Wn.FADING_OUT,(e._animationForciblyDisabledThroughCss||!n.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){let i=Bo(e);!this._platform.isBrowser||!i||i===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=i,GA.forEach(n=>{Au._eventManager.addHandler(this._ngZone,n,i,this)}))}handleEvent(e){e.type==="mousedown"?this._onMousedown(e):e.type==="touchstart"?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{HA.forEach(i=>{this._triggerElement.addEventListener(i,this,UA)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){e.state===Wn.FADING_IN?this._startFadeOutTransition(e):e.state===Wn.FADING_OUT&&this._destroyRipple(e)}_startFadeOutTransition(e){let i=e===this._mostRecentTransientRipple,{persistent:n}=e.config;e.state=Wn.VISIBLE,!n&&(!i||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){let i=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=Wn.HIDDEN,i!==null&&(e.element.removeEventListener("transitionend",i.onTransitionEnd),e.element.removeEventListener("transitioncancel",i.onTransitionCancel)),e.element.remove()}_onMousedown(e){let i=Mx(e),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+NH;!this._target.rippleDisabled&&!i&&!n&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!Dx(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let i=e.changedTouches;if(i)for(let n=0;n<i.length;n++)this.fadeInRipple(i[n].clientX,i[n].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{let i=e.state===Wn.VISIBLE||e.config.terminateOnPointerUp&&e.state===Wn.FADING_IN;!e.config.persistent&&i&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let e=this._triggerElement;e&&(GA.forEach(i=>Au._eventManager.removeHandler(i,e,this)),this._pointerUpEventsRegistered&&(HA.forEach(i=>e.removeEventListener(i,this,UA)),this._pointerUpEventsRegistered=!1))}};Au._eventManager=new Cx;var Ex=Au;function kH(t,e,i){let n=Math.max(Math.abs(t-i.left),Math.abs(t-i.right)),r=Math.max(Math.abs(e-i.top),Math.abs(e-i.bottom));return Math.sqrt(n*n+r*r)}var qA=new J("mat-ripple-global-options"),Tx=(()=>{let e=class e{get disabled(){return this._disabled}set disabled(n){n&&this.fadeOutAllNonPersistent(),this._disabled=n,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(n){this._trigger=n,this._setupTriggerEventsIfEnabled()}constructor(n,r,o,s,a){this._elementRef=n,this._animationMode=a,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new Ex(this,r,n,o)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:C(C(C({},this._globalOptions.animation),this._animationMode==="NoopAnimations"?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(n,r=0,o){return typeof n=="number"?this._rippleRenderer.fadeInRipple(n,r,C(C({},this.rippleConfig),o)):this._rippleRenderer.fadeInRipple(0,0,C(C({},this.rippleConfig),n))}};e.\u0275fac=function(r){return new(r||e)(G(ke),G(ge),G(Ot),G(qA,8),G(_n,8))},e.\u0275dir=Ve({type:e,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(r,o){r&2&&Dt("mat-ripple-unbounded",o.unbounded)},inputs:{color:[_e.None,"matRippleColor","color"],unbounded:[_e.None,"matRippleUnbounded","unbounded"],centered:[_e.None,"matRippleCentered","centered"],radius:[_e.None,"matRippleRadius","radius"],animation:[_e.None,"matRippleAnimation","animation"],disabled:[_e.None,"matRippleDisabled","disabled"],trigger:[_e.None,"matRippleTrigger","trigger"]},exportAs:["matRipple"],standalone:!0});let t=e;return t})(),Nu=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=be({type:e}),e.\u0275inj=ye({imports:[Et,Et]});let t=e;return t})();var RH=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=be({type:e}),e.\u0275inj=ye({imports:[Et]});let t=e;return t})();var Ax=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=be({type:e}),e.\u0275inj=ye({imports:[Nu,Et,RH]});let t=e;return t})(),$A={capture:!0},WA=["focus","click","mouseenter","touchstart"],wx="mat-ripple-loader-uninitialized",Ix="mat-ripple-loader-class-name",YA="mat-ripple-loader-centered",wm="mat-ripple-loader-disabled",KA=(()=>{let e=class e{constructor(){this._document=U(Se,{optional:!0}),this._animationMode=U(_n,{optional:!0}),this._globalRippleOptions=U(qA,{optional:!0}),this._platform=U(Ot),this._ngZone=U(ge),this._hosts=new Map,this._onInteraction=n=>{if(!(n.target instanceof HTMLElement))return;let o=n.target.closest(`[${wx}]`);o&&this._createRipple(o)},this._ngZone.runOutsideAngular(()=>{for(let n of WA)this._document?.addEventListener(n,this._onInteraction,$A)})}ngOnDestroy(){let n=this._hosts.keys();for(let r of n)this.destroyRipple(r);for(let r of WA)this._document?.removeEventListener(r,this._onInteraction,$A)}configureRipple(n,r){n.setAttribute(wx,""),(r.className||!n.hasAttribute(Ix))&&n.setAttribute(Ix,r.className||""),r.centered&&n.setAttribute(YA,""),r.disabled&&n.setAttribute(wm,"")}getRipple(n){return this._hosts.get(n)||this._createRipple(n)}setDisabled(n,r){let o=this._hosts.get(n);if(o){o.disabled=r;return}r?n.setAttribute(wm,""):n.removeAttribute(wm)}_createRipple(n){if(!this._document)return;let r=this._hosts.get(n);if(r)return r;n.querySelector(".mat-ripple")?.remove();let o=this._document.createElement("span");o.classList.add("mat-ripple",n.getAttribute(Ix)),n.append(o);let s=new Tx(new ke(o),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return s._isInitialized=!0,s.trigger=n,s.centered=n.hasAttribute(YA),s.disabled=n.hasAttribute(wm),this.attachRipple(n,s),s}attachRipple(n,r){n.removeAttribute(wx),this._hosts.set(n,r)}destroyRipple(n){let r=this._hosts.get(n);r&&(r.ngOnDestroy(),this._hosts.delete(n))}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),XA=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=$e({type:e,selectors:[["div","mat-internal-form-field",""]],hostAttrs:[1,"mdc-form-field","mat-internal-form-field"],hostVars:2,hostBindings:function(r,o){r&2&&Dt("mdc-form-field--align-end",o.labelPosition==="before")},inputs:{labelPosition:"labelPosition"},standalone:!0,features:[Wt],attrs:CH,ngContentSelectors:EH,decls:1,vars:0,template:function(r,o){r&1&&(yi(),kt(0))},styles:[".mdc-form-field{display:inline-flex;align-items:center;vertical-align:middle}.mdc-form-field[hidden]{display:none}.mdc-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{margin-left:auto;margin-right:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{padding-left:0;padding-right:4px}.mdc-form-field--nowrap>label{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{margin-left:0;margin-right:auto}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{padding-left:4px;padding-right:0}.mdc-form-field--space-between{justify-content:space-between}.mdc-form-field--space-between>label{margin:0}[dir=rtl] .mdc-form-field--space-between>label,.mdc-form-field--space-between>label[dir=rtl]{margin:0}.mdc-form-field{font-family:var(--mdc-form-field-label-text-font);line-height:var(--mdc-form-field-label-text-line-height);font-size:var(--mdc-form-field-label-text-size);font-weight:var(--mdc-form-field-label-text-weight);letter-spacing:var(--mdc-form-field-label-text-tracking);color:var(--mdc-form-field-label-text-color)}.mat-internal-form-field{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}"],encapsulation:2,changeDetection:0});let t=e;return t})();var LH=["*"];var OH=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],PH=["[mat-card-avatar], [matCardAvatar]",`mat-card-title, mat-card-subtitle,
      [mat-card-title], [mat-card-subtitle],
      [matCardTitle], [matCardSubtitle]`,"*"],FH=new J("MAT_CARD_CONFIG"),Im=(()=>{let e=class e{constructor(n){this.appearance=n?.appearance||"raised"}};e.\u0275fac=function(r){return new(r||e)(G(FH,8))},e.\u0275cmp=$e({type:e,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(r,o){r&2&&Dt("mat-mdc-card-outlined",o.appearance==="outlined")("mdc-card--outlined",o.appearance==="outlined")},inputs:{appearance:"appearance"},exportAs:["matCard"],standalone:!0,features:[Wt],ngContentSelectors:LH,decls:1,vars:0,template:function(r,o){r&1&&(yi(),kt(0))},styles:['.mdc-card{display:flex;flex-direction:column;box-sizing:border-box}.mdc-card::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none;pointer-events:none}@media screen and (forced-colors: active){.mdc-card::after{border-color:CanvasText}}.mdc-card--outlined::after{border:none}.mdc-card__content{border-radius:inherit;height:100%}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__media--square::before{margin-top:100%}.mdc-card__media--16-9::before{margin-top:56.25%}.mdc-card__media-content{position:absolute;top:0;right:0;bottom:0;left:0;box-sizing:border-box}.mdc-card__primary-action{display:flex;flex-direction:column;box-sizing:border-box;position:relative;outline:none;color:inherit;text-decoration:none;cursor:pointer;overflow:hidden}.mdc-card__primary-action:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__primary-action:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mdc-card__actions--full-bleed{padding:0}.mdc-card__action-buttons,.mdc-card__action-icons{display:flex;flex-direction:row;align-items:center;box-sizing:border-box}.mdc-card__action-icons{color:rgba(0, 0, 0, 0.6);flex-grow:1;justify-content:flex-end}.mdc-card__action-buttons+.mdc-card__action-icons{margin-left:16px;margin-right:0}[dir=rtl] .mdc-card__action-buttons+.mdc-card__action-icons,.mdc-card__action-buttons+.mdc-card__action-icons[dir=rtl]{margin-left:0;margin-right:16px}.mdc-card__action{display:inline-flex;flex-direction:row;align-items:center;box-sizing:border-box;justify-content:center;cursor:pointer;user-select:none}.mdc-card__action:focus{outline:none}.mdc-card__action--button{margin-left:0;margin-right:8px;padding:0 8px}[dir=rtl] .mdc-card__action--button,.mdc-card__action--button[dir=rtl]{margin-left:8px;margin-right:0}.mdc-card__action--button:last-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-card__action--button:last-child,.mdc-card__action--button:last-child[dir=rtl]{margin-left:0;margin-right:0}.mdc-card__actions--full-bleed .mdc-card__action--button{justify-content:space-between;width:100%;height:auto;max-height:none;margin:0;padding:8px 16px;text-align:left}[dir=rtl] .mdc-card__actions--full-bleed .mdc-card__action--button,.mdc-card__actions--full-bleed .mdc-card__action--button[dir=rtl]{text-align:right}.mdc-card__action--icon{margin:-6px 0;padding:12px}.mdc-card__action--icon:not(:disabled){color:rgba(0, 0, 0, 0.6)}.mat-mdc-card{border-radius:var(--mdc-elevated-card-container-shape);background-color:var(--mdc-elevated-card-container-color);border-width:0;border-style:solid;border-color:var(--mdc-elevated-card-container-color);box-shadow:var(--mdc-elevated-card-container-elevation)}.mat-mdc-card .mdc-card::after{border-radius:var(--mdc-elevated-card-container-shape)}.mat-mdc-card-outlined{border-width:var(--mdc-outlined-card-outline-width);border-style:solid;border-color:var(--mdc-outlined-card-outline-color);border-radius:var(--mdc-outlined-card-container-shape);background-color:var(--mdc-outlined-card-container-color);box-shadow:var(--mdc-outlined-card-container-elevation)}.mat-mdc-card-outlined .mdc-card::after{border-radius:var(--mdc-outlined-card-container-shape)}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font);line-height:var(--mat-card-title-text-line-height);font-size:var(--mat-card-title-text-size);letter-spacing:var(--mat-card-title-text-tracking);font-weight:var(--mat-card-title-text-weight)}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color);font-family:var(--mat-card-subtitle-text-font);line-height:var(--mat-card-subtitle-text-line-height);font-size:var(--mat-card-subtitle-text-size);letter-spacing:var(--mat-card-subtitle-text-tracking);font-weight:var(--mat-card-subtitle-text-weight)}.mat-mdc-card{position:relative}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0});let t=e;return t})(),QA=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=Ve({type:e,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-mdc-card-title"],standalone:!0});let t=e;return t})();var Sm=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=Ve({type:e,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"],standalone:!0});let t=e;return t})(),JA=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=Ve({type:e,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-mdc-card-subtitle"],standalone:!0});let t=e;return t})();var eN=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=$e({type:e,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-mdc-card-header"],standalone:!0,features:[Wt],ngContentSelectors:PH,decls:4,vars:0,consts:[[1,"mat-mdc-card-header-text"]],template:function(r,o){r&1&&(yi(OH),kt(0),ce(1,"div",0),kt(2,1),ue(),kt(3,2))},encapsulation:2,changeDetection:0});let t=e;return t})();var tN=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=be({type:e}),e.\u0275inj=ye({imports:[Et,io,Et]});let t=e;return t})();var uN=(()=>{let e=class e{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}};e.\u0275fac=function(r){return new(r||e)(G(Cs),G(ke))},e.\u0275dir=Ve({type:e});let t=e;return t})(),jH=(()=>{let e=class e extends uN{};e.\u0275fac=(()=>{let n;return function(o){return(n||(n=uc(e)))(o||e)}})(),e.\u0275dir=Ve({type:e,features:[Ci]});let t=e;return t})(),Ox=new J("");var BH={provide:Ox,useExisting:Ds(()=>Nc),multi:!0};function zH(){let t=eo()?eo().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var VH=new J(""),Nc=(()=>{let e=class e extends uN{constructor(n,r,o){super(n,r),this._compositionMode=o,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!zH())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}};e.\u0275fac=function(r){return new(r||e)(G(Cs),G(ke),G(VH,8))},e.\u0275dir=Ve({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,o){r&1&&it("input",function(a){return o._handleInput(a.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(a){return o._compositionEnd(a.target.value)})},features:[Hn([BH]),Ci]});let t=e;return t})();function Fs(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function hN(t){return t!=null&&typeof t.length=="number"}var Px=new J(""),Fx=new J(""),UH=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Ou=class{static min(e){return GH(e)}static max(e){return HH(e)}static required(e){return $H(e)}static requiredTrue(e){return WH(e)}static email(e){return YH(e)}static minLength(e){return ZH(e)}static maxLength(e){return qH(e)}static pattern(e){return KH(e)}static nullValidator(e){return fN(e)}static compose(e){return vN(e)}static composeAsync(e){return _N(e)}};function GH(t){return e=>{if(Fs(e.value)||Fs(t))return null;let i=parseFloat(e.value);return!isNaN(i)&&i<t?{min:{min:t,actual:e.value}}:null}}function HH(t){return e=>{if(Fs(e.value)||Fs(t))return null;let i=parseFloat(e.value);return!isNaN(i)&&i>t?{max:{max:t,actual:e.value}}:null}}function $H(t){return Fs(t.value)?{required:!0}:null}function WH(t){return t.value===!0?null:{required:!0}}function YH(t){return Fs(t.value)||UH.test(t.value)?null:{email:!0}}function ZH(t){return e=>Fs(e.value)||!hN(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function qH(t){return e=>hN(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function KH(t){if(!t)return fN;let e,i;return typeof t=="string"?(i="",t.charAt(0)!=="^"&&(i+="^"),i+=t,t.charAt(t.length-1)!=="$"&&(i+="$"),e=new RegExp(i)):(i=t.toString(),e=t),n=>{if(Fs(n.value))return null;let r=n.value;return e.test(r)?null:{pattern:{requiredPattern:i,actualValue:r}}}}function fN(t){return null}function pN(t){return t!=null}function mN(t){return ja(t)?ot(t):t}function gN(t){let e={};return t.forEach(i=>{e=i!=null?C(C({},e),i):e}),Object.keys(e).length===0?null:e}function yN(t,e){return e.map(i=>i(t))}function XH(t){return!t.validate}function bN(t){return t.map(e=>XH(e)?e:i=>e.validate(i))}function vN(t){if(!t)return null;let e=t.filter(pN);return e.length==0?null:function(i){return gN(yN(i,e))}}function xN(t){return t!=null?vN(bN(t)):null}function _N(t){if(!t)return null;let e=t.filter(pN);return e.length==0?null:function(i){let n=yN(i,e).map(mN);return Td(n).pipe(me(gN))}}function MN(t){return t!=null?_N(bN(t)):null}function nN(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function DN(t){return t._rawValidators}function wN(t){return t._rawAsyncValidators}function Nx(t){return t?Array.isArray(t)?t:[t]:[]}function Em(t,e){return Array.isArray(t)?t.includes(e):t===e}function rN(t,e){let i=Nx(e);return Nx(t).forEach(r=>{Em(i,r)||i.push(r)}),i}function oN(t,e){return Nx(e).filter(i=>!Em(t,i))}var Tm=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=xN(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=MN(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,i){return this.control?this.control.hasError(e,i):!1}getError(e,i){return this.control?this.control.getError(e,i):null}},Wa=class extends Tm{get formDirective(){return null}get path(){return null}},Ya=class extends Tm{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Am=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},QH={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},woe=L(C({},QH),{"[class.ng-submitted]":"isSubmitted"}),Lm=(()=>{let e=class e extends Am{constructor(n){super(n)}};e.\u0275fac=function(r){return new(r||e)(G(Ya,2))},e.\u0275dir=Ve({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,o){r&2&&Dt("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[Ci]});let t=e;return t})(),IN=(()=>{let e=class e extends Am{constructor(n){super(n)}};e.\u0275fac=function(r){return new(r||e)(G(Wa,10))},e.\u0275dir=Ve({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,o){r&2&&Dt("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[Ci]});let t=e;return t})();var ku="VALID",Cm="INVALID",Tc="PENDING",Ru="DISABLED";function jx(t){return(Om(t)?t.validators:t)||null}function JH(t){return Array.isArray(t)?xN(t):t||null}function Bx(t,e){return(Om(e)?e.asyncValidators:t)||null}function e5(t){return Array.isArray(t)?MN(t):t||null}function Om(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function SN(t,e,i){let n=t.controls;if(!(e?Object.keys(n):n).length)throw new W(1e3,"");if(!n[i])throw new W(1001,"")}function CN(t,e,i){t._forEachChild((n,r)=>{if(i[r]===void 0)throw new W(1002,"")})}var Ac=class{constructor(e,i){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(i)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===ku}get invalid(){return this.status===Cm}get pending(){return this.status==Tc}get disabled(){return this.status===Ru}get enabled(){return this.status!==Ru}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(rN(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(rN(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(oN(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(oN(e,this._rawAsyncValidators))}hasValidator(e){return Em(this._rawValidators,e)}hasAsyncValidator(e){return Em(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(i=>{i.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Tc,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let i=this._parentMarkedDirty(e.onlySelf);this.status=Ru,this.errors=null,this._forEachChild(n=>{n.disable(L(C({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(L(C({},e),{skipPristineCheck:i})),this._onDisabledChange.forEach(n=>n(!0))}enable(e={}){let i=this._parentMarkedDirty(e.onlySelf);this.status=ku,this._forEachChild(n=>{n.enable(L(C({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(L(C({},e),{skipPristineCheck:i})),this._onDisabledChange.forEach(n=>n(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ku||this.status===Tc)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(i=>i._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ru:ku}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Tc,this._hasOwnPendingAsyncValidator=!0;let i=mN(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(n=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(n,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,i={}){this.errors=e,this._updateControlsErrors(i.emitEvent!==!1)}get(e){let i=e;return i==null||(Array.isArray(i)||(i=i.split(".")),i.length===0)?null:i.reduce((n,r)=>n&&n._find(r),this)}getError(e,i){let n=i?this.get(i):this;return n&&n.errors?n.errors[e]:null}hasError(e,i){return!!this.getError(e,i)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Ye,this.statusChanges=new Ye}_calculateStatus(){return this._allControlsDisabled()?Ru:this.errors?Cm:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Tc)?Tc:this._anyControlsHaveStatus(Cm)?Cm:ku}_anyControlsHaveStatus(e){return this._anyControls(i=>i.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Om(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let i=this._parent&&this._parent.dirty;return!e&&!!i&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=JH(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=e5(this._rawAsyncValidators)}},Nm=class extends Ac{constructor(e,i,n){super(jx(i),Bx(n,i)),this.controls=e,this._initObservables(),this._setUpdateStrategy(i),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,i){return this.controls[e]?this.controls[e]:(this.controls[e]=i,i.setParent(this),i._registerOnCollectionChange(this._onCollectionChange),i)}addControl(e,i,n={}){this.registerControl(e,i),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(e,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}setControl(e,i,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],i&&this.registerControl(e,i),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,i={}){CN(this,!0,e),Object.keys(e).forEach(n=>{SN(this,!0,n),this.controls[n].setValue(e[n],{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i)}patchValue(e,i={}){e!=null&&(Object.keys(e).forEach(n=>{let r=this.controls[n];r&&r.patchValue(e[n],{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i))}reset(e={},i={}){this._forEachChild((n,r)=>{n.reset(e?e[r]:null,{onlySelf:!0,emitEvent:i.emitEvent})}),this._updatePristine(i),this._updateTouched(i),this.updateValueAndValidity(i)}getRawValue(){return this._reduceChildren({},(e,i,n)=>(e[n]=i.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(i,n)=>n._syncPendingControls()?!0:i);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(i=>{let n=this.controls[i];n&&e(n,i)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[i,n]of Object.entries(this.controls))if(this.contains(i)&&e(n))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(i,n,r)=>((n.enabled||this.disabled)&&(i[r]=n.value),i))}_reduceChildren(e,i){let n=e;return this._forEachChild((r,o)=>{n=i(n,r,o)}),n}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var kx=class extends Nm{};var Pm=new J("CallSetDisabledState",{providedIn:"root",factory:()=>Fm}),Fm="always";function EN(t,e){return[...e.path,t]}function Rx(t,e,i=Fm){zx(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||i==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),i5(t,e),r5(t,e),n5(t,e),t5(t,e)}function sN(t,e,i=!0){let n=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(n),e.valueAccessor.registerOnTouched(n)),Rm(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function km(t,e){t.forEach(i=>{i.registerOnValidatorChange&&i.registerOnValidatorChange(e)})}function t5(t,e){if(e.valueAccessor.setDisabledState){let i=n=>{e.valueAccessor.setDisabledState(n)};t.registerOnDisabledChange(i),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(i)})}}function zx(t,e){let i=DN(t);e.validator!==null?t.setValidators(nN(i,e.validator)):typeof i=="function"&&t.setValidators([i]);let n=wN(t);e.asyncValidator!==null?t.setAsyncValidators(nN(n,e.asyncValidator)):typeof n=="function"&&t.setAsyncValidators([n]);let r=()=>t.updateValueAndValidity();km(e._rawValidators,r),km(e._rawAsyncValidators,r)}function Rm(t,e){let i=!1;if(t!==null){if(e.validator!==null){let r=DN(t);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==e.validator);o.length!==r.length&&(i=!0,t.setValidators(o))}}if(e.asyncValidator!==null){let r=wN(t);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==e.asyncValidator);o.length!==r.length&&(i=!0,t.setAsyncValidators(o))}}}let n=()=>{};return km(e._rawValidators,n),km(e._rawAsyncValidators,n),i}function i5(t,e){e.valueAccessor.registerOnChange(i=>{t._pendingValue=i,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&TN(t,e)})}function n5(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&TN(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function TN(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function r5(t,e){let i=(n,r)=>{e.valueAccessor.writeValue(n),r&&e.viewToModelUpdate(n)};t.registerOnChange(i),e._registerOnDestroy(()=>{t._unregisterOnChange(i)})}function o5(t,e){t==null,zx(t,e)}function s5(t,e){return Rm(t,e)}function AN(t,e){if(!t.hasOwnProperty("model"))return!1;let i=t.model;return i.isFirstChange()?!0:!Object.is(e,i.currentValue)}function a5(t){return Object.getPrototypeOf(t.constructor)===jH}function l5(t,e){t._syncPendingControls(),e.forEach(i=>{let n=i.control;n.updateOn==="submit"&&n._pendingChange&&(i.viewToModelUpdate(n._pendingValue),n._pendingChange=!1)})}function NN(t,e){if(!e)return null;Array.isArray(e);let i,n,r;return e.forEach(o=>{o.constructor===Nc?i=o:a5(o)?n=o:r=o}),r||n||i||null}function c5(t,e){let i=t.indexOf(e);i>-1&&t.splice(i,1)}function aN(t,e){let i=t.indexOf(e);i>-1&&t.splice(i,1)}function lN(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var Lu=class extends Ac{constructor(e=null,i,n){super(jx(i),Bx(n,i)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(i),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Om(i)&&(i.nonNullable||i.initialValueIsDefault)&&(lN(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,i={}){this.value=this._pendingValue=e,this._onChange.length&&i.emitModelToViewChange!==!1&&this._onChange.forEach(n=>n(this.value,i.emitViewToModelChange!==!1)),this.updateValueAndValidity(i)}patchValue(e,i={}){this.setValue(e,i)}reset(e=this.defaultValue,i={}){this._applyFormState(e),this.markAsPristine(i),this.markAsUntouched(i),this.setValue(this.value,i),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){aN(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){aN(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){lN(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var d5=t=>t instanceof Lu;var u5={provide:Ya,useExisting:Ds(()=>Vx)},cN=Promise.resolve(),Vx=(()=>{let e=class e extends Ya{constructor(n,r,o,s,a,l){super(),this._changeDetectorRef=a,this.callSetDisabledState=l,this.control=new Lu,this._registered=!1,this.name="",this.update=new Ye,this._parent=n,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=NN(this,s)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),AN(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Rx(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){cN.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,o=r!==0&&Lt(r);cN.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?EN(n,this._parent):[n]}};e.\u0275fac=function(r){return new(r||e)(G(Wa,9),G(Px,10),G(Fx,10),G(Ox,10),G(nn,8),G(Pm,8))},e.\u0275dir=Ve({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[_e.None,"disabled","isDisabled"],model:[_e.None,"ngModel","model"],options:[_e.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Hn([u5]),Ci,tn]});let t=e;return t})(),kN=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=Ve({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})();var RN=new J("");var h5={provide:Wa,useExisting:Ds(()=>Ux)},Ux=(()=>{let e=class e extends Wa{constructor(n,r,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Ye,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Rm(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){let r=this.form.get(n.path);return Rx(r,n,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){sN(n.control||null,n,!1),c5(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,r){this.form.get(n.path).setValue(r)}onSubmit(n){return this.submitted=!0,l5(this.form,this.directives),this.ngSubmit.emit(n),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submitted=!1}_updateDomValue(){this.directives.forEach(n=>{let r=n.control,o=this.form.get(n.path);r!==o&&(sN(r||null,n),d5(o)&&(Rx(o,n,this.callSetDisabledState),n.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){let r=this.form.get(n.path);o5(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){let r=this.form.get(n.path);r&&s5(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){zx(this.form,this),this._oldForm&&Rm(this._oldForm,this)}_checkFormPresent(){this.form}};e.\u0275fac=function(r){return new(r||e)(G(Px,10),G(Fx,10),G(Pm,8))},e.\u0275dir=Ve({type:e,selectors:[["","formGroup",""]],hostBindings:function(r,o){r&1&&it("submit",function(a){return o.onSubmit(a)})("reset",function(){return o.onReset()})},inputs:{form:[_e.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Hn([h5]),Ci,tn]});let t=e;return t})();var f5={provide:Ya,useExisting:Ds(()=>Gx)},Gx=(()=>{let e=class e extends Ya{set isDisabled(n){}constructor(n,r,o,s,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.name=null,this.update=new Ye,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=NN(this,s)}ngOnChanges(n){this._added||this._setUpControl(),AN(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return EN(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}};e._ngModelWarningSentOnce=!1,e.\u0275fac=function(r){return new(r||e)(G(Wa,13),G(Px,10),G(Fx,10),G(Ox,10),G(RN,8))},e.\u0275dir=Ve({type:e,selectors:[["","formControlName",""]],inputs:{name:[_e.None,"formControlName","name"],isDisabled:[_e.None,"disabled","isDisabled"],model:[_e.None,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[Hn([f5]),Ci,tn]});let t=e;return t})();var LN=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=be({type:e}),e.\u0275inj=ye({});let t=e;return t})(),Lx=class extends Ac{constructor(e,i,n){super(jx(i),Bx(n,i)),this.controls=e,this._initObservables(),this._setUpdateStrategy(i),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,i={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}insert(e,i,n={}){this.controls.splice(e,0,i),this._registerControl(i),this.updateValueAndValidity({emitEvent:n.emitEvent})}removeAt(e,i={}){let n=this._adjustIndex(e);n<0&&(n=0),this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),this.controls.splice(n,1),this.updateValueAndValidity({emitEvent:i.emitEvent})}setControl(e,i,n={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),i&&(this.controls.splice(r,0,i),this._registerControl(i)),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,i={}){CN(this,!1,e),e.forEach((n,r)=>{SN(this,!1,r),this.at(r).setValue(n,{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i)}patchValue(e,i={}){e!=null&&(e.forEach((n,r)=>{this.at(r)&&this.at(r).patchValue(n,{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i))}reset(e=[],i={}){this._forEachChild((n,r)=>{n.reset(e[r],{onlySelf:!0,emitEvent:i.emitEvent})}),this._updatePristine(i),this._updateTouched(i),this.updateValueAndValidity(i)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(i=>i._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((i,n)=>n._syncPendingControls()?!0:i,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((i,n)=>{e(i,n)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(i=>i.enabled&&e(i))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function dN(t){return!!t&&(t.asyncValidators!==void 0||t.validators!==void 0||t.updateOn!==void 0)}var ON=(()=>{let e=class e{constructor(){this.useNonNullable=!1}get nonNullable(){let n=new e;return n.useNonNullable=!0,n}group(n,r=null){let o=this._reduceControls(n),s={};return dN(r)?s=r:r!==null&&(s.validators=r.validator,s.asyncValidators=r.asyncValidator),new Nm(o,s)}record(n,r=null){let o=this._reduceControls(n);return new kx(o,r)}control(n,r,o){let s={};return this.useNonNullable?(dN(r)?s=r:(s.validators=r,s.asyncValidators=o),new Lu(n,L(C({},s),{nonNullable:!0}))):new Lu(n,r,o)}array(n,r,o){let s=n.map(a=>this._createControl(a));return new Lx(s,r,o)}_reduceControls(n){let r={};return Object.keys(n).forEach(o=>{r[o]=this._createControl(n[o])}),r}_createControl(n){if(n instanceof Lu)return n;if(n instanceof Ac)return n;if(Array.isArray(n)){let r=n[0],o=n.length>1?n[1]:null,s=n.length>2?n[2]:null;return this.control(r,o,s)}else return this.control(n)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var PN=(()=>{let e=class e{static withConfig(n){return{ngModule:e,providers:[{provide:Pm,useValue:n.callSetDisabledState??Fm}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=be({type:e}),e.\u0275inj=ye({imports:[LN]});let t=e;return t})(),FN=(()=>{let e=class e{static withConfig(n){return{ngModule:e,providers:[{provide:RN,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:Pm,useValue:n.callSetDisabledState??Fm}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=be({type:e}),e.\u0275inj=ye({imports:[LN]});let t=e;return t})();function p5(t,e){if(t&1){let i=Er();ce(0,"div")(1,"mat-card",6),it("click",function(){let r=zn(i).$implicit,o=Gn(2);return Vn(o.goToChampionDetail(r))}),ce(2,"mat-card-content"),Ue(3),ue()()()}if(t&2){let i=e.$implicit;Ze(3),i0("",i.name," - ",i.title,"")}}function m5(t,e){if(t&1&&(ce(0,"div"),Ui(1,p5,4,2,"div",5),ue()),t&2){let i=Gn();Ze(),Ct("ngForOf",i.filteredChampions)}}function g5(t,e){t&1&&(ce(0,"p"),Ue(1,"Aucun champion trouv\xE9"),ue())}var BN=(()=>{let e=class e{constructor(n,r){this.dataService=n,this.router=r,this.champions=[],this.filteredChampions=[],this.searchTerm=""}ngOnInit(){this.getChampions()}getChampions(){this.dataService.getChampions().subscribe(n=>{this.champions=n,this.filteredChampions=[]})}goToChampionDetail(n){console.log("Le champion : "+n.name),this.router.navigate(["champions/",n.id])}onSearch(){this.searchTerm.trim()===""?this.filteredChampions=[]:this.filteredChampions=this.champions.filter(n=>n.name.toLowerCase().startsWith(this.searchTerm.toLowerCase())),this.filteredChampions.length>0?document.querySelector(".search-container")?.classList.add("has-results"):document.querySelector(".search-container")?.classList.remove("has-results")}};e.\u0275fac=function(r){return new(r||e)(G(Os),G(Gi))},e.\u0275cmp=$e({type:e,selectors:[["app-champion-search"]],decls:6,vars:3,consts:[[1,"container"],[1,"search-container"],["type","text","placeholder","Rechercher un champion...",3,"ngModelChange","input","ngModel"],[1,"search-results"],[4,"ngIf"],[4,"ngFor","ngForOf"],["appearance","outlined",1,"card-champion",3,"click"]],template:function(r,o){r&1&&(ce(0,"div",0)(1,"div",1)(2,"input",2),r0("ngModelChange",function(a){return XE(o.searchTerm,a)||(o.searchTerm=a),a}),it("input",function(){return o.onSearch()}),ue()(),ce(3,"div",3),Ui(4,m5,2,1,"div",4)(5,g5,2,0,"p",4),ue()()),r&2&&(Ze(2),n0("ngModel",o.searchTerm),Ze(2),Ct("ngIf",o.filteredChampions.length),Ze(),Ct("ngIf",!o.filteredChampions.length&&o.searchTerm))},dependencies:[Ts,Up,Im,Sm,Nc,Lm,Vx],styles:[".container[_ngcontent-%COMP%]{background-color:#010a13;margin-left:10%;width:80%;padding-top:2%;display:grid;place-items:center;height:80vh}.search-container[_ngcontent-%COMP%]{padding:.3em;background-color:#32281e;border-radius:8px;text-align:center;width:30%;transition:margin-top .5s ease}.search-container[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{background-color:#c89b3c;color:#000;border:1px solid #C89B3C;border-radius:4px;padding:10px;font-size:16px;width:100%;box-sizing:border-box}.search-container[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]::placeholder{color:#010a13;opacity:1}.search-container.has-results[_ngcontent-%COMP%]{margin-top:20px}.search-results[_ngcontent-%COMP%]{width:100%;column-count:2;display:flex;align-items:center;text-align:center;justify-content:center}.card-champion[_ngcontent-%COMP%]{width:400px;background-color:#c89b3c;border-color:#32281e;border-radius:20px;margin:0 auto 2%;break-inside:avoid}.card-champion[_ngcontent-%COMP%]:hover{background-color:#0ac8b9;color:#000;cursor:pointer;transform:scale(1.05);box-shadow:0 4px 8px #0003}"]});let t=e;return t})();var zN=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=$e({type:e,selectors:[["app-home"]],decls:1,vars:0,template:function(r,o){r&1&&at(0,"app-champion-search")},dependencies:[BN]});let t=e;return t})();var Pu=function(t){return t.Assassin="Assassin",t.Fighter="Fighter",t.Tank="Tank",t.Marksman="Marksman",t.Mage="Mage",t.Support="Support",t}(Pu||{});var b5=["*"],jm;function v5(){if(jm===void 0&&(jm=null,typeof window<"u")){let t=window;t.trustedTypes!==void 0&&(jm=t.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return jm}function Fu(t){return v5()?.createHTML(t)||t}function VN(t){return Error(`Unable to find icon with the name "${t}"`)}function x5(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}function UN(t){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${t}".`)}function GN(t){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${t}".`)}var zo=class{constructor(e,i,n){this.url=e,this.svgText=i,this.options=n}},_5=(()=>{let e=class e{constructor(n,r,o,s){this._httpClient=n,this._sanitizer=r,this._errorHandler=s,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=o}addSvgIcon(n,r,o){return this.addSvgIconInNamespace("",n,r,o)}addSvgIconLiteral(n,r,o){return this.addSvgIconLiteralInNamespace("",n,r,o)}addSvgIconInNamespace(n,r,o,s){return this._addSvgIconConfig(n,r,new zo(o,null,s))}addSvgIconResolver(n){return this._resolvers.push(n),this}addSvgIconLiteralInNamespace(n,r,o,s){let a=this._sanitizer.sanitize(Si.HTML,o);if(!a)throw GN(o);let l=Fu(a);return this._addSvgIconConfig(n,r,new zo("",l,s))}addSvgIconSet(n,r){return this.addSvgIconSetInNamespace("",n,r)}addSvgIconSetLiteral(n,r){return this.addSvgIconSetLiteralInNamespace("",n,r)}addSvgIconSetInNamespace(n,r,o){return this._addSvgIconSetConfig(n,new zo(r,null,o))}addSvgIconSetLiteralInNamespace(n,r,o){let s=this._sanitizer.sanitize(Si.HTML,r);if(!s)throw GN(r);let a=Fu(s);return this._addSvgIconSetConfig(n,new zo("",a,o))}registerFontClassAlias(n,r=n){return this._fontCssClassesByAlias.set(n,r),this}classNameForFontAlias(n){return this._fontCssClassesByAlias.get(n)||n}setDefaultFontSetClass(...n){return this._defaultFontSetClass=n,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(n){let r=this._sanitizer.sanitize(Si.RESOURCE_URL,n);if(!r)throw UN(n);let o=this._cachedIconsByUrl.get(r);return o?le(Bm(o)):this._loadSvgIconFromConfig(new zo(n,null)).pipe(st(s=>this._cachedIconsByUrl.set(r,s)),me(s=>Bm(s)))}getNamedSvgIcon(n,r=""){let o=HN(r,n),s=this._svgIconConfigs.get(o);if(s)return this._getSvgFromConfig(s);if(s=this._getIconConfigFromResolvers(r,n),s)return this._svgIconConfigs.set(o,s),this._getSvgFromConfig(s);let a=this._iconSetConfigs.get(r);return a?this._getSvgFromIconSetConfigs(n,a):ps(VN(o))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(n){return n.svgText?le(Bm(this._svgElementFromConfig(n))):this._loadSvgIconFromConfig(n).pipe(me(r=>Bm(r)))}_getSvgFromIconSetConfigs(n,r){let o=this._extractIconWithNameFromAnySet(n,r);if(o)return le(o);let s=r.filter(a=>!a.svgText).map(a=>this._loadSvgIconSetFromConfig(a).pipe(pi(l=>{let d=`Loading icon set URL: ${this._sanitizer.sanitize(Si.RESOURCE_URL,a.url)} failed: ${l.message}`;return this._errorHandler.handleError(new Error(d)),le(null)})));return Td(s).pipe(me(()=>{let a=this._extractIconWithNameFromAnySet(n,r);if(!a)throw VN(n);return a}))}_extractIconWithNameFromAnySet(n,r){for(let o=r.length-1;o>=0;o--){let s=r[o];if(s.svgText&&s.svgText.toString().indexOf(n)>-1){let a=this._svgElementFromConfig(s),l=this._extractSvgIconFromSet(a,n,s.options);if(l)return l}}return null}_loadSvgIconFromConfig(n){return this._fetchIcon(n).pipe(st(r=>n.svgText=r),me(()=>this._svgElementFromConfig(n)))}_loadSvgIconSetFromConfig(n){return n.svgText?le(null):this._fetchIcon(n).pipe(st(r=>n.svgText=r))}_extractSvgIconFromSet(n,r,o){let s=n.querySelector(`[id="${r}"]`);if(!s)return null;let a=s.cloneNode(!0);if(a.removeAttribute("id"),a.nodeName.toLowerCase()==="svg")return this._setSvgAttributes(a,o);if(a.nodeName.toLowerCase()==="symbol")return this._setSvgAttributes(this._toSvgElement(a),o);let l=this._svgElementFromString(Fu("<svg></svg>"));return l.appendChild(a),this._setSvgAttributes(l,o)}_svgElementFromString(n){let r=this._document.createElement("DIV");r.innerHTML=n;let o=r.querySelector("svg");if(!o)throw Error("<svg> tag not found");return o}_toSvgElement(n){let r=this._svgElementFromString(Fu("<svg></svg>")),o=n.attributes;for(let s=0;s<o.length;s++){let{name:a,value:l}=o[s];a!=="id"&&r.setAttribute(a,l)}for(let s=0;s<n.childNodes.length;s++)n.childNodes[s].nodeType===this._document.ELEMENT_NODE&&r.appendChild(n.childNodes[s].cloneNode(!0));return r}_setSvgAttributes(n,r){return n.setAttribute("fit",""),n.setAttribute("height","100%"),n.setAttribute("width","100%"),n.setAttribute("preserveAspectRatio","xMidYMid meet"),n.setAttribute("focusable","false"),r&&r.viewBox&&n.setAttribute("viewBox",r.viewBox),n}_fetchIcon(n){let{url:r,options:o}=n,s=o?.withCredentials??!1;if(!this._httpClient)throw x5();if(r==null)throw Error(`Cannot fetch icon from URL "${r}".`);let a=this._sanitizer.sanitize(Si.RESOURCE_URL,r);if(!a)throw UN(r);let l=this._inProgressUrlFetches.get(a);if(l)return l;let c=this._httpClient.get(a,{responseType:"text",withCredentials:s}).pipe(me(d=>Fu(d)),Yr(()=>this._inProgressUrlFetches.delete(a)),nb());return this._inProgressUrlFetches.set(a,c),c}_addSvgIconConfig(n,r,o){return this._svgIconConfigs.set(HN(n,r),o),this}_addSvgIconSetConfig(n,r){let o=this._iconSetConfigs.get(n);return o?o.push(r):this._iconSetConfigs.set(n,[r]),this}_svgElementFromConfig(n){if(!n.svgElement){let r=this._svgElementFromString(n.svgText);this._setSvgAttributes(r,n.options),n.svgElement=r}return n.svgElement}_getIconConfigFromResolvers(n,r){for(let o=0;o<this._resolvers.length;o++){let s=this._resolvers[o](r,n);if(s)return M5(s)?new zo(s.url,null,s.options):new zo(s,null)}}};e.\u0275fac=function(r){return new(r||e)(N(Ba,8),N(N0),N(Se,8),N(en))},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Bm(t){return t.cloneNode(!0)}function HN(t,e){return t+":"+e}function M5(t){return!!(t.url&&t.options)}var D5=new J("MAT_ICON_DEFAULT_OPTIONS"),w5=new J("mat-icon-location",{providedIn:"root",factory:I5});function I5(){let t=U(Se),e=t?t.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}var $N=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],S5=$N.map(t=>`[${t}]`).join(", "),C5=/^url\(['"]?#(.*?)['"]?\)$/,WN=(()=>{let e=class e{get color(){return this._color||this._defaultColor}set color(n){this._color=n}get svgIcon(){return this._svgIcon}set svgIcon(n){n!==this._svgIcon&&(n?this._updateSvgIcon(n):this._svgIcon&&this._clearSvgElement(),this._svgIcon=n)}get fontSet(){return this._fontSet}set fontSet(n){let r=this._cleanupFontValue(n);r!==this._fontSet&&(this._fontSet=r,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(n){let r=this._cleanupFontValue(n);r!==this._fontIcon&&(this._fontIcon=r,this._updateFontIconClasses())}constructor(n,r,o,s,a,l){this._elementRef=n,this._iconRegistry=r,this._location=s,this._errorHandler=a,this.inline=!1,this._previousFontSetClass=[],this._currentIconFetch=mt.EMPTY,l&&(l.color&&(this.color=this._defaultColor=l.color),l.fontSet&&(this.fontSet=l.fontSet)),o||n.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(n){if(!n)return["",""];let r=n.split(":");switch(r.length){case 1:return["",r[0]];case 2:return r;default:throw Error(`Invalid icon name: "${n}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){let n=this._elementsWithExternalReferences;if(n&&n.size){let r=this._location.getPathname();r!==this._previousPath&&(this._previousPath=r,this._prependPathToReferences(r))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(n){this._clearSvgElement();let r=this._location.getPathname();this._previousPath=r,this._cacheChildrenWithExternalReferences(n),this._prependPathToReferences(r),this._elementRef.nativeElement.appendChild(n)}_clearSvgElement(){let n=this._elementRef.nativeElement,r=n.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();r--;){let o=n.childNodes[r];(o.nodeType!==1||o.nodeName.toLowerCase()==="svg")&&o.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;let n=this._elementRef.nativeElement,r=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(o=>o.length>0);this._previousFontSetClass.forEach(o=>n.classList.remove(o)),r.forEach(o=>n.classList.add(o)),this._previousFontSetClass=r,this.fontIcon!==this._previousFontIconClass&&!r.includes("mat-ligature-font")&&(this._previousFontIconClass&&n.classList.remove(this._previousFontIconClass),this.fontIcon&&n.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(n){return typeof n=="string"?n.trim().split(" ")[0]:n}_prependPathToReferences(n){let r=this._elementsWithExternalReferences;r&&r.forEach((o,s)=>{o.forEach(a=>{s.setAttribute(a.name,`url('${n}#${a.value}')`)})})}_cacheChildrenWithExternalReferences(n){let r=n.querySelectorAll(S5),o=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let s=0;s<r.length;s++)$N.forEach(a=>{let l=r[s],c=l.getAttribute(a),d=c?c.match(C5):null;if(d){let u=o.get(l);u||(u=[],o.set(l,u)),u.push({name:a,value:d[1]})}})}_updateSvgIcon(n){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),n){let[r,o]=this._splitIconName(n);r&&(this._svgNamespace=r),o&&(this._svgName=o),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(o,r).pipe(wi(1)).subscribe(s=>this._setSvgElement(s),s=>{let a=`Error retrieving icon ${r}:${o}! ${s.message}`;this._errorHandler.handleError(new Error(a))})}}};e.\u0275fac=function(r){return new(r||e)(G(ke),G(_5),Ro("aria-hidden"),G(w5),G(en),G(D5,8))},e.\u0275cmp=$e({type:e,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:10,hostBindings:function(r,o){r&2&&(Ei("data-mat-icon-type",o._usingFontIcon()?"font":"svg")("data-mat-icon-name",o._svgName||o.fontIcon)("data-mat-icon-namespace",o._svgNamespace||o.fontSet)("fontIcon",o._usingFontIcon()?o.fontIcon:null),Oa(o.color?"mat-"+o.color:""),Dt("mat-icon-inline",o.inline)("mat-icon-no-color",o.color!=="primary"&&o.color!=="accent"&&o.color!=="warn"))},inputs:{color:"color",inline:[_e.HasDecoratorInputTransform,"inline","inline",Lt],svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],standalone:!0,features:[Vi,Wt],ngContentSelectors:b5,decls:1,vars:0,template:function(r,o){r&1&&(yi(),kt(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0});let t=e;return t})(),YN=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=be({type:e}),e.\u0275inj=ye({imports:[Et,Et]});let t=e;return t})();var T5=["mat-button",""],qN=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],KN=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"];var A5=["mat-mini-fab",""],N5='.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-fab{position:relative;display:inline-flex;position:relative;align-items:center;justify-content:center;box-sizing:border-box;width:56px;height:56px;padding:0;border:none;fill:currentColor;text-decoration:none;cursor:pointer;user-select:none;-moz-appearance:none;-webkit-appearance:none;overflow:visible;transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1),opacity 15ms linear 30ms,transform 270ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-fab .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-fab[hidden]{display:none}.mdc-fab::-moz-focus-inner{padding:0;border:0}.mdc-fab .mdc-fab__focus-ring{position:absolute}.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring{border-color:CanvasText}}.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring::after,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring::after,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring::after{border-color:CanvasText}}.mdc-fab:active,.mdc-fab:focus{outline:none}.mdc-fab:hover{cursor:pointer}.mdc-fab>svg{width:100%}.mdc-fab--mini{width:40px;height:40px}.mdc-fab--extended{border-radius:24px;padding-left:20px;padding-right:20px;width:auto;max-width:100%;height:48px;line-height:normal}.mdc-fab--extended .mdc-fab__ripple{border-radius:24px}.mdc-fab--extended .mdc-fab__icon{margin-left:calc(12px - 20px);margin-right:12px}[dir=rtl] .mdc-fab--extended .mdc-fab__icon,.mdc-fab--extended .mdc-fab__icon[dir=rtl]{margin-left:12px;margin-right:calc(12px - 20px)}.mdc-fab--extended .mdc-fab__label+.mdc-fab__icon{margin-left:12px;margin-right:calc(12px - 20px)}[dir=rtl] .mdc-fab--extended .mdc-fab__label+.mdc-fab__icon,.mdc-fab--extended .mdc-fab__label+.mdc-fab__icon[dir=rtl]{margin-left:calc(12px - 20px);margin-right:12px}.mdc-fab--touch{margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-fab--touch .mdc-fab__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mdc-fab::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-fab::before{border-color:CanvasText}}.mdc-fab__label{justify-content:flex-start;text-overflow:ellipsis;white-space:nowrap;overflow-x:hidden;overflow-y:visible}.mdc-fab__icon{transition:transform 180ms 90ms cubic-bezier(0, 0, 0.2, 1);fill:currentColor;will-change:transform}.mdc-fab .mdc-fab__icon{display:inline-flex;align-items:center;justify-content:center}.mdc-fab--exited{transform:scale(0);opacity:0;transition:opacity 15ms linear 150ms,transform 180ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-fab--exited .mdc-fab__icon{transform:scale(0);transition:transform 135ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mat-mdc-fab{background-color:var(--mdc-fab-container-color)}.mat-mdc-fab .mdc-fab__icon{width:var(--mdc-fab-icon-size);height:var(--mdc-fab-icon-size);font-size:var(--mdc-fab-icon-size)}.mat-mdc-fab:not(.mdc-fab--extended){border-radius:var(--mdc-fab-container-shape)}.mat-mdc-fab:not(.mdc-fab--extended) .mdc-fab__ripple{border-radius:var(--mdc-fab-container-shape)}.mat-mdc-mini-fab{background-color:var(--mdc-fab-small-container-color)}.mat-mdc-mini-fab .mdc-fab__icon{width:var(--mdc-fab-small-icon-size);height:var(--mdc-fab-small-icon-size);font-size:var(--mdc-fab-small-icon-size)}.mat-mdc-mini-fab:not(.mdc-fab--extended){border-radius:var(--mdc-fab-small-container-shape)}.mat-mdc-mini-fab:not(.mdc-fab--extended) .mdc-fab__ripple{border-radius:var(--mdc-fab-small-container-shape)}.mat-mdc-extended-fab{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;height:var(--mdc-extended-fab-container-height);border-radius:var(--mdc-extended-fab-container-shape);font-family:var(--mdc-extended-fab-label-text-font);font-size:var(--mdc-extended-fab-label-text-size);font-weight:var(--mdc-extended-fab-label-text-weight);letter-spacing:var(--mdc-extended-fab-label-text-tracking)}.mat-mdc-extended-fab .mdc-fab__ripple{border-radius:var(--mdc-extended-fab-container-shape)}.mat-mdc-fab,.mat-mdc-mini-fab{-webkit-tap-highlight-color:rgba(0,0,0,0);flex-shrink:0}.mat-mdc-fab .mat-mdc-button-ripple,.mat-mdc-fab .mat-mdc-button-persistent-ripple,.mat-mdc-fab .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab .mat-mdc-button-ripple,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-fab .mat-mdc-button-ripple,.mat-mdc-mini-fab .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-fab .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-fab .mdc-button__label,.mat-mdc-mini-fab .mdc-button__label{z-index:1}.mat-mdc-fab .mat-mdc-focus-indicator,.mat-mdc-mini-fab .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-fab:focus .mat-mdc-focus-indicator::before,.mat-mdc-mini-fab:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-fab._mat-animation-noopable,.mat-mdc-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-fab:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-mini-fab:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}.mat-mdc-fab .mat-icon,.mat-mdc-fab .material-icons,.mat-mdc-mini-fab .mat-icon,.mat-mdc-mini-fab .material-icons{transition:transform 180ms 90ms cubic-bezier(0, 0, 0.2, 1);fill:currentColor;will-change:transform}.mat-mdc-fab .mat-mdc-focus-indicator::before,.mat-mdc-mini-fab .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-fab[disabled],.mat-mdc-fab.mat-mdc-button-disabled,.mat-mdc-mini-fab[disabled],.mat-mdc-mini-fab.mat-mdc-button-disabled{cursor:default;pointer-events:none}.mat-mdc-fab[disabled],.mat-mdc-fab[disabled]:focus,.mat-mdc-fab.mat-mdc-button-disabled,.mat-mdc-fab.mat-mdc-button-disabled:focus,.mat-mdc-mini-fab[disabled],.mat-mdc-mini-fab[disabled]:focus,.mat-mdc-mini-fab.mat-mdc-button-disabled,.mat-mdc-mini-fab.mat-mdc-button-disabled:focus{box-shadow:none}.mat-mdc-fab.mat-mdc-button-disabled-interactive,.mat-mdc-mini-fab.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-fab{color:var(--mat-fab-foreground-color, inherit);box-shadow:var(--mdc-fab-container-elevation-shadow)}.mat-mdc-fab .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-fab-touch-target-display)}.mat-mdc-fab .mat-ripple-element{background-color:var(--mat-fab-ripple-color)}.mat-mdc-fab .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-fab-state-layer-color)}.mat-mdc-fab.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-fab-disabled-state-layer-color)}.mat-mdc-fab:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-hover-state-layer-opacity)}.mat-mdc-fab.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-fab.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-fab.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-focus-state-layer-opacity)}.mat-mdc-fab:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-pressed-state-layer-opacity)}.mat-mdc-fab:hover{box-shadow:var(--mdc-fab-hover-container-elevation-shadow)}.mat-mdc-fab:focus{box-shadow:var(--mdc-fab-focus-container-elevation-shadow)}.mat-mdc-fab:active,.mat-mdc-fab:focus:active{box-shadow:var(--mdc-fab-pressed-container-elevation-shadow)}.mat-mdc-fab[disabled],.mat-mdc-fab.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-fab-disabled-state-foreground-color);background-color:var(--mat-fab-disabled-state-container-color)}.mat-mdc-fab.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-mini-fab{color:var(--mat-fab-small-foreground-color, inherit);box-shadow:var(--mdc-fab-small-container-elevation-shadow)}.mat-mdc-mini-fab .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-fab-small-touch-target-display)}.mat-mdc-mini-fab .mat-ripple-element{background-color:var(--mat-fab-small-ripple-color)}.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-fab-small-state-layer-color)}.mat-mdc-mini-fab.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-fab-small-disabled-state-layer-color)}.mat-mdc-mini-fab:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-small-hover-state-layer-opacity)}.mat-mdc-mini-fab.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-small-focus-state-layer-opacity)}.mat-mdc-mini-fab:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-small-pressed-state-layer-opacity)}.mat-mdc-mini-fab:hover{box-shadow:var(--mdc-fab-small-hover-container-elevation-shadow)}.mat-mdc-mini-fab:focus{box-shadow:var(--mdc-fab-small-focus-container-elevation-shadow)}.mat-mdc-mini-fab:active,.mat-mdc-mini-fab:focus:active{box-shadow:var(--mdc-fab-small-pressed-container-elevation-shadow)}.mat-mdc-mini-fab[disabled],.mat-mdc-mini-fab.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-fab-small-disabled-state-foreground-color);background-color:var(--mat-fab-small-disabled-state-container-color)}.mat-mdc-mini-fab.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-extended-fab{box-shadow:var(--mdc-extended-fab-container-elevation-shadow)}.mat-mdc-extended-fab:hover{box-shadow:var(--mdc-extended-fab-hover-container-elevation-shadow)}.mat-mdc-extended-fab:focus{box-shadow:var(--mdc-extended-fab-focus-container-elevation-shadow)}.mat-mdc-extended-fab:active,.mat-mdc-extended-fab:focus:active{box-shadow:var(--mdc-extended-fab-pressed-container-elevation-shadow)}.mat-mdc-extended-fab[disabled],.mat-mdc-extended-fab.mat-mdc-button-disabled{cursor:default;pointer-events:none}.mat-mdc-extended-fab[disabled],.mat-mdc-extended-fab[disabled]:focus,.mat-mdc-extended-fab.mat-mdc-button-disabled,.mat-mdc-extended-fab.mat-mdc-button-disabled:focus{box-shadow:none}.mat-mdc-extended-fab.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-extended-fab>.mat-icon,.mat-mdc-extended-fab>.material-icons{margin-left:calc(12px - 20px);margin-right:12px}[dir=rtl] .mat-mdc-extended-fab>.mat-icon,[dir=rtl] .mat-mdc-extended-fab>.material-icons,.mat-mdc-extended-fab>.mat-icon[dir=rtl],.mat-mdc-extended-fab>.material-icons[dir=rtl]{margin-left:12px;margin-right:calc(12px - 20px)}.mat-mdc-extended-fab .mat-mdc-button-touch-target{width:100%}.mat-mdc-extended-fab .mdc-button__label+.mat-icon,.mat-mdc-extended-fab .mdc-button__label+.material-icons{margin-left:12px;margin-right:calc(12px - 20px)}[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.material-icons,.mat-mdc-extended-fab .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-extended-fab .mdc-button__label+.material-icons[dir=rtl]{margin-left:calc(12px - 20px);margin-right:12px}';var k5=new J("MAT_BUTTON_CONFIG");var R5=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],XN=(()=>{let e=class e{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(n){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,n)}get disableRipple(){return this._disableRipple}set disableRipple(n){this._disableRipple=n,this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(n){this._disabled=n,this._updateRippleDisabled()}constructor(n,r,o,s){this._elementRef=n,this._platform=r,this._ngZone=o,this._animationMode=s,this._focusMonitor=U(Dm),this._rippleLoader=U(KA),this._isFab=!1,this._disableRipple=!1,this._disabled=!1;let a=U(k5,{optional:!0}),l=n.nativeElement,c=l.classList;this.disabledInteractive=a?.disabledInteractive??!1,this._rippleLoader?.configureRipple(l,{className:"mat-mdc-button-ripple"});for(let{attribute:d,mdcClasses:u}of R5)l.hasAttribute(d)&&c.add(...u)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(n="program",r){n?this._focusMonitor.focusVia(this._elementRef.nativeElement,n,r):this._elementRef.nativeElement.focus(r)}_getAriaDisabled(){return this.ariaDisabled!=null?this.ariaDisabled:this.disabled&&this.disabledInteractive?!0:null}_getDisabledAttribute(){return this.disabledInteractive||!this.disabled?null:!0}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}};e.\u0275fac=function(r){Sp()},e.\u0275dir=Ve({type:e,inputs:{color:"color",disableRipple:[_e.HasDecoratorInputTransform,"disableRipple","disableRipple",Lt],disabled:[_e.HasDecoratorInputTransform,"disabled","disabled",Lt],ariaDisabled:[_e.HasDecoratorInputTransform,"aria-disabled","ariaDisabled",Lt],disabledInteractive:[_e.HasDecoratorInputTransform,"disabledInteractive","disabledInteractive",Lt]},features:[Vi]});let t=e;return t})();var zm=(()=>{let e=class e extends XN{constructor(n,r,o,s){super(n,r,o,s)}};e.\u0275fac=function(r){return new(r||e)(G(ke),G(Ot),G(ge),G(_n,8))},e.\u0275cmp=$e({type:e,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:14,hostBindings:function(r,o){r&2&&(Ei("disabled",o._getDisabledAttribute())("aria-disabled",o._getAriaDisabled()),Oa(o.color?"mat-"+o.color:""),Dt("mat-mdc-button-disabled",o.disabled)("mat-mdc-button-disabled-interactive",o.disabledInteractive)("_mat-animation-noopable",o._animationMode==="NoopAnimations")("mat-unthemed",!o.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[Ci,Wt],attrs:T5,ngContentSelectors:KN,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(r,o){r&1&&(yi(qN),at(0,"span",0),kt(1),ce(2,"span",1),kt(3,1),ue(),kt(4,2),at(5,"span",2)(6,"span",3)),r&2&&Dt("mdc-button__ripple",!o._isFab)("mdc-fab__ripple",o._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px);display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{font-family:var(--mdc-text-button-label-text-font);font-size:var(--mdc-text-button-label-text-size);letter-spacing:var(--mdc-text-button-label-text-tracking);font-weight:var(--mdc-text-button-label-text-weight);text-transform:var(--mdc-text-button-label-text-transform);height:var(--mdc-text-button-container-height);border-radius:var(--mdc-text-button-container-shape);padding:0 var(--mat-text-button-horizontal-padding, 8px)}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape)}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 8px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color)}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color)}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity)}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity)}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity)}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display)}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-unelevated-button{font-family:var(--mdc-filled-button-label-text-font);font-size:var(--mdc-filled-button-label-text-size);letter-spacing:var(--mdc-filled-button-label-text-tracking);font-weight:var(--mdc-filled-button-label-text-weight);text-transform:var(--mdc-filled-button-label-text-transform);height:var(--mdc-filled-button-container-height);border-radius:var(--mdc-filled-button-container-shape);padding:0 var(--mat-filled-button-horizontal-padding, 16px)}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color)}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color)}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity)}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity)}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity)}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display)}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{font-family:var(--mdc-protected-button-label-text-font);font-size:var(--mdc-protected-button-label-text-size);letter-spacing:var(--mdc-protected-button-label-text-tracking);font-weight:var(--mdc-protected-button-label-text-weight);text-transform:var(--mdc-protected-button-label-text-transform);height:var(--mdc-protected-button-container-height);border-radius:var(--mdc-protected-button-container-shape);padding:0 var(--mat-protected-button-horizontal-padding, 16px);box-shadow:var(--mdc-protected-button-container-elevation-shadow)}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color)}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color)}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color)}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity)}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity)}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity)}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display)}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow)}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow)}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow)}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow)}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{font-family:var(--mdc-outlined-button-label-text-font);font-size:var(--mdc-outlined-button-label-text-size);letter-spacing:var(--mdc-outlined-button-label-text-tracking);font-weight:var(--mdc-outlined-button-label-text-weight);text-transform:var(--mdc-outlined-button-label-text-transform);height:var(--mdc-outlined-button-container-height);border-radius:var(--mdc-outlined-button-container-shape);padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width);padding:0 var(--mat-outlined-button-horizontal-padding, 15px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color)}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape)}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color)}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width))}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color)}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity)}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity)}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity)}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display)}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-button-base{text-decoration:none}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px)*-1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0});let t=e;return t})();var L5=new J("mat-mdc-fab-default-options",{providedIn:"root",factory:QN});function QN(){return{color:"accent"}}var ZN=QN();var JN=(()=>{let e=class e extends XN{constructor(n,r,o,s,a){super(n,r,o,s),this._options=a,this._isFab=!0,this._options=this._options||ZN,this.color=this._options.color||ZN.color}};e.\u0275fac=function(r){return new(r||e)(G(ke),G(Ot),G(ge),G(_n,8),G(L5,8))},e.\u0275cmp=$e({type:e,selectors:[["button","mat-mini-fab",""]],hostVars:14,hostBindings:function(r,o){r&2&&(Ei("disabled",o._getDisabledAttribute())("aria-disabled",o._getAriaDisabled()),Oa(o.color?"mat-"+o.color:""),Dt("mat-mdc-button-disabled",o.disabled)("mat-mdc-button-disabled-interactive",o.disabledInteractive)("_mat-animation-noopable",o._animationMode==="NoopAnimations")("mat-unthemed",!o.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[Ci,Wt],attrs:A5,ngContentSelectors:KN,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(r,o){r&1&&(yi(qN),at(0,"span",0),kt(1),ce(2,"span",1),kt(3,1),ue(),kt(4,2),at(5,"span",2)(6,"span",3)),r&2&&Dt("mdc-button__ripple",!o._isFab)("mdc-fab__ripple",o._isFab)},styles:[N5],encapsulation:2,changeDetection:0});let t=e;return t})();var ek=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=be({type:e}),e.\u0275inj=ye({imports:[Et,Nu,Et]});let t=e;return t})();var ik=(()=>{let e=class e{transform(n,r){return r?n.filter(o=>o.tags.includes(r)):n}};e.\u0275fac=function(r){return new(r||e)},e.\u0275pipe=wv({name:"filterByTag",type:e,pure:!0});let t=e;return t})();function P5(t,e){if(t&1&&(ce(0,"mat-card-content"),Ue(1),ue()),t&2){let i=e.$implicit;Ze(),Mn(i)}}function F5(t,e){if(t&1){let i=Er();ce(0,"mat-card",8),it("click",function(){let r=zn(i).$implicit,o=Gn();return Vn(o.goToChampionDetail(r))}),ce(1,"mat-card-header")(2,"mat-card-title"),Ue(3),ue(),ce(4,"mat-card-subtitle"),Ue(5),ue()(),at(6,"span",4),Ui(7,P5,2,1,"mat-card-content",9),ue()}if(t&2){let i=e.$implicit;Ze(3),Mn(i.name),Ze(2),Mn(i.title),Ze(2),Ct("ngForOf",i.tags)}}var nk=(()=>{let e=class e{constructor(n,r){this.dataService=n,this.router=r,this.champions=[],this.selectedTag=null,this.Tag=Pu}ngOnInit(){this.getChampions()}getChampions(){this.dataService.getChampions().subscribe(n=>{this.champions=n})}selectTag(n){this.selectedTag=n}clearFilter(){this.selectedTag=null}goToChampionDetail(n){console.log("Le champion : "+n.name),this.router.navigate([`${this.router.url}`,n.id])}addChampion(){this.router.navigate([`${this.router.url}/ajouter`])}};e.\u0275fac=function(r){return new(r||e)(G(Os),G(Gi))},e.\u0275cmp=$e({type:e,selectors:[["app-champion-list"]],decls:26,vars:4,consts:[[1,"champions"],[1,"upper-list"],[1,"filtre-tags"],["mat-mini-fab","",1,"other-actions",3,"click"],[1,"spacer"],["mat-stroked-button","",1,"tags",3,"click"],[1,"champion-list"],[3,"click",4,"ngFor","ngForOf"],[3,"click"],[4,"ngFor","ngForOf"]],template:function(r,o){r&1&&(ce(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),it("click",function(){return o.clearFilter()}),ce(4,"mat-icon"),Ue(5,"menu"),ue()(),at(6,"span",4),ce(7,"button",5),it("click",function(){return o.selectTag(o.Tag.Fighter)}),Ue(8,"Fighter"),ue(),ce(9,"button",5),it("click",function(){return o.selectTag(o.Tag.Assassin)}),Ue(10,"Assassin"),ue(),ce(11,"button",5),it("click",function(){return o.selectTag(o.Tag.Mage)}),Ue(12,"Mage"),ue(),ce(13,"button",5),it("click",function(){return o.selectTag(o.Tag.Marksman)}),Ue(14,"Marksman"),ue(),ce(15,"button",5),it("click",function(){return o.selectTag(o.Tag.Support)}),Ue(16,"Support"),ue(),ce(17,"button",5),it("click",function(){return o.selectTag(o.Tag.Tank)}),Ue(18,"Tank"),ue(),at(19,"span",4),ce(20,"button",3),it("click",function(){return o.addChampion()}),ce(21,"mat-icon"),Ue(22,"add"),ue()()()(),ce(23,"div",6),Ui(24,F5,8,3,"mat-card",7),JE(25,"filterByTag"),ue()()),r&2&&(Ze(24),Ct("ngForOf",eT(25,1,o.champions,o.selectedTag)))},dependencies:[Ts,WN,Im,Sm,eN,JA,QA,zm,JN,ik],styles:["body[_ngcontent-%COMP%]{background-color:#010a13;font-family:Roboto,sans-serif;color:#f0e6d2}.champion-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:10px;margin-top:20px;justify-content:center;text-align:center}mat-card[_ngcontent-%COMP%]{background-color:#c89b3c;color:#fff;border:2px solid #C89B3C;border-radius:30px;text-align:center;width:300px}mat-card[_ngcontent-%COMP%]:hover{background-color:#0ac8b9;color:#fff;border:2px solid #0AC8B9;border-radius:30px;text-align:center;color:#000;cursor:pointer;transform:scale(1.05)}mat-card-header[_ngcontent-%COMP%]{justify-content:center;text-align:center}mat-card-content[_ngcontent-%COMP%]{color:#000}.champions[_ngcontent-%COMP%]{margin-left:10%;margin-right:10%}.filtre-tags[_ngcontent-%COMP%]{display:flex;align-items:center;text-align:center;justify-content:center}.filtre-tags[_ngcontent-%COMP%]   .tags[_ngcontent-%COMP%]{padding:.5% 1%;border-radius:30px;margin:1%;border-color:#c89b3c;color:#c89b3c}.other-actions[_ngcontent-%COMP%]{color:#c89b3c;border-color:#c89b3c;border:2px solid #C89B3C}.filtre-tags[_ngcontent-%COMP%]   .tags[_ngcontent-%COMP%]:hover, .filtre-tags[_ngcontent-%COMP%]   .other-actions[_ngcontent-%COMP%]:hover{background-color:#c89b3c;border-color:#c89b3c;color:#010a13;transform:scale(1.05)}.spacer[_ngcontent-%COMP%]{flex:1 1 auto}"]});let t=e;return t})();function j5(t,e){if(t&1){let i=Er();ce(0,"label",14)(1,"input",15),it("change",function(r){let o=zn(i).$implicit,s=Gn();return Vn(s.onTagChange(o,r))}),ue(),ce(2,"span"),Ue(3),ue()()}if(t&2){let i=e.$implicit,n=Gn();Dt("selected",n.isTagSelected(i)),Ze(),Ct("value",i)("checked",n.isTagSelected(i)),Ze(2),Mn(i)}}function B5(t,e){if(t&1){let i=Er();ce(0,"button",16),it("click",function(){zn(i);let r=Gn();return Vn(r.onDelete())}),Ue(1,"Delete"),ue()}}var Hx=(()=>{let e=class e{constructor(n,r,o,s){this.router=n,this.route=r,this.dataService=o,this.fb=s,this.selectedChampionId=null,this.championTags=Object.values(Pu),this.isEditMode=!1,this.newId=0,this.championForm=this.fb.group({name:["",Ou.required],title:["",Ou.required],tags:[[]]})}ngOnInit(){this.route.paramMap.subscribe(n=>{let r=n.get("id");r?(this.isEditMode=!0,this.selectedChampionId=Number(r),this.getChampionById(this.selectedChampionId)):this.isEditMode=!1})}getChampionById(n){this.dataService.getChampionById(n).subscribe(r=>{this.selectedChampion=r,this.selectedChampion&&this.populateForm(this.selectedChampion)})}deleteChampion(n){this.dataService.deleteChampion(n).subscribe({next:()=>{this.router.navigate(["/champions"])},error:r=>console.error("Error deleting champion:",r)})}updateChampion(n){this.dataService.updateChampion(n).subscribe({next:()=>{this.router.navigate(["/champions"])},error:r=>console.error("Error updating champion:",r)})}addChampion(n){this.dataService.addChampion(n).subscribe({next:()=>{this.router.navigate(["/champions"])},error:r=>console.error("Error adding champion:",r)})}getChampionIds(){this.dataService.getChampionIds().subscribe(n=>{console.log("Champion IDs:",n),this.newId=Math.max(...n)+1,console.log("New ID:",this.newId)})}onDelete(){this.selectedChampion&&confirm("Are you sure you want to delete this champion?")&&this.deleteChampion(this.selectedChampion.id)}onSubmit(){if(this.championForm.valid)if(this.isEditMode&&this.selectedChampion){let n=C(C({},this.selectedChampion),this.championForm.value);this.updateChampion(n)}else{let n=C({id:this.generateChampionId()},this.championForm.value);this.addChampion(n)}}populateForm(n){this.championForm.patchValue({name:n.name,title:n.title,tags:n.tags})}isTagSelected(n){return this.championForm.value.tags.includes(n)}onTagChange(n,r){let o=r.target.checked,s=this.championForm.value.tags;if(o)s.push(n);else{let a=s.indexOf(n);a>-1&&s.splice(a,1)}this.championForm.controls.tags.setValue(s)}generateChampionId(){return this.getChampionIds(),this.newId}OnCancel(){this.router.navigate(["/champions"])}};e.\u0275fac=function(r){return new(r||e)(G(Gi),G(jo),G(Os),G(ON))},e.\u0275cmp=$e({type:e,selectors:[["app-champion-detail"]],decls:22,vars:3,consts:[[1,"form"],[1,"champion"],[3,"ngSubmit","formGroup"],[1,"form-group"],["for","name"],["id","name","formControlName","name","type","text"],["for","title"],["id","title","formControlName","title","type","text"],[1,"tags-container"],["class","tag-option",3,"selected",4,"ngFor","ngForOf"],["type","submit"],["type","button","class","delete-button",3,"click",4,"ngIf"],[1,"cancel"],["type","button",1,"cancel-button",3,"click"],[1,"tag-option"],["type","checkbox",3,"change","value","checked"],["type","button",1,"delete-button",3,"click"]],template:function(r,o){r&1&&(ce(0,"div",0)(1,"div",1)(2,"form",2),it("ngSubmit",function(){return o.onSubmit()}),ce(3,"div",3)(4,"label",4),Ue(5,"Nom:"),ue(),at(6,"input",5),ue(),ce(7,"div",3)(8,"label",6),Ue(9,"Titre:"),ue(),at(10,"input",7),ue(),ce(11,"div",3)(12,"label"),Ue(13,"Tags:"),ue(),ce(14,"div",8),Ui(15,j5,4,5,"label",9),ue()(),ce(16,"button",10),Ue(17,"Save"),ue(),Ui(18,B5,2,0,"button",11),ue()(),ce(19,"div",12)(20,"button",13),it("click",function(){return o.OnCancel()}),Ue(21,"Cancel"),ue()()()),r&2&&(Ze(2),Ct("formGroup",o.championForm),Ze(13),Ct("ngForOf",o.championTags),Ze(3),Ct("ngIf",o.isEditMode))},dependencies:[Ts,Up,kN,Nc,Lm,IN,Ux,Gx],styles:[".champion[_ngcontent-%COMP%]{max-width:600px;margin:0 auto;padding:20px;background:#1e2a38;border-radius:10px;border:1px solid #0AC8B9;box-shadow:0 4px 10px #0000001a;color:#f5f5f5}label[_ngcontent-%COMP%]{display:block;margin-bottom:8px;font-weight:700;color:#c89b3c}.form-group[_ngcontent-%COMP%]{margin-bottom:16px}input[type=text][_ngcontent-%COMP%]{width:100%;padding:10px;border-radius:5px;border:1px solid #ccc;background:#2d3b4e;color:#f5f5f5;font-size:16px;box-sizing:border-box}input[type=text][_ngcontent-%COMP%]:focus{border-color:#0ac8b9;outline:none}.tags-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:10px}.tag-option[_ngcontent-%COMP%]{display:flex;align-items:center;background-color:#2d3b4e;padding:8px 12px;border-radius:20px;cursor:pointer;transition:background-color .3s ease;border:1px solid transparent}.tag-option[_ngcontent-%COMP%]:hover{background-color:#0ac8b9}.tag-option[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{display:none}.tag-option[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:checked + span[_ngcontent-%COMP%]{font-weight:700;color:#c89b3c}button[_ngcontent-%COMP%]{width:100%;padding:12px;background-color:#0ac8b9;color:#010a13;font-size:16px;font-weight:700;border:none;border-radius:5px;cursor:pointer;margin-bottom:5px;transition:background-color .3s ease,color .3s ease}button[_ngcontent-%COMP%]:hover{background-color:#c89b3c;color:#010a13}.tag-option.selected[_ngcontent-%COMP%]{background-color:#0ac8b9;border-color:#0ac8b9}.tag-option.selected[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#010a13;font-weight:700}.buttons-group[_ngcontent-%COMP%]{display:flex;gap:10px}button.delete-button[_ngcontent-%COMP%]{background-color:#d9534f;color:#fff}button.delete-button[_ngcontent-%COMP%]:hover{background-color:#c9302c}.cancel-button[_ngcontent-%COMP%]{width:300px;background-color:#c89b3c}.cancel-button[_ngcontent-%COMP%]:hover{background-color:#785a28}.cancel[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-top:20px}"]});let t=e;return t})();var CP=FF(rk());var g1=Object.defineProperty,z5=Object.getOwnPropertyDescriptor,go=(t,e)=>{for(var i in e)g1(t,i,{get:e[i],enumerable:!0})},y=(t,e,i,n)=>{for(var r=n>1?void 0:n?z5(e,i):e,o=t.length-1,s;o>=0;o--)(s=t[o])&&(r=(n?s(e,i,r):s(r))||r);return n&&r&&g1(e,i,r),r},V5={ariaAnnounceVisible:"visible",ariaAnnounceHidden:"hidden",ariaAnnounceHoverDatum:"${datum}",ariaAnnounceChart:"chart, ${seriesCount}[number] series",ariaAnnounceHierarchyDatum:"level ${level}[number], ${count}[number] children, ${description}",ariaAnnounceFlowProportionLink:"link ${index} of ${count}, from ${from} to ${to}, ${sizeName} ${size}",ariaAnnounceFlowProportionNode:"node ${index} of ${count}, ${description}",ariaLabelAnnotationOptionsToolbar:"Annotation Options",ariaLabelColorPicker:"Color picker",ariaLabelFinancialCharts:"Financial Charts",ariaLabelLegend:"Legend",ariaLabelLegendPagination:"Legend Pagination",ariaLabelLegendPagePrevious:"Previous Legend Page",ariaLabelLegendPageNext:"Next Legend Page",ariaLabelLegendItem:"${label}, Legend item ${index}[number] of ${count}[number], ",ariaLabelLegendItemUnknown:"Unknown legend item",ariaLabelNavigator:"Navigator",ariaLabelNavigatorRange:"Range",ariaLabelNavigatorMinimum:"Minimum",ariaLabelNavigatorMaximum:"Maximum",ariaLabelRangesToolbar:"Ranges",ariaLabelZoomToolbar:"Zoom",ariaValuePanRange:"${min}[percent] to ${max}[percent]",overlayLoadingData:"Loading data...",overlayNoData:"No data to display",overlayNoVisibleSeries:"No visible series",toolbarSeriesTypeDropdown:"Chart Type",toolbarSeriesTypeOHLC:"OHLC",toolbarSeriesTypeHLC:"HLC",toolbarSeriesTypeHighLow:"High Low",toolbarSeriesTypeCandles:"Candles",toolbarSeriesTypeHollowCandles:"Hollow Candles",toolbarSeriesTypeLine:"Line",toolbarSeriesTypeLineWithMarkers:"Line with Markers",toolbarSeriesTypeStepLine:"Step Line",toolbarAnnotationsTrendLine:"Trend Line",toolbarAnnotationsHorizontalLine:"Horizontal Line",toolbarAnnotationsVerticalLine:"Vertical Line",toolbarAnnotationsParallelChannel:"Parallel Channel",toolbarAnnotationsDisjointChannel:"Disjoint Channel",toolbarAnnotationsClearAll:"Clear All",toolbarAnnotationsColor:"Color",toolbarAnnotationsFillColor:"Fill Color",toolbarAnnotationsLineColor:"Line Color",toolbarAnnotationsTextColor:"Text Color",toolbarAnnotationsTextSize:"Text Size",toolbarAnnotationsLock:"Lock",toolbarAnnotationsUnlock:"Unlock",toolbarAnnotationsDelete:"Delete",toolbarAnnotationsLineAnnotations:"Trend Lines",toolbarAnnotationsTextAnnotations:"Text Annotations",toolbarAnnotationsCallout:"Callout",toolbarAnnotationsComment:"Comment",toolbarAnnotationsNote:"Note",toolbarAnnotationsText:"Text",toolbarRange1Month:"1M",toolbarRange1MonthAria:"1 month",toolbarRange3Months:"3M",toolbarRange3MonthsAria:"3 months",toolbarRange6Months:"6M",toolbarRange6MonthsAria:"6 months",toolbarRangeYearToDate:"YTD",toolbarRangeYearToDateAria:"Year to date",toolbarRange1Year:"1Y",toolbarRange1YearAria:"1 year",toolbarRangeAll:"All",toolbarRangeAllAria:"All",toolbarZoomZoomOut:"Zoom out",toolbarZoomZoomIn:"Zoom in",toolbarZoomPanLeft:"Pan left",toolbarZoomPanRight:"Pan right",toolbarZoomPanStart:"Pan to the start",toolbarZoomPanEnd:"Pan to the end",toolbarZoomReset:"Reset the zoom",contextMenuDownload:"Download",contextMenuToggleSeriesVisibility:"Toggle Visibility",contextMenuToggleOtherSeries:"Toggle Other Series",contextMenuZoomToCursor:"Zoom to here",contextMenuPanToCursor:"Pan to here"};var U5={},G5=void 0;G5=U5;var H5=["delete-legacy","disjoint-channel","disjoint-channel-legacy","horizontal-line-legacy","line-color-legacy","lock","lock-legacy","pan-end-legacy","pan-left-legacy","pan-right-legacy","pan-start-legacy","parallel-channel","parallel-channel-legacy","reset-legacy","trend-line","trend-line-legacy","unlock","unlock-legacy","vertical-line","vertical-line-legacy","zoom-in-legacy","zoom-in-alt","zoom-in-alt-legacy","zoom-out-legacy","zoom-out-alt","zoom-out-alt-legacy"],y1=(t=>(t.POINTER="pointer",t.NODE="node",t.TOP="top",t.RIGHT="right",t.BOTTOM="bottom",t.LEFT="left",t.TOP_LEFT="top-left",t.TOP_RIGHT="top-right",t.BOTTOM_RIGHT="bottom-right",t.BOTTOM_LEFT="bottom-left",t))(y1||{}),$5={},W5=void 0;W5=$5;var Y5={};go(Y5,{TimeInterval:()=>yl,day:()=>eM,friday:()=>I1,hour:()=>J_,millisecond:()=>K_,minute:()=>Q_,monday:()=>_1,month:()=>iM,saturday:()=>S1,second:()=>X_,sunday:()=>tM,thursday:()=>w1,tuesday:()=>M1,utcDay:()=>T1,utcHour:()=>E1,utcMinute:()=>C1,utcMonth:()=>A1,utcYear:()=>N1,wednesday:()=>D1,year:()=>nM});var g_=new Map;function y_(t,e){g_.has(e)||(g_.set(e,!0),t())}y_.clear=()=>g_.clear();function ok(t){return t}function*Vm(...t){for(let e of t)yield*tf(e)}function sk(t,e=0,i){let{leading:n=!0,trailing:r=!0}=i??{},o,s,a=!1;function l(){r&&s?(o=setTimeout(l,e),t(...s)):a=!1,s=null}function c(...d){a?s=d:(a=!0,o=setTimeout(l,e),n?t(...d):s=d)}return Object.assign(c,{cancel(){clearTimeout(o),a=!1,s=null}})}function Z5(...t){return()=>{for(let e of t)e()}}var Y={log(...t){console.log(...t)},warn(t,...e){console.warn(`AG Charts - ${t}`,...e)},error(t,...e){typeof t=="object"?console.error("AG Charts error",t,...e):console.error(`AG Charts - ${t}`,...e)},table(...t){console.table(...t)},warnOnce(t,...e){y_(()=>Y.warn(t,...e),`Logger.warn: ${t}`)},errorOnce(t,...e){y_(()=>Y.error(t,...e),`Logger.error: ${t}`)}},yl=class{constructor(t,e,i){this._encode=t,this._decode=e,this._rangeCallback=i}floor(t){let e=new Date(t),i=this._encode(e);return this._decode(i)}ceil(t){let e=new Date(Number(t)-1),i=this._encode(e);return this._decode(i+1)}range(t,e,i){let n=this._rangeCallback?.(t,e),r=this._encode(i?this.floor(t):this.ceil(t)),o=this._encode(i?this.ceil(e):this.floor(e));if(o<r)return[];let s=[];for(let a=r;a<=o;a++){let l=this._decode(a);s.push(l)}return n?.(),s}},An=class extends yl{getOffset(t,e){let i=typeof t=="number"||t instanceof Date?this._encode(new Date(t)):0;return Math.floor(i)%e}every(t,e){let i=0,n,r=t;t=Math.max(1,Math.round(t)),r!==t&&Y.warnOnce(`interval step of [${r}] rounded to [${t}].`);let{snapTo:o="start"}=e??{};if(typeof o=="string"){let l=i;n=(c,d)=>{let u=o==="start"?c:d;return i=this.getOffset(u,t),()=>i=l}}else typeof o=="number"?i=this.getOffset(new Date(o),t):o instanceof Date&&(i=this.getOffset(o,t));let s=l=>{let c=this._encode(l);return Math.floor((c-i)/t)},a=l=>this._decode(l*t+i);return new yl(s,a,n)}};function q5(t){return t.getTime()}function K5(t){return new Date(t)}var K_=new An(q5,K5),X5=K_,ose=new Date(0).getFullYear(),Us=1e3,xi=Us*60,Hi=xi*60,or=Hi*24,Wo=or*7,ju=or*30,Wc=or*365,b1=new Date().getTimezoneOffset()*xi;function Q5(t){return Math.floor((t.getTime()-b1)/Us)}function J5(t){return new Date(b1+t*Us)}var X_=new An(Q5,J5),Uu=X_,v1=new Date().getTimezoneOffset()*xi;function e$(t){return Math.floor((t.getTime()-v1)/xi)}function t$(t){return new Date(v1+t*xi)}var Q_=new An(e$,t$),Gu=Q_,x1=new Date().getTimezoneOffset()*xi;function i$(t){return Math.floor((t.getTime()-x1)/Hi)}function n$(t){return new Date(x1+t*Hi)}var J_=new An(i$,n$),Hu=J_;function r$(t){let e=t.getTimezoneOffset()*xi;return Math.floor((t.getTime()-e)/or)}function o$(t){let e=new Date(1970,0,1);return e.setDate(e.getDate()+t),e}var eM=new An(r$,o$),b_=eM;function vl(t){let i=(7+t-4)%7;function n(o){let s=o.getTimezoneOffset()*xi;return Math.floor((o.getTime()-s)/Wo-i/7)}function r(o){let s=new Date(1970,0,1);return s.setDate(s.getDate()+o*7+i),s}return new An(n,r)}var tM=vl(0),_1=vl(1),M1=vl(2),D1=vl(3),w1=vl(4),I1=vl(5),S1=vl(6),og=tM;function s$(t){return t.getFullYear()*12+t.getMonth()}function a$(t){let e=Math.floor(t/12),i=t-e*12;return new Date(e,i,1)}var iM=new An(s$,a$),kc=iM;function l$(t){return t.getFullYear()}function c$(t){let e=new Date;return e.setFullYear(t),e.setMonth(0,1),e.setHours(0,0,0,0),e}var nM=new An(l$,c$),rM=nM;function d$(t){return Math.floor(t.getTime()/xi)}function u$(t){return new Date(t*xi)}var C1=new An(d$,u$);function h$(t){return Math.floor(t.getTime()/Hi)}function f$(t){return new Date(t*Hi)}var E1=new An(h$,f$);function p$(t){return Math.floor(t.getTime()/or)}function m$(t){let e=new Date(0);return e.setUTCDate(e.getUTCDate()+t),e.setUTCHours(0,0,0,0),e}var T1=new An(p$,m$);function g$(t){return t.getUTCFullYear()*12+t.getUTCMonth()}function y$(t){let e=Math.floor(t/12),i=t-e*12;return new Date(Date.UTC(e,i,1))}var A1=new An(g$,y$);function b$(t){return t.getUTCFullYear()}function v$(t){let e=new Date;return e.setUTCFullYear(t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0),e}var N1=new An(b$,v$),k1={};go(k1,{NODE_UPDATE_STATE_TO_PHASE_MAPPING:()=>$i,fromToMotion:()=>Vt,staticFromToMotion:()=>yo});var v_=new Map;function R1(){v_.clear()}function lr(t){let e=t.constructor,i=Object.hasOwn(e,"className")?e.className:e.name;if(!i)throw new Error(`The ${e} is missing the 'className' property.`);let n=(v_.get(i)??0)+1;return v_.set(i,n),`${i}-${n}`}function x$(){return URL.createObjectURL(new Blob).split("/").at(-1)}function L1(t){return typeof t!="object"||t==null||!(Symbol.iterator in t)?P1(t):t}function*O1(...t){for(let e of t)for(let i of e)yield i}function*P1(...t){for(let e of t)yield e}var Cg="$interpolate",ak=t=>t[Cg]!=null;function Eg(t,e,i,n=1/0){let r={nearest:void 0,distanceSquared:n};for(let o of i){let s=o.distanceSquared(t,e);if(s===0)return{nearest:o,distanceSquared:0};s<r.distanceSquared&&(r.nearest=o,r.distanceSquared=s)}return r}function _$(t,e,i,n=1/0){let{x:r,y:o}=i.transformPoint(t,e),s={nearest:void 0,distanceSquared:n};for(let a of i.children){let{nearest:l,distanceSquared:c}=a.nearestSquared(r,o,s.distanceSquared);if(c===0)return{nearest:l,distanceSquared:c};c<s.distanceSquared&&(s.nearest=l,s.distanceSquared=c)}return s}function Ce(t,e,i){return Math.min(i,Math.max(t,e))}function fg(t,e){let[i,n]=En(e);return Ce(i,t,n)}function En(t){if(t.length===0)return[];let e=[1/0,-1/0];for(let i of t)i<e[0]&&(e[0]=i),i>e[1]&&(e[1]=i);return e}function Yc(t){let[e,i]=En(t);return i-e}function dl(t,e,i=1e-10){return Math.abs(t-e)<i}function Ih(t){return Math.sign(t)===-1||Object.is(t,-0)}function Tg(t,e=2){let i=10**e;return Math.round(t*i)/i}function Ag(t,e=2){let i=Math.floor(Math.log(Math.abs(t))/Math.LN10);return i>=0||!isFinite(i)?t.toFixed(e):t.toFixed(Math.abs(i)-1+e)}function Ng(t,e){return Math.floor(t%e+(t<0?e:0))}function Sh(t){return Math.floor(t)===t?0:String(t).split(".")[1]?.length??0}function oM(t,e){return e=e??navigator.language,new Intl.NumberFormat(e,{style:"percent"}).format(t)}function sM(t,e){return oM(t/100,e)}var ch=class Rc{constructor(e,i,n,r){this.x=e,this.y=i,this.width=n,this.height=r}static fromDOMRect({x:e,y:i,width:n,height:r}){return new Rc(e,i,n,r)}toDOMRect(){return{x:this.x,y:this.y,width:this.width,height:this.height,top:this.y,left:this.x,right:this.x+this.width,bottom:this.y+this.height,toJSON(){return{}}}}clone(){let{x:e,y:i,width:n,height:r}=this;return new Rc(e,i,n,r)}equals(e){return this.x===e.x&&this.y===e.y&&this.width===e.width&&this.height===e.height}containsPoint(e,i){return e>=this.x&&e<=this.x+this.width&&i>=this.y&&i<=this.y+this.height}intersection(e){if(!this.collidesBBox(e))return;let i=Ce(e.x,this.x,e.x+e.width),n=Ce(e.y,this.y,e.y+e.height),r=Ce(e.x,this.x+this.width,e.x+e.width),o=Ce(e.y,this.y+this.height,e.y+e.height);return new Rc(i,n,r-i,o-n)}collidesBBox(e){return this.x<e.x+e.width&&this.x+this.width>e.x&&this.y<e.y+e.height&&this.y+this.height>e.y}computeCenter(){return{x:this.x+this.width/2,y:this.y+this.height/2}}isFinite(){return Number.isFinite(this.x)&&Number.isFinite(this.y)&&Number.isFinite(this.width)&&Number.isFinite(this.height)}distanceSquared(e,i){if(this.containsPoint(e,i))return 0;let n=e-Ce(this.x,e,this.x+this.width),r=i-Ce(this.y,i,this.y+this.height);return n*n+r*r}static nearestBox(e,i,n){return Eg(e,i,n)}clip(e){if(e===void 0)return this;let i=Math.max(this.x,e.x),n=Math.max(this.y,e.y),r=Math.min(this.x+this.width,e.x+e.width),o=Math.min(this.y+this.height,e.y+e.height);return this.x=i,this.y=n,this.width=Math.max(0,r-i),this.height=Math.max(0,o-n),this}shrink(e,i){let n=(r,o)=>{switch(r){case"top":this.y+=o;case"bottom":this.height-=o;break;case"left":this.x+=o;case"right":this.width-=o;break;case"vertical":this.y+=o,this.height-=o*2;break;case"horizontal":this.x+=o,this.width-=o*2;break;case void 0:this.x+=o,this.width-=o*2,this.y+=o,this.height-=o*2;break;default:}};return typeof e=="number"?n(i,e):typeof e=="object"&&Object.entries(e).forEach(([r,o])=>n(r,o)),this}grow(e,i){if(typeof e=="number")this.shrink(-e,i);else{let n=C({},e);for(let r in n)n[r]*=-1;this.shrink(n)}return this}translate(e,i){return this.x+=e,this.y+=i,this}combine(e){let{x:i,y:n,width:r,height:o}=this;this.x=Math.min(i,e.x),this.y=Math.min(n,e.y),this.width=Math.max(i+r,e.x+e.width)-this.x,this.height=Math.max(n+o,e.y+e.height)-this.y}static merge(e){let i=1/0,n=1/0,r=-1/0,o=-1/0;for(let s of e)s.x<i&&(i=s.x),s.y<n&&(n=s.y),s.x+s.width>r&&(r=s.x+s.width),s.y+s.height>o&&(o=s.y+s.height);return new Rc(i,n,r-i,o-n)}[Cg](e,i){return new Rc(this.x*(1-i)+e.x*i,this.y*(1-i)+e.y*i,this.width*(1-i)+e.width*i,this.height*(1-i)+e.height*i)}};ch.zero=Object.freeze(new ch(0,0,0,0));ch.NaN=Object.freeze(new ch(NaN,NaN,NaN,NaN));var se=ch,Ws=(t=>(t[t.NONE=0]="NONE",t[t.TRIVIAL=1]="TRIVIAL",t[t.MINOR=2]="MINOR",t[t.MAJOR=3]="MAJOR",t))(Ws||{});function re(t){return function(e,i){let n=`__${i}`;e[i]||M$(e,i,n,t)}}function M$(t,e,i,n){let{redraw:r=1,type:o="normal",changeCb:s,convertor:a,checkDirtyOnAssignment:l=!1}=n??{},c={redraw:r,type:o,changeCb:s,checkDirtyOnAssignment:l,convertor:a},d;switch(o){case"normal":d=S$(i,c);break;case"transform":d=C$(i,c);break;case"path":d=E$(i,c);break;case"font":d=T$(i,c);break}d=I$(w$(D$(d,c),c),c),Object.defineProperty(t,e,{set:d,get:function(){return this[i]},enumerable:!0,configurable:!0})}function D$(t,e){let{convertor:i}=e;return i?function(n){t.call(this,i(n))}:t}var ed=Symbol("no-change");function w$(t,e){let{changeCb:i}=e;return i?function(n){let r=t.call(this,n);return r!==ed&&i.call(this,this),r}:t}function I$(t,e){let{checkDirtyOnAssignment:i}=e;return i?function(n){let r=t.call(this,n);return r!==ed&&n!=null&&n._dirty>0&&this.markDirty(n,n._dirty),r}:t}function S$(t,e){let{redraw:i=1,changeCb:n}=e;return function(r){let o=this[t];return r!==o?(this[t]=r,this.markDirty(this,i),n?.(this),r):ed}}function C$(t,e){let{redraw:i=1}=e;return function(n){let r=this[t];return n!==r?(this[t]=n,this.markDirtyTransform(i),n):ed}}function E$(t,e){let{redraw:i=1}=e;return function(n){let r=this[t];return n!==r?(this[t]=n,this._dirtyPath||(this._dirtyPath=!0,this.markDirty(this,i)),n):ed}}function T$(t,e){let{redraw:i=1}=e;return function(n){let r=this[t];return n!==r?(this[t]=n,this._dirtyFont||(this._dirtyFont=!0,this.markDirty(this,i)),n):ed}}var A$=class{constructor(){this._dirty=3}markDirty(t,e=1){this._dirty<e&&(this._dirty=e)}markClean(t){this._dirty=0}isDirty(){return this._dirty>0}},x_=class $u{get e(){return[...this.elements]}constructor(e=[1,0,0,1,0,0]){this.elements=e}setElements(e){let i=this.elements;return i[0]=e[0],i[1]=e[1],i[2]=e[2],i[3]=e[3],i[4]=e[4],i[5]=e[5],this}get identity(){let e=this.elements;return e[0]===1&&e[1]===0&&e[2]===0&&e[3]===1&&e[4]===0&&e[5]===0}AxB(e,i,n){let r=e[0]*i[0]+e[2]*i[1],o=e[1]*i[0]+e[3]*i[1],s=e[0]*i[2]+e[2]*i[3],a=e[1]*i[2]+e[3]*i[3],l=e[0]*i[4]+e[2]*i[5]+e[4],c=e[1]*i[4]+e[3]*i[5]+e[5];n=n??e,n[0]=r,n[1]=o,n[2]=s,n[3]=a,n[4]=l,n[5]=c}multiplySelf(e){return this.AxB(this.elements,e.elements),this}multiply(e){let i=new Array(6);return this.AxB(this.elements,e.elements,i),new $u(i)}preMultiplySelf(e){return this.AxB(e.elements,this.elements,this.elements),this}inverse(){let e=this.elements,i=e[0],n=e[1],r=e[2],o=e[3],s=e[4],a=e[5],l=1/(i*o-n*r);return i*=l,n*=l,r*=l,o*=l,new $u([o,-n,-r,i,r*a-o*s,n*s-i*a])}inverseTo(e){let i=this.elements,n=i[0],r=i[1],o=i[2],s=i[3],a=i[4],l=i[5],c=1/(n*s-r*o);return n*=c,r*=c,o*=c,s*=c,e.setElements([s,-r,-o,n,o*l-s*a,r*a-n*l]),this}invertSelf(){let e=this.elements,i=e[0],n=e[1],r=e[2],o=e[3],s=e[4],a=e[5],l=1/(i*o-n*r);return i*=l,n*=l,r*=l,o*=l,e[0]=o,e[1]=-n,e[2]=-r,e[3]=i,e[4]=r*a-o*s,e[5]=n*s-i*a,this}transformPoint(e,i){let n=this.elements;return{x:e*n[0]+i*n[2]+n[4],y:e*n[1]+i*n[3]+n[5]}}transformBBox(e,i){let n=this.elements,r=n[0],o=n[1],s=n[2],a=n[3],l=e.width*.5,c=e.height*.5,d=e.x+l,u=e.y+c,h=Math.abs(l*r)+Math.abs(c*s),f=Math.abs(l*o)+Math.abs(c*a);return i??(i=new se(0,0,0,0)),i.x=d*r+u*s+n[4]-h,i.y=d*o+u*a+n[5]-f,i.width=h+h,i.height=f+f,i}toContext(e){if(this.identity)return;let i=this.elements;e.transform(i[0],i[1],i[2],i[3],i[4],i[5])}static flyweight(e){return $u.instance.setElements(e.elements)}static updateTransformMatrix(e,i,n,r,o,s,a){let l=i,c=n,d,u;l===1&&c===1?(d=0,u=0):(d=a?.scalingCenterX??0,u=a?.scalingCenterY??0);let h=r,f=Math.cos(h),p=Math.sin(h),m,b;h===0?(m=0,b=0):(m=a?.rotationCenterX??0,b=a?.rotationCenterY??0);let g=o,v=s,M=d*(1-l)-m,w=u*(1-c)-b;return e.setElements([f*l,p*l,-p*c,f*c,f*M-p*w+m+g,p*M+f*w+b+v]),e}static fromContext(e){let i=e.getTransform();return new $u([i.a,i.b,i.c,i.d,i.e,i.f])}};x_.instance=new x_;var Gs=x_,F1=(t=>(t[t.All=0]="All",t[t.None=1]="None",t))(F1||{}),un=class j1 extends A${constructor({isVirtual:e,tag:i,zIndex:n,name:r}={}){super(),this.serialNumber=j1._nextSerialNumber++,this.id=lr(this),this.isContainerNode=!1,this._virtualChildren=[],this._children=[],this.childSet={},this.matrix=new Gs,this.dirtyTransform=!1,this.scalingX=1,this.scalingY=1,this.scalingCenterX=null,this.scalingCenterY=null,this.rotationCenterX=null,this.rotationCenterY=null,this.rotation=0,this.translationX=0,this.translationY=0,this._childNodeCounts={groups:0,nonGroups:0},this.visible=!0,this.dirtyZIndex=!1,this.zIndex=0,this.zIndexSubOrder=void 0,this.pointerEvents=0,this.name=r,this.isVirtual=e??!1,this.tag=i??NaN,this.zIndex=n??0}get datum(){return this._datum??this._parent?.datum}get previousDatum(){return this._previousDatum}set datum(e){this._datum!==e&&(this._previousDatum=this._datum),this._datum=e}_setLayerManager(e){this._layerManager=e,this._debug=e?.debug;for(let i of this._children)i._setLayerManager(e);for(let i of this._virtualChildren)i._setLayerManager(e)}get layerManager(){return this._layerManager}*ancestors(){let e=this;for(;e=e.parent;)yield e}*traverseUp(){yield this,yield*tf(this.ancestors())}get parent(){return this._parent}get children(){return this._virtualChildren.length?this._children.concat(this._virtualChildren.flatMap(e=>e.children)):this._children}get virtualChildren(){return this._virtualChildren}hasVirtualChildren(){return this._virtualChildren.length>0}setProperties(e,i){if(i)for(let n of i)this[n]=e[n];else Object.assign(this,e);return this}append(e){e=L1(e);for(let i of e){if(i.parent)throw new Error(`${i} already belongs to another parent: ${i.parent}.`);if(i.layerManager)throw new Error(`${i} already belongs to a scene: ${i.layerManager}.`);if(this.childSet[i.id])throw new Error(`Duplicate ${i.constructor.name} node: ${i}`);i.isVirtual?this._virtualChildren.push(i):this._children.push(i),this.childSet[i.id]=!0,i._parent=this,i._setLayerManager(this.layerManager)}this.dirtyZIndex=!0,this.markDirty(this,3)}appendChild(e){return this.append(e),e}removeChild(e){let i=()=>{throw new Error("The node to be removed is not a child of this node.")};if(e.parent!==this&&i(),e.isVirtual){let n=this._virtualChildren.indexOf(e);n<0&&i(),this._virtualChildren.splice(n,1)}else{let n=this._children.indexOf(e);n<0&&i(),this._children.splice(n,1)}return delete this.childSet[e.id],e._parent=void 0,e._setLayerManager(),this.dirtyZIndex=!0,this.markDirty(e,3),e}clear(){for(let e of O1(this._virtualChildren,this._children))e._parent=void 0,e._setLayerManager();this._virtualChildren.length=0,this._children.length=0,this.childSet={}}calculateCumulativeMatrix(){this.computeTransformMatrix();let e=Gs.flyweight(this.matrix);for(let i of this.ancestors())i.computeTransformMatrix(),e.preMultiplySelf(i.matrix);return e}transformPoint(e,i){return this.calculateCumulativeMatrix().invertSelf().transformPoint(e,i)}inverseTransformPoint(e,i){return this.calculateCumulativeMatrix().transformPoint(e,i)}transformBBox(e){return this.calculateCumulativeMatrix().invertSelf().transformBBox(e)}inverseTransformBBox(e){return this.calculateCumulativeMatrix().transformBBox(e)}markDirtyTransform(){this.dirtyTransform=!0,this.markDirty(this,3)}destroy(){this.parent?.removeChild(this)}containsPoint(e,i){return!1}pickNode(e,i){if(!this.visible||this.pointerEvents===1||!this.containsPoint(e,i))return;let{children:n}=this;if(n.length>1e3)for(let r=n.length-1;r>=0;r--){let o=n[r],a=o.computeTransformedBBox()?.containsPoint(e,i)?o.pickNode(e,i):void 0;if(a)return a}else if(n.length)for(let r=n.length-1;r>=0;r--){let o=n[r].pickNode(e,i);if(o)return o}else if(!this.isContainerNode)return this}getBBox(e=!1){return(this.cachedBBox==null||e)&&(this.cachedBBox=Object.freeze(this.computeBBox())),this.cachedBBox}computeBBox(){}computeTransformedBBox(){let e=this.getBBox()?.clone();if(!e)return;this.computeTransformMatrix();let i=Gs.flyweight(this.matrix);for(let n of this.ancestors())n.computeTransformMatrix(),i.preMultiplySelf(n.matrix);return i.transformBBox(e,e),e}computeTransformMatrix(){if(!this.dirtyTransform)return;let{matrix:e,scalingX:i,scalingY:n,rotation:r,translationX:o,translationY:s,scalingCenterX:a,scalingCenterY:l,rotationCenterX:c,rotationCenterY:d}=this;Gs.updateTransformMatrix(e,i,n,r,o,s,{scalingCenterX:a,scalingCenterY:l,rotationCenterX:c,rotationCenterY:d}),this.dirtyTransform=!1}transformRenderContext(e,i){return this.computeTransformMatrix(),this.matrix.toContext(i??e.ctx),this.matrix}preRender(){this._childNodeCounts.groups=0,this._childNodeCounts.nonGroups=1;for(let e of this.children){let i=e.preRender();this._childNodeCounts.groups+=i.groups,this._childNodeCounts.nonGroups+=i.nonGroups}return this._childNodeCounts}render(e){let{stats:i}=e;this._dirty=0,this.cachedBBox=this.computeBBox(),i&&i.nodesRendered++}markDirty(e,i=1,n=i){this.cachedBBox=void 0,!(this._dirty>i||this._dirty===i&&i===n)&&(this._dirty=i,this.parent?this.parent.markDirty(this,n):this.layerManager&&this.layerManager.markDirty())}get dirty(){return this._dirty}markClean(e){let{force:i=!1,recursive:n=!0}=e??{};if(!(this._dirty===0&&!i)){if(this._dirty=0,n!==!1)for(let r of this._virtualChildren)r.markClean({force:i});if(n===!0)for(let r of this._children)r.markClean({force:i})}}onVisibleChange(){}get nodeCount(){let e=1,i=this._dirty>=0||this.dirtyTransform?1:0,n=this.visible?1:0,r=o=>{let{count:s,visibleCount:a,dirtyCount:l}=o.nodeCount;e+=s,n+=a,i+=l};for(let o of this._children)r(o);for(let o of this._virtualChildren)r(o);return{count:e,visibleCount:n,dirtyCount:i}}onZIndexChange(){this.parent&&(this.parent.dirtyZIndex=!0)}};un._nextSerialNumber=0;y([re({type:"transform"})],un.prototype,"scalingX",2);y([re({type:"transform"})],un.prototype,"scalingY",2);y([re({type:"transform"})],un.prototype,"scalingCenterX",2);y([re({type:"transform"})],un.prototype,"scalingCenterY",2);y([re({type:"transform"})],un.prototype,"rotationCenterX",2);y([re({type:"transform"})],un.prototype,"rotationCenterY",2);y([re({type:"transform"})],un.prototype,"rotation",2);y([re({type:"transform"})],un.prototype,"translationX",2);y([re({type:"transform"})],un.prototype,"translationY",2);y([re({redraw:3,changeCb:t=>t.onVisibleChange()})],un.prototype,"visible",2);y([re({redraw:1,changeCb:t=>t.onZIndexChange()})],un.prototype,"zIndex",2);y([re({redraw:1,changeCb:t=>t.onZIndexChange()})],un.prototype,"zIndexSubOrder",2);var td=un,Um=(t,e,i)=>t*(1-i)+e*i,Yx=t=>{let e=t<0?-1:1,i=Math.abs(t);return i<=.04045?t/12.92:e*((i+.055)/1.055)**2.4},Zx=t=>{let e=t<0?-1:1,i=Math.abs(t);return i>.0031308?e*(1.055*i**(1/2.4)-.055):12.92*t},B1=class xt{constructor(e,i,n,r=1){this.r=Ce(0,e||0,1),this.g=Ce(0,i||0,1),this.b=Ce(0,n||0,1),this.a=Ce(0,r||0,1)}static validColorString(e){return e.indexOf("#")>=0?!!xt.parseHex(e):e.indexOf("rgb")>=0?!!xt.stringToRgba(e):!!xt.nameToHex[e.toLowerCase()]}static fromString(e){if(e.indexOf("#")>=0)return xt.fromHexString(e);let i=xt.nameToHex[e.toLowerCase()];if(i)return xt.fromHexString(i);if(e.indexOf("rgb")>=0)return xt.fromRgbaString(e);throw new Error(`Invalid color string: '${e}'`)}static parseHex(e){e=e.replace(/ /g,"").slice(1);let i;switch(e.length){case 6:case 8:i=[];for(let n=0;n<e.length;n+=2)i.push(parseInt(`${e[n]}${e[n+1]}`,16));break;case 3:case 4:i=e.split("").map(n=>parseInt(n,16)).map(n=>n+n*16);break}if(i?.length>=3&&i.every(n=>n>=0))return i.length===3&&i.push(255),i}static fromHexString(e){let i=xt.parseHex(e);if(i){let[n,r,o,s]=i;return new xt(n/255,r/255,o/255,s/255)}throw new Error(`Malformed hexadecimal color string: '${e}'`)}static stringToRgba(e){let i=-1,n=-1;for(let a=0;a<e.length;a++){let l=e[a];if(i===-1&&l==="(")i=a;else if(l===")"){n=a;break}}if(i===-1||n===-1)return;let o=e.substring(i+1,n).split(","),s=[];for(let a=0;a<o.length;a++){let l=o[a],c=parseFloat(l);if(!Number.isFinite(c))return;l.indexOf("%")>=0?(c=Ce(0,c,100),c/=100):a===3?c=Ce(0,c,1):(c=Ce(0,c,255),c/=255),s.push(c)}return s}static fromRgbaString(e){let i=xt.stringToRgba(e);if(i){if(i.length===3)return new xt(i[0],i[1],i[2]);if(i.length===4)return new xt(i[0],i[1],i[2],i[3])}throw new Error(`Malformed rgb/rgba color string: '${e}'`)}static fromArray(e){if(e.length===4)return new xt(e[0],e[1],e[2],e[3]);if(e.length===3)return new xt(e[0],e[1],e[2]);throw new Error("The given array should contain 3 or 4 color components (numbers).")}static fromHSB(e,i,n,r=1){let o=xt.HSBtoRGB(e,i,n);return new xt(o[0],o[1],o[2],r)}static fromHSL(e,i,n,r=1){let o=xt.HSLtoRGB(e,i,n);return new xt(o[0],o[1],o[2],r)}static fromOKLCH(e,i,n,r=1){let o=xt.OKLCHtoRGB(e,i,n);return new xt(o[0],o[1],o[2],r)}static padHex(e){return e.length===1?"0"+e:e}toHexString(){let e="#"+xt.padHex(Math.round(this.r*255).toString(16))+xt.padHex(Math.round(this.g*255).toString(16))+xt.padHex(Math.round(this.b*255).toString(16));return this.a<1&&(e+=xt.padHex(Math.round(this.a*255).toString(16))),e}toRgbaString(e=3){let i=[Math.round(this.r*255),Math.round(this.g*255),Math.round(this.b*255)],n=Math.pow(10,e);return this.a!==1?(i.push(Math.round(this.a*n)/n),`rgba(${i.join(", ")})`):`rgb(${i.join(", ")})`}toString(){return this.a===1?this.toHexString():this.toRgbaString()}toHSB(){return xt.RGBtoHSB(this.r,this.g,this.b)}static RGBtoOKLCH(e,i,n){let r=Yx(e),o=Yx(i),s=Yx(n),a=Math.cbrt(.4122214708*r+.5363325363*o+.0514459929*s),l=Math.cbrt(.2119034982*r+.6806995451*o+.1073969566*s),c=Math.cbrt(.0883024619*r+.2817188376*o+.6299787005*s),d=.2104542553*a+.793617785*l-.0040720468*c,u=1.9779984951*a-2.428592205*l+.4505937099*c,h=.0259040371*a+.7827717662*l-.808675766*c,f=Math.atan2(h,u)*180/Math.PI,p=d,m=Math.hypot(u,h),b=f>=0?f:f+360;return[p,m,b]}static OKLCHtoRGB(e,i,n){let r=e,o=i*Math.cos(n*Math.PI/180),s=i*Math.sin(n*Math.PI/180),a=(r+.3963377774*o+.2158037573*s)**3,l=(r-.1055613458*o-.0638541728*s)**3,c=(r-.0894841775*o-1.291485548*s)**3,d=4.0767416621*a-3.3077115913*l+.2309699292*c,u=-1.2684380046*a+2.6097574011*l-.3413193965*c,h=-.0041960863*a-.7034186147*l+1.707614701*c,f=Zx(d),p=Zx(u),m=Zx(h);return[f,p,m]}static RGBtoHSL(e,i,n){let r=Math.min(e,i,n),o=Math.max(e,i,n),s=(o+r)/2,a,l;if(o===r)a=0,l=0;else{let c=o-r;l=s>.5?c/(2-o-r):c/(o+r),o===e?a=(i-n)/c+(i<n?6:0):o===i?a=(n-e)/c+2:a=(e-i)/c+4,a*=360/6}return[a,l,s]}static HSLtoRGB(e,i,n){if(e=(e%360+360)%360,i===0)return[n,n,n];let r=n<.5?n*(1+i):n+i-n*i,o=2*n-r;function s(d){return d<0&&(d+=1),d>1&&(d-=1),d<1/6?o+(r-o)*6*d:d<1/2?r:d<2/3?o+(r-o)*(2/3-d)*6:o}let a=s(e/360+1/3),l=s(e/360),c=s(e/360-1/3);return[a,l,c]}static RGBtoHSB(e,i,n){let r=Math.min(e,i,n),o=Math.max(e,i,n),s=o===0?0:(o-r)/o,a=0;if(r!==o){let l=o-r,c=(o-e)/l,d=(o-i)/l,u=(o-n)/l;e===o?a=u-d:i===o?a=2+c-u:a=4+d-c,a/=6,a<0&&(a=a+1)}return[a*360,s,o]}static HSBtoRGB(e,i,n){e=(e%360+360)%360/360;let r=0,o=0,s=0;if(i===0)r=o=s=n;else{let a=(e-Math.floor(e))*6,l=a-Math.floor(a),c=n*(1-i),d=n*(1-i*l),u=n*(1-i*(1-l));switch(a>>0){case 0:r=n,o=u,s=c;break;case 1:r=d,o=n,s=c;break;case 2:r=c,o=n,s=u;break;case 3:r=c,o=d,s=n;break;case 4:r=u,o=c,s=n;break;case 5:r=n,o=c,s=d;break}}return[r,o,s]}static mix(e,i,n){return new xt(Um(e.r,i.r,n),Um(e.g,i.g,n),Um(e.b,i.b,n),Um(e.a,i.a,n))}};B1.nameToHex={__proto__:null,aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",green:"#008000",greenyellow:"#ADFF2F",grey:"#808080",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",transparent:"#00000000",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"};var co=B1;function z1(t,e){return i=>Number(t)*(1-i)+Number(e)*i}function V1(t,e){if(typeof t=="string")try{t=co.fromString(t)}catch{t=co.fromArray([0,0,0])}if(typeof e=="string")try{e=co.fromString(e)}catch{e=co.fromArray([0,0,0])}return i=>co.mix(t,e,i).toRgbaString()}var pg=Symbol("BREAK"),Bc="__decorator_config";function U1(t,e){Object.getOwnPropertyDescriptor(t,Bc)==null&&Object.defineProperty(t,Bc,{value:{}});let i=t[Bc],n=e.toString();if(typeof i[n]<"u")return i[n];let r=new WeakMap;i[n]={setters:[],getters:[],observers:[],valuesMap:r};let o=Object.getOwnPropertyDescriptor(t,e),s=o?.set,a=o?.get;return Object.defineProperty(t,e,{set:function(d){let{setters:u,observers:h}=i[n],f;u.some(p=>p.length>2)&&(f=a?a.call(this):r.get(this));for(let p of u)if(d=p(this,e,d,f),d===pg)return;s?s.call(this,d):r.set(this,d);for(let p of h)p(this,d,f)},get:function(){let d=a?a.call(this):r.get(this);for(let u of i[n].getters)if(d=u(this,e,d),d===pg)return;return d},enumerable:!0,configurable:!1}),i[n]}function Ko(t,e,i){return(n,r)=>{let o=U1(n,r);o.setters.push(t),e&&o.getters.unshift(e),i&&Object.assign(o,i)}}function N$(t){return(e,i)=>{U1(e,i).observers.push(t)}}function kg(t){return typeof t<"u"&&Bc in t}function zc(t){let e=new Set;for(;kg(t);)e.add(t?.[Bc]),t=Object.getPrototypeOf(t);return Array.from(e).flatMap(i=>Object.keys(i))}function k$(t){return zc(t).reduce((e,i)=>(e[i]=t[i]??null,e),{})}function R$(t,e){let i=e.toString();for(;kg(t);){let n=t[Bc];if(Object.hasOwn(n,i))return n[i];t=Object.getPrototypeOf(t)}}function dh(t){return t!=null}function Rt(t){return Array.isArray(t)}function aM(t){return typeof t=="boolean"}function Ch(t){return t instanceof Date}function Eh(t){return Ch(t)&&!isNaN(Number(t))}function G1(t){return t instanceof RegExp}function Qo(t){return typeof t=="function"}function ln(t){return typeof t=="object"&&t!==null&&!Rt(t)}function L$(t){return Rt(t)||sr(t)}function sr(t){return typeof t=="object"&&t!==null&&t.constructor===Object}function cn(t){return typeof t=="string"}function Cn(t){return typeof t=="number"}function We(t){return Number.isFinite(t)}function H1(t){return typeof window<"u"&&t instanceof HTMLElement}function O$(t,e){return cn(e)&&Object.keys(t).includes(e)}function $1(t,e){return Object.values(t).includes(e)}function W1(t){return typeof t=="symbol"}function P$(...t){return Be(...t.reverse())}function Be(...t){let e={};for(let i of t){if(!ln(i))continue;let n=kg(i)?zc(i):Object.keys(i);for(let r of n)sr(e[r])&&sr(i[r])?e[r]=Be(e[r],i[r]):e[r]??(e[r]=i[r])}return e}function __(t,...e){return e&&Rt(t)?t.map(i=>Be(i,...e)):t}function lM(t,e){return Object.entries(t).reduce((i,[n,r])=>(i[n]=e(r,n,t),i),{})}function M_(t,e){let i=C({},t);for(let n of e)delete i[n];return i}function cM(t,e){return(Rt(e)?e:e.split(".")).reduce((n,r)=>n[r],t)}var dM=new Set(["__proto__","constructor","prototype"]);function uM(t,e,i){let n=Rt(e)?e.slice():e.split("."),r=n.pop();if(n.some(s=>dM.has(s)))return;let o=n.reduce((s,a)=>s[a],t);return o[r]=i,o[r]}function sl(t,e,i){if(i===void 0)return e;for(let n of t){let r=i[n];r!==void 0&&(e[n]=r)}return e}var Ne=class{set(t){let{className:e=this.constructor.name}=this.constructor;if(typeof t!="object")return Y.warn(`unable to set ${e} - expecting a properties object`),this;let i=new Set(Object.keys(t));for(let n of zc(this))if(i.has(n)){let r=t[n],o=this;fo(o[n])?o[n]=o[n]instanceof Rg?o[n].reset(r):o[n].set(r):o[n]=r,i.delete(n)}for(let n of i)Y.warn(`unable to set [${n}] in ${e} - property is unknown`);return this}isValid(t){return zc(this).every(e=>{let{optional:i}=R$(this,e),n=i===!0||typeof this[e]<"u";return n||Y.warnOnce(`${t??""}[${e}] is required.`),n})}toJson(){return zc(this).reduce((t,e)=>{let i=this[e];return t[e]=fo(i)?i.toJson():i,t},{})}},Rg=class Y1 extends Array{constructor(e,...i){super(i.length);let r=(o=>!!o?.prototype?.constructor?.name)(e)?o=>new e().set(o):e;Object.defineProperty(this,"itemFactory",{value:r,enumerable:!1,configurable:!1}),this.set(i)}set(e){if(Rt(e)){this.length=e.length;for(let i=0;i<e.length;i++)this[i]=this.itemFactory(e[i])}return this}reset(e){return new Y1(this.itemFactory,...e)}toJson(){return this.map(e=>e?.toJson?.()??e)}};function fo(t){return t instanceof Ne||t instanceof Rg}var D_="class-instance";function Tn(t,e,i){if(Rt(e)){if(!Rt(t)||t.length!==e.length||e.some((n,r)=>Tn(t[r],n)!=null))return e}else if(sr(e)){if(!sr(t))return e;let n={},r=new Set([...Object.keys(t),...Object.keys(e)]);for(let o of r)if(!(t[o]===e[o]||i?.includes(o)))if(typeof t[o]==typeof e[o]){let s=Tn(t[o],e[o]);s!==null&&(n[o]=s)}else n[o]=e[o];return Object.keys(n).length?n:null}else if(t!==e)return e;return null}function vi(t,e){return Rt(t)?t.map(i=>vi(i,e)):sr(t)?lM(t,(i,n)=>e?.shallow?.includes(n)?mg(i):vi(i,e)):mg(t)}function mg(t){return Rt(t)?[...t]:sr(t)?C({},t):Ch(t)?new Date(t):G1(t)?new RegExp(t.source,t.flags):t}function ho(t,e,i,...n){if(Rt(t))e(t,...n),t.forEach((r,o)=>{ho(r,e,i,...lk(n,o))});else if(sr(t)){e(t,...n);for(let r of Object.keys(t)){if(i?.skip?.includes(r))continue;let o=t[r];(Rt(o)||sr(o))&&ho(o,e,i,...lk(n,r))}}}function Vc(t,e,i={}){let{path:n,matcherPath:r=n?.replace(/(\[[0-9+]+])/i,"[]"),skip:o=[]}=i;if(t==null)throw new Error(`AG Charts - target is uninitialised: ${n??"<root>"}`);if(e==null)return t;if(fo(t))return t.set(e);let s=t,a=qx(t);for(let l in e){if(dM.has(l))continue;let c=`${r?r+".":""}${l}`;if(o.includes(c))continue;let d=e[l],u=`${n?n+".":""}${l}`,h=s.constructor,f=s[l];try{let p=qx(f),m=qx(d);if(a===D_&&!(l in t)){Y.warn(`unable to set [${u}] in ${h?.name} - property is unknown`);continue}if(p!=null&&m!=null&&m!==p&&(p!==D_||m!=="object")){Y.warn(`unable to set [${u}] in ${h?.name} - can't apply type of [${m}], allowed types are: [${p}]`);continue}fo(f)?s[l].set(d):m==="object"?(f==null&&(s[l]={}),Vc(f??s[l],d,L(C({},i),{path:u,matcherPath:c}))):s[l]=d}catch(p){Y.warn(`unable to set [${u}] in [${h?.name}]; nested error is: ${p.message}`)}}return t}function lk(t,e){return t.map(i=>i?.[e])}function qx(t){return t==null?null:H1(t)||Ch(t)?"primitive":Rt(t)?"array":ln(t)?sr(t)?"object":D_:Qo(t)?"function":"primitive"}var hM={};go(hM,{easeIn:()=>F$,easeInOut:()=>j$,easeInOutQuad:()=>V$,easeInQuad:()=>B$,easeOut:()=>uh,easeOutQuad:()=>z$,inverseEaseOut:()=>q1,linear:()=>Z1});var Z1=t=>t,F$=t=>1-Math.cos(t*Math.PI/2),uh=t=>Math.sin(t*Math.PI/2),j$=t=>-(Math.cos(t*Math.PI)-1)/2,B$=t=>t*t,z$=t=>1-(1-t)**2,V$=t=>t<.5?2*t*t:1-(-2*t+2)**2/2,q1=t=>2*Math.asin(t)/Math.PI,gg=.2,Lc=["initial","remove","update","add","trailing","end","none"],hh={initial:{animationDuration:1,animationDelay:0},add:{animationDuration:.25,animationDelay:.75},remove:{animationDuration:.25,animationDelay:0},update:{animationDuration:.5,animationDelay:.25},trailing:{animationDuration:gg,animationDelay:1,skipIfNoEarlierAnimations:!0},end:{animationDelay:1+gg,animationDuration:0,skipIfNoEarlierAnimations:!0},none:{animationDuration:0,animationDelay:0}},K1=(t=>(t.Loop="loop",t.Reverse="reverse",t))(K1||{});function U$(t){return t.every(e=>e instanceof td)}function Lg(t){return U$(t)?{nodes:t,selections:[]}:{nodes:[],selections:t}}var X1=class{constructor(t){this.isComplete=!1,this.elapsed=0,this.iteration=0,this.isPlaying=!1,this.isReverse=!1,this.id=t.id,this.groupId=t.groupId,this.autoplay=t.autoplay??!0,this.ease=t.ease??Z1,this.phase=t.phase;let e=t.duration??hh[this.phase].animationDuration;this.duration=e*t.defaultDuration,this.delay=(t.delay??0)*t.defaultDuration,this.onComplete=t.onComplete,this.onPlay=t.onPlay,this.onStop=t.onStop,this.onUpdate=t.onUpdate,this.interpolate=this.createInterpolator(t.from,t.to),this.from=t.from,t.skip===!0&&(this.onUpdate?.(t.to,!1,this),this.onStop?.(this),this.onComplete?.(this),this.isComplete=!0),t.collapsable!==!1&&(this.duration=this.checkCollapse(t,this.duration))}checkCollapse(t,e){return t.from===t.to?0:(typeof t.from=="object"?Tn(t.from,t.to):null)?e:0}play(t=!1){this.isPlaying||this.isComplete||(this.isPlaying=!0,this.onPlay?.(this),this.autoplay&&(this.autoplay=!1,t&&this.onUpdate?.(this.from,!0,this)))}pause(){this.isPlaying=!1}stop(){this.isPlaying=!1,this.isComplete||(this.isComplete=!0,this.onStop?.(this))}update(t){if(this.isComplete)return t;!this.isPlaying&&this.autoplay&&this.play(!0);let e=this.elapsed;if(this.elapsed+=t,this.delay>this.elapsed)return 0;let i=this.interpolate(this.isReverse?1-this.delta:this.delta);this.onUpdate?.(i,!1,this);let n=this.delay+this.duration;return this.elapsed>=n?(this.stop(),this.isComplete=!0,this.onComplete?.(this),t-(n-e)):0}get delta(){return this.ease(Ce(0,(this.elapsed-this.delay)/this.duration,1))}createInterpolator(t,e){if(typeof e!="object"||ak(e))return this.interpolateValue(t,e);let i=[];for(let n in e){let r=this.interpolateValue(t[n],e[n]);r!=null&&i.push([n,r])}return n=>{let r={};for(let[o,s]of i)r[o]=s(n);return r}}interpolateValue(t,e){if(!(t===void 0||e===void 0)){if(ak(t))return i=>t[Cg](e,i);try{switch(typeof t){case"number":return z1(t,e);case"string":return V1(t,e);case"boolean":if(t===e)return()=>t;break}}catch{}throw new Error(`Unable to interpolate values: ${t}, ${e}`)}}},$i={added:"add",updated:"update",removed:"remove",unknown:"initial","no-op":"none"};function Vt(t,e,i,n,r,o,s){let{fromFn:a,toFn:l,intermediateFn:c}=r,{nodes:d,selections:u}=Lg(n),h=(p,m)=>{let b,g=0,v=0;for(let I of m){let D=p[g]===I,_={last:v>=m.length-1,lastLive:g>=p.length-1,prev:m[v-1],prevFromProps:b,prevLive:p[g-1],next:m[v+1],nextLive:p[g+(D?1:0)]},S=`${t}_${e}_${I.id}`;i.stopByAnimationId(S);let E="unknown";D?o&&s&&(E=G$(I,I.datum,o,s)):E="removed";let M=a(I,I.datum,E,_),{phase:T,start:k,finish:P,delay:Z,duration:ne}=M,z=pt(M,["phase","start","finish","delay","duration"]),w=l(I,I.datum,E,_),{phase:R,start:A,finish:B,delay:ee,duration:O}=w,oe=pt(w,["phase","start","finish","delay","duration"]),te=P==null&&B==null;i.animate({id:S,groupId:t,phase:T??R??"update",duration:ne??O,delay:Z??ee,from:z,to:oe,ease:uh,collapsable:te,onPlay:()=>{I.setProperties(C(C({},k),A))},onUpdate($){I.setProperties($),c&&I.setProperties(c(I,I.datum,E,_))},onStop:()=>{I.setProperties(C(C(C(C(C(C({},k),A),z),oe),P),B))}}),D&&g++,v++,b=z}},f=0;for(let p of u){let m=p.nodes(),b=m.filter(g=>!p.isGarbage(g));h(b,m),i.animate({id:`${t}_${e}_selection_${f}`,groupId:t,phase:"end",from:0,to:1,ease:uh,onStop(){p.cleanup()}}),f++}h(d,d)}function yo(t,e,i,n,r,o,s){let{nodes:a,selections:l}=Lg(n),{start:c,finish:d,phase:u}=s,h=d==null;i.animate({id:`${t}_${e}`,groupId:t,phase:u??"update",from:r,to:o,ease:uh,collapsable:h,onPlay:()=>{if(c){for(let f of a)f.setProperties(c);for(let f of l)for(let p of f.nodes())p.setProperties(c)}},onUpdate(f){for(let p of a)p.setProperties(f);for(let p of l)for(let m of p.nodes())m.setProperties(f)},onStop:()=>{for(let f of a)f.setProperties(C(C({},o),d));for(let f of l){for(let p of f.nodes())p.setProperties(C(C({},o),d));f.cleanup()}}})}function G$(t,e,i,n){let r=i(t,e);return n.added.has(r)?"added":n.removed.has(r)?"removed":"updated"}var Gm={periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]};function fM(t,e=new Date(t.getFullYear(),0,1)){let i=t.getTimezoneOffset()-e.getTimezoneOffset(),n=t.getTime()-e.getTime()+i*6e4,r=36e5*24;return Math.floor(n/r)}function ck(t,e){let n=new Date(t.getFullYear(),0,1).getDay(),r=(e-n+7)%7,o=new Date(t.getFullYear(),0,r+1);return o<=t?Math.floor(fM(t,o)/7)+1:0}var H$=0,Q1=1,dk=4;function J1(t,e=t.getFullYear()){let n=new Date(e,0,1).getDay(),r=(dk-n+7)%7,o=new Date(e,0,r-(dk-Q1)+1);return o<=t?Math.floor(fM(t,o)/7)+1:J1(t,e-1)}function $$(t){let e=t.getTimezoneOffset(),i=Math.abs(e);return`${e>0?"-":"+"}${bi(Math.floor(i/60),2,"0")}${bi(Math.floor(i%60),2,"0")}`}var W$={a:t=>Gm.shortDays[t.getDay()],A:t=>Gm.days[t.getDay()],b:t=>Gm.shortMonths[t.getMonth()],B:t=>Gm.months[t.getMonth()],c:"%x, %X",d:(t,e)=>bi(t.getDate(),2,e??"0"),e:"%_d",f:(t,e)=>bi(t.getMilliseconds()*1e3,6,e??"0"),H:(t,e)=>bi(t.getHours(),2,e??"0"),I:(t,e)=>{let i=t.getHours()%12;return i===0?"12":bi(i,2,e??"0")},j:(t,e)=>bi(fM(t)+1,3,e??"0"),m:(t,e)=>bi(t.getMonth()+1,2,e??"0"),M:(t,e)=>bi(t.getMinutes(),2,e??"0"),L:(t,e)=>bi(t.getMilliseconds(),3,e??"0"),p:t=>t.getHours()<12?"AM":"PM",Q:t=>String(t.getTime()),s:t=>String(Math.floor(t.getTime()/1e3)),S:(t,e)=>bi(t.getSeconds(),2,e??"0"),u:t=>{let e=t.getDay();return e<1&&(e+=7),String(e%7)},U:(t,e)=>bi(ck(t,H$),2,e??"0"),V:(t,e)=>bi(J1(t),2,e??"0"),w:(t,e)=>bi(t.getDay(),2,e??"0"),W:(t,e)=>bi(ck(t,Q1),2,e??"0"),x:"%-m/%-d/%Y",X:"%-I:%M:%S %p",y:(t,e)=>bi(t.getFullYear()%100,2,e??"0"),Y:(t,e)=>bi(t.getFullYear(),4,e??"0"),Z:t=>$$(t),"%":()=>"%"},Y$={_:" ",0:"0","-":""};function bi(t,e,i){let n=String(Math.floor(t));return n.length>=e?n:`${i.repeat(e-n.length)}${n}`}function Th(t){let e=[];for(;t.length>0;){let i=t.indexOf("%");if(i!==0){let a=i>0?t.substring(0,i):t;e.push(a)}if(i<0)break;let n=t[i+1],r=Y$[n];r!=null&&i++;let o=t[i+1],s=W$[o];if(typeof s=="function")e.push([s,r]);else if(typeof s=="string"){let a=Th(s);e.push([a,r])}else e.push(`${r??""}${o}`);t=t.substring(i+2)}return i=>{let n=typeof i=="number"?new Date(i):i;return e.map(r=>typeof r=="string"?r:r[0](n,r[1])).join("")}}function sn(t){return t instanceof Date?t.getTime():t}function pM(t,e,i){let n=eR(t,e,i),r=Th(n);return o=>r(o)}function eR(t=[],e=t,i=0){let n=1/0;for(let l=1;l<t.length;l++)n=Math.min(n,Math.abs(t[l]-t[l-1]));let r=new Date(e[0]).getFullYear(),s=new Date(e.at(-1)).getFullYear()-r>0,a=isFinite(n)?Z$(n,t):q$(t[0]);return X$(Math.max(a-i,0),s,t)}function Z$(t,e){return t<Us?0:t<xi?1:t<Hi?2:t<or?3:t<Wo?4:t<or*28||t<or*31&&K$(e)?5:t<Wc?6:7}function q$(t){return Uu.floor(t)<t?0:Gu.floor(t)<t?1:Hu.floor(t)<t?2:b_.floor(t)<t?3:kc.floor(t)<t?og.floor(t)<t?4:5:rM.floor(t)<t?6:7}function K$(t){let e=new Date(t[0]).getMonth();for(let i=1;i<t.length;i++){let n=new Date(t[i]).getMonth();if(e===n)return!0;e=n}return!1}function X$(t,e,i){let n=sn(i[0]),r=sn(i.at(-1)),o=Math.abs(r-n),s=e||t===7,a=o===0,c=[["hour",6*Hi,14*or,3,"%I %p"],["hour",xi,6*Hi,3,"%I:%M"],["second",1e3,6*Hi,1,":%S"],["ms",0,6*Hi,0,".%L"],["am/pm",xi,6*Hi,3,"%p"]," ",["day",or,Wo,4,"%a"],["month",a?0:Wo,52*Wo,5,"%b %d"],["month",5*Wo,10*Wc,6,"%B"]," ",["year",s?0:Wc,1/0,7,"%Y"]].filter(h=>{if(typeof h=="string")return!0;let[f,p,m,b]=h;return b>=t&&p<=o&&o<m}).reduce((h,f)=>(typeof f=="string"?h.result.push(f):h.used.has(f[0])||(h.result.push(f),h.used.add(f[0])),h),{result:[],used:new Set}).result,d=c.findIndex(h=>typeof h!="string"),u=c.length-[...c].reverse().findIndex(h=>typeof h!="string");return c.slice(d,u).map(h=>typeof h=="string"?h:h[4]).join("").replaceAll(/\s+/g," ").trim()}var ui=(t,e)=>{let i=Symbol(String(e));t[i]=void 0,Object.defineProperty(t,e,{get(){return this[i]},set(n){this[i]!==n&&(this[i]=n,this.invalid=!0)},enumerable:!0,configurable:!1})},Og=class tR{constructor(){this.type="band",this.invalid=!0,this.range=[0,1],this.round=!1,this.interval=void 0,this.index=new Map,this.ordinalRange=[],this._domain=[],this._bandwidth=1,this._step=1,this._inset=1,this._rawBandwidth=1,this._paddingInner=0,this._paddingOuter=0}static is(e){return e instanceof tR}refresh(){this.invalid&&(this.invalid=!1,this.update(),this.invalid&&Y.warnOnce("Expected update to not invalidate scale"))}set domain(e){this.index=new Map,this.invalid=!0,this._domain=[];for(let i of e){let n=sn(i);this.getIndex(n)===void 0&&this.index.set(n,this._domain.push(i)-1)}}get domain(){return this._domain}getDomain(){return this._domain}ticks(){return this.refresh(),this._domain}convert(e){this.refresh();let i=this.getIndex(e);return i==null?NaN:this.ordinalRange[i]??NaN}invert(e){this.refresh();let i=this.ordinalRange.findIndex(n=>n===e);return this.domain[i]}invertNearest(e){this.refresh();let i=-1,n=1/0,r=this.ordinalRange.findIndex((o,s)=>{if(o===e)return!0;let a=Math.abs(e-o);return a<n&&(n=a,i=s),!1});return this.domain[r]??this.domain[i]}get bandwidth(){return this.refresh(),this._bandwidth}get step(){return this.refresh(),this._step}get inset(){return this.refresh(),this._inset}get rawBandwidth(){return this.refresh(),this._rawBandwidth}set padding(e){e=Ce(0,e,1),this._paddingInner=e,this._paddingOuter=e}get padding(){return this._paddingInner}set paddingInner(e){this._paddingInner=Ce(0,e,1)}get paddingInner(){return this._paddingInner}set paddingOuter(e){this._paddingOuter=Ce(0,e,1)}get paddingOuter(){return this._paddingOuter}update(){let e=this._domain.length;if(e===0)return;let[i,n]=this.range,{_paddingInner:r}=this,{_paddingOuter:o,round:s}=this,a=n-i,l,c,d;e===1?(r=0,l=a*(1-o*2),c=s?Math.round(l):l,d=a*o):(l=a/Math.max(1,e-r+o*2),c=s?Math.floor(l):l,d=i+(a-c*(e-r))/2);let u=c*(1-r);s&&(d=Math.round(d),u=Math.round(u)),this._step=c,this._inset=d,this._bandwidth=u,this._rawBandwidth=l*(1-r),this.ordinalRange=this._domain.map((h,f)=>d+c*f)}getIndex(e){return this.index.get(e instanceof Date?e.getTime():e)}};y([ui],Og.prototype,"range",2);y([ui],Og.prototype,"round",2);y([ui],Og.prototype,"interval",2);var Js=Og;function x(t,e={}){let{optional:i=!1,property:n}=e;return Ko((r,o,s)=>{let a=L(C({},e),{target:r,property:o});if(i&&typeof s>"u"||t(s,a))return fo(r[o])&&!fo(s)?(r[o].set(s),r[o]):s;let l=n??String(o).replace(/^_*/,""),c=r.constructor.className??r.constructor.name.replace(/Properties$/,""),d=Qu(s),u=50;if(d!=null&&d.length>u){let h=d.length-u;d=d.slice(0,u)+`... (+${h} characters)`}return Y.warn(`Property [${l}] of [${c}] cannot be set to [${d}]${t.message?`; expecting ${Ah(t,a)}`:""}, ignoring.`),pg},void 0,{optional:i})}var cr=(...t)=>{let e=[];return ht((i,n)=>(e.length=0,t.every(r=>{let o=r(i,n);return o||e.push(Ah(r,n)),o})),()=>e.filter(Boolean).join(" AND "))},xl=(...t)=>ht((e,i)=>t.some(n=>n(e,i)),e=>t.map(oW(e)).filter(Boolean).join(" OR ")),ae=uR(ht((t,e)=>fo(t)||ln(t)&&fo(e.target[e.property]),"a properties object")),iR=uR(ht(t=>ln(t),"an object")),ve=ht(aM,"a boolean"),hn=ht(Qo,"a function"),Q=ht(cn,"a string"),yt=aW(ht(We,"a number")),Pg=ht(t=>Cn(t)&&isNaN(t),"NaN"),K=yt.restrict({min:0}),Je=yt.restrict({min:0,max:1}),ia=yt.restrict({min:-360,max:360}),id=xl(yt,Pg),nd=sW(ht(Rt,"an array")),Jo=(t,e)=>ht((i,n)=>Rt(i)&&i.every(r=>t(r,n)),i=>{let n=Ah(nd,i)??"";return e?`${n} of ${e}`:n}),yg=t=>We(t)||Eh(t),rd=t=>ht((e,i)=>!yg(e)||!yg(i.target[t])||e<i.target[t],`to be less than ${t}`),od=t=>ht((e,i)=>!yg(e)||!yg(i.target[t])||e>i.target[t],`to be greater than ${t}`),mM=ht(Eh,"Date object"),gM=xl(mM,K),nR="A color string can be in one of the following formats to be valid: #rgb, #rrggbb, rgb(r, g, b), rgba(r, g, b, a) or a CSS color name such as 'white', 'orange', 'cyan', etc",nt=ht(t=>cn(t)&&co.validColorString(t),`color String. ${nR}`),dr=ht(Jo(nt),`color strings. ${nR}`),Q$=Jo(ve,"boolean values"),Fg=Jo(yt,"numbers"),rR=Jo(Q,"strings"),J$=ht(Jo(mM),"Date objects"),oR=ht(Jo(ae),"objects"),eW=bt(["butt","round","square"],"a line cap"),tW=bt(["round","bevel","miter"],"a line join"),es=ht(Jo(K),"numbers specifying the length in pixels of alternating dashes and gaps, for example, [6, 3] means dashes with a length of 6 pixels with gaps between of 3 pixels."),yM=bt(["top","right","bottom","left"],"a position"),na=bt(["normal","italic","oblique"],"a font style"),ra=xl(bt(["normal","bold","bolder","lighter"],"a font weight"),yt.restrict({min:1,max:1e3})),jg=bt(["never","always","hyphenate","on-space"],"a text wrap strategy"),sR=bt(["left","center","right"],"a text align"),iW=bt(["top","middle","bottom"],"a vertical align"),nW=bt(["ellipsis","hide"],"an overflow strategy"),aR=bt(["horizontal","vertical"],"a direction"),lR=bt(["inside","outside"],"a placement"),Bg=xl(bt(["exact","nearest"],"interaction range"),yt),bM=bt(["top","bottom","left","right"]);function bt(t,e="a"){return ht(i=>t.includes(i),`${e} keyword such as ${rW(t)}`)}var cR=xl(cr(yt.restrict({min:1}),rd("maxSpacing")),Pg),dR=xl(cr(yt.restrict({min:1}),od("minSpacing")),Pg);function ht(t,e){return t.message=e,t}function rW(t){let e=t.map(n=>`'${n}'`);if(e.length===1)return e[0];let i=e.pop();return`${e.join(", ")} or ${i}`}function Ah(t,e){return Qo(t.message)?t.message(e):t.message}function oW(t){return e=>Ah(e,t)}function sW(t){return Object.assign(t,{restrict({length:e,minLength:i}={}){let n="an array";return Cn(i)&&i>0?n="a non-empty array":Cn(e)&&(n=`an array of length ${e}`),ht(r=>Rt(r)&&(Cn(e)?r.length===e:!0)&&(Cn(i)?r.length>=i:!0),n)}})}function aW(t){return Object.assign(t,{restrict({min:e,max:i}={}){let n=["a number"],r=Cn(e),o=Cn(i);return r&&o?n.push(`between ${e} and ${i} inclusive`):r?n.push(`greater than or equal to ${e}`):o&&n.push(`less than or equal to ${i}`),ht(s=>We(s)&&(r?s>=e:!0)&&(o?s<=i:!0),n.join(" "))}})}function uR(t){return Object.assign(t,{restrict(e){return ht(i=>i instanceof e,i=>Ah(t,i)??`an instance of ${e.name}`)}})}function Qu(t){if(typeof t=="number"){if(isNaN(t))return"NaN";if(t===1/0)return"Infinity";if(t===-1/0)return"-Infinity"}return JSON.stringify(t)}var vM=(t=>(t.X="x",t.Y="y",t))(vM||{}),xM=class{constructor(){this.moduleMap=new Map}*modules(){let t=["toolbar","navigator"];for(let e of this.moduleMap.values())t.includes(e.module.optionsKey)||(yield e.moduleInstance);for(let e of t){let i=this.moduleMap.get(e);i&&(yield i.moduleInstance)}}addModule(t,e){if(this.moduleMap.has(t.optionsKey))throw new Error(`AG Charts - module already initialised: ${t.optionsKey}`);this.moduleMap.set(t.optionsKey,{module:t,moduleInstance:e(t)})}removeModule(t){let e=cn(t)?t:t.optionsKey;this.moduleMap.get(e)?.moduleInstance.destroy(),this.moduleMap.delete(e)}getModule(t){return this.moduleMap.get(cn(t)?t:t.optionsKey)?.moduleInstance}isEnabled(t){return this.moduleMap.has(cn(t)?t:t.optionsKey)}mapModules(t){return Array.from(this.moduleMap.values(),(e,i)=>t(e.moduleInstance,i))}destroy(){for(let t of this.moduleMap.keys())this.moduleMap.get(t)?.moduleInstance.destroy();this.moduleMap.clear()}},hR={};go(hR,{resetMotion:()=>Kt});function Kt(t,e){let{nodes:i,selections:n}=Lg(t);for(let r of n){for(let o of r.nodes()){let s=e(o,o.datum);o.setProperties(s)}r.cleanup()}for(let r of i){let o=e(r,r.datum);r.setProperties(o)}}var bo=class w_{constructor(e,i){this.invalid=!0,this.nice=!1,this.interval=void 0,this.tickCount=w_.defaultTickCount,this.minTickCount=0,this.maxTickCount=1/0,this.niceDomain=[],this.defaultClampMode="raw",this.domain=e,this.range=i}static is(e){return e instanceof w_}transform(e){return e}transformInvert(e){return e}calcBandwidth(e=1){let i=this.getDomain(),n=this.getPixelRange(),r=Math.abs(i[1]-i[0])/e+1,o=Math.floor(n),s=Math.min(r,o);return n/Math.max(1,s)}getDomain(){return this.nice&&(this.refresh(),this.niceDomain.length)?this.niceDomain:this.domain}convert(e,i){let n=i?.clampMode??this.defaultClampMode;if(!this.domain||this.domain.length<2)return NaN;this.refresh();let r=this.getDomain().map(d=>this.transform(d)),[o,s]=r,{range:a}=this,[l,c]=a;if(e=this.transform(e),n==="clamped"){let[d,u]=En(r.map(Number));if(Number(e)<d)return l;if(Number(e)>u)return c}return o===s?(l+c)/2:e===o?l:e===s?c:l+(Number(e)-Number(o))/(Number(s)-Number(o))*(c-l)}invert(e){this.refresh();let i=this.getDomain().map(h=>this.transform(h)),[n,r]=i,{range:o}=this,[s,a]=o,l=s>a,c=l?a:s,d=l?s:a,u;return e<c?l?r:n:e>d?l?n:r:(s===a?u=this.toDomain((Number(n)+Number(r))/2):u=this.toDomain(Number(n)+(e-s)/(a-s)*(Number(r)-Number(n))),this.transformInvert(u))}refresh(){this.invalid&&(this.invalid=!1,this.update(),this.invalid&&Y.warnOnce("Expected update to not invalidate scale"))}getPixelRange(){let[e,i]=this.range;return Math.abs(i-e)}};bo.defaultTickCount=5;bo.defaultMaxTickCount=6;y([ui],bo.prototype,"domain",2);y([ui],bo.prototype,"range",2);y([ui],bo.prototype,"nice",2);y([ui],bo.prototype,"interval",2);y([ui],bo.prototype,"tickCount",2);y([ui],bo.prototype,"minTickCount",2);y([ui],bo.prototype,"maxTickCount",2);var ct=bo;function fR(t){let e,i,n=cW.exec(t);n&&([,e,t,i]=n);let r=lW.exec(t);if(!r)throw new Error(`The number formatter is invalid: ${t}`);let[,o,s,a,l,c,d,u,h,f,p]=r;return{fill:o,align:s,sign:a,symbol:l,zero:c,width:parseInt(d),comma:u,precision:parseInt(h),trim:!!f,type:p,prefix:e,suffix:i}}function pR(t){let e=typeof t=="string"?fR(t):t,{fill:i,align:n,sign:r="-",symbol:o,zero:s,width:a,comma:l,type:c,prefix:d="",suffix:u="",precision:h}=e,{trim:f}=e,p=h==null||isNaN(h),m;if(!c)m=ir.g,f=!0;else if(c in ir&&c in Pc)m=p?Pc[c]:ir[c];else if(c in ir)m=ir[c];else if(c in Pc)m=Pc[c];else throw new Error(`The number formatter type is invalid: ${c}`);let b;return h==null||p?b=c?6:12:b=h,g=>{let v=m(g,b);return f&&(v=hW(v)),l&&(v=fW(v,l)),v=mW(g,v,r),o&&o!=="#"&&(v=`${o}${v}`),o==="#"&&c==="x"&&(v=`0x${v}`),c==="s"&&(v=`${v}${pW(g)}`),(c==="%"||c==="p")&&(v=`${v}%`),a!=null&&!isNaN(a)&&(v=gW(v,a,i??s,n)),v=`${d}${v}${u}`,v}}var lW=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(?:\.(\d+))?(~)?([%a-z])?$/i,cW=/^((?:[^#]|#[^{])*)#{([^}]+)}(.*)$/,Pc={b:t=>Hm(t).toString(2),c:t=>String.fromCharCode(t),d:t=>Math.round(Math.abs(t)).toFixed(0),o:t=>Hm(t).toString(8),x:t=>Hm(t).toString(16),X:t=>Pc.x(t).toUpperCase(),n:t=>Pc.d(t),"%":t=>`${Hm(t*100).toFixed(0)}`},ir={e:(t,e)=>Math.abs(t).toExponential(e),E:(t,e)=>ir.e(t,e).toUpperCase(),f:(t,e)=>Math.abs(t).toFixed(e),F:(t,e)=>ir.f(t,e).toUpperCase(),g:(t,e)=>{if(t===0)return"0";let i=Math.abs(t),n=Math.floor(Math.log10(i));return n>=-4&&n<e?i.toFixed(e-1-n):i.toExponential(e-1)},G:(t,e)=>ir.g(t,e).toUpperCase(),n:(t,e)=>ir.g(t,e),p:(t,e)=>ir.r(t*100,e),r:(t,e)=>{if(t===0)return"0";let i=Math.abs(t),r=Math.floor(Math.log10(i))-(e-1);if(r<=0)return i.toFixed(-r);let o=10**r;return(Math.round(i/o)*o).toFixed()},s:(t,e)=>{let i=yR(t);return ir.r(t/10**i,e)},"%":(t,e)=>ir.f(t*100,e)},mR=-24,gR=24,dW={[mR]:"y",[-21]:"z",[-18]:"a",[-15]:"f",[-12]:"p",[-9]:"n",[-6]:"\xB5",[-3]:"m",0:"",3:"k",6:"M",9:"G",12:"T",15:"P",18:"E",21:"Z",[gR]:"Y"},uW="\u2212";function Hm(t){return Math.floor(Math.abs(t))}function hW(t){return t.replace(/\.0+$/,"").replace(/(\.[1-9])0+$/,"$1")}function fW(t,e){let i=t.indexOf(".");i<0&&(i=t.length);let n=t.substring(0,i).split(""),r=t.substring(i);for(let o=n.length-3;o>0;o-=3)n.splice(o,0,e);return`${n.join("")}${r}`}function pW(t){return dW[yR(t)]}function yR(t){return Ce(mR,t?Math.floor(Math.log10(Math.abs(t))/3)*3:0,gR)}function mW(t,e,i=""){if(i==="(")return t>=0?e:`(${e})`;let n=i==="+"?"+":"";return`${t>=0?n:uW}${e}`}function gW(t,e,i=" ",n=">"){let r=t;if(n===">"||!n)r=r.padStart(e,i);else if(n==="<")r=r.padEnd(e,i);else if(n==="^"){let o=Math.max(0,e-r.length),s=Math.ceil(o/2),a=Math.floor(o/2);r=r.padStart(s+r.length,i),r=r.padEnd(a+r.length,i)}return r}function bR(t,e){let i=[];for(let n=0;n<t;n++)i.push(e(n));return i}function vo(t){if(t.length===0)return;let e=1/0,i=-1/0;for(let r of t)r instanceof Date&&(r=r.getTime()),typeof r=="number"&&(r<e&&(e=r),r>i&&(i=r));let n=[e,i];if(n.every(isFinite))return n}function vR(t,e,i){return Nh(t,e,i).extent}function Nh(t,e,i){let n=!1;return t.length>2&&(t=vo(t)??[NaN,NaN]),isNaN(e)||(n||(n=e>t[0]),t=[e,t[1]]),isNaN(i)||(n||(n=i<t[1]),t=[t[0],i]),t[0]>t[1]&&(t=[]),{extent:t,clipped:n}}function ul(t,e){if(t==null||e==null||t.length!==e.length)return!1;for(let i=0;i<t.length;i++)if(Array.isArray(t[i])&&Array.isArray(e[i])){if(!ul(t[i],e[i]))return!1}else if(t[i]!==e[i])return!1;return!0}function I_(t){return typeof t>"u"?[]:Array.isArray(t)?t:[t]}function zg(t){return Array.from(new Set(t))}function _M(t,e){return t.reduce((i,n)=>{let r=e(n);return i[r]??(i[r]=[]),i[r].push(n),i},{})}function S_(t,e,i=0){if(t.length===0)return[];let n=[];for(let r=0;r<e;r++)n.push(t.at((r+i)%t.length));return n}function xR(t,e){return e.reduce(([i,n],r)=>t(r)?[[...i,r],n]:[i,[...n,r]],[[],[]])}function*yW(t,e){for(let i of t)yield e(i)}function bW(t,e){return t.includes(e)}function vW(t,e){return bW(t,e)}function xW(t,e){return!e.some(i=>!vW(t,i))}var Pt=(t,e,i)=>({duration:e*i,timeInterval:t,step:i}),Wu=[Pt(Uu,Us,1),Pt(Uu,Us,5),Pt(Uu,Us,15),Pt(Uu,Us,30),Pt(Gu,xi,1),Pt(Gu,xi,5),Pt(Gu,xi,15),Pt(Gu,xi,30),Pt(Hu,Hi,1),Pt(Hu,Hi,3),Pt(Hu,Hi,6),Pt(Hu,Hi,12),Pt(b_,or,1),Pt(b_,or,2),Pt(og,Wo,1),Pt(og,Wo,2),Pt(og,Wo,3),Pt(kc,ju,1),Pt(kc,ju,2),Pt(kc,ju,3),Pt(kc,ju,4),Pt(kc,ju,6),Pt(rM,Wc,1)],_R=[1,2,5,10];function Vg(t,e,i,n,r){if(i<2)return fh(t,e,e-t);let o=Zc(t,e,i,n,r);return isNaN(o)?[]:(t=Math.ceil(t/o)*o,e=Math.floor(e/o)*o,fh(t,e,o))}function uk(t,e,i,n,r,o){let s=o??Math.abs(e-t)/Math.max(i,1),a=0;for(let h of Wu){if(s<=h.duration)break;a++}if(a===0){let h=Math.max(Zc(t,e,i,n,r),1);return X5.every(h)}else if(a===Wu.length){let h=o==null?Zc(t/Wc,e/Wc,i,n,r):1;return rM.every(h)}let l=Wu[a-1],c=Wu[a],{timeInterval:d,step:u}=s-l.duration<c.duration-s?l:c;return d.every(u)}function Zc(t,e,i,n=0,r=1/0){if(t===e)return 1;if(i<1)return NaN;let o=Math.abs(e-t),s=10**Math.floor(Math.log10(o/i)),a=NaN,l=1/0,c=!1;for(let d of _R){let u=Math.ceil(o/(d*s)),h=u>=n&&u<=r;if(c&&!h)continue;let f=Math.abs(u-i);(l>f||c!==h)&&(c||(c=h),l=f,a=d)}return a*s}function hk(t){for(let e=t.length-1;e>=0;e-=1)if(t[e]!=="0")return e+1;return 0}function MR(t,e){let i=fR(e??",f");(i.precision==null||isNaN(i.precision))&&(!i.type||"eEFgGnprs".includes(i.type)?i.precision=Math.max(...t.map(r=>{if(!Number.isFinite(r))return 0;let[o,s]=r.toExponential((i.type?6:12)-1).split(/\.|e/g);return(o!=="1"&&o!=="-1"?1:0)+hk(s)+1})):"f%".includes(i.type)&&(i.precision=Math.max(...t.map(r=>{if(!Number.isFinite(r)||r===0)return 0;let o=Math.floor(Math.log10(Math.abs(r))),s=i.type?6:12,[a,l]=r.toExponential(s-1).split(/\.|e/g),c=hk(l);return Math.max(0,c-o)}))));let n=pR(i);return r=>n(Number(r))}function fh(t,e,i){let n=Math.ceil(Math.abs(e-t)/i),r=10**Sh(i),o=Math.min(t,e);return bR(n+1,s=>Math.round((o+i*s)*r)/r)}function ph(t,e){return t>=e?(Y.warnOnce("the configured interval results in more than 1 item per pixel, ignoring. Supply a larger interval or omit this configuration"),!0):!1}function _W(t,e){let i=Math.abs(e-t),n=10**Math.floor(Math.log10(i)),r=1/0,o=[t,e];for(let s of _R){let a=s*n,l=Math.floor(t/a)*a,c=Math.ceil(e/a)*a,d=1-i/Math.abs(c-l);r>d&&(r=d,o=[l,c])}return o}function MW(t,e,i,n,r){r=Math.max(r,t/(n+1)),isNaN(e)&&(e=r),isNaN(i)&&(i=t),e>i&&(e===r?e=i:i=e);let o=Ce(1,Math.floor(t/e),Math.min(Math.floor(t),100)),s=Math.min(o,Math.ceil(t/i)),a=Ce(s,n,o);return{minTickCount:s,maxTickCount:o,tickCount:a}}var DR=class C_ extends ct{constructor(){super([1,10],[0,1]),this.type="log",this.base=10,this.baseLog=ok,this.basePow=ok,this.log=e=>Math.min(...this.domain)>=0?this.baseLog(e):-this.baseLog(-e),this.pow=e=>Math.min(...this.domain)>=0?this.basePow(e):-this.basePow(-e),this.defaultClampMode="clamped"}toDomain(e){return e}transform(e){return Math.min(...this.domain)>=0?Math.log(e):-Math.log(-e)}transformInvert(e){return Math.min(...this.domain)>=0?Math.exp(e):-Math.exp(-e)}refresh(){this.base<=0&&(this.base=0,Y.warnOnce("expecting a finite Number greater than to 0")),super.refresh()}update(){!this.domain||this.domain.length<2||(this.baseLog=C_.getBaseLogMethod(this.base),this.basePow=C_.getBasePowerMethod(this.base),this.nice&&this.updateNiceDomain())}updateNiceDomain(){let[e,i]=this.domain,n=e>i?Math.ceil:Math.floor,r=e>i?Math.floor:Math.ceil,o=this.pow(n(this.log(e))),s=this.pow(r(this.log(i)));this.niceDomain=[o,s]}ticks(){let e=this.tickCount??10;if(!this.domain||this.domain.length<2||e<1)return[];this.refresh();let i=this.base,[n,r]=this.getDomain(),o=Math.min(n,r),s=Math.max(n,r),a=this.log(o),l=this.log(s);if(this.interval){let m=v=>v>=o&&v<=s,b=Math.min(Math.abs(this.interval),Math.abs(l-a)),g=fh(a,l,b).map(this.pow).filter(m);if(!ph(g.length,this.getPixelRange()))return g}let c=i%1===0,d=l-a>=e;if(!c||d)return Vg(a,l,Math.min(l-a,e)).map(this.pow);let u=[],h=o>0;a=Math.floor(a)-1,l=Math.round(l)+1;let f=Yc(this.range)/e,p=1/0;for(let m=a;m<=l;m++){let b=this.convert(this.pow(m+1));for(let g=1;g<i;g++){let v=h?g:i-g+1,M=this.pow(m)*v,w=this.convert(M),I=Math.abs(p-w),D=Math.abs(w-b),_=I>=f&&D>=f;M>=o&&M<=s&&(g===1||_||u.length===0)&&(u.push(M),p=w)}}return u}tickFormat({count:e,ticks:i,specifier:n}){return e!==1/0&&i==null&&this.ticks(),n??(n=this.base===10?".0e":","),cn(n)?pR(n):n}static getBaseLogMethod(e){switch(e){case 10:return Math.log10;case Math.E:return Math.log;case 2:return Math.log2;default:let i=Math.log(e);return n=>Math.log(n)/i}}static getBasePowerMethod(e){switch(e){case 10:return i=>i>=0?10**i:1/10**-i;case Math.E:return Math.exp;default:return i=>e**i}}};y([ui],DR.prototype,"base",2);var MM=DR,Ug=class sg extends ct{constructor(){super([],[0,1]),this.type="time"}toDomain(e){return new Date(e)}convert(e,i){return super.convert(new Date(e),i)}invert(e){return new Date(super.invert(e))}ticks(){if(!this.domain||this.domain.length<2)return[];this.refresh();let{interval:e,nice:i,tickCount:n,minTickCount:r,maxTickCount:o}=this,[s,a]=En(this.getDomain().map(sn));return e!=null?sg.getTicksForInterval({start:s,stop:a,interval:e,availableRange:this.getPixelRange()})??sg.getDefaultTicks({start:s,stop:a,tickCount:n,minTickCount:r,maxTickCount:o}):i&&n===2?this.niceDomain:i&&n===1?this.niceDomain.slice(0,1):sg.getDefaultTicks({start:s,stop:a,tickCount:n,minTickCount:r,maxTickCount:o})}static getDefaultTicks({start:e,stop:i,tickCount:n,minTickCount:r,maxTickCount:o}){let s=uk(e,i,n,r,o);return s?s.range(new Date(e),new Date(i)):[]}static getTicksForInterval({start:e,stop:i,interval:n,availableRange:r}){if(!n)return[];if(n instanceof yl){let u=n.range(new Date(e),new Date(i));return ph(u.length,r)?void 0:u}let o=Math.abs(n);if(ph((i-e)/o,r))return;let a=[...Wu].reverse().find(u=>o%u.duration===0);if(a)return a.timeInterval.every(o/(a.duration/a.step)).range(new Date(e),new Date(i));let l=new Date(e),c=new Date(i),d=[];for(;l<=c;)d.push(l),l=new Date(l),l.setMilliseconds(l.getMilliseconds()+o);return d}tickFormat({ticks:e,domain:i,specifier:n,formatOffset:r}){return n==null?pM(e,i,r):Th(n)}update(){!this.domain||this.domain.length<2||this.nice&&this.updateNiceDomain()}updateNiceDomain(){let[i,n]=this.domain;for(let r=0;r<4;r++){this.updateNiceDomainIteration(i,n);let[o,s]=this.niceDomain;if(sn(i)===sn(o)&&sn(n)===sn(s))break;i=o,n=s}}updateNiceDomainIteration(e,i){let n=Math.min(sn(e),sn(i)),r=Math.max(sn(e),sn(i)),o=e>i,{interval:s}=this,a;if(s instanceof yl)a=s;else{let l=typeof s=="number"?(r-n)/Math.max(s,1):this.tickCount;a=uk(n,r,l,this.minTickCount,this.maxTickCount)}if(a){let l=a.range(new Date(n),new Date(r),!0),c=o?[...l].reverse():l,d=c[0],u=c.at(-1);this.niceDomain=[d,u]}}};function DW(t,e){return t-e}var kh=class wR extends Js{constructor(){super(...arguments),this.type="ordinal-time",this.tickCount=ct.defaultTickCount,this.minTickCount=0,this.maxTickCount=1/0,this.interval=void 0,this._domain=[],this.timestamps=[],this.sortedTimestamps=[],this.visibleRange=[0,1]}static is(e){return e instanceof wR}setVisibleRange(e){this.visibleRange=e}set domain(e){if(this.invalid=!0,e.length===0){this._domain=[];return}this._domain=e,this.timestamps=zg(e.map(sn)),this.sortedTimestamps=this.timestamps.slice().sort(DW)}get domain(){return this._domain}ticks(){this.refresh();let[e,i]=[this.timestamps[0],this.timestamps.at(-1)],n=Math.min(e,i),r=Math.max(e,i),o=e>i,s;if(this.interval==null)s=this.getDefaultTicks(this.maxTickCount,o);else{let[l,c]=this.range,d=Math.abs(c-l);s=Ug.getTicksForInterval({start:n,stop:r,interval:this.interval,availableRange:d})??[]}let a=new Set;return s.filter(l=>{let c=this.convert(l);return isNaN(c)||a.has(c)?!1:(a.add(c),!0)})}getDefaultTicks(e,i){let n=[],r=this.timestamps.length,o=Math.ceil(r*(this.visibleRange[1]-this.visibleRange[0])/e),s=Math.floor(o/2);for(let[a,l]of this.timestamps.entries())o>0&&(a+s)%o||(i?n.push(new Date(this.timestamps[r-a-1])):n.push(new Date(l)));return n}convert(e){this.refresh();let i=Number(e);if(i<this.sortedTimestamps[0])return NaN;let n=this.findInterval(i);return this.timestamps[0]!==this.sortedTimestamps[0]&&(n=this.timestamps.length-n-1),this.ordinalRange[n]??NaN}findInterval(e){let{sortedTimestamps:i}=this,n=0,r=i.length-1;for(;n<=r;){let o=Math.floor((n+r)/2);if(i[o]===e)return o;i[o]<e?n=o+1:r=o-1}return n}tickFormat({ticks:e,domain:i,specifier:n}){return n==null?pM(e,i):Th(n)}invert(e){this.refresh();let i=this.ordinalRange.findIndex(n=>e<=n);return this.domain[i]}invertNearest(e){return new Date(super.invertNearest(e))}};y([ui],kh.prototype,"tickCount",2);y([ui],kh.prototype,"minTickCount",2);y([ui],kh.prototype,"maxTickCount",2);y([ui],kh.prototype,"interval",2);var Pr=kh;function IR(t,e){return typeof t=="number"&&typeof e=="number"?t-e:typeof t=="string"&&typeof e=="string"?t.localeCompare(e):t==null&&e==null?0:t==null?-1:e==null?1:String(t).localeCompare(String(e))}function fk(t){return typeof t=="function"?t():t}function SR(t,e,i){for(let n in t){let r=i(fk(t[n]),fk(e[n]));if(r!==0)return r}return 0}var DM=class ag extends td{constructor(e){super({isVirtual:e?.isVirtual,name:e?.name}),this.opts=e,this.opacity=1,this.lastBBox=void 0;let{zIndex:i,zIndexSubOrder:n}=e??{};this.isContainerNode=!0,i!==void 0&&(this.zIndex=i),n!==void 0&&(this.zIndexSubOrder=n)}static is(e){return e instanceof ag}onZIndexChange(){super.onZIndexChange(),this.layer&&this._layerManager?.moveLayer(this.layer,this.zIndex,this.zIndexSubOrder)}isLayer(){return this.layer!=null}_setLayerManager(e){if(this._layerManager&&this.layer&&(this._layerManager.removeLayer(this.layer),this.layer=void 0),this.layer)throw new Error("AG Charts - unable to deregister scene rendering layer!");super._setLayerManager(e)}initialiseLayer(){this.layer||!this._layerManager||this.opts?.layer!==!0||(this.layer=this._layerManager.addLayer({name:this.name,zIndex:this.zIndex,zIndexSubOrder:this.zIndexSubOrder,getComputedOpacity:()=>this.getComputedOpacity(),getVisibility:()=>this.getVisibility()}))}getComputedOpacity(){let e=1;for(let i of this.traverseUp())i instanceof ag&&(e*=i.opacity);return e}getVisibility(){for(let e of this.traverseUp())if(!e.visible)return!1;return!0}onVisibleChange(){this.layer&&(this.layer.enabled=this.visible)}markDirty(e,i=1){if(this.isVirtual){super.markDirty(e,i);return}let n=i;(i<2||this.layer!=null)&&(n=1),super.markDirty(e,i,n)}containsPoint(e,i){return!0}computeBBox(){return this.computeTransformMatrix(),ag.computeBBox(this.children)}computeTransformedBBox(){return this.getBBox()}computeTransformedRegionBBox(){return this.clipRect?(this.computeTransformMatrix(),this.matrix.transformBBox(this.clipRect)):this.computeTransformedBBox()}preRender(){let e=super.preRender();return e.groups+=1,e.nonGroups-=1,this.opts?.layer!==!0||this.layer!=null||(e.nonGroups>0&&this.initialiseLayer(),this.opts?.nonEmptyChildDerivedZIndex&&e.nonGroups>0&&this.deriveZIndexFromChildren()),e}deriveZIndexFromChildren(){let e=this.children.filter(n=>n._childNodeCounts.nonGroups>0);this.sortChildren(e);let i=e.at(-1);this.zIndex=i?.zIndex??-1/0,this.zIndexSubOrder=i?.zIndexSubOrder}render(e){let{opts:{name:i=void 0}={},_debug:n}=this,{dirty:r,dirtyZIndex:o,layer:s,children:a,clipRect:l,dirtyTransform:c}=this,{ctx:d,forceRender:u,clipBBox:h}=e,{resized:f,stats:p}=e,m=d.getTransform(),b=r>=2||o||f,g=b,v=!1;for(let E of a)if(g||(g=E.layerManager==null&&E.dirty>=1),v||(v=E.layerManager!=null&&E.dirty>=1),g)break;if(i&&n?.({name:i,group:this,isDirty:b,isChildDirty:g,dirtyTransform:c,renderCtx:e,forceRender:u}),c)u="dirtyTransform";else if(s){let E=this.getBBox();(this.lastBBox===void 0||!this.lastBBox.equals(E))&&(u="dirtyTransform",this.lastBBox=E)}if(!b&&!g&&!v&&!u){i&&p&&n?.({name:i,result:"skipping",renderCtx:e,counts:this.nodeCount,group:this}),s&&p&&(p.layersSkipped++,p.nodesSkipped+=this.nodeCount.count),this.markClean({recursive:!1});return}let M=this.visible;if(s){if(d=s.context,d.save(),d.setTransform(s.pixelRatio,0,0,s.pixelRatio,0,0),u!=="dirtyTransform"&&(u=g||o),u&&s.clear(),h){let{width:E,height:T,x:k,y:P}=h;n?.(()=>({name:i,clipBBox:h,ctxTransform:d.getTransform(),renderCtx:e,group:this})),d.beginPath(),d.rect(k,P,E,T),d.clip()}d.setTransform(m)}else d.globalAlpha*=this.opacity;let w=this.transformRenderContext(e,d);if(l){let{x:E,y:T,width:k,height:P}=l;d.save(),n?.(()=>({name:i,clipRect:l,ctxTransform:d.getTransform(),renderCtx:e,group:this})),d.beginPath(),d.rect(E,T,k,P),d.clip(),h=w.transformBBox(l)}let I=this.hasVirtualChildren();o?(this.sortChildren(a),u!=="dirtyTransform"&&(u=!0)):I&&this.sortChildren(a);let _=u!==e.forceRender||h!==e.clipBBox||d!==e.ctx?L(C({},e),{ctx:d,forceRender:u,clipBBox:h}):e,S=0;for(let E of a){if(!E.visible||!M){E.markClean(),p&&(S+=E.nodeCount.count);continue}if(!u&&E.dirty===0){p&&(S+=E.nodeCount.count);continue}d.save(),E.render(_),d.restore()}if(p&&(p.nodesSkipped+=S),super.render(e),l&&d.restore(),I)for(let E of this.virtualChildren)E.markClean({recursive:"virtual"});s&&(p&&p.layersRendered++,d.restore(),u&&s.snapshot(),s.context.verifyDepthZero?.()),i&&p&&n?.({name:i,result:"rendered",skipped:S,renderCtx:e,counts:this.nodeCount,group:this})}sortChildren(e){this.dirtyZIndex=!1,e.sort((i,n)=>SR([i.zIndex,...i.zIndexSubOrder??[void 0,void 0],i.serialNumber],[n.zIndex,...n.zIndexSubOrder??[void 0,void 0],n.serialNumber],IR))}static computeBBox(e,i){let n=1/0,r=-1/0,o=1/0,s=-1/0,a=i?.skipInvisible??!0;for(let l of e){if(a&&!l.visible)continue;let c=l.computeTransformedBBox();if(!c)continue;let{x:d,y:u,width:h,height:f}=c;d<n&&(n=d),u<o&&(o=u),d+h>r&&(r=d+h),u+f>s&&(s=u+f)}return new se(n,o,r-n,s-o)}setClipRectInGroupCoordinateSpace(e){this.clipRect=e?this.transformBBox(e):void 0}};DM.className="Group";y([re({redraw:3,convertor:t=>Ce(0,t,1)})],DM.prototype,"opacity",2);var fe=DM,po={};typeof window<"u"?po.window=window:typeof global<"u"&&(po.window=global.window);typeof document<"u"?po.document=document:typeof global<"u"&&(po.document=global.document);function Fr(t){return t?po.document?.[t]:po.document}function Br(t){return t?po.window?.[t]:po.window}function Zt(t,e,i){let n=Fr().createElement(t);return typeof e=="object"&&(i=e,e=void 0),e&&n.classList.add(e),i&&Object.assign(n.style,i),n}function E_(t,e){return Fr().createElementNS(t,e)}function CR(t,e){let{body:i}=Fr(),n=Zt("a",{display:"none"});n.href=t,n.download=e,i.appendChild(n),n.click(),setTimeout(()=>i.removeChild(n))}function ER(t){po.document=t}function TR(t){po.window=t}function Ys(t,e){t&&(t.style.width=`${e.width}px`,t.style.height=`${e.height}px`,t.style.left=`${e.x}px`,t.style.top=`${e.y}px`)}var wW=2e3,pk=Date.now(),IW=()=>{let t=Date.now()-pk;if(t>wW){let e=(Math.floor(t/100)/10).toFixed(1);Y.log(`**** ${e}s since last log message ****`)}pk=Date.now()},gt={create(...t){return Object.assign((...i)=>{gt.check(...t)&&(typeof i[0]=="function"&&(i=I_(i[0]())),IW(),Y.log(...i))},{check:()=>gt.check(...t)})},check(...t){return t.length===0&&t.push(!0),I_(Br("agChartsDebug")).some(i=>t.includes(i))}},At=class rl{constructor(e,i,n=!0){this.parentNode=e,this.autoCleanup=n,this.garbageBin=new Set,this._nodesMap=new Map,this._nodes=[],this.data=[],this.debug=gt.create(!0,"scene","scene:selections"),this.nodeFactory=Object.prototype.isPrototypeOf.call(td,i)?()=>new i:i}static select(e,i,n=!0){return new rl(e,i,n)}static selectAll(e,i){let n=[],r=o=>{i(o)&&n.push(o),o.children.forEach(r)};return r(e),n}static selectByClass(e,i,...n){return rl.selectAll(e,r=>r instanceof i||n.some(o=>r instanceof o))}static selectByTag(e,i){return rl.selectAll(e,n=>n.tag===i)}createNode(e,i,n){let r=this.nodeFactory(e);return r.datum=e,i?.(r),n==null?this._nodes.push(r):this._nodes.splice(n,0,r),this.parentNode.appendChild(r),r}update(e,i,n){if(this.garbageBin.size>0&&this.debug(`Selection - update() called with pending garbage: ${e}`),n){let r=new Map(e.map((o,s)=>[n(o),[o,s]]));for(let[o,s]of this._nodesMap.entries())if(r.has(s)){let[a]=r.get(s);o.datum=a,this.garbageBin.delete(o),r.delete(s)}else this.garbageBin.add(o);for(let[o,[s,a]]of r.entries())this._nodesMap.set(this.createNode(s,i,a),o)}else{let r=Math.max(e.length,this.data.length);for(let o=0;o<r;o++)o>=e.length?this.garbageBin.add(this._nodes[o]):o>=this._nodes.length?this.createNode(e[o],i):(this._nodes[o].datum=e[o],this.garbageBin.delete(this._nodes[o]))}return this.data=e.slice(),this.autoCleanup&&this.cleanup(),this}cleanup(){return this.garbageBin.size===0?this:(this._nodes=this._nodes.filter(e=>this.garbageBin.has(e)?(this._nodesMap.delete(e),this.garbageBin.delete(e),e.destroy(),!1):!0),this)}clear(){return this.update([]),this}isGarbage(e){return this.garbageBin.has(e)}hasGarbage(){return this.garbageBin.size>0}each(e){for(let i of this._nodes.entries())e(i[1],i[1].datum,i[0]);return this}*[Symbol.iterator](){for(let e=0;e<this._nodes.length;e++){let i=this._nodes[e],n=this._nodes[e].datum;yield{node:i,datum:n,index:e}}}select(e){return rl.selectAll(this.parentNode,e)}selectByClass(e){return rl.selectByClass(this.parentNode,e)}selectByTag(e){return rl.selectByTag(this.parentNode,e)}nodes(){return this._nodes}at(e){return this._nodes.at(e)}},rr=Math.PI*2;function Nt(t){return t%=rr,t+=rr,t%=rr,t}function SW(t){return t%=rr,t+=rr,t!==rr&&(t%=rr),t}function mh(t){return t%=rr,t<-Math.PI?t+=rr:t>=Math.PI&&(t-=rr),t}function Hs(t,e,i){let n=Nt(t),r=Nt(e),o=Nt(i);return r<o?r<=n&&n<=o:r>o?r<=n||n<=o:!0}function Wi(t){return t/180*Math.PI}function CW(t){return t/Math.PI*180}function AR(t,e,i){i&&([t,e]=[e,t]);let n=Nt(t);return(Nt(e)+rr-n)%rr}function Gg(t,e){return t=Nt(t),e=Nt(e),e-t+(t>e?2*Math.PI:0)}function EW(t,e,i,n){let r=t+i*Math.cos(n),o=e+i*Math.sin(n);return{x:r,y:o}}function Ju(t,e,i,n){let r=t-i,o=e-n;return r*r+o*o}function lg(t,e,i,n,r,o,s){if(i===r&&n===o)return Math.min(s,Ju(t,e,i,n));let a=r-i,l=o-n,c=Math.max(0,Math.min(1,((t-i)*a+(e-n)*l)/(a*a+l*l))),d=i+c*a,u=n+c*l;return Math.min(s,Ju(t,e,d,u))}function TW(t,e,i,n,r,o,s,a,l){a&&([s,o]=[o,s]);let c=Math.atan2(e-n,t-i);if(!Hs(c,o,s)){let u=i+Math.cos(o)*r,h=n+Math.sin(o)*r,f=i+Math.cos(o)*r,p=n+Math.sin(o)*r;return Math.min(l,Ju(t,e,u,h),Ju(t,e,f,p))}let d=r-Math.sqrt(Ju(t,e,i,n));return Math.min(l,d*d)}var AW=class{constructor(t=[]){this.stops=t}},NW=class extends AW{constructor(t,e=0){super(t),this.angle=e}createGradient(t,e){let{stops:n,angle:r}=this,o=Nt(Wi(r+90)),s=Math.cos(o),a=Math.sin(o),l=e.width,c=e.height,d=e.x+l*.5,u=e.y+c*.5;if(l>0&&c>0){let h=Math.sqrt(c*c+l*l)/2,f=Math.atan2(c,l),p;o<Math.PI/2?p=o:o<Math.PI?p=Math.PI-o:o<1.5*Math.PI?p=o-Math.PI:p=2*Math.PI-o;let m=h*Math.abs(Math.cos(p-f)),b=t.createLinearGradient(d+s*m,u+a*m,d-s*m,u-a*m);for(let g of n)b.addColorStop(g.offset,g.color);return b}return"black"}},kW=/^linear-gradient\((-?[\d.]+)deg,(.*?)\)$/i,fn=class so extends td{constructor(){super(...arguments),this.fillOpacity=1,this.strokeOpacity=1,this.fill=so.defaultStyles.fill,this.stroke=so.defaultStyles.stroke,this.strokeWidth=so.defaultStyles.strokeWidth,this.lineDash=so.defaultStyles.lineDash,this.lineDashOffset=so.defaultStyles.lineDashOffset,this.lineCap=so.defaultStyles.lineCap,this.lineJoin=so.defaultStyles.lineJoin,this.miterLimit=void 0,this.opacity=so.defaultStyles.opacity,this.fillShadow=so.defaultStyles.fillShadow}restoreOwnStyles(){let{defaultStyles:e}=this.constructor;Object.assign(this,e)}onFillChange(){let{fill:e}=this,i;if(e?.startsWith("linear-gradient")&&(i=kW.exec(e))){let n=parseFloat(i[1]),r=[],o=i[2],s=/(#[0-9a-f]+)|(rgba?\(.+?\))|([a-z]+)/gi,a;for(;a=s.exec(o);)r.push(a[0]);this.gradient=new NW(r.map((l,c)=>({color:l,offset:c/(r.length-1)})),n)}else this.gradient=void 0}align(e,i){let n=this.layerManager?.canvas?.pixelRatio??1,r=Math.round(e*n)/n;return i==null?r:i===0?0:i<1?Math.ceil(i*n)/n:Math.round((i+e)*n)/n-r}fillStroke(e,i){this.renderFill(e,i),this.renderStroke(e,i)}renderFill(e,i){if(this.fill){let{globalAlpha:n}=e;this.applyFill(e),this.applyFillAlpha(e),this.applyShadow(e),this.executeFill(e,i),e.globalAlpha=n}e.shadowColor="rgba(0, 0, 0, 0)"}executeFill(e,i){i?e.fill(i):e.fill()}applyFill(e){e.fillStyle=this.gradient?.createGradient(e,this.getBBox())??this.fill}applyFillAlpha(e){e.globalAlpha*=this.opacity*this.fillOpacity}applyShadow(e){let i=this.layerManager?.canvas.pixelRatio??1,n=this.fillShadow;n?.enabled&&(e.shadowColor=n.color,e.shadowOffsetX=n.xOffset*i,e.shadowOffsetY=n.yOffset*i,e.shadowBlur=n.blur*i)}renderStroke(e,i){if(this.stroke&&this.strokeWidth){let{globalAlpha:n}=e;e.strokeStyle=this.stroke,e.globalAlpha*=this.opacity*this.strokeOpacity,e.lineWidth=this.strokeWidth,this.lineDash&&e.setLineDash(this.lineDash),this.lineDashOffset&&(e.lineDashOffset=this.lineDashOffset),this.lineCap&&(e.lineCap=this.lineCap),this.lineJoin&&(e.lineJoin=this.lineJoin),this.miterLimit!=null&&(e.miterLimit=this.miterLimit),this.executeStroke(e,i),e.globalAlpha=n}}executeStroke(e,i){i?e.stroke(i):e.stroke()}containsPoint(e,i){return this.isPointInPath(e,i)}};fn.defaultStyles={fill:"black",stroke:void 0,strokeWidth:0,lineDash:void 0,lineDashOffset:0,lineCap:void 0,lineJoin:void 0,opacity:1,fillShadow:void 0};y([re({redraw:2})],fn.prototype,"fillOpacity",2);y([re({redraw:2})],fn.prototype,"strokeOpacity",2);y([re({redraw:2,changeCb:t=>t.onFillChange()})],fn.prototype,"fill",2);y([re({redraw:2})],fn.prototype,"stroke",2);y([re({redraw:2})],fn.prototype,"strokeWidth",2);y([re({redraw:2})],fn.prototype,"lineDash",2);y([re({redraw:2})],fn.prototype,"lineDashOffset",2);y([re({redraw:2})],fn.prototype,"lineCap",2);y([re({redraw:2})],fn.prototype,"lineJoin",2);y([re({redraw:2})],fn.prototype,"miterLimit",2);y([re({redraw:2,convertor:t=>Ce(0,t,1)})],fn.prototype,"opacity",2);y([re({redraw:2,checkDirtyOnAssignment:!0})],fn.prototype,"fillShadow",2);var ar=fn,di=class extends ar{constructor(t={}){super(t),this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.restoreOwnStyles()}set x(t){this.x1=t,this.x2=t}set y(t){this.y1=t,this.y2=t}computeBBox(){return new se(Math.min(this.x1,this.x2),Math.min(this.y1,this.y2),Math.abs(this.x2-this.x1),Math.abs(this.y2-this.y1))}isPointInPath(t,e){if(this.x1===this.x2||this.y1===this.y2){let{x:i,y:n}=this.transformPoint(t,e);return this.getBBox().clone().grow(this.strokeWidth/2).containsPoint(i,n)}return!1}distanceSquared(t,e){let{x1:i,y1:n,x2:r,y2:o}=this;return lg(t,e,i,n,r,o,1/0)}render(t){let{ctx:e,forceRender:i,stats:n,devicePixelRatio:r}=t;if(this.dirty===0&&!i){n&&(n.nodesSkipped+=this.nodeCount.count);return}this.transformRenderContext(t);let{x1:o,y1:s,x2:a,y2:l}=this;if(o===a){let{strokeWidth:c}=this,d=Math.round(o*r)/r+Math.trunc(c*r)%2/(r*2);o=d,a=d}else if(s===l){let{strokeWidth:c}=this,d=Math.round(s*r)/r+Math.trunc(c*r)%2/(r*2);s=d,l=d}e.beginPath(),e.moveTo(o,s),e.lineTo(a,l),this.fillStroke(e),this.fillShadow?.markClean(),super.render(t)}};di.className="Line";di.defaultStyles=Object.assign({},ar.defaultStyles,{fill:void 0,strokeWidth:1});y([re({redraw:3})],di.prototype,"x1",2);y([re({redraw:3})],di.prototype,"y1",2);y([re({redraw:3})],di.prototype,"x2",2);y([re({redraw:3})],di.prototype,"y2",2);function RW(t=0,e=0){return new OffscreenCanvas(t,e).getContext("2d")}var wM=class{constructor(t=5){this.maxCacheSize=t,this.store=new Map}get(t){if(!this.store.has(t))return;let e=this.store.get(t);return this.store.delete(t),this.store.set(t,e),e}has(t){return this.store.has(t)}set(t,e){if(this.store.set(t,e),this.store.size>this.maxCacheSize){let i=this.store.keys(),n=this.store.size-this.maxCacheSize;for(;n>0;){let r=i.next();r.done||this.store.delete(r.value),n--}}return e}clear(){this.store.clear()}},ts=class{static measureText(t,e){return this.getMeasurer(e).measureText(t)}static measureLines(t,e){return this.getMeasurer(e).measureLines(t)}static getMeasurer(t){let e=typeof t.font=="string"?t.font:Ft.toFontString(t.font),i=`${e}-${t.textAlign??"start"}-${t.textBaseline??"alphabetic"}`;return this.instanceMap.get(i)??this.createFontMeasurer(e,t,i)}static createFontMeasurer(t,e,i){let n=RW();n.font=t,n.textAlign=e.textAlign??"start",n.textBaseline=e.textBaseline??"alphabetic";let r=new NR(n,e);return this.instanceMap.set(i,r),r}};ts.instanceMap=new wM(10);var NR=class{constructor(t,e){this.ctx=t,this.measureMap=new wM(100),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline),t.font=typeof e.font=="string"?e.font:Ft.toFontString(e.font),this.textMeasurer=new IM(i=>this.cachedCtxMeasureText(i),e.textBaseline??"alphabetic")}textWidth(t,e){return this.textMeasurer.textWidth(t,e)}measureText(t){return this.textMeasurer.measureText(t)}measureLines(t){return this.textMeasurer.measureLines(t)}cachedCtxMeasureText(t){if(!this.measureMap.has(t)){let e=this.ctx.measureText(t);this.measureMap.set(t,{actualBoundingBoxAscent:e.actualBoundingBoxAscent,emHeightAscent:e.emHeightAscent,emHeightDescent:e.emHeightDescent,actualBoundingBoxDescent:e.actualBoundingBoxDescent,actualBoundingBoxLeft:e.actualBoundingBoxLeft,actualBoundingBoxRight:e.actualBoundingBoxRight,alphabeticBaseline:e.alphabeticBaseline,fontBoundingBoxAscent:e.fontBoundingBoxAscent,fontBoundingBoxDescent:e.fontBoundingBoxDescent,hangingBaseline:e.hangingBaseline,ideographicBaseline:e.ideographicBaseline,width:e.width})}return this.measureMap.get(t)}},Ft=class{static toFontString({fontSize:t=10,fontStyle:e,fontWeight:i,fontFamily:n,lineHeight:r}){let o="";return e&&(o+=`${e} `),i&&(o+=`${i} `),o+=`${t}px`,r&&(o+=`/${r}px`),o+=` ${n}`,o.trim()}static getLineHeight(t){return Math.ceil(t*this.defaultLineHeight)}static getVerticalModifier(t){switch(t){case"hanging":case"top":return 0;case"middle":return .5;case"alphabetic":case"bottom":case"ideographic":default:return 1}}};Ft.EllipsisChar="\u2026";Ft.defaultLineHeight=1.15;Ft.lineSplitter=/\r?\n/g;var IM=class{constructor(t,e="alphabetic"){this.measureTextFn=t,this.textBaseline=e,this.charMap=new Map}getMetrics(t){let e=this.measureTextFn(t);return e.fontBoundingBoxAscent??(e.fontBoundingBoxAscent=e.emHeightAscent),e.fontBoundingBoxDescent??(e.fontBoundingBoxDescent=e.emHeightDescent),{width:e.width,height:e.actualBoundingBoxAscent+e.actualBoundingBoxDescent,lineHeight:e.fontBoundingBoxAscent+e.fontBoundingBoxDescent,offsetTop:e.actualBoundingBoxAscent,offsetLeft:e.actualBoundingBoxLeft}}getMultilineMetrics(t){let e=0,i=0,n=0,r=0,o=0,s=Ft.getVerticalModifier(this.textBaseline),a=[],l=0,c=t.length;for(let d of t){let u=this.measureTextFn(d);u.fontBoundingBoxAscent??(u.fontBoundingBoxAscent=u.emHeightAscent),u.fontBoundingBoxDescent??(u.fontBoundingBoxDescent=u.emHeightDescent),e<u.width&&(e=u.width),r<u.actualBoundingBoxLeft&&(r=u.actualBoundingBoxLeft),l===0?(i+=u.actualBoundingBoxAscent,n+=u.actualBoundingBoxAscent):o+=u.fontBoundingBoxAscent,l===c-1?i+=u.actualBoundingBoxDescent:o+=u.fontBoundingBoxDescent,a.push({text:d,width:u.width,height:u.actualBoundingBoxAscent+u.actualBoundingBoxDescent,lineHeight:u.fontBoundingBoxAscent+u.fontBoundingBoxDescent,offsetTop:u.actualBoundingBoxAscent,offsetLeft:u.actualBoundingBoxLeft}),l++}return i+=o,n+=o*s,{width:e,height:i,offsetTop:n,offsetLeft:r,lineMetrics:a}}textWidth(t,e){if(e){let i=0;for(let n=0;n<t.length;n++)i+=this.textWidth(t.charAt(n));return i}return t.length>1?this.measureTextFn(t).width:this.charMap.get(t)??this.charWidth(t)}measureText(t){return this.getMetrics(t)}measureLines(t){let e=typeof t=="string"?t.split(Ft.lineSplitter):t;return this.getMultilineMetrics(e)}charWidth(t){let{width:e}=this.measureTextFn(t);return this.charMap.set(t,e),e}};function Hg(t){let{redraw:e=3,changeCb:i}=t??{};return re({redraw:e,type:"font",changeCb:i})}var pn=class cg extends ar{constructor(){super(...arguments),this.x=0,this.y=0,this.lines=[],this.text=void 0,this.fontSize=10,this.fontFamily="sans-serif",this.textAlign=cg.defaultStyles.textAlign,this.textBaseline=cg.defaultStyles.textBaseline}onTextChange(){this.lines=this.text?.split(`
`).map(e=>e.trim())??[]}static computeBBox(e,i,n,r){let{offsetTop:o,offsetLeft:s,width:a,height:l}=ts.measureLines(e,r);return new se(i-s,n-o,a,l)}computeBBox(){let{x:e,y:i,lines:n,textBaseline:r,textAlign:o}=this;return cg.computeBBox(n,e,i,{font:this,textBaseline:r,textAlign:o})}isPointInPath(e,i){let n=this.transformPoint(e,i),r=this.getBBox();return r?r.containsPoint(n.x,n.y):!1}render(e){let{ctx:i,forceRender:n,stats:r}=e;if(this.dirty===0&&!n){r&&(r.nodesSkipped+=this.nodeCount.count);return}if(!this.lines.length||!this.layerManager){r&&(r.nodesSkipped+=this.nodeCount.count);return}this.transformRenderContext(e);let{fill:o,stroke:s,strokeWidth:a}=this,{pixelRatio:l}=this.layerManager.canvas;if(i.font=Ft.toFontString(this),i.textAlign=this.textAlign,i.textBaseline=this.textBaseline,o){i.fillStyle=o,i.globalAlpha*=this.opacity*this.fillOpacity;let{fillShadow:c}=this;c?.enabled&&(i.shadowColor=c.color,i.shadowOffsetX=c.xOffset*l,i.shadowOffsetY=c.yOffset*l,i.shadowBlur=c.blur*l),this.renderLines((d,u,h)=>i.fillText(d,u,h))}if(s&&a){i.strokeStyle=s,i.lineWidth=a,i.globalAlpha*=this.opacity*this.strokeOpacity;let{lineDash:c,lineDashOffset:d,lineCap:u,lineJoin:h}=this;c&&i.setLineDash(c),d&&(i.lineDashOffset=d),u&&(i.lineCap=u),h&&(i.lineJoin=h),this.renderLines((f,p,m)=>i.strokeText(f,p,m))}super.render(e)}renderLines(e){let{lines:i,x:n,y:r}=this,o=this.lineHeight??Ft.getLineHeight(this.fontSize),s=(o-o*i.length)*Ft.getVerticalModifier(this.textBaseline);for(let a of i)e(a,n,r+s),s+=o}setFont(e){this.fontFamily=e.fontFamily,this.fontSize=e.fontSize,this.fontStyle=e.fontStyle,this.fontWeight=e.fontWeight}setAlign(e){this.textAlign=e.textAlign,this.textBaseline=e.textBaseline}};pn.className="Text";pn.defaultLineHeightRatio=1.15;pn.defaultStyles=Object.assign({},ar.defaultStyles,{textAlign:"start",fontStyle:void 0,fontWeight:void 0,fontSize:10,fontFamily:"sans-serif",textBaseline:"alphabetic"});y([re({redraw:3})],pn.prototype,"x",2);y([re({redraw:3})],pn.prototype,"y",2);y([re({redraw:3,changeCb:t=>t.onTextChange()})],pn.prototype,"text",2);y([Hg()],pn.prototype,"fontStyle",2);y([Hg()],pn.prototype,"fontWeight",2);y([Hg()],pn.prototype,"fontSize",2);y([Hg()],pn.prototype,"fontFamily",2);y([re({redraw:3})],pn.prototype,"textAlign",2);y([re({redraw:3})],pn.prototype,"textBaseline",2);y([re({redraw:3})],pn.prototype,"lineHeight",2);var _t=pn;function LW(t,e,i,n,r,o){if(t.size===0)return!1;let s=t.x,a=t.y;e!=null&&(s-=(e.x-.5)*t.size,a-=(e.y-.5)*t.size);let l=s;s<i?l=i:s>i+r&&(l=i+r);let c=a;a<n?c=n:a>n+o&&(c=n+o);let d=s-l,u=a-c;return Math.sqrt(d*d+u*u)<=t.size*.5}function kR(t,e,i,n,r){let o=t.x+t.width>e&&t.x<e+n,s=t.y+t.height>i&&t.y<i+r;return o&&s}function OW(t,e,i,n,r){return e+n<t.x+t.width&&e>t.x&&i>t.y&&i+r<t.y+t.height}function PW(t){return t!=null&&typeof t.point=="object"&&typeof t.label=="object"}var FW={top:{x:0,y:-1},bottom:{x:0,y:1},left:{x:-1,y:0},right:{x:1,y:0}};function jW(t,e,i=5){let n=[];t=t.map(r=>r.slice().sort((o,s)=>s.point.size-o.point.size));for(let r=0;r<t.length;r++){let o=n[r]=[],s=t[r];if(s?.length&&s[0].label)for(let a=0,l=s.length;a<l;a++){let c=s[a],{point:d,label:u,marker:h}=c,{text:f,width:p,height:m}=u,b=d.size*.5,g=0,v=0;if(b>0&&c.placement!=null){let S=FW[c.placement];g=(p*.5+b+i)*S.x,v=(m*.5+b+i)*S.y}let M=d.x-p*.5+g-((h?.center.x??.5)-.5)*d.size,w=d.y-m*.5+v-((h?.center.y??.5)-.5)*d.size;!(!e||OW(e,M,w,p,m))||t.some(S=>S.some(E=>LW(E.point,E.marker?.center,M,w,p,m)))||n.some(S=>S.some(E=>kR(E,M,w,p,m)))||o.push({index:a,text:f,x:M,y:w,width:p,height:m,datum:c})}}return n}function BW(t,e){let i=[];for(let n=0;n<t.length;n++){let r=t[n],{point:{x:o,y:s},label:{text:a}}=r,{width:l,height:c}=r.label;if(l+=e??0,c+=e??0,i.some(d=>kR(d,o,s,l,c)))return!0;i.push({index:n,text:a,x:o,y:s,width:l,height:c,datum:r})}return!1}function RR(t,e){return t.length===e.length&&t.every((i,n)=>Number(i)===Number(e[n]))}function ii(t,e){let i=Rt(t)?t:t.split(".");if(i.length===1){let[n]=i;return Ko((r,o,s)=>r[n]=s,r=>r[n],e)}return Ko((n,r,o)=>uM(n,i,o),n=>cM(n,i),e)}function zW(t){return Ko((e,i,n)=>e[t]=n)}function Mi(t,e){return Ko((i,n,r)=>i[t][e??n]=r)}function Yi(t){let{newValue:e,oldValue:i,changeValue:n}=t;return Ko((r,o,s,a)=>(s!==a&&(a!==void 0&&i?.call(r,a),s!==void 0&&e?.call(r,s),n?.call(r,s,a)),s))}function Zi(t){return N$(t)}var Kx="color: green",Xx="color: grey",SM=class rn{constructor(e,i,n){this.defaultState=e,this.states=i,this.enterEach=n,this.debug=gt.create(!0,"animation"),this.state=e,this.debug(`%c${this.constructor.name} | init -> ${e}`,Kx)}transition(e,i){if(!this.transitionChild(e,i)||this.state===rn.child||this.state===rn.parent)return;let r=this.state,o=this.states[this.state],s=o[e],a=`%c${this.constructor.name} | ${this.state} -> ${e} ->`;if(Array.isArray(s))s=s.find(d=>{if(!d.guard)return!0;let u=d.guard(i);return u||this.debug(`${a} ${d.target} (guarded)`,Xx),u});else if(typeof s=="object"&&!(s instanceof rn)&&s.guard&&!s.guard(i)){this.debug(`${a} ${s.target} (guarded)`,Xx);return}if(!s){this.debug(`${a} ${this.state}`,Xx);return}let l=this.getDestinationState(s),c=l===this.state?void 0:o.onExit;this.debug(`${a} ${l}`,Kx),this.state=l,typeof s=="function"?s(i):typeof s=="object"&&!(s instanceof rn)&&s.action?.(i),c?.(),this.enterEach?.(r,l),l!==r&&l!==rn.child&&l!==rn.parent&&this.states[l].onEnter?.(r,i)}is(e){return this.state===rn.child&&this.childState?this.childState.is(e):this.state===e}resetHierarchy(){this.debug(`%c${this.constructor.name} | ${this.state} -> [resetHierarchy] -> ${this.defaultState}`,"color: green"),this.state=this.defaultState}transitionChild(e,i){return this.state!==rn.child||!this.childState||(this.childState.transition(e,i),!this.childState.is(rn.parent))?!0:(this.debug(`%c${this.constructor.name} | ${this.state} -> ${e} -> ${this.defaultState}`,Kx),this.state=this.defaultState,this.states[this.state].onEnter?.(),this.childState.resetHierarchy(),!1)}getDestinationState(e){let i=this.state;return typeof e=="string"?i=e:e instanceof rn?(this.childState=e,i=rn.child):typeof e=="object"&&(e.target instanceof rn?(this.childState=e.target,i=rn.child):i=e.target),i}};SM.child="__child";SM.parent="__parent";var Rh=SM,CM=class{static wrapText(t,e){return this.wrapLines(t,e).join(`
`)}static wrapLines(t,e){let i=this.textWrap(t,e);return e.overflow==="hide"&&i.some(n=>n.endsWith(Ft.EllipsisChar))?[]:i}static appendEllipsis(t){return t.replace(/[.,]{1,5}$/,"")+Ft.EllipsisChar}static truncateLine(t,e,i,n){let r=e.textWidth(Ft.EllipsisChar),o=0,s=0;for(;s<t.length;s++){let a=e.textWidth(t.charAt(s));if(o+a>i)break;o+=a}if(t.length===s&&(!n||o+r<=i))return n?t+Ft.EllipsisChar:t;for(t=t.slice(0,s).trimEnd();t.length&&e.textWidth(t)+r>i;)t=t.slice(0,-1).trimEnd();return t+Ft.EllipsisChar}static textWrap(t,e){let i=t.split(Ft.lineSplitter),n=ts.getMeasurer(e);if(e.textWrap==="never")return i.map(a=>this.truncateLine(a.trimEnd(),n,e.maxWidth));let r=[],o=e.textWrap==="hyphenate",s=e.textWrap==null||e.textWrap==="on-space";for(let a of i){if(a=a.trimEnd(),a===""){r.push(a);continue}for(let l=0,c=0,d=0;l<a.length;l++){let u=a.charAt(l);if(c+=n.textWidth(u),u===" "&&(d=l),c>e.maxWidth){if(l===0)break;let h=n.textWidth(a.slice(0,l+1));if(h<=e.maxWidth){c=h;continue}if(d){let m=this.getWordAt(a,d+1),b=n.textWidth(m);if(b<=e.maxWidth){r.push(a.slice(0,d).trimEnd()),a=a.slice(d).trimStart(),l=-1,c=0,d=0;continue}else s&&b>e.maxWidth&&r.push(a.slice(0,d).trimEnd(),this.truncateLine(a.slice(d).trimStart(),n,e.maxWidth,!0))}else s&&r.push(this.truncateLine(a,n,e.maxWidth,!0));if(s){a="";break}let f=o?"-":"",p=a.slice(0,l).trim();for(;p.length&&n.textWidth(p+f)>e.maxWidth;)p=p.slice(0,-1).trimEnd();if(r.push(p+f),!p.length){a="";break}a=a.slice(p.length).trimStart(),l=-1,c=0,d=0}}a&&r.push(a)}return this.avoidOrphans(r,n,e),this.clipLines(r,n,e)}static getWordAt(t,e){let i=t.indexOf(" ",e);return i===-1?t.slice(e):t.slice(e,i)}static clipLines(t,e,i){if(!i.maxHeight)return t;let{height:n,lineMetrics:r}=e.measureLines(t);if(n<=i.maxHeight)return t;for(let o=0,s=0;o<r.length;o++){let{lineHeight:a}=r[o];if(s+=a,s>i.maxHeight){if(i.overflow==="hide")return[];let l=t.slice(0,o||1),c=l.pop();return l.concat(this.truncateLine(c,e,i.maxWidth,!0))}}return t}static avoidOrphans(t,e,i){if(i.avoidOrphans===!1||t.length<2)return;let{length:n}=t,r=t[n-1],o=t[n-2];if(o.length<r.length)return;let s=o.lastIndexOf(" ");if(s===-1||s===o.indexOf(" ")||r.includes(" "))return;let a=o.slice(s+1);e.textWidth(r+a)<=i.maxWidth&&(t[n-2]=o.slice(0,s),t[n-1]=a+" "+r)}};function bl(t,e,i){i===void 0||i===""?t?.removeAttribute(e):t?.setAttribute(e,i.toString())}function Yu(t,e,i){t.ariaHidden=`${i}`,t.classList.toggle(e,i)}function LR(t,e,i,n){let{top:r,right:o,bottom:s,left:a,width:l,height:c}=n;return a!=null?l!=null?o=i.width-a+l:o!=null&&(l=i.width-a-o):o!=null&&l!=null&&(a=i.width-o-l),r!=null?c!=null?s=i.height-r-c:s!=null&&(c=i.height-s-r):s!=null&&c!=null&&(r=i.height-s-c),l==null?c==null?(l=t,c=e):l=Math.ceil(t*c/e):c==null&&(c=Math.ceil(e*l/t)),a==null&&(o==null?a=Math.floor((i.width-l)/2):a=i.width-o-l),r==null&&(s==null?r=Math.floor((i.height-c)/2):r=i.height-c-s),{x:a,y:r,width:l,height:c}}var lo="ag-chart-tooltip",OR="ag-chart-dark-tooltip",is={html:"",ariaLabel:""};function VW(t){let e=(i,n,r)=>n===0||r[n-1]!=="."?". ":" ";return t.replace(/<br\s*\/?>/g,e).replace(/<\/p\s+>/g,e).replace(/<\/li\s*>/g,e).replace(/<[^<>]+>/g,"").replace(/\n+/g," ").replace(/\s+/g," ")}function qc(t,e){if(typeof t=="string")return{html:t,ariaLabel:t};let{content:i=e?.content??"",title:n=e?.title,color:r=e?.color??"white",backgroundColor:o=e?.backgroundColor??"#888"}=t,s=n?`<div class="${lo}-title"
        style="color: ${r}; background-color: ${o}">${n}</div>`:"",a=n?`${n}: `:"",l=i?`<div class="${lo}-content">${i}</div>`:"";return{html:`${s}${l}`,ariaLabel:VW(`${a}${i}`)}}var sd=class extends Ne{constructor(){super(...arguments),this.type="pointer",this.xOffset=0,this.yOffset=0}};y([x(bt(["pointer","node","top","right","bottom","left","top-left","top-right","bottom-right","bottom-left"],"a position type"))],sd.prototype,"type",2);y([x(yt)],sd.prototype,"xOffset",2);y([x(yt)],sd.prototype,"yOffset",2);var ur=class extends Ne{constructor(){super(),this.enabled=!0,this.delay=0,this.range=void 0,this.wrapping="hyphenate",this.position=new sd,this.darkTheme=!1,this.bounds="extended",this.enableInteraction=!1,this.lastVisibilityChange=Date.now(),this.wrapTypes=["always","hyphenate","on-space","never"],this.showTimeout=0,this._showArrow=!0}get interactive(){return this.enableInteraction}setup(t){this.element=t.addChild("canvas-overlay",lo),this.element.classList.add(lo),bl(this.element,"aria-hidden",!0)}destroy(t){t.removeChild("canvas-overlay",lo)}isVisible(){return!this.element?.classList.contains(lo+"-hidden")}show(t,e,i,n,r=!1){let{element:o}=this;if(n!=null&&o!=null)o.innerHTML=n.html;else if(!o?.innerHTML){this.toggle(!1);return}let s=i.position?.type??this.position.type,a=i.position?.xOffset??0,l=i.position?.yOffset??0,c=this.getTooltipBounds({positionType:s,meta:i,yOffset:l,xOffset:a,canvasRect:e}),d={x:t.x-e.x,y:t.y-e.y,width:t.width,height:t.height},u=LR(o.clientWidth,o.clientHeight,d,c),h=d.x,f=d.y,p=d.width-o.clientWidth-1+h,m=d.height-o.clientHeight+f,b=Ce(h,u.x,p),g=Ce(f,u.y,m),v=b!==u.x||g!==u.y,M=(s==="node"||s==="pointer")&&!v&&!a&&!l,w=i.showArrow??this.showArrow??M;this.updateShowArrow(w),o.style.transform=`translate(${Math.round(b)}px, ${Math.round(g)}px)`,o.style.pointerEvents=i.enableInteraction?"auto":"none",o.setAttribute("data-pointer-capture","retain"),this.enableInteraction=i.enableInteraction??!1,this.delay>0&&!r?(this.toggle(!1),this.showTimeout=setTimeout(()=>{this.toggle(!0)},this.delay)):this.toggle(!0)}toggle(t){if(!this.element)return;let{classList:e}=this.element,i=(l,c)=>e.toggle(`${lo}-${l}`,c),n=this.isVisible(),r=1/0;if(t||clearTimeout(this.showTimeout),n!==t){let l=Date.now();r=l-this.lastVisibilityChange,this.lastVisibilityChange=l}let o=100,s=5,a=!n&&t&&r>o;r>s&&i("no-animation",a),i("no-interaction",!this.enableInteraction),i("hidden",!t),i("arrow",this._showArrow),e.toggle(OR,this.darkTheme);for(let l of this.wrapTypes)e.toggle(`${lo}-wrap-${l}`,l===this.wrapping)}updateShowArrow(t){this._showArrow=t}getTooltipBounds(t){if(!this.element)return{};let{positionType:e,meta:i,yOffset:n,xOffset:r,canvasRect:o}=t,{clientWidth:s,clientHeight:a}=this.element,l={width:s,height:a};switch(e){case"node":case"pointer":return l.top=i.offsetY+n-a-8,l.left=i.offsetX+r-s/2,l;case"top":return l.top=n,l.left=o.width/2-s/2+r,l;case"right":return l.top=o.height/2-a/2+n,l.left=o.width-s/2+r,l;case"left":return l.top=o.height/2-a/2+n,l.left=r,l;case"bottom":return l.top=o.height-a+n,l.left=o.width/2-s/2+r,l;case"top-left":return l.top=n,l.left=r,l;case"top-right":return l.top=n,l.left=o.width-s+r,l;case"bottom-right":return l.top=o.height-a+n,l.left=o.width-s+r,l;case"bottom-left":return l.top=o.height-a+n,l.left=r,l}}};y([x(ve)],ur.prototype,"enabled",2);y([x(ve,{optional:!0})],ur.prototype,"showArrow",2);y([Zi((t,e,i)=>{e&&t.element?.classList.add(e),i&&t.element?.classList.remove(i)}),x(Q,{optional:!0})],ur.prototype,"class",2);y([x(K)],ur.prototype,"delay",2);y([x(Bg,{optional:!0})],ur.prototype,"range",2);y([x(jg)],ur.prototype,"wrapping",2);y([x(ae)],ur.prototype,"position",2);y([x(ve)],ur.prototype,"darkTheme",2);y([x(bt(["extended","canvas"]))],ur.prototype,"bounds",2);var Mt=class extends Ne{constructor(){super(...arguments),this.id=lr(this),this.node=new _t({zIndex:1}).setProperties({textAlign:"center",pointerEvents:1}),this.enabled=!1,this.textAlign="center",this.fontSize=10,this.fontFamily="sans-serif",this.wrapping="always",this.truncated=!1,this.layoutStyle="block"}registerInteraction(t){let{regionManager:e,proxyInteractionService:i,layoutService:n}=t,r=e.getRegion("root"),o=[n.addListener("layout-complete",()=>this.updateA11yText(i)),r.addListener("hover",s=>this.handleMouseMove(t,s)),r.addListener("leave",s=>this.handleMouseLeave(t,s))];return Z5(...o)}computeTextWrap(t,e){let{text:i,wrapping:n}=this,r=Math.min(this.maxWidth??1/0,t),o=this.maxHeight??e;if(!isFinite(r)&&!isFinite(o)){this.node.text=i;return}let s=CM.wrapText(i??"",{maxWidth:r,maxHeight:o,font:this,textWrap:n});this.node.text=s,this.truncated=s.includes(Ft.EllipsisChar)}updateA11yText(t){if(this.enabled&&this.text){let e=this.node.computeTransformedBBox();if(e){let{id:i}=this;this.proxyText??(this.proxyText=t.createProxyElement({type:"text",id:i,parent:"canvas-proxy"})),this.proxyText.textContent=this.text,this.proxyText.updateBounds(e)}}else this.proxyText?.remove(),this.proxyText=void 0}handleMouseMove(t,e){if(e!==void 0&&this.enabled&&this.node.visible&&this.truncated){let{offsetX:i,offsetY:n}=e;t.tooltipManager.updateTooltip(this.id,{offsetX:i,offsetY:n,lastPointerEvent:e,showArrow:!1},qc({content:this.text}))}}handleMouseLeave(t,e){t.tooltipManager.removeTooltip(this.id)}};Mt.SMALL_PADDING=10;Mt.LARGE_PADDING=20;y([x(ve)],Mt.prototype,"enabled",2);y([x(Q,{optional:!0}),Mi("node")],Mt.prototype,"text",2);y([x(sR,{optional:!0}),Mi("node")],Mt.prototype,"textAlign",2);y([x(na,{optional:!0}),Mi("node")],Mt.prototype,"fontStyle",2);y([x(ra,{optional:!0}),Mi("node")],Mt.prototype,"fontWeight",2);y([x(K),Mi("node")],Mt.prototype,"fontSize",2);y([x(Q),Mi("node")],Mt.prototype,"fontFamily",2);y([x(nt,{optional:!0}),Mi("node","fill")],Mt.prototype,"color",2);y([x(K,{optional:!0})],Mt.prototype,"spacing",2);y([x(K,{optional:!0})],Mt.prototype,"lineHeight",2);y([x(K,{optional:!0})],Mt.prototype,"maxWidth",2);y([x(K,{optional:!0})],Mt.prototype,"maxHeight",2);y([x(jg)],Mt.prototype,"wrapping",2);y([x(Q)],Mt.prototype,"layoutStyle",2);var xo=class extends ar{constructor(t={}){super(t),this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.startLine=!1,this.endLine=!1,this.isRange=!1,this.restoreOwnStyles()}computeBBox(){return new se(this.x1,this.y1,this.x2-this.x1,this.y2-this.y1)}isPointInPath(t,e){return!1}render(t){let{ctx:e,forceRender:i,stats:n}=t;if(this.dirty===0&&!i){n&&(n.nodesSkipped+=this.nodeCount.count);return}this.transformRenderContext(t);let{x1:r,y1:o,x2:s,y2:a}=this;r=this.align(r),o=this.align(o),s=this.align(s),a=this.align(a);let{fill:l,opacity:c,isRange:d}=this;if(!!(d&&l)){let{fillOpacity:g}=this;e.fillStyle=l,e.globalAlpha=c*g,e.beginPath(),e.moveTo(r,o),e.lineTo(s,o),e.lineTo(s,a),e.lineTo(r,a),e.closePath(),e.fill()}let{stroke:h,strokeWidth:f,startLine:p,endLine:m}=this;if(!!((p||m)&&h&&f)){let{strokeOpacity:g,lineDash:v,lineDashOffset:M,lineCap:w,lineJoin:I}=this;e.strokeStyle=h,e.globalAlpha=c*g,e.lineWidth=f,v&&e.setLineDash(v),M&&(e.lineDashOffset=M),w&&(e.lineCap=w),I&&(e.lineJoin=I),e.beginPath(),p&&(e.moveTo(r,o),e.lineTo(s,o)),m&&(e.moveTo(s,a),e.lineTo(r,a)),e.stroke()}this.fillShadow?.markClean(),super.render(t)}};xo.className="Range";xo.defaultStyles=L(C({},ar.defaultStyles),{strokeWidth:1});y([re({redraw:2})],xo.prototype,"x1",2);y([re({redraw:2})],xo.prototype,"y1",2);y([re({redraw:2})],xo.prototype,"x2",2);y([re({redraw:2})],xo.prototype,"y2",2);y([re({redraw:2})],xo.prototype,"startLine",2);y([re({redraw:2})],xo.prototype,"endLine",2);y([re({redraw:2})],xo.prototype,"isRange",2);var ni=class extends Ne{constructor(){super(...arguments),this.enabled=!0,this.fontSize=12,this.fontFamily="Verdana, sans-serif"}getFont(){return Ft.toFontString(this)}};y([x(ve)],ni.prototype,"enabled",2);y([x(nt,{optional:!0})],ni.prototype,"color",2);y([x(na,{optional:!0})],ni.prototype,"fontStyle",2);y([x(ra,{optional:!0})],ni.prototype,"fontWeight",2);y([x(K)],ni.prototype,"fontSize",2);y([x(Q)],ni.prototype,"fontFamily",2);y([x(hn,{optional:!0})],ni.prototype,"formatter",2);function bg(t){let{parallelFlipRotation:e=0,regularFlipRotation:i=0}=t,n=t.rotation?Nt(Wi(t.rotation)):0,r=!n&&e>=0&&e<=Math.PI?-1:1,o=!n&&i>=0&&i<=Math.PI?-1:1,s=0;return t.parallel?s=r*Math.PI/2:o===-1&&(s=Math.PI),{configuredRotation:n,defaultRotation:s,parallelFlipFlag:r,regularFlipFlag:o}}function UW(t,e){return isNaN(t)?e?0:10:t}function GW(t,e,i,n){return t&&!e?i*n===-1?"hanging":"bottom":"middle"}function Qx(t,e,i,n,r){let o=e>0&&e<=Math.PI,s=i>0&&i<=Math.PI,a=o||s?-1:1;if(t)if(e||i){if(n*a===-1)return"end"}else return"center";else if(n*r===-1)return"end";return"start"}function HW(t,e,i){let{x:n,y:r,width:o,height:s}=e,a=new se(n,r,0,0);i.transformBBox(a,e);let{x:l,y:c}=e;return{point:{x:l,y:c},label:{text:t,width:o,height:s}}}var PR=(t=>(t[t.SERIES_BACKGROUND_ZINDEX=0]="SERIES_BACKGROUND_ZINDEX",t[t.AXIS_GRID_ZINDEX=1]="AXIS_GRID_ZINDEX",t[t.AXIS_ZINDEX=2]="AXIS_ZINDEX",t[t.SERIES_CROSSLINE_RANGE_ZINDEX=3]="SERIES_CROSSLINE_RANGE_ZINDEX",t[t.SERIES_LAYER_ZINDEX=4]="SERIES_LAYER_ZINDEX",t[t.SERIES_HIGHLIGHT_ZINDEX=5]="SERIES_HIGHLIGHT_ZINDEX",t[t.AXIS_FOREGROUND_ZINDEX=6]="AXIS_FOREGROUND_ZINDEX",t[t.SERIES_CROSSHAIR_ZINDEX=7]="SERIES_CROSSHAIR_ZINDEX",t[t.SERIES_LABEL_ZINDEX=8]="SERIES_LABEL_ZINDEX",t[t.SERIES_CROSSLINE_LINE_ZINDEX=9]="SERIES_CROSSLINE_LINE_ZINDEX",t[t.SERIES_ANNOTATION_ZINDEX=10]="SERIES_ANNOTATION_ZINDEX",t[t.CHART_ANNOTATION_ZINDEX=11]="CHART_ANNOTATION_ZINDEX",t[t.CHART_ANNOTATION_FOCUSED_ZINDEX=12]="CHART_ANNOTATION_FOCUSED_ZINDEX",t[t.LEGEND_ZINDEX=13]="LEGEND_ZINDEX",t[t.NAVIGATOR_ZINDEX=14]="NAVIGATOR_ZINDEX",t[t.FOREGROUND_ZINDEX=15]="FOREGROUND_ZINDEX",t))(PR||{});function FR(t){return t!=null&&Object.hasOwn(t,"toString")&&cn(t.toString())}function jR(t){return t!=null&&Object.hasOwn(t,"valueOf")&&We(t.valueOf())}function $g(t){return We(t)||Eh(t)||jR(t)}function T_(t,e){return t!=null&&(!e||$g(t))}function Uc(t){return FR(t)&&Object.hasOwn(t,"id")?t.id:t}var EM=t=>t==="value"?ht((e,i)=>i.target.type==="line",e=>e.target.type==="range"?"crossLine type 'range' to have a 'range' property instead of 'value'":"crossLine property 'type' to be 'line'"):ht((e,i)=>i.target.type==="range",e=>e.target.type==="line"?"crossLine type 'line' to have a 'value' property instead of 'range'":"crossLine property 'type' to be 'range'"),BR=(t,e,i,n)=>{let r=t==="line"&&e!==void 0,o=t==="range"&&i!==void 0;if(!r&&!o)return!0;let[s,a]=i??[e,void 0],l=ct.is(n)||Pr.is(n),c=T_(s,l)&&!isNaN(n.convert(s)),d=T_(a,l)&&!isNaN(n.convert(a));if(r&&c||o&&c&&d)return!0;let u=["Expecting crossLine"];return o?(c||u.push(`range start ${Qu(s)}`),d||u.push(`${c?"":"and "}range end ${Qu(a)}`)):u.push(`value ${Qu(s)}`),u.push("to match the axis scale domain."),Y.warnOnce(u.join(" ")),!1},$W={top:{xTranslationDirection:0,yTranslationDirection:-1},bottom:{xTranslationDirection:0,yTranslationDirection:1},left:{xTranslationDirection:-1,yTranslationDirection:0},right:{xTranslationDirection:1,yTranslationDirection:0},topLeft:{xTranslationDirection:1,yTranslationDirection:-1},topRight:{xTranslationDirection:-1,yTranslationDirection:-1},bottomLeft:{xTranslationDirection:1,yTranslationDirection:1},bottomRight:{xTranslationDirection:-1,yTranslationDirection:1},inside:{xTranslationDirection:0,yTranslationDirection:0},insideLeft:{xTranslationDirection:1,yTranslationDirection:0},insideRight:{xTranslationDirection:-1,yTranslationDirection:0},insideTop:{xTranslationDirection:0,yTranslationDirection:1},insideBottom:{xTranslationDirection:0,yTranslationDirection:-1},insideTopLeft:{xTranslationDirection:1,yTranslationDirection:1},insideBottomLeft:{xTranslationDirection:1,yTranslationDirection:-1},insideTopRight:{xTranslationDirection:-1,yTranslationDirection:1},insideBottomRight:{xTranslationDirection:-1,yTranslationDirection:-1}},WW={top:{xTranslationDirection:1,yTranslationDirection:0},bottom:{xTranslationDirection:-1,yTranslationDirection:0},left:{xTranslationDirection:0,yTranslationDirection:-1},right:{xTranslationDirection:0,yTranslationDirection:1},topLeft:{xTranslationDirection:-1,yTranslationDirection:-1},topRight:{xTranslationDirection:-1,yTranslationDirection:1},bottomLeft:{xTranslationDirection:1,yTranslationDirection:-1},bottomRight:{xTranslationDirection:1,yTranslationDirection:1},inside:{xTranslationDirection:0,yTranslationDirection:0},insideLeft:{xTranslationDirection:0,yTranslationDirection:1},insideRight:{xTranslationDirection:0,yTranslationDirection:-1},insideTop:{xTranslationDirection:-1,yTranslationDirection:0},insideBottom:{xTranslationDirection:1,yTranslationDirection:0},insideTopLeft:{xTranslationDirection:-1,yTranslationDirection:1},insideBottomLeft:{xTranslationDirection:1,yTranslationDirection:1},insideTopRight:{xTranslationDirection:-1,yTranslationDirection:-1},insideBottomRight:{xTranslationDirection:1,yTranslationDirection:-1}};function A_({yDirection:t,padding:e=0,position:i="top",bbox:n}){let r=t?$W:WW,{xTranslationDirection:o,yTranslationDirection:s}=r[i],a=t?n.width:n.height,l=t?n.height:n.width,c=o*(e+a/2),d=s*(e+l/2);return{xTranslation:c,yTranslation:d}}function zR({yDirection:t,bbox:e,padding:i=0,position:n="top"}){let r={};return n.startsWith("inside")||(n==="top"&&!t?r.top=i+e.height:n==="bottom"&&!t?r.bottom=i+e.height:n==="left"&&t?r.left=i+e.width:n==="right"&&t&&(r.right=i+e.width)),r}var vg=({yDirection:t,xEnd:e,yStart:i,yEnd:n})=>t?{x:e/2,y:i}:{x:e,y:isNaN(n)?i:(i+n)/2},mk=({yDirection:t,xStart:e,xEnd:i,yStart:n,yEnd:r})=>t?{x:e,y:isNaN(r)?n:(n+r)/2}:{x:i/2,y:n},gk=({yDirection:t,xEnd:e,yStart:i,yEnd:n})=>t?{x:e,y:isNaN(n)?i:(i+n)/2}:{x:e/2,y:isNaN(n)?i:n},yk=({yDirection:t,xStart:e,xEnd:i,yStart:n,yEnd:r})=>t?{x:i/2,y:isNaN(r)?n:r}:{x:e,y:isNaN(r)?n:(n+r)/2},YW=({xEnd:t,yStart:e,yEnd:i})=>({x:t/2,y:isNaN(i)?e:(e+i)/2}),bk=({yDirection:t,xStart:e,xEnd:i,yStart:n})=>t?{x:e/2,y:n}:{x:i,y:n},vk=({yDirection:t,xStart:e,yStart:i,yEnd:n})=>t?{x:e,y:isNaN(n)?i:n}:{x:e,y:i},xk=({yDirection:t,xEnd:e,yStart:i,yEnd:n})=>t?{x:e,y:i}:{x:e,y:isNaN(n)?i:n},_k=({yDirection:t,xStart:e,xEnd:i,yStart:n,yEnd:r})=>t?{x:i,y:isNaN(r)?n:r}:{x:e,y:isNaN(r)?n:r},VR={top:{c:vg},bottom:{c:yk},left:{c:mk},right:{c:gk},topLeft:{c:bk},topRight:{c:xk},bottomLeft:{c:vk},bottomRight:{c:_k},inside:{c:YW},insideLeft:{c:mk},insideRight:{c:gk},insideTop:{c:vg},insideBottom:{c:yk},insideTopLeft:{c:bk},insideBottomLeft:{c:vk},insideTopRight:{c:xk},insideBottomRight:{c:_k}},ZW=bt(["top","left","right","bottom","topLeft","topRight","bottomLeft","bottomRight","inside","insideLeft","insideRight","insideTop","insideBottom","insideTopLeft","insideBottomLeft","insideTopRight","insideBottomRight"],"crossLine label position"),hr=class extends Ne{constructor(){super(...arguments),this.fontSize=14,this.fontFamily="Verdana, sans-serif",this.padding=5,this.color="rgba(87, 87, 87, 1)"}};y([x(ve,{optional:!0})],hr.prototype,"enabled",2);y([x(Q,{optional:!0})],hr.prototype,"text",2);y([x(na,{optional:!0})],hr.prototype,"fontStyle",2);y([x(ra,{optional:!0})],hr.prototype,"fontWeight",2);y([x(K)],hr.prototype,"fontSize",2);y([x(Q)],hr.prototype,"fontFamily",2);y([x(yt)],hr.prototype,"padding",2);y([x(nt,{optional:!0})],hr.prototype,"color",2);y([x(ZW,{optional:!0})],hr.prototype,"position",2);y([x(ia,{optional:!0})],hr.prototype,"rotation",2);y([x(ve,{optional:!0})],hr.prototype,"parallel",2);var Ai=class Zu extends Ne{constructor(){super(),this.id=lr(this),this.label=new hr,this.scale=void 0,this.clippedRange=[-1/0,1/0],this.gridLength=0,this.sideFlag=-1,this.parallelFlipRotation=0,this.regularFlipRotation=0,this.direction="x",this.group=new fe({name:`${this.id}`,layer:!0,zIndex:Zu.LINE_LAYER_ZINDEX}),this.labelGroup=new fe({name:`${this.id}`,layer:!0,zIndex:Zu.LABEL_LAYER_ZINDEX}),this.crossLineRange=new xo,this.crossLineLabel=new _t,this.labelPoint=void 0,this.data=[],this.startLine=!1,this.endLine=!1,this.isRange=!1,this.group.append(this.crossLineRange),this.labelGroup.append(this.crossLineLabel),this.crossLineRange.pointerEvents=1}update(e){let{enabled:i,data:n,type:r,value:o,range:s,scale:a}=this;if(!r||!a||!i||!e||!BR(r,o,s,a)||n.length===0){this.group.visible=!1,this.labelGroup.visible=!1;return}this.group.visible=e,this.labelGroup.visible=e,this.group.zIndex=this.getZIndex(this.isRange),this.updateNodes()}calculateLayout(e,i){if(!e)return;let{scale:n,gridLength:r,sideFlag:o,direction:s,label:{position:a="top"},clippedRange:l,strokeWidth:c=0}=this;if(this.data=[],!n)return;let d=n.bandwidth??0,u=n.step??0,h=(i?-1:1)*(n instanceof Js?(u-d)/2:0),[f,p]=[0,o*r],[m,b]=this.getRange(),g=b===void 0&&Pr.is(n)?d/2+h:0,[v,M]=[Number(n.convert(m,{clampMode:"clamped"}))-h+g,n.convert(b,{clampMode:"clamped"})+d+h];v=fg(v,l),M=fg(M,l),[m,b]=[Number(n.convert(m))+g,n.convert(b)+d];let w=(m===v||b===M||v!==M)&&Math.abs(M-v)>0;if(w&&v>M&&([v,M]=[M,v],[m,b]=[b,m]),m-h>=v&&(m-=h),b+h<=M&&(b+=h),this.isRange=w,this.startLine=c>0&&m>=v&&m<=v+h,this.endLine=c>0&&b>=M-d-h&&b<=M,!(!w&&!this.startLine&&!this.endLine)&&(this.data=[v,M],this.label.enabled)){let I=s==="y",{c:D=vg}=VR[a]??{},{x:_,y:S}=D({yDirection:I,xStart:f,xEnd:p,yStart:v,yEnd:M});this.labelPoint={x:_,y:S}}}updateNodes(){this.updateRangeNode(),this.label.enabled&&(this.updateLabel(),this.positionLabel())}updateRangeNode(){let{crossLineRange:e,sideFlag:i,gridLength:n,data:r,startLine:o,endLine:s,isRange:a,fill:l,fillOpacity:c,stroke:d,strokeWidth:u,lineDash:h}=this;e.x1=0,e.x2=i*n,e.y1=r[0],e.y2=r[1],e.startLine=o,e.endLine=s,e.isRange=a,e.fill=l,e.fillOpacity=c??1,e.stroke=d,e.strokeWidth=u??1,e.strokeOpacity=this.strokeOpacity??1,e.lineDash=h}updateLabel(){let{crossLineLabel:e,label:i}=this;i.text&&(e.fontStyle=i.fontStyle,e.fontWeight=i.fontWeight,e.fontSize=i.fontSize,e.fontFamily=i.fontFamily,e.fill=i.color,e.text=i.text)}positionLabel(){let{crossLineLabel:e,labelPoint:{x:i=void 0,y:n=void 0}={},label:{parallel:r,rotation:o,position:s="top",padding:a=0},direction:l,parallelFlipRotation:c,regularFlipRotation:d}=this;if(i===void 0||n===void 0)return;let{defaultRotation:u,configuredRotation:h}=bg({rotation:o,parallel:r,regularFlipRotation:d,parallelFlipRotation:c});e.rotation=u+h,e.textBaseline="middle",e.textAlign="center";let f=e.computeTransformedBBox();if(!f)return;let p=l==="y",{xTranslation:m,yTranslation:b}=A_({yDirection:p,padding:a,position:s,bbox:f});e.translationX=i+m,e.translationY=n+b}getZIndex(e=!1){return e?Zu.RANGE_LAYER_ZINDEX:Zu.LINE_LAYER_ZINDEX}getRange(){let{value:e,range:i,scale:n}=this,r=ct.is(n)||Pr.is(n),o=i?.[0]??e,s=i?.[1];return!r&&s===void 0&&(s=o),r&&o===s&&(s=void 0),[o,s]}computeLabelBBox(){let{label:e}=this;if(!e.enabled)return;let i=new _t;i.fontFamily=e.fontFamily,i.fontSize=e.fontSize,i.fontStyle=e.fontStyle,i.fontWeight=e.fontWeight,i.text=e.text;let{labelPoint:{x:n=void 0,y:r=void 0}={},label:{parallel:o,rotation:s,position:a="top",padding:l=0},direction:c,parallelFlipRotation:d,regularFlipRotation:u}=this;if(n===void 0||r===void 0)return;let{configuredRotation:h}=bg({rotation:s,parallel:o,regularFlipRotation:u,parallelFlipRotation:d});i.rotation=h,i.textBaseline="middle",i.textAlign="center";let f=i.computeTransformedBBox();if(!f)return;let p=c==="y",{xTranslation:m,yTranslation:b}=A_({yDirection:p,padding:l,position:a,bbox:f});return i.translationX=n+m,i.translationY=r+b,i.computeTransformedBBox()}calculatePadding(e){let{isRange:i,startLine:n,endLine:r,direction:o,label:{padding:s=0,position:a="top"}}=this;if(!i&&!n&&!r)return;let l=this.computeLabelBBox();if(l?.x==null||l?.y==null)return;let c=zR({yDirection:o==="y",padding:s,position:a,bbox:l});e.left=Math.max(e.left??0,c.left??0),e.right=Math.max(e.right??0,c.right??0),e.top=Math.max(e.top??0,c.top??0),e.bottom=Math.max(e.bottom??0,c.bottom??0)}};Ai.LINE_LAYER_ZINDEX=9;Ai.RANGE_LAYER_ZINDEX=3;Ai.LABEL_LAYER_ZINDEX=8;Ai.className="CrossLine";y([x(ve,{optional:!0})],Ai.prototype,"enabled",2);y([x(bt(["range","line"],"a crossLine type"),{optional:!0})],Ai.prototype,"type",2);y([x(cr(EM("range"),nd.restrict({length:2})),{optional:!0})],Ai.prototype,"range",2);y([x(EM("value"),{optional:!0})],Ai.prototype,"value",2);y([x(nt,{optional:!0})],Ai.prototype,"fill",2);y([x(Je,{optional:!0})],Ai.prototype,"fillOpacity",2);y([x(nt,{optional:!0})],Ai.prototype,"stroke",2);y([x(yt,{optional:!0})],Ai.prototype,"strokeWidth",2);y([x(Je,{optional:!0})],Ai.prototype,"strokeOpacity",2);y([x(es,{optional:!0})],Ai.prototype,"lineDash",2);y([x(ae)],Ai.prototype,"label",2);var N_=Ai,UR=(t=>(t.TITLE="title",t.SUBTITLE="subtitle",t.FOOTNOTE="footnote",t.LEGEND="legend",t.NAVIGATOR="navigator",t.PAGINATION="pagination",t.ROOT="root",t.SERIES="series",t.HORIZONTAL_AXES="horizontal-axes",t.VERTICAL_AXES="vertical-axes",t.TOOLBAR="toolbar",t))(UR||{}),qW=["stroke","lineDash"],KW=Jo(t=>ln(t)&&Object.keys(t).every(e=>qW.includes(e)),"objects with gridline style properties such as 'stroke' or 'lineDash'"),Wg=class{constructor(){this.enabled=!0,this.width=1,this.style=[{stroke:void 0,lineDash:[]}]}};y([x(ve)],Wg.prototype,"enabled",2);y([x(K)],Wg.prototype,"width",2);y([x(KW)],Wg.prototype,"style",2);function oa(t,e=[void 0]){return Ko((i,n,r)=>e.includes(r)?Qo(t)?t(r):t:r)}var GR=ht(t=>We(t)&&t>0||t instanceof yl,"a non-zero positive Number value or, for a time axis, a Time Interval such as 'agCharts.time.month'"),_l=class extends Ne{constructor(){super(...arguments),this.minSpacing=NaN,this.maxSpacing=NaN}};y([x(GR,{optional:!0})],_l.prototype,"step",2);y([x(nd,{optional:!0})],_l.prototype,"values",2);y([x(cR),oa(NaN)],_l.prototype,"minSpacing",2);y([x(dR),oa(NaN)],_l.prototype,"maxSpacing",2);var ri=class extends Ne{constructor(){super(...arguments),this.enabled=!0,this.fontSize=12,this.fontFamily="Verdana, sans-serif",this.padding=5,this.minSpacing=NaN,this.color="#575757",this.avoidCollisions=!0,this.mirrored=!1,this.parallel=!1}getSideFlag(){return this.mirrored?1:-1}};y([x(ve)],ri.prototype,"enabled",2);y([x(na,{optional:!0})],ri.prototype,"fontStyle",2);y([x(ra,{optional:!0})],ri.prototype,"fontWeight",2);y([x(yt.restrict({min:1}))],ri.prototype,"fontSize",2);y([x(Q)],ri.prototype,"fontFamily",2);y([x(K)],ri.prototype,"padding",2);y([x(id),oa(NaN)],ri.prototype,"minSpacing",2);y([x(nt,{optional:!0})],ri.prototype,"color",2);y([x(ia,{optional:!0})],ri.prototype,"rotation",2);y([x(ve)],ri.prototype,"avoidCollisions",2);y([x(ve)],ri.prototype,"mirrored",2);y([x(ve)],ri.prototype,"parallel",2);y([x(hn,{optional:!0})],ri.prototype,"formatter",2);y([x(Q,{optional:!0})],ri.prototype,"format",2);var Lh=class{constructor(){this.enabled=!0,this.width=1,this.stroke=void 0}};y([x(ve)],Lh.prototype,"enabled",2);y([x(K)],Lh.prototype,"width",2);y([x(nt,{optional:!0})],Lh.prototype,"stroke",2);var ad=class extends Ne{constructor(){super(...arguments),this.enabled=!0,this.width=1,this.size=6}};y([x(ve)],ad.prototype,"enabled",2);y([x(K)],ad.prototype,"width",2);y([x(K)],ad.prototype,"size",2);y([x(nt,{optional:!0})],ad.prototype,"stroke",2);var zr=class extends Ne{constructor(){super(...arguments),this.enabled=!1,this.spacing=Mt.SMALL_PADDING,this.fontSize=10,this.fontFamily="sans-serif",this.wrapping="always"}};y([x(ve)],zr.prototype,"enabled",2);y([x(Q,{optional:!0})],zr.prototype,"text",2);y([x(K,{optional:!0})],zr.prototype,"spacing",2);y([x(na,{optional:!0})],zr.prototype,"fontStyle",2);y([x(ra,{optional:!0})],zr.prototype,"fontWeight",2);y([x(K)],zr.prototype,"fontSize",2);y([x(Q)],zr.prototype,"fontFamily",2);y([x(nt,{optional:!0})],zr.prototype,"color",2);y([x(jg)],zr.prototype,"wrapping",2);y([x(hn,{optional:!0})],zr.prototype,"formatter",2);function k_(t){let[e,i]=En(t.range),n=Math.floor(e),r=Math.ceil(i);return{min:n,max:r,visible:n!==r}}var R_=Math.PI*2,XW=R_/2;function QW(t,e){return Math.abs(e-t)<XW?e:t>e?e+R_:e-R_}function HR(t){let e=(s,a)=>{let[l=t.min,c=t.max]=En(a??[]);return s<l||s>c};return{tick:{fromFn(s,a,l){let c=s.y1+s.translationY,d=s.opacity;return(l==="added"||e(s.datum.translationY,s.datum.range))&&(c=a.translationY,d=0),{y:0,translationY:c,opacity:d,phase:$i[l]}},toFn(s,a,l){let c=a.translationY,d=1;return l==="removed"&&(d=0),{y:0,translationY:c,opacity:d,finish:{y:c,translationY:0}}},intermediateFn(s,a,l){return{visible:!e(s.y)}}},line:{fromFn(s,a){return L(C({},s.previousDatum??a),{phase:$i.updated})},toFn(s,a){return C({},a)}},label:{fromFn(s,a,l){let c=s.previousDatum??a,d=c.x,u=c.y,h=c.rotationCenterX,f=Math.round(s.translationY),p=c.rotation,m=s.opacity;return l==="removed"||e(c.y,c.range)?p=a.rotation:(l==="added"||e(s.datum.y,s.datum.range))&&(f=Math.round(c.translationY),m=0,p=a.rotation),{x:d,y:u,rotationCenterX:h,translationY:f,rotation:p,opacity:m,phase:$i[l]}},toFn(s,a,l){let c=a.x,d=a.y,u=a.rotationCenterX,h=Math.round(a.translationY),f=0,p=1;return l==="added"?(p=1,f=a.rotation):l==="removed"?(p=0,f=a.rotation):f=QW(s.previousDatum?.rotation??a.rotation,a.rotation),{x:c,y:d,rotationCenterX:u,translationY:h,rotation:f,opacity:p,finish:{rotation:a.rotation}}}},group:{fromFn(s,a){let{rotation:l,translationX:c,translationY:d}=s;return{rotation:l,translationX:c,translationY:d,phase:$i.updated}},toFn(s,a){let{rotation:l,translationX:c,translationY:d}=a;return{rotation:l,translationX:c,translationY:d}}}}}function $R(){return(t,e)=>({rotation:e.rotation,rotationCenterX:e.rotationCenterX,rotationCenterY:e.rotationCenterY,translationX:e.translationX,translationY:e.translationY})}function WR(t){let{visible:e,min:i,max:n}=t;return(r,o)=>{let s=o.translationY,a=e&&s>=i&&s<=n;return{y:s,translationY:0,opacity:1,visible:a}}}function YR(){return(t,e)=>({x:e.x,y:e.y,translationY:e.translationY,rotation:e.rotation,rotationCenterX:e.rotationCenterX})}function ZR(){return(t,e)=>C({},e)}var ns=class qR{constructor(e,i){this.moduleCtx=e,this.scale=i,this.id=lr(this),this.nice=!0,this.reverse=!1,this.keys=[],this.interval=new _l,this.dataDomain={domain:[],clipped:!1},this.layoutConstraints={stacked:!0,align:"start",width:100,unit:"percent"},this.boundSeries=[],this.includeInvisibleDomains=!1,this.interactionEnabled=!0,this.axisGroup=new fe({name:`${this.id}-axis`,zIndex:2}),this.lineNode=this.axisGroup.appendChild(new di({name:`${this.id}-Axis-line`})),this.tickLineGroup=this.axisGroup.appendChild(new fe({name:`${this.id}-Axis-tick-lines`,zIndex:2})),this.tickLabelGroup=this.axisGroup.appendChild(new fe({name:`${this.id}-Axis-tick-labels`,zIndex:2})),this.crossLineGroup=new fe({name:`${this.id}-CrossLines`}),this.labelGroup=new fe({name:`${this.id}-Labels`,zIndex:10}),this.gridGroup=new fe({name:`${this.id}-Axis-grid`}),this.gridLineGroup=this.gridGroup.appendChild(new fe({name:`${this.id}-gridLines`,zIndex:1})),this.tickLineGroupSelection=At.select(this.tickLineGroup,di,!1),this.tickLabelGroupSelection=At.select(this.tickLabelGroup,_t,!1),this.gridLineGroupSelection=At.select(this.gridLineGroup,di,!1),this._crossLines=[],this.line=new Lh,this.tick=new ad,this.gridLine=new Wg,this.label=this.createLabel(),this.defaultTickMinSpacing=qR.defaultTickMinSpacing,this.translation={x:0,y:0},this.rotation=0,this.layout={label:{fractionDigits:0,padding:this.label.padding,format:this.label.format}},this.destroyFns=[],this.range=[0,1],this.visibleRange=[0,1],this.title=new zr,this._titleCaption=new Mt,this.gridLength=0,this.gridPadding=0,this.seriesAreaPadding=0,this.tickGenerationResult=void 0,this.maxThickness=1/0,this.moduleMap=new xM,this.range=this.scale.range.slice(),this.crossLines.forEach(r=>this.initCrossLine(r)),this.destroyFns.push(this._titleCaption.registerInteraction(this.moduleCtx)),this._titleCaption.node.rotation=-Math.PI/2,this.axisGroup.appendChild(this._titleCaption.node),this.animationManager=e.animationManager,this.animationState=new Rh("empty",{empty:{update:{target:"ready",action:()=>this.resetSelectionNodes()},reset:"empty"},ready:{update:r=>this.animateReadyUpdate(r),resize:()=>this.resetSelectionNodes(),reset:"empty"}}),this._crossLines=[];let n;this.destroyFns.push(e.layoutService.addListener("layout-complete",r=>{n!=null&&Tn(r.chart,n)!=null&&this.animationState.transition("resize"),n=C({},r.chart)}))}get type(){return this.constructor.type??""}set crossLines(e){let{CrossLineConstructor:i}=this.constructor;this._crossLines.forEach(n=>this.detachCrossLine(n)),this._crossLines=e.map(n=>{let r=new i;return r.set(n),r}),this._crossLines.forEach(n=>{this.attachCrossLine(n),this.initCrossLine(n)})}get crossLines(){return this._crossLines}resetAnimation(e){e==="initial"&&this.animationState.transition("reset")}attachCrossLine(e){this.crossLineGroup.appendChild(e.group),this.crossLineGroup.appendChild(e.labelGroup)}detachCrossLine(e){this.crossLineGroup.removeChild(e.group),this.crossLineGroup.removeChild(e.labelGroup)}destroy(){this.moduleMap.destroy(),this.destroyFns.forEach(e=>e())}updateRange(){let{range:e,visibleRange:i,scale:n}=this,r=(e[1]-e[0])/(i[1]-i[0]),o=r*i[0],s=e[0]-o;n.setVisibleRange?.(i),n.range=[s,s+r],this.crossLines.forEach(a=>{a.clippedRange=[e[0],e[1]]})}setCrossLinesVisible(e){this.crossLineGroup.visible=e}attachAxis(e,i){i.appendChild(this.gridGroup),e.appendChild(this.axisGroup),e.appendChild(this.crossLineGroup),e.appendChild(this.labelGroup)}attachLabel(e){this.labelGroup.append(e)}detachAxis(e,i){i.removeChild(this.gridGroup),e.removeChild(this.axisGroup),e.removeChild(this.crossLineGroup),e.removeChild(this.labelGroup)}getAxisGroup(){return this.axisGroup}inRange(e,i=0){let[n,r]=En(this.range);return e>=n-i&&e<=r+i}onFormatChange(e,i,n,r){let{scale:o}=this,s=o instanceof MM,a=l=>s?String:c=>typeof c=="number"?c.toFixed(i+l):String(c);if(r&&o&&o.tickFormat)try{let l=o.tickFormat({ticks:e,specifier:r});this.labelFormatter=l,this.datumFormatter=l}catch{this.labelFormatter=a(0),this.datumFormatter=a(1),Y.warnOnce(`the axis label format string ${r} is invalid. No formatting will be applied`)}else this.labelFormatter=a(0),this.datumFormatter=a(1)}setTickInterval(e){this.scale.interval=this.interval?.step??e}onGridLengthChange(e,i){(i&&!e||!i&&e)&&this.onGridVisibilityChange(),this.crossLines.forEach(n=>this.initCrossLine(n))}onGridVisibilityChange(){this.gridLineGroupSelection.clear()}createLabel(){return new ri}update(e=0,i=!0){if(!this.tickGenerationResult)return;let{rotation:n,parallelFlipRotation:r,regularFlipRotation:o}=this.calculateRotations(),s=this.label.getSideFlag();this.updatePosition();let a=this.getAxisLineCoordinates(),{tickData:l,combinedRotation:c,textBaseline:d,textAlign:u,primaryTickCount:h}=this.tickGenerationResult,f=this.tickLabelGroupSelection.nodes().map(p=>p.datum.tickId);if(this.updateSelections(a,l.ticks,{combinedRotation:c,textAlign:u,textBaseline:d,range:this.scale.range}),!i||this.animationManager.isSkipped())this.resetSelectionNodes();else{let p=this.calculateUpdateDiff(f,l);this.animationState.transition("update",p)}return this.updateAxisLine(),this.updateLabels(),this.updateVisibility(),this.updateGridLines(s),this.updateTickLines(),this.updateTitle({anyTickVisible:l.ticks.length>0}),this.updateCrossLines({rotation:n,parallelFlipRotation:r,regularFlipRotation:o}),this.updateLayoutState(l.fractionDigits),h}getAxisLineCoordinates(){let[e,i]=En(this.range);return{x:0,y1:e,y2:i}}getTickLineCoordinates(e){let n=this.label.getSideFlag()*this.getTickSize(),r=Math.min(0,n),o=r+Math.abs(n),s=e.translationY;return{x1:r,x2:o,y:s}}getTickLabelProps(e,i){let{label:n}=this,{combinedRotation:r,textBaseline:o,textAlign:s,range:a}=i,l=e.tickLabel,d=n.getSideFlag()*(this.getTickSize()+n.padding+this.seriesAreaPadding),u=l!==""&&l!=null;return{tickId:e.tickId,translationY:e.translationY,fill:n.color,fontFamily:n.fontFamily,fontSize:n.fontSize,fontStyle:n.fontStyle,fontWeight:n.fontWeight,rotation:r,rotationCenterX:d,text:l,textAlign:s,textBaseline:o,visible:u,x:d,y:0,range:a}}getTickSize(){return this.tick.enabled?this.tick.size:6}setTitleProps(e,i){let{title:n}=this;if(!n.enabled){e.enabled=!1,e.node.visible=!1;return}e.color=n.color,e.fontFamily=n.fontFamily,e.fontSize=n.fontSize,e.fontStyle=n.fontStyle,e.fontWeight=n.fontWeight,e.enabled=n.enabled,e.wrapping=n.wrapping;let r=e.node,o=(n.spacing??0)+i.spacing,s=this.label.getSideFlag(),a=Nt(this.rotation),l=s===-1&&a>Math.PI&&a<Math.PI*2?-1:1,c=l*s*Math.PI/2,d=l===1?"bottom":"top",{range:u}=this,h=Math.floor(l*s*(u[0]+u[1])/2),f=Math.floor(s===-1?l*-o:-o),{callbackCache:p}=this.moduleCtx,{formatter:m=g=>g.defaultValue}=n,b=p.call(m,this.getTitleFormatterParams());r.setProperties({rotation:c,text:b,textBaseline:d,visible:!0,x:h,y:f})}calculateLayout(e){let{rotation:i,parallelFlipRotation:n,regularFlipRotation:r}=this.calculateRotations(),o=this.label.getSideFlag(),s=o*(this.getTickSize()+this.label.padding+this.seriesAreaPadding);this.updateScale(),this.tickGenerationResult=this.generateTicks({primaryTickCount:e,parallelFlipRotation:n,regularFlipRotation:r,labelX:s,sideFlag:o});let w=this.tickGenerationResult,{tickData:a,combinedRotation:l,textBaseline:c,textAlign:d}=w,u=pt(w,["tickData","combinedRotation","textBaseline","textAlign"]);this.updateLayoutState(a.fractionDigits);let h=[],{x:f,y1:p,y2:m}=this.getAxisLineCoordinates(),b=new se(f+Math.min(o*this.seriesAreaPadding,0),p,this.seriesAreaPadding,m-p);if(h.push(b),this.tick.enabled&&a.ticks.forEach(I=>{let{x1:D,x2:_,y:S}=this.getTickLineCoordinates(I),E=new se(D,S,_-D,0);h.push(E)}),this.label.enabled){let I=new _t;a.ticks.forEach(D=>{let _=this.getTickLabelProps(D,{combinedRotation:l,textAlign:d,textBaseline:c,range:this.scale.range});if(!_.visible)return;I.setProperties(L(C({},_),{translationY:Math.round(D.translationY)}));let S=I.computeTransformedBBox();S&&h.push(S)})}if(this.title?.enabled){let I=new Mt,D=se.merge(h).width;this.setTitleProps(I,{spacing:D});let S=I.node.computeTransformedBBox();S&&h.push(S)}let g=se.merge(h),v=this.getTransformBox(g),M=this.isAnySeriesActive();return this.crossLines.forEach(I=>{var D;I.sideFlag=-o,I.direction=i===-Math.PI/2?"x":"y",I instanceof N_&&((D=I.label).parallel??(D.parallel=this.label.parallel)),I.parallelFlipRotation=n,I.regularFlipRotation=r,I.calculateLayout?.(M,this.reverse)}),{primaryTickCount:u.primaryTickCount,bbox:v}}updateLayoutState(e){this.layout.label={fractionDigits:e,padding:this.label.padding,format:this.label.format}}getTransformBox(e){let i=new Gs,{rotation:n,translationX:r,translationY:o,rotationCenterX:s,rotationCenterY:a}=this.getAxisTransform();return Gs.updateTransformMatrix(i,1,1,n,r,o,{scalingCenterX:0,scalingCenterY:0,rotationCenterX:s,rotationCenterY:a}),i.transformBBox(e)}setDomain(e){this.dataDomain=this.normaliseDataDomain(e),this.reverse&&this.dataDomain.domain.reverse(),this.scale.domain=this.dataDomain.domain}updateScale(){this.updateRange(),this.calculateDomain(),this.setTickInterval(this.interval.step);let{scale:e,nice:i}=this;ct.is(e)&&(e.nice=i,e.update())}calculateRotations(){let e=Wi(this.rotation),i=Nt(e),n=Nt(e-Math.PI/2);return{rotation:e,parallelFlipRotation:i,regularFlipRotation:n}}generateTicks({primaryTickCount:e,parallelFlipRotation:i,regularFlipRotation:n,labelX:r,sideFlag:o}){let{scale:s,interval:{minSpacing:a,maxSpacing:l},label:{parallel:c,rotation:d,fontFamily:u,fontSize:h,fontStyle:f,fontWeight:p}}=this,m=e!==void 0,{defaultRotation:b,configuredRotation:g,parallelFlipFlag:v,regularFlipFlag:M}=bg({rotation:d,parallel:c,regularFlipRotation:n,parallelFlipRotation:i}),w=g+b,I=new Gs,{maxTickCount:D}=this.estimateTickCount({minSpacing:a,maxSpacing:l}),S=!(ct.is(s)||Pr.is(s))||isNaN(D)?10:D,E=Qx(c,g,0,o,M),T=GW(c,g,o,v),k=Ft.toFontString({fontFamily:u,fontSize:h,fontStyle:f,fontWeight:p}),P=ts.getMeasurer({font:k}),Z={fontFamily:u,fontSize:h,fontStyle:f,fontWeight:p,textBaseline:T,textAlign:E},ne={rawTicks:[],fractionDigits:0,ticks:[],labelCount:0},z=0,R=0,A=!0,B=!1;for(;A&&z<=S&&!B;){R=0,E=Qx(c,g,0,o,M);let O=this.getTickStrategies({secondaryAxis:m,index:z});for(let oe of O){({tickData:ne,index:z,autoRotation:R,terminate:B}=oe({index:z,tickData:ne,textProps:Z,labelOverlap:A,terminate:B,primaryTickCount:e}));let te=g!==0||R!==0,$=w+R;E=Qx(c,g,R,o,M),A=this.label.avoidCollisions?this.checkLabelOverlap($,te,I,ne.ticks,r,P):!1}}let ee=b+g+R;return!m&&ne.rawTicks.length>0&&(e=ne.rawTicks.length),{tickData:ne,primaryTickCount:e,combinedRotation:ee,textBaseline:T,textAlign:E}}getTickStrategies({index:e,secondaryAxis:i}){let{scale:n,label:r}=this,{minSpacing:o}=this.interval,s=ct.is(n)||Pr.is(n),a=r.enabled&&r.avoidCollisions,l=!s&&e!==0&&a,c=r.autoRotate===!0&&r.rotation===void 0,d=[],u;this.interval.values?u=3:i?u=1:l?u=2:u=0;let h=({index:f,tickData:p,primaryTickCount:m,terminate:b})=>this.createTickData(u,f,p,b,m);if(d.push(h),!s&&!isNaN(o)){let f=({index:p,tickData:m,primaryTickCount:b,terminate:g})=>this.createTickData(2,p,m,g,b);d.push(f)}if(!a)return d;if(c){let f=({index:p,tickData:m,labelOverlap:b,terminate:g})=>({index:p,tickData:m,autoRotation:this.getAutoRotation(b),terminate:g});d.push(f)}return d}createTickData(e,i,n,r,o){let{scale:s}=this,{step:a,values:l,minSpacing:c,maxSpacing:d}=this.interval,{maxTickCount:u,minTickCount:h,defaultTickCount:f}=this.estimateTickCount({minSpacing:c,maxSpacing:d}),p=ct.is(s)||Pr.is(s),m=!p||isNaN(u)?10:u,b=p?Math.max(f-i,h):u,g=a===void 0&&l===void 0&&b>h&&(p||e===2),v=!0;for(;v&&i<=m;){let w=n.rawTicks;b=p?Math.max(f-i,h):u;let{rawTicks:I,fractionDigits:D,ticks:_,labelCount:S}=this.getTicks({tickGenerationType:e,previousTicks:w,tickCount:b,minTickCount:h,maxTickCount:u,primaryTickCount:o});n.rawTicks=I,n.fractionDigits=D,n.ticks=_,n.labelCount=S,v=g?RR(I,w):!1,i++}return r||(r=a!==void 0||l!==void 0),{tickData:n,index:i,autoRotation:0,terminate:r}}checkLabelOverlap(e,i,n,r,o,s){Gs.updateTransformMatrix(n,1,1,e,0,0);let a=this.createLabelData(r,o,n,s),l=UW(this.label.minSpacing,i);return BW(a,l)}createLabelData(e,i,n,r){let o=[];for(let{tickLabel:s,translationY:a}of e){if(!s)continue;let{width:l,height:c}=r.measureLines(s),d=new se(i,a,l,c),u=HW(s,d,n);o.push(u)}return o}getAutoRotation(e){return e?Nt(Wi(this.label.autoRotateAngle??0)):0}getTicks({tickGenerationType:e,previousTicks:i,tickCount:n,minTickCount:r,maxTickCount:o,primaryTickCount:s}){let{range:a,scale:l,visibleRange:c}=this,d;switch(e){case 3:if(d=this.interval.values,ct.is(l)){let[M,w]=En(l.getDomain().map(Number));d=d.filter(I=>I>=M&&I<=w).sort((I,D)=>I-D)}break;case 1:ct.is(l)?d=this.updateSecondaryAxisTicks(s):d=this.createTicks(n,r,o);break;case 2:d=this.filterTicks(i,n);break;default:d=this.createTicks(n,r,o);break}let u=d.reduce((M,w)=>Math.max(M,Sh(w)),0),h=(l.bandwidth??0)/2,f=[],p=0,m=new Map,b=Math.max(0,Math.floor(c[0]*d.length)),g=Math.min(d.length,Math.ceil(c[1]*d.length)),v=d.slice(b,g);this.onFormatChange(v,u,d,this.label.format);for(let M=0;M<v.length;M++){let w=v[M],I=l.convert(w)+h;if(a.length>0&&!this.inRange(I,.001))continue;let D=this.formatTick(w,u,b+M),_=D;if(m.has(_)){let S=m.get(_);m.set(_,S+1),_=`${_}_${S}`}else m.set(_,1);f.push({tick:w,tickId:_,tickLabel:D,translationY:Math.floor(I)}),!(D===""||D==null)&&p++}return{rawTicks:d,fractionDigits:u,ticks:f,labelCount:p}}filterTicks(e,i){let{minSpacing:n,maxSpacing:r}=this.interval,s=!isNaN(n)||!isNaN(r)?Math.ceil(e.length/i):2;return e.filter((a,l)=>l%s===0)}createTicks(e,i,n){let{scale:r}=this;return e&&(ct.is(r)||Pr.is(r))&&(typeof e=="number"?(r.tickCount=e,r.minTickCount=i??0,r.maxTickCount=n??1/0):r instanceof Ug&&this.setTickInterval(e)),r.ticks?.()??[]}estimateTickCount({minSpacing:e,maxSpacing:i}){if(!this.label.avoidCollisions)return{minTickCount:ct.defaultMaxTickCount,maxTickCount:ct.defaultMaxTickCount,defaultTickCount:ct.defaultMaxTickCount};let n=this.calculateRangeWithBleed(),r=Math.max(this.defaultTickMinSpacing,n/ct.defaultMaxTickCount),o=!isNaN(i);isNaN(e)&&(e=r),isNaN(i)&&(i=n),e>i&&(e===r?e=i:i=e);let s=2;o&&(o=s<r);let a=Ce(1,Math.floor(n/e),o?Math.min(Math.floor(n/s),100):100),l=Math.min(a,Math.ceil(n/i)),c=Ce(l,ct.defaultTickCount,a);return{minTickCount:l,maxTickCount:a,defaultTickCount:c}}updateVisibility(){this.moduleCtx.animationManager.isSkipped()&&this.resetSelectionNodes(),this.tickLineGroup.visible=this.tick.enabled,this.gridLineGroup.visible=this.gridLine.enabled,this.tickLabelGroup.visible=this.label.enabled}updateCrossLines({rotation:e,parallelFlipRotation:i,regularFlipRotation:n}){let r=this.label.getSideFlag(),o=this.isAnySeriesActive();this.crossLines.forEach(s=>{s.sideFlag=-r,s.direction=e===-Math.PI/2?"x":"y",s instanceof N_&&(s.label.parallel=s.label.parallel??this.label.parallel),s.parallelFlipRotation=i,s.regularFlipRotation=n,s.update(o)})}updateTickLines(){let{tick:e,label:i}=this,n=i.getSideFlag();this.tickLineGroupSelection.each(r=>{r.strokeWidth=e.width,r.stroke=e.stroke,r.x1=n*this.getTickSize(),r.x2=0})}calculateAvailableRange(){return Yc(this.range)}calculateRangeWithBleed(){let e=1/Yc(this.visibleRange);return Tg(this.calculateAvailableRange()*e,2)}calculateDomain(){let i=this.boundSeries.filter(n=>this.includeInvisibleDomains||n.isEnabled()).flatMap(n=>n.getDomain(this.direction));this.setDomain(i)}getAxisTransform(){return{rotation:Wi(this.rotation),rotationCenterX:0,rotationCenterY:0,translationX:Math.floor(this.translation.x),translationY:Math.floor(this.translation.y)}}updatePosition(){let{crossLineGroup:e,axisGroup:i,gridGroup:n,translation:r,gridLineGroupSelection:o,gridPadding:s,gridLength:a}=this,{rotation:l}=this.calculateRotations(),c=this.label.getSideFlag(),d=Math.floor(r.x),u=Math.floor(r.y);e.setProperties({rotation:l,translationX:d,translationY:u}),n.setProperties({rotation:l,translationX:d,translationY:u}),i.datum=this.getAxisTransform(),o.each(h=>{h.x1=s,h.x2=-c*a+s})}updateSecondaryAxisTicks(e){throw new Error("AG Charts - unexpected call to updateSecondaryAxisTicks() - check axes configuration.")}updateSelections(e,i,n){this.lineNode.datum=e,this.gridLineGroupSelection.update(this.gridLength?i:[],r=>r.append(new di),r=>r.tickId),this.tickLineGroupSelection.update(i,r=>r.appendChild(new di),r=>r.tickId),this.tickLabelGroupSelection.update(i.map(r=>this.getTickLabelProps(r,n)),r=>r.appendChild(new _t),r=>r.tickId)}updateAxisLine(){let{line:e}=this,i=e.enabled?e.width:0;this.lineNode.setProperties({stroke:e.stroke,strokeWidth:i})}updateGridLines(e){let{gridLine:{style:i,width:n},gridPadding:r,gridLength:o}=this;o===0||i.length===0||this.gridLineGroupSelection.each((s,a,l)=>{let{stroke:c,lineDash:d}=i[l%i.length];s.setProperties({x1:r,x2:-e*o+r,fill:void 0,stroke:c,strokeWidth:n,lineDash:d})})}updateLabels(){let{label:e}=this;e.enabled&&this.tickLabelGroupSelection.each((i,n)=>{i.setProperties(n,["fill","fontFamily","fontSize","fontStyle","fontWeight","text","textAlign","textBaseline"])})}updateTitle(e){let{rotation:i,title:n,_titleCaption:r,lineNode:o,tickLineGroup:s,tickLabelGroup:a}=this,l=0;if(n.enabled&&e.anyTickVisible){let c=fe.computeBBox([s,a,o]),d=i===0?c.width:c.height;l+=d+(this.tickLabelGroup.visible?0:this.seriesAreaPadding)}this.setTitleProps(r,{spacing:l})}formatTick(e,i,n){return String(this.getFormatter(n,!0)(e,i))}formatDatum(e){return String(this.getFormatter()(e))}getFormatter(e=0,i){let{label:n,labelFormatter:r,datumFormatter:o,moduleCtx:{callbackCache:s}}=this;return n.formatter?(a,l)=>s.call(n.formatter,{value:a,index:e,fractionDigits:l})??a:!i&&o?a=>s.call(o,a)??String(a):r?a=>s.call(r,a)??String(a):a=>String(a)}getBBox(){return this.axisGroup.getBBox()}getRegionBBoxProvider(){let{axisGroup:e}=this;return{id:this.id,computeTransformedBBox(){return e.computeTransformedBBox()},computeTransformedRegionBBox(){return e.computeTransformedRegionBBox()},get visible(){return e.visible}}}initCrossLine(e){e.scale=this.scale,e.gridLength=this.gridLength}isAnySeriesActive(){return this.boundSeries.some(e=>this.includeInvisibleDomains||e.isEnabled())}clipTickLines(e,i,n,r){this.tickLineGroup.setClipRectInGroupCoordinateSpace(new se(e,i,n,r))}clipGrid(e,i,n,r){this.gridGroup.setClipRectInGroupCoordinateSpace(new se(e,i,n,r))}calculatePadding(e,i){let n=Math.abs(this.reverse?i:e)*.01;return[n,n]}getTitleFormatterParams(){let e=this.boundSeries.reduce((i,n)=>{let r=n.getKeys(this.direction),o=n.getNames(this.direction);for(let s=0;s<r.length;s++)i.push({key:r[s],name:o[s]});return i},[]);return{direction:this.direction,boundSeries:e,defaultValue:this.title?.text}}normaliseDataDomain(e){return{domain:[...e],clipped:!1}}getLayoutState(){return C({id:this.id,rect:this.getBBox(),gridPadding:this.gridPadding,seriesAreaPadding:this.seriesAreaPadding,tickSize:this.getTickSize(),direction:this.direction,domain:this.dataDomain.domain,scale:this.scale},this.layout)}getModuleMap(){return this.moduleMap}createModuleContext(){return this.axisContext??(this.axisContext=this.createAxisContext()),L(C({},this.moduleCtx),{parent:this.axisContext})}createAxisContext(){let{scale:e}=this;return{axisId:this.id,direction:this.direction,continuous:ct.is(e)||Pr.is(e),keys:()=>this.boundSeries.flatMap(i=>i.getKeys(this.direction)),seriesKeyProperties:()=>this.boundSeries.reduce((i,n)=>(n.getKeyProperties(this.direction).forEach(o=>{i.indexOf(o)<0&&i.push(o)}),i),[]),scaleValueFormatter:i=>this.getScaleValueFormatter(i),scaleBandwidth:()=>e.bandwidth??0,scaleDomain:()=>e.getDomain?.(),scaleConvert:i=>e.convert(i),scaleInvert:Pr.is(e)?i=>e.invertNearest?.(i):i=>e.invert?.(i),scaleInvertNearest:i=>e.invertNearest?.(i),attachLabel:i=>this.attachLabel(i),inRange:(i,n)=>this.inRange(i,n)}}getScaleValueFormatter(e){let{scale:i}=this;if(e&&i&&i.tickFormat)try{return i.tickFormat({specifier:e})}catch{Y.warnOnce(`the format string ${e} is invalid, ignoring.`)}return this.getFormatter()}animateReadyUpdate(e){let{animationManager:i}=this.moduleCtx,n=k_(this),r=HR(n);Vt(this.id,"axis-group",i,[this.axisGroup],r.group),Vt(this.id,"line",i,[this.lineNode],r.line),Vt(this.id,"line-paths",i,[this.gridLineGroupSelection,this.tickLineGroupSelection],r.tick,(o,s)=>s.tickId,e),Vt(this.id,"tick-labels",i,[this.tickLabelGroupSelection],r.label,(o,s)=>s.tickId,e)}resetSelectionNodes(){let{gridLineGroupSelection:e,tickLineGroupSelection:i,tickLabelGroupSelection:n,lineNode:r}=this,o=k_(this);Kt([this.axisGroup],$R()),Kt([e,i],WR(o)),Kt([n],YR()),Kt([r],ZR())}calculateUpdateDiff(e,i){let n=new Set,r=new Set,o={},s=Math.max(e.length,i.ticks.length);for(let a=0;a<s;a++){let l=i.ticks[a],c=e[a],d=l?.tickId;o[d??c]=l,c!==d&&(r.has(d)?r.delete(d):d&&n.add(d),n.has(c)?n.delete(c):c&&r.add(c))}return{changed:n.size>0||r.size>0,added:n,removed:r}}isReversed(){return this.reverse}};ns.defaultTickMinSpacing=50;ns.CrossLineConstructor=N_;y([x(ve)],ns.prototype,"nice",2);y([x(ve)],ns.prototype,"reverse",2);y([x(rR)],ns.prototype,"keys",2);y([x(ae)],ns.prototype,"interval",2);y([x(ae,{optional:!0})],ns.prototype,"title",2);y([Zi((t,e,i)=>t.onGridLengthChange(e,i))],ns.prototype,"gridLength",2);var TM=ns,AM=class extends ri{constructor(){super(...arguments),this.autoRotateAngle=335}};y([x(ve,{optional:!0})],AM.prototype,"autoRotate",2);y([x(ia)],AM.prototype,"autoRotateAngle",2);var NM=class KR extends TM{constructor(){super(...arguments),this.thickness=0}static is(e){return e instanceof KR}get direction(){return["top","bottom"].includes(this.position)?"x":"y"}updateDirection(){switch(this.position){case"top":this.rotation=-90,this.label.mirrored=!0,this.label.parallel=!0;break;case"right":this.rotation=0,this.label.mirrored=!0,this.label.parallel=!1;break;case"bottom":this.rotation=-90,this.label.mirrored=!1,this.label.parallel=!0;break;case"left":this.rotation=0,this.label.mirrored=!1,this.label.parallel=!1;break}this.axisContext&&(this.axisContext.position=this.position,this.axisContext.direction=this.direction)}update(e,i){return this.updateDirection(),super.update(e,i)}calculateLayout(e){return this.updateDirection(),super.calculateLayout(e)}createAxisContext(){return L(C({},super.createAxisContext()),{position:this.position})}createLabel(){return new AM}};y([x(K)],NM.prototype,"thickness",2);y([x(yM)],NM.prototype,"position",2);var ld=NM,sa=class extends ld{constructor(t,e=new Js){super(t,e),this._paddingOverrideEnabled=!1,this.groupPaddingInner=.1,this.includeInvisibleDomains=!0}set paddingInner(t){this._paddingOverrideEnabled=!0,this.scale.paddingInner=t}get paddingInner(){return this._paddingOverrideEnabled=!0,this.scale.paddingInner}set paddingOuter(t){this.scale.paddingOuter=t}get paddingOuter(){return this.scale.paddingOuter}normaliseDataDomain(t){let e=[],i=new Set;for(let n of t){let r=n instanceof Date?n.getTime():n;i.has(r)||(i.add(r),e.push(n))}return{domain:e,clipped:!1}}calculateDomain(){if(!this._paddingOverrideEnabled){let t=1/0,e=-1/0;for(let i of this.boundSeries){let n=i.getBandScalePadding?.();n!=null&&(t=Math.min(t,n.inner),e=Math.max(e,n.outer))}this.scale.paddingInner=Number.isFinite(t)?t:0,this.scale.paddingOuter=Number.isFinite(e)?e:0}return super.calculateDomain()}};sa.className="CategoryAxis";sa.type="category";y([x(Je)],sa.prototype,"groupPaddingInner",2);var XR=class{constructor(t="",e,i=0){this.x=0,this.y=0,this.subtreeLeft=NaN,this.subtreeRight=NaN,this.screenX=0,this.screenY=0,this.children=[],this.leafCount=0,this.prelim=0,this.mod=0,this.ancestor=this,this.change=0,this.shift=0,this.label=t,this.parent=e,this.depth=e?e.depth+1:0,this.number=i}getLeftSibling(){return this.number>0&&this.parent?this.parent.children[this.number-1]:void 0}getLeftmostSibling(){return this.number>0&&this.parent?this.parent.children[0]:void 0}nextLeft(){return this.children?this.children[0]:this.thread}nextRight(){return this.children?this.children[this.children.length-1]:this.thread}getSiblings(){return this.parent?this.parent.children.filter((t,e)=>e!==this.number):[]}};function JW(t,e=!0){let i=new XR,n=0;return e&&t.forEach(r=>n=Math.max(n,r.labels.length)),t.forEach(r=>{if(e)for(;r.labels.length<n;)r.labels.unshift("");eY(i,r)}),i}function eY(t,e){let i=e.labels.slice().reverse(),n=i.length-1;i.forEach((r,o)=>{let s=t.children,a=s.find(c=>c.label===r),l=o!==n;if(a&&l)t=a;else{let c=new XR(r,t);c.number=s.length,s.push(c),l&&(t=c)}})}function tY(t,e,i){let n=e.number-t.number,r=i/n;e.change-=r,e.shift+=i,t.change+=r,e.prelim+=i,e.mod+=i}function iY(t,e,i){return e.getSiblings().indexOf(t.ancestor)>=0?t.ancestor:i}function nY(t){let e=t.children;if(e){let i=0,n=0;for(let r=e.length-1;r>=0;r--){let o=e[r];o.prelim+=i,o.mod+=i,n+=o.change,i+=o.shift+n}}}function rY(t,e,i){let n=t.getLeftSibling();if(n){let r=t,o=t,s=n,a=o.getLeftmostSibling(),l=o.mod,c=r.mod,d=s.mod,u=a.mod;for(;s.nextRight()&&o.nextLeft();){s=s.nextRight(),o=o.nextLeft(),a=a.nextLeft(),r=r.nextRight(),r.ancestor=t;let h=s.prelim+d-(o.prelim+l)+i;h>0&&(tY(iY(s,t,e),t,h),l+=h,c+=h),d+=s.mod,l+=o.mod,u+=a.mod,c+=r.mod}s.nextRight()&&!r.nextRight()?(r.thread=s.nextRight(),r.mod+=d-c):(o.nextLeft()&&!a.nextLeft()&&(a.thread=o.nextLeft(),a.mod+=l-u),e=t)}return e}function QR(t,e){let i=t.children;if(i.length){let n=i[0];i.forEach(s=>{QR(s,e),n=rY(s,n,e)}),nY(t);let r=(i[0].prelim+i.at(-1).prelim)/2,o=t.getLeftSibling();o?(t.prelim=o.prelim+e,t.mod=t.prelim-r):t.prelim=r}else{let n=t.getLeftSibling();t.prelim=n?n.prelim+e:0}}var Mk=class{constructor(){this.top=1/0,this.right=-1/0,this.bottom=-1/0,this.left=1/0}update(t,e){let{x:i,y:n}=e(t);i>this.right&&(this.right=i),i<this.left&&(this.left=i),n>this.bottom&&(this.bottom=n),n<this.top&&(this.top=n)}};function JR(t,e,i){t.x=t.prelim+e,t.y=t.depth,i.update(t),t.children.forEach(n=>JR(n,e+t.mod,i))}function eL(t){let e=t.children,i=0;e.forEach(n=>{eL(n),n.children.length?i+=n.leafCount:i++}),t.leafCount=i,e.length?(t.subtreeLeft=e[0].subtreeLeft,t.subtreeRight=e[t.children.length-1].subtreeRight,t.x=(t.subtreeLeft+t.subtreeRight)/2):(t.subtreeLeft=t.x,t.subtreeRight=t.x)}function oY(t){let e=new sY;return QR(t,1),JR(t,-t.prelim,e),eL(t),e}var sY=class{constructor(){this.dimensions=new Mk,this.leafCount=0,this.nodes=[],this.leafNodes=[],this.nonLeafNodes=[],this.depth=0}update(t){this.dimensions.update(t,e=>({x:e.x,y:e.y})),t.children.length?this.nonLeafNodes.push(t):(this.leafCount++,this.leafNodes.push(t)),t.depth>this.depth&&(this.depth=t.depth),this.nodes.push(t)}resize(t,e,i=0,n=0,r=!1){let o=this.leafCount-1,s=this.depth,a=this.dimensions,l=1,c=1;if(t>0&&o){let f=(a.right-a.left)/o;l=t/o/f,r&&(l=-l)}if(e>0&&s){let f=(a.bottom-a.top)/s;c=e/s/f}let d=new Mk;this.nodes.forEach(f=>{f.screenX=f.x*l,f.screenY=f.y*c,d.update(f,p=>({x:p.screenX,y:p.screenY}))});let u=-d.left,h=-d.top;this.nodes.forEach(f=>{f.screenX+=u+i,f.screenY+=h+n})}},tL=class extends ri{constructor(){super(...arguments),this.grid=!1}};y([x(ve)],tL.prototype,"grid",2);var ea=class extends ld{constructor(t){let e=new Js;e.paddingOuter=.1,e.paddingInner=e.paddingOuter*2,super(t,e),this.tickScale=new Js,this.line=new Lh,this.label=new tL,this.labelColor="rgba(87, 87, 87, 1)",this.includeInvisibleDomains=!0;let{tickLineGroup:i,tickLabelGroup:n,gridLineGroup:r,tickScale:o}=this;o.paddingInner=1,o.paddingOuter=0,this.gridLineSelection=At.select(r,di),this.axisLineSelection=At.select(i,di),this.separatorSelection=At.select(i,di),this.labelSelection=At.select(n,_t),this.lineNode.visible=!1}updateRange(){let{range:t,visibleRange:e,scale:i}=this,n=(t[1]-t[0])/(e[1]-e[0]),r=n*e[0],o=t[0]-r;this.tickScale.range=i.range=[o,o+n],this.resizeTickTree()}resizeTickTree(){let t=this.scale,e=t.domain.length?[t.convert(t.domain[0]),t.convert(t.domain[t.domain.length-1])]:t.range,i=this.tickTreeLayout,n=this.lineHeight;i&&i.resize(Math.abs(e[1]-e[0]),i.depth*n,(Math.min(e[0],e[1])||0)+(t.bandwidth??0)/2,-i.depth*n,e[1]-e[0]<0)}get lineHeight(){return this.label.fontSize*1.5}onGridVisibilityChange(){this.gridLineSelection.clear(),this.labelSelection.clear()}calculateDomain(){let{direction:t}=this,e=null,i=this.boundSeries.filter(r=>r.visible).flatMap(r=>{if(t==="y"||e)return r.getDomain(t);if(e===null){let o=r.getDomain(t);return e=Cn(o[0]),o}return[]});this.setDomain(vo(i)??zg(i));let{domain:n}=this.dataDomain;this.tickTreeLayout=oY(JW(n)),this.tickScale.domain=n.concat(""),this.resizeTickTree()}update(){this.computedLayout&&(this.updatePosition(),this.updateTitleCaption(),this.updateCategoryLabels(),this.updateSeparators(),this.updateAxisLines(),this.updateCategoryGridLines(),this.resetSelectionNodes())}updateTitleCaption(){let{_titleCaption:t}=this;t.node.visible=!1}updateCategoryLabels(){if(!this.computedLayout)return;let{tickLabelLayout:t}=this.computedLayout;this.labelSelection.update(t).each((i,n)=>{i.setProperties(n)})}updateSeparators(){if(!this.computedLayout)return;let{separatorLayout:t}=this.computedLayout,{range:e}=this,i=1e-7;this.separatorSelection.update(t).each((r,o)=>{r.x1=o.x1,r.x2=o.x2,r.y1=o.y,r.y2=o.y,r.visible=this.tick.enabled&&o.y>=e[0]-i&&o.y<=e[1]+i,r.stroke=this.tick.stroke,r.fill=void 0,r.strokeWidth=1})}updateAxisLines(){if(!this.computedLayout)return;let{axisLineLayout:t}=this.computedLayout;this.axisLineSelection.update(t).each((i,n)=>{i.setProperties(L(C({},n),{stroke:this.line.stroke,strokeWidth:this.line.width})),i.x1=n.x,i.x2=n.x,i.y1=n.y1,i.y2=n.y2,i.strokeWidth=this.line.width,i.stroke=this.line.stroke})}updateCategoryGridLines(){let{gridLength:t,gridLine:e,label:i,range:n,tickScale:r}=this,o=r.ticks(),s=i.getSideFlag(),a=this.gridLineSelection.update(t?o:[]);if(t){let{width:l,style:c}=e,d=c.length;a.each((u,h,f)=>{let p=Math.round(r.convert(h));u.x1=0,u.x2=-s*t,u.y1=p,u.y2=p,u.visible=e.enabled&&p>=n[0]&&p<=n[1];let{stroke:m,lineDash:b}=c[f%d];u.stroke=m,u.strokeWidth=l,u.lineDash=b,u.fill=void 0})}}computeLayout(){this.updateDirection(),this.calculateDomain(),this.updateRange();let{scale:t,label:e,label:{parallel:i},moduleCtx:{callbackCache:n},range:r,title:o,title:{formatter:s=F=>F.defaultValue}={}}=this,a=t.range[0],l=t.range[1],d=Math.abs(l-a)/t.domain.length||0,u=Math.ceil(e.fontSize/d),h=Wi(this.rotation),f=Math.abs(Math.cos(h))<1e-8,p=e.getSideFlag(),m=this.lineHeight,b=this.tickTreeLayout,g=t.ticks(),v=b?b.nodes:[],M=b?b.depth>1:!1,{defaultRotation:w,configuredRotation:I,parallelFlipFlag:D}=bg({rotation:e.rotation,parallel:i,regularFlipRotation:Nt(h-Math.PI/2),parallelFlipRotation:Nt(h)}),_=[],S=F=>({fill:F.fill,fontFamily:F.fontFamily,fontSize:F.fontSize,fontStyle:F.fontStyle,fontWeight:F.fontWeight,rotation:F.rotation,rotationCenterX:F.rotationCenterX,rotationCenterY:F.rotationCenterY,text:F.text,textAlign:F.textAlign,textBaseline:F.textBaseline,translationX:F.translationX,translationY:F.translationY,visible:F.visible,x:F.x,y:F.y}),E=new Map,T=0,k=new _t,P=(F,de)=>{if(k.setProperties({fill:e.color,fontFamily:e.fontFamily,fontSize:e.fontSize,fontStyle:e.fontStyle,fontWeight:e.fontWeight,textAlign:"center",textBaseline:D===-1?"bottom":"hanging",translationX:F.screenY-e.fontSize*.25,translationY:F.screenX}),de===0){if(!(o?.enabled&&g.length>0))return!1;let q=n.call(s,this.getTitleFormatterParams());k.setProperties({fill:o.color,fontFamily:o.fontFamily,fontSize:o.fontSize,fontStyle:o.fontStyle,fontWeight:o.fontWeight,text:q,textBaseline:"hanging",translationX:F.screenY-e.fontSize*.25,translationY:F.screenX})}else if(de%u===0){if(!(F.screenX>=r[0]&&F.screenX<=r[1]))return!1;e.formatter?k.text=n.call(e.formatter,{value:String(F.label),index:de})??String(F.label):k.text=String(F.label)}else return!1;return!0};v.forEach((F,de)=>{if(!P(F,de))return;let q=k.computeTransformedBBox();if(!q)return;E.set(de,q),!F.children.length&&q.width>T&&(T=q.width)});let Z=p*e.padding,ne=this.label.grid,z=[];v.forEach((F,de)=>{let V=P(F,de),q=de;k.x=Z,k.rotationCenterX=Z;let ie=!F.children.length;if(ie)k.rotation=I,k.textAlign="end",k.textBaseline="middle";else{k.translationX-=T-m+this.label.padding;let he=F.leafCount*d,De=E.get(q);De&&De.width>he?(V=!1,E.delete(q)):f?k.rotation=w:k.rotation=-Math.PI/2}if(F.parent&&M){let he=ie?F.screenX-d/2:F.screenX-F.leafCount*d/2;if(ie)(F.number!==F.children.length-1||ne)&&z.push({y:he,x1:0,x2:-T-this.label.padding*2});else{let De=-T-this.label.padding*2+F.screenY;z.push({y:he,x1:De+m,x2:De})}}let pe;if(V){let he=k.computeTransformedBBox();he&&E.set(de,he),pe=L(C({},S(k)),{visible:V})}else E.delete(de),pe={visible:V};_.push(pe)});let R=0;z.forEach(F=>R=Math.min(R,F.x2)),z.push({y:Math.max(a,l),x1:0,x2:R});let A=[],B=[],ee=1e-7;z.forEach(F=>{if(F.y>=r[0]-ee&&F.y<=r[1]+ee){let{x1:de,x2:V,y:q}=F,ie=new se(Math.min(de,V),q,Math.abs(de-V),0);B.push(ie),A.push({x1:de,x2:V,y:q})}});let O=[],oe=[],te=b?b.depth+1:1;for(let F=0;F<te;F++){let de=g.length>0&&(F===0||ne&&M),V=F>0?-T-this.label.padding*2-(F-1)*m:0,q=new se(V,Math.min(...r),0,Math.abs(r[1]-r[0]));oe.push(q),O.push({x:V,y1:r[0],y2:r[1],visible:de})}let $=se.merge([...E.values(),...B,...oe]);return{bbox:this.getTransformBox($),tickLabelLayout:_,separatorLayout:A,axisLineLayout:O}}calculateLayout(){let{axisLineLayout:t,separatorLayout:e,tickLabelLayout:i,bbox:n}=this.computeLayout();return this.computedLayout={axisLineLayout:t,separatorLayout:e,tickLabelLayout:i},{bbox:n,primaryTickCount:void 0}}};ea.className="GroupedCategoryAxis";ea.type="grouped-category";y([x(nt,{optional:!0})],ea.prototype,"labelColor",2);var Oh=class{constructor(){this.destroyFns=[]}destroy(){for(let t of this.destroyFns)t()}},iL=class{constructor(){this.modules=[],this.dependencies=new Map,this.dependents=new Map}register(...t){for(let e of t){this.registerDependencies(e);let i=this.modules.find(n=>e.type===n.type&&e.optionsKey===n.optionsKey&&e.identifier===n.identifier);if(i){if(e.packageType==="enterprise"&&i.packageType==="community"){let n=this.modules.indexOf(i);this.modules.splice(n,1,e)}}else this.modules.push(e)}}hasEnterpriseModules(){return this.modules.some(t=>t.packageType==="enterprise")}*byType(...t){let{dependents:e}=this,i=new Set,n=0,r=3,o=this.modules.filter(s=>t.includes(s.type));do{for(let s of o)if(!(i.has(s.optionsKey)||e.has(s.optionsKey))){yield s,i.add(s.optionsKey);for(let[a,l]of e.entries())l.delete(s.optionsKey),l.size===0&&e.delete(a)}n++}while(i.size<o.length&&n<r);if(e.size>0)throw new Error(`Could not resolve module dependencies: [${[...e.keys()]}]`)}registerDependencies(t){if(!(t.dependencies==null||t.dependencies.length===0)){for(let e of t.dependencies){let i=this.dependencies.get(e)??new Set;i.add(t.optionsKey),this.dependencies.set(e,i)}this.dependents.set(t.optionsKey,new Set(t.dependencies))}}},Zs=new iL;function aY(t){return new Promise(e=>{setTimeout(()=>e(void 0),t)})}var lY=class{constructor(){this.available=!0,this.acquireQueue=[]}acquire(t){return new Promise(e=>{this.acquireQueue.push([t,e]),this.available&&this.dispatchNext().catch(i=>Y.errorOnce(i))})}acquireImmediately(t){return j(this,null,function*(){return this.available?(yield this.acquire(t),!0):!1})}waitForClearAcquireQueue(){return j(this,null,function*(){return this.acquire(()=>j(this,null,function*(){}))})}dispatchNext(){return j(this,null,function*(){this.available=!1;let[t,e]=this.acquireQueue.shift()??[];for(;t;){try{yield t(),e?.()}catch(i){Y.error("mutex callback error",i),e?.()}[t,e]=this.acquireQueue.shift()??[]}this.available=!0})}},nL=class{constructor(){this.eventListeners=new Map}addEventListener(t,e){if(typeof e!="function")throw new Error("AG Charts - listener must be a Function");let i=this.eventListeners.get(t);i?i.add(e):this.eventListeners.set(t,new Set([e]))}removeEventListener(t,e){this.eventListeners.get(t)?.delete(e),this.eventListeners.size===0&&this.eventListeners.delete(t)}hasEventListener(t){return this.eventListeners.has(t)}clearEventListeners(){this.eventListeners.clear()}fireEvent(t){this.eventListeners.get(t.type)?.forEach(e=>e(t))}},aa=class extends Ne{constructor(t=0,e=t,i=t,n=e){super(),this.top=t,this.right=e,this.bottom=i,this.left=n}clear(){this.top=this.right=this.bottom=this.left=0}};y([x(K)],aa.prototype,"top",2);y([x(K)],aa.prototype,"right",2);y([x(K)],aa.prototype,"bottom",2);y([x(K)],aa.prototype,"left",2);function rL(t){return oL((e,i)=>requestAnimationFrame(e),t)}function cY(t){return oL((e,i=0)=>setTimeout(e,i),t)}function oL(t,e){let i=0,n=!1,r,o,s=()=>n,a=()=>{n=!1,o?.(),o=void 0,r=void 0,i>0&&t(l)},l=()=>{let d=i;i=0,n=!0;let u=e({count:d});if(!u){a();return}u.then(a,a)};return{schedule(d){i===0&&!s()&&t(l,d),i++},await(){return j(this,null,function*(){if(s())for(r==null&&(r=new Promise(d=>{o=d}));s();)yield r})}}}var sL="10.1.0",aL=class{constructor(t){this.version=t.split("-")[0]}save(...t){let e={version:this.version};for(let i of Object.values(t))e[i.mementoOriginatorKey]=this.encode(i,i.createMemento());return e}restore(t,...e){if(typeof t!="object"){Y.warnOnce(`Could not restore data of type [${typeof t}], expecting an object, ignoring.`);return}if(t==null){Y.warnOnce("Could not restore data of type [null], expecting an object, ignoring.");return}if(!("version"in t)||typeof t.version!="string"){Y.warnOnce("Could not restore data, missing [version] string in object, ignoring.");return}for(let i of e){if(!(i.mementoOriginatorKey in t))continue;let n=this.decode(i,t[i.mementoOriginatorKey]);if(!i.guardMemento(n)){Y.warnOnce(`Could not restore [${i.mementoOriginatorKey}] data, value was invalid, ignoring.`,n);return}i.restoreMemento(this.version,t.version,n)}}encode(t,e){try{return JSON.parse(JSON.stringify(e,this.encodeTypes))}catch(i){throw new Error(`Failed to encode [${t.mementoOriginatorKey}] value [${i}].`,{cause:i})}}decode(t,e){try{return JSON.parse(JSON.stringify(e),this.decodeTypes)}catch(i){throw new Error(`Failed to decode [${t.mementoOriginatorKey}] value [${i}].`,{cause:i})}}encodeTypes(t,e){return Ch(this[t])?{__type:"date",value:String(this[t])}:e}decodeTypes(t,e){return ln(this[t])&&"__type"in this[t]&&this[t].__type==="date"?new Date(this[t].value):e}},dY=class{constructor(){this.caretaker=new aL(sL),this.state=new Map}setState(t,e){Tn(this.state.get(t.mementoOriginatorKey),e)!=null&&(this.state.set(t.mementoOriginatorKey,e),this.restoreState(t))}restoreState(t){let{caretaker:e,state:i}=this;if(!i.has(t.mementoOriginatorKey))return;let n=i.get(t.mementoOriginatorKey);e.restore({version:e.version,[t.mementoOriginatorKey]:n},t)}};function uY(){if(typeof navigator>"u")return!1;let t=navigator.userAgent.match(/\(iPhone; CPU iPhone OS (\d+_\d+_\d+) like Mac OS X\)/);if(t==null)return!1;let[e,i]=t[1].split("_").map(Number);return e<16||e===16&&i<6}var lL=class L_{constructor(e){this.enabled=!0,this.width=600,this.height=300;let{width:i,height:n,pixelRatio:r,canvasConstructor:o,willReadFrequently:s=!1}=e;this.pixelRatio=uY()?1:r??Br("devicePixelRatio"),this.element=o?.()??Zt("canvas"),this.element.style.display="block",this.element.style.width=(i??this.width)+"px",this.element.style.height=(n??this.height)+"px",this.element.width=Math.round((i??this.width)*this.pixelRatio),this.element.height=Math.round((n??this.height)*this.pixelRatio),this.context=this.element.getContext("2d",{willReadFrequently:s}),this.onEnabledChange(),this.resize(i??0,n??0),L_.debugContext(this.context)}static is(e){return e instanceof L_}drawImage(e,i=0,n=0){return e.drawImage(this.context.canvas,i,n)}toDataURL(e){return this.element.toDataURL(e)}resize(e,i){if(!(e>0&&i>0))return;let{element:n,context:r,pixelRatio:o}=this;n.width=Math.round(e*o),n.height=Math.round(i*o),r.setTransform(o,0,0,o,0,0),n.style.width=e+"px",n.style.height=i+"px",this.width=e,this.height=i}snapshot(){}clear(){this.context.save(),this.context.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0),this.context.clearRect(0,0,this.width,this.height),this.context.restore()}destroy(){this.element.remove(),this.element.width=0,this.element.height=0,this.context.clearRect(0,0,0,0),Object.freeze(this)}onEnabledChange(){this.element&&(this.element.style.display=this.enabled?"":"none")}static debugContext(e){if(gt.check("canvas")){let i=e.save.bind(e),n=e.restore.bind(e),r=0;Object.assign(e,{save(){i(),r++},restore(){if(r===0)throw new Error("AG Charts - Unable to restore() past depth 0");n(),r--},verifyDepthZero(){if(r!==0)throw new Error(`AG Charts - Save/restore depth is non-zero: ${r}`)}})}}};y([Zi(t=>t.onEnabledChange())],lL.prototype,"enabled",2);var kM=lL,hY=class cL{constructor(e,i){this.canvas=e,this.markDirty=i,this.debug=gt.create(!0,"scene"),this.layersMap=new Map,this.nextZIndex=0,this.nextLayerId=0}static sortLayers(e,i){return SR([e.zIndex,...e.zIndexSubOrder??[void 0,void 0],e.id],[i.zIndex,...i.zIndexSubOrder??[void 0,void 0],i.id],IR)}get size(){return this.layersMap.size}forEach(e){Array.from(this.layersMap.values()).sort(cL.sortLayers).forEach(e)}resize(e,i){this.canvas.resize(e,i),this.layersMap.forEach(({canvas:n})=>n.resize(e,i))}addLayer(e){let{width:i,height:n,pixelRatio:r}=this.canvas,{zIndex:o=this.nextZIndex++,name:s,zIndexSubOrder:a,getComputedOpacity:l,getVisibility:c}=e,d=new kM({width:i,height:n,pixelRatio:r}),u={id:this.nextLayerId++,name:s,canvas:d,zIndex:o,zIndexSubOrder:a,getComputedOpacity:l,getVisibility:c};return o>=this.nextZIndex&&(this.nextZIndex=o+1),this.layersMap.set(d,u),this.debug("Scene.addLayer() - layers",this.layersMap),u.canvas}removeLayer(e){this.layersMap.has(e)&&(this.layersMap.delete(e),e.destroy(),this.markDirty(),this.debug("Scene.removeLayer() -  layers",this.layersMap))}moveLayer(e,i,n){let r=this.layersMap.get(e);r&&(r.zIndex=i,r.zIndexSubOrder=n,this.markDirty(),this.debug("Scene.moveLayer() -  layers",this.layersMap))}clear(){this.layersMap.clear()}};function Dk(t,e,i,n,r={},o=se.zero){if(!gt.check("scene:stats","scene:stats:verbose"))return;let{layersRendered:s=0,layersSkipped:a=0,nodesRendered:l=0,nodesSkipped:c=0}=n??{},d=performance.now(),D=e,{start:u}=D,h=pt(D,["start"]),f=Object.entries(h).map(([_,S])=>Ik(_,S)).filter(_=>_!=null).join(" + "),p=Object.entries(r).map(([_,S])=>`${_}: ${S}`).join(" ; "),m=gt.check("scene:stats:verbose"),b=[`${Ik("\u23F1\uFE0F",u,d)} (${f})`,`${p}`,`Layers: ${m?wk(s,a):t.size}`,m?`Nodes: ${wk(l,c)}`:null].filter(cn),g=new IM(_=>i.measureText(_)),v=new Map(b.map(_=>[_,g.measureLines(_)])),M=Math.max(...Array.from(v.values(),_=>_.width)),w=pY(v.values(),_=>_.height);i.save(),i.fillStyle="white",i.fillRect(0,0,M,w),i.fillStyle="black";let I=0;for(let[_,S]of v.entries())I+=S.height,i.fillText(_,2+o.x,I);i.restore()}function fY(t,e){t.save();for(let[i,n]of Object.entries(e)){let r=n.computeTransformedBBox();if(!r){Y.log(`Scene.render() - no bbox for debugged node [${i}].`);continue}t.globalAlpha=.8,t.strokeStyle="red",t.lineWidth=1,t.strokeRect(r.x,r.y,r.width,r.height),t.fillStyle="red",t.strokeStyle="white",t.font="16px sans-serif",t.textBaseline="top",t.textAlign="left",t.lineWidth=2,t.strokeText(i,r.x,r.y,r.width),t.fillText(i,r.x,r.y,r.width)}t.restore()}function dg(t){return gt.check(!0,"scene")?C(C({node:t,name:t.name??t.id,dirty:Ws[t.dirty]},t.parent?.isVirtual?{virtualParentDirty:Ws[t.parent.dirty],virtualParent:t.parent}:{}),t.children.map(e=>dg(e)).reduce((e,i)=>{let{name:n}=i,{node:{visible:r,opacity:o,zIndex:s,zIndexSubOrder:a,translationX:l,translationY:c,rotation:d,scalingX:u,scalingY:h},node:f,virtualParent:p}=i;(!r||o<=0)&&(n=`(${n})`),f instanceof fe&&f.isLayer()&&(n=`*${n}*`);let m=[`${n??"<unknown>"}`,`z: ${s}`,a&&`zo: ${a.map(v=>typeof v=="function"?`${v()} (fn)`:v).join(" / ")}`,p&&"(virtual parent)",l&&`x: ${l}`,c&&`y: ${c}`,d&&`r: ${d}`,u!==1&&`sx: ${u}`,h!==1&&`sy: ${h}`].filter(v=>!!v).join(" "),b=m,g=1;for(;e[b]!=null&&g<100;)b=`${m} (${g++})`;return e[b]=i,e},{})):{}}function dL(t){if(t.dirty===0)return{dirtyTree:{},paths:[]};let e=t.children.map(r=>dL(r)).filter(r=>r.paths.length>0),i=fe.is(t)?t.name??t.id:t.id,n=e.length?e.flatMap(r=>r.paths).map(r=>`${i}.${r}`):[i];return{dirtyTree:C({name:i,node:t,dirty:Ws[t.dirty]},e.map(r=>r.dirtyTree).filter(r=>r.dirty!=null).reduce((r,o)=>(r[o.name??"<unknown>"]=o,r),{})),paths:n}}function wk(t,e){let i=t+e;return`${t} / ${i} (${Math.round(100*t/i)}%)`}function Ik(t,e,i){let n=i!=null?i-e:e;return`${t}: ${Math.round(n*100)/100}ms`}function pY(t,e){let i=0;for(let n of t)i+=e(n);return i}var RM=class{constructor({width:t,height:e,pixelRatio:i,domManager:n}){this.debug=gt.create(!0,"scene"),this.id=lr(this),this.root=null,this.isDirty=!1,this.domManager=n;let r={width:t,height:e,pixelRatio:i};n&&(r.canvasConstructor=()=>n.addChild("canvas","scene-canvas")),this.canvas=new kM(r),this.layersManager=new hY(this.canvas,()=>{this.isDirty=!0})}get width(){return this.pendingSize?.[0]??this.canvas.width}get height(){return this.pendingSize?.[1]??this.canvas.height}setContainer(t){if((i=>typeof i.tagName<"u")(t)){let{element:i}=this.canvas;i.parentElement?.removeChild(i),t.appendChild(i)}else this.domManager=t,this.domManager.addChild("canvas","scene-canvas",this.canvas.element);return this}setRoot(t){return this.root===t?this:(this.isDirty=!0,this.root?._setLayerManager(),this.root=t,t&&(t.visible=!0,t._setLayerManager(this.layersManager)),this)}attachNode(t,e){if(!e)return this.root?.appendChild(t),()=>this.removeChild(t);let i=this.root?.children.find(n=>n instanceof fe&&n.name===e);if(!i)throw new Error("AG Charts - Unrecognized root group name: "+e);return i.appendChild(t),()=>i.removeChild(t)}appendChild(t){return this.root?.appendChild(t),this}removeChild(t){return this.root?.removeChild(t),this}download(t,e){CR(this.canvas.toDataURL(e),t?.trim()??"image")}getDataURL(t){return this.canvas.toDataURL(t)}resize(t,e){return t=Math.round(t),e=Math.round(e),t>0&&e>0&&(t!==this.width||e!==this.height)?(this.pendingSize=[t,e],this.isDirty=!0,!0):!1}render(t){return j(this,null,function*(){let{debugSplitTimes:e={start:performance.now()},extraDebugStats:i,seriesRect:n}=t??{},{canvas:r,canvas:{context:o}={},root:s,pendingSize:a}=this;if(!o)return;let l=performance.now();if(a&&(this.layersManager.resize(...a),this.pendingSize=void 0),s&&!s.visible){this.isDirty=!1;return}if(s&&!this.isDirty){this.debug.check()&&this.debug("Scene.render() - no-op",{redrawType:Ws[s.dirty],tree:dg(s)}),Dk(this.layersManager,e,o,void 0,i,n);return}let c={ctx:o,devicePixelRatio:this.canvas.pixelRatio??1,forceRender:!0,resized:!!a,debugNodes:{}};gt.check("scene:stats:verbose")&&(c.stats={layersRendered:0,layersSkipped:0,nodesRendered:0,nodesSkipped:0});let d=!1;if((!s||s.dirty>=1)&&(d=!0,r.clear()),s&&gt.check("scene:dirtyTree")){let{dirtyTree:u,paths:h}=dL(s);gt.create("scene:dirtyTree")("Scene.render() - dirtyTree",{dirtyTree:u,paths:h})}if(s&&d&&(this.debug("Scene.render() - before",{redrawType:Ws[s.dirty],canvasCleared:d,tree:dg(s)}),s.visible&&(s.preRender(),o.save(),s.render(c),o.restore())),e["\u270D\uFE0F"]=performance.now()-l,this.layersManager.size&&d){let u=performance.now();o.save(),o.resetTransform(),this.layersManager.forEach(h=>{h.canvas.enabled&&h.getVisibility()&&(o.globalAlpha=h.getComputedOpacity(),h.canvas.drawImage(o))}),o.restore(),e["\u26D9"]=performance.now()-u}o.verifyDepthZero?.(),this.isDirty=!1,Dk(this.layersManager,e,o,c.stats,i,n),fY(o,c.debugNodes),s&&this.debug.check()&&this.debug("Scene.render() - after",{redrawType:Ws[s.dirty],tree:dg(s),canvasCleared:d})})}strip(){let{context:t,pixelRatio:e}=this.canvas;t.setTransform(e,0,0,e,0,0),this.layersManager.clear(),this.setRoot(null),this.isDirty=!1}destroy(){this.strip(),this.canvas.destroy(),Object.assign(this,{canvas:void 0})}};RM.className="Scene";var mY=class{constructor(){this.cache=new WeakMap}call(t,...e){let i,n=this.cache.get(t);try{i=JSON.stringify(e)}catch{return this.invoke(t,e,n)}return n==null&&(n=new Map,this.cache.set(t,n)),n.has(i)?n.get(i):this.invoke(t,e,n,i)}invoke(t,e,i,n){try{let r=t(...e);return i&&n!=null&&i.set(n,r),r}catch(r){Y.warnOnce("User callback errored, ignoring",r);return}}invalidateCache(){this.cache=new WeakMap}},la=class{constructor(){this.registeredListeners=new Map}addListener(t,e){let i={symbol:Symbol(t),handler:e};return this.registeredListeners.has(t)?this.registeredListeners.get(t).push(i):this.registeredListeners.set(t,[i]),()=>this.removeListener(i.symbol)}removeListener(t){for(let[e,i]of this.registeredListeners.entries()){let n=i.findIndex(r=>r.symbol===t);if(n>=0){i.splice(n,1),i.length===0&&this.registeredListeners.delete(e);break}}}dispatch(t,...e){for(let i of this.getListenersByType(t))try{i.handler(...e)}catch(n){Y.errorOnce(n)}}dispatchWrapHandlers(t,e,...i){for(let n of this.getListenersByType(t))try{e(n.handler,...i)}catch(r){Y.errorOnce(r)}}getListenersByType(t){return this.registeredListeners.get(t)??[]}destroy(){this.registeredListeners.clear()}},Ni=class{constructor(){this.listeners=new la,this.destroyFns=[]}addListener(t,e){return this.listeners.addListener(t,e)}destroy(){this.listeners.destroy(),this.destroyFns.forEach(t=>t())}},gY=class extends Ni{constructor(t){super(),this.annotationRoot=t,this.mementoOriginatorKey="annotations",this.annotations=[]}createMemento(){return this.annotations}guardMemento(t){return Rt(t)}restoreMemento(t,e,i){let n=this.cleanData(i).map(r=>{let o=this.getAnnotationTypeStyles(r.type);return Be(r,o)});this.listeners.dispatch("restore-annotations",{type:"restore-annotations",annotations:n})}updateData(t){this.annotations=this.cleanData(t??[])}attachNode(t){return this.annotationRoot.append(t),()=>(this.annotationRoot?.removeChild(t),this)}setAnnotationStyles(t){this.styles=t}getAnnotationTypeStyles(t){return this.styles?.[t]}cleanData(t){for(let e of t)"textAlign"in e&&delete e.textAlign;return t}},yY=class{constructor(t){this.sceneRoot=t,this.axes=new Map,this.axisGridGroup=new fe({name:"Axes-Grids",layer:!0,zIndex:1}),this.axisGroup=new fe({name:"Axes",layer:!0,zIndex:2}),this.sceneRoot.appendChild(this.axisGroup),this.sceneRoot.appendChild(this.axisGridGroup)}updateAxes(t,e){for(let i of t)e.includes(i)||(i.detachAxis(this.axisGroup,this.axisGridGroup),i.destroy());for(let i of e)t?.includes(i)||i.attachAxis(this.axisGroup,this.axisGridGroup);this.axes.clear();for(let i of e){let n=i.createAxisContext();this.axes.has(n.direction)?this.axes.get(n.direction)?.push(n):this.axes.set(n.direction,[n])}}getAxisContext(t){return[...this.axes.get(t)??[]]}destroy(){this.axes.clear(),this.sceneRoot.removeChild(this.axisGroup),this.sceneRoot.removeChild(this.axisGridGroup)}},Yg=class extends la{constructor(t){super(),this.animationManager=t,this.dispatchOnlyLatest=!0,this.dispatchThrottle=0,this.requestThrottle=300,this.isLoadingInitialData=!1,this.isLoadingData=!1,this.freshRequests=[],this.requestCounter=0,this.debug=gt.create(!0,"data-model","data-source"),this.throttledFetch=this.createThrottledFetch(this.requestThrottle),this.throttledDispatch=this.createThrottledDispatch(this.dispatchThrottle)}updateCallback(t){typeof t=="function"&&(this.debug("DataService - updated data source callback"),this.dataSourceCallback=t,this.isLoadingInitialData=!0,this.animationManager.skip(),this.dispatch("data-source-change"))}clearCallback(){this.dataSourceCallback=void 0}load(t){this.isLoadingData=!0,this.throttledFetch(t)}isLazy(){return this.dataSourceCallback!=null}isLoading(){return this.isLazy()&&(this.isLoadingInitialData||this.isLoadingData)}createThrottledFetch(t){return sk(e=>this.fetch(e),t,{leading:!1,trailing:!0})}createThrottledDispatch(t){return sk((e,i)=>{this.debug(`DataService - dispatching 'data-load' | ${e}`),this.dispatch("data-load",{type:"data-load",data:i})},t,{leading:!0,trailing:!0})}fetch(t){return j(this,null,function*(){if(!this.dataSourceCallback)throw new Error("DataService - [dataSource.getData] callback not initialised");let e=performance.now(),i=this.requestCounter++;this.debug(`DataService - requesting | ${i}`),this.freshRequests.push(i);let n;try{n=yield this.dataSourceCallback(t),this.debug(`DataService - response | ${performance.now()-e}ms | ${i}`)}catch(o){this.debug(`DataService - request failed | ${i}`),Y.errorOnce(`DataService - request failed | [${o}]`)}this.isLoadingInitialData=!1;let r=this.freshRequests.findIndex(o=>o===i);if(r===-1||this.dispatchOnlyLatest&&r!==this.freshRequests.length-1){this.debug(`DataService - discarding stale request | ${i}`);return}this.freshRequests=this.freshRequests.slice(r+1),this.freshRequests.length===0&&(this.isLoadingData=!1),Array.isArray(n)?this.throttledDispatch(i,n):this.dispatch("data-error")})}};y([Yi({newValue(t){this.throttledDispatch=this.createThrottledDispatch(t)}})],Yg.prototype,"dispatchThrottle",2);y([Yi({newValue(t){this.throttledFetch=this.createThrottledFetch(t)}})],Yg.prototype,"requestThrottle",2);var bY=`.ag-charts-wrapper,.ag-charts-wrapper:focus,.ag-charts-wrapper:after,.ag-charts-wrapper:before,.ag-charts-wrapper *,.ag-charts-wrapper *:focus,.ag-charts-wrapper *:after,.ag-charts-wrapper *:before{box-sizing:border-box;outline:none}.ag-charts-wrapper{position:relative}.ag-charts-canvas-center{width:100%;height:100%;position:absolute;touch-action:auto;display:flex;align-items:var(--ag-charts-align);justify-content:var(--ag-charts-justify)}.ag-charts-canvas-container,.ag-charts-canvas{position:relative}.ag-charts-canvas-container>*,.ag-charts-canvas>*{display:block}.ag-charts-canvas-proxy{position:absolute;top:0;left:0;opacity:0;pointer-events:none}.ag-charts-tab-guard{width:0;height:0;opacity:0}.ag-charts-canvas-overlay{pointer-events:none;position:absolute;inset:0}.ag-charts-canvas-overlay>*{position:absolute;pointer-events:auto}.ag-charts-theme-default,.ag-charts-theme-default-dark{--ag-charts-active-color: var(--ag-active-color, #2196f3);--ag-charts-background-color: var(--ag-background-color, #fff);--ag-charts-foreground-color: var(--ag-foreground-color, #181d1f);--ag-charts-border-color: var(--ag-border-color, #dddddd);--ag-charts-font-family: "Verdana", sans-serif;--ag-charts-font-size: var(--ag-font-size, 14px);--ag-charts-size: var(--ag-grid-size, 8px);--ag-charts-border: var(--ag-charts-border-color) var(--ag-borders, solid 1px);--ag-charts-border-critical: var(--ag-borders-critical, solid 1px);--ag-charts-layer-ui-overlay: 5;--ag-charts-layer-tooltip: 4;--ag-charts-layer-toolbar: 3;--ag-charts-layer-crosshair: 2;--ag-charts-layer-annotations: 1;--ag-charts-align: center;--ag-charts-justify: center;--ag-charts-axis-label-background-color: #474747;--ag-charts-axis-label-color: #ffffff;--ag-charts-toolbar-foreground-color: var(--ag-header-foreground-color, var(--ag-charts-foreground-color));--ag-charts-toolbar-background-color: var( --ag-header-background-color, color-mix(in srgb, var(--ag-charts-background-color), var(--ag-charts-foreground-color) 2%) );--ag-charts-toolbar-size: 34px;--ag-charts-toolbar-size-small: 24px;--ag-charts-toolbar-border: var(--ag-charts-border-critical, solid 1px) var(--ag-charts-border-color);--ag-charts-toolbar-hover-color: color-mix( in srgb, var(--ag-charts-background-color), var(--ag-charts-active-color) 12% );--ag-charts-toolbar-focus-color: var(--ag-charts-active-color);--ag-charts-toolbar-active-background-color: var(--ag-charts-toolbar-hover-color);--ag-charts-toolbar-active-color: var(--ag-charts-active-color);--ag-charts-toolbar-disabled-foreground-color: var( --ag-disabled-foreground-color, color-mix(in srgb, transparent, var(--ag-charts-toolbar-foreground-color) 50%) );--ag-charts-toolbar-disabled-background-color: color-mix( in srgb, var(--ag-charts-toolbar-background-color), var(--ag-charts-toolbar-foreground-color) 6% );--ag-charts-toolbar-gap: var(--ag-charts-size);--ag-charts-toolbar-font-size: 13px;--ag-charts-toolbar-font-size-small: 12px;--ag-charts-toolbar-button-padding: 6px;--ag-charts-toolbar-button-padding-small: 1px;--ag-charts-popover-background-color: var(--ag-charts-toolbar-background-color);--ag-charts-popover-foreground-color: var(--ag-charts-toolbar-foreground-color);--ag-charts-popover-border: var(--ag-charts-toolbar-border);--ag-charts-popover-active-color: var(--ag-charts-toolbar-active-color);--ag-charts-popover-hover-color: var(--ag-charts-toolbar-hover-color);--ag-charts-popover-active-background-color: var(--ag-charts-toolbar-active-background-color);--ag-charts-popover-font-size-small: var(--ag-charts-toolbar-font-size-small);--ag-charts-button-radius: var(--ag-border-radius, 4px);--ag-charts-focus-border-color: var(--ag-input-focus-border-color, var(--ag-charts-active-color));--ag-charts-focus-border: solid 1px var(--ag-charts-focus-border-color);--ag-charts-focus-border-shadow: var( --ag-input-focus-box-shadow, 0 0 0 3px color-mix(in srgb, transparent, var(--ag-input-focus-border-color, var(--ag-charts-active-color)) 20%) );--ag-charts-icon-font-family: "agChartsDefault";--ag-charts-icon-font-weight: normal;--ag-charts-icon-font-color: color-mix(in srgb, transparent, var(--ag-charts-foreground-color), 90%);--ag-charts-icon-size: 20px;--ag-charts-text-annotations-placeholder: #888888}.ag-charts-theme-default-dark{--ag-charts-background-color: var(--ag-background-color, color-mix(in srgb, #fff, #182230 97%));--ag-charts-foreground-color: var(--ag-foreground-color, #fff);--ag-charts-border-color: var(--ag-border-color, rgba(255, 255, 255, .16));--ag-charts-hover-color: var( --ag-row-hover-color, color-mix(in srgb, transparent, var(--ag-charts-active-color) 20%) );--ag-charts-axis-label-background-color: #9caebb;--ag-charts-axis-label-color: #000000;--ag-charts-toolbar-background-color: var(--ag-header-background-color, color-mix(in srgb, #fff, #182230 93%));--ag-charts-toolbar-hover-color: color-mix( in srgb, var(--ag-charts-background-color), var(--ag-charts-active-color) 18% );--ag-charts-focus-border-shadow: var( --ag-input-focus-box-shadow, 0 0 0 3px color-mix(in srgb, transparent, var(--ag-input-focus-border-color, var(--ag-charts-active-color)) 20%) );--ag-charts-text-annotations-placeholder: #aaaaaa}.ag-charts-icon{display:block;width:var(--ag-charts-icon-size);height:var(--ag-charts-icon-size);speak:none;speak:never;mask:var(--icon) center / contain no-repeat;background-color:currentColor;transition:background-color .25s ease-in-out}.ag-charts-icon-callout-annotation{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMyA0LjVBMS41IDEuNSAwIDAgMSA0LjUgM2gxMUExLjUgMS41IDAgMCAxIDE3IDQuNXY4YTEuNSAxLjUgMCAwIDEtMS41IDEuNWgtNC41MTRhMjYgMjYgMCAwIDAtMi4wMTcgMS41NGwtLjMxNC4yNmMtLjU1LjQ1Ny0xLjExNS45MjYtMS43NiAxLjQtLjY2OS40OTEtMS41NjItLjAxMi0xLjU2Mi0uOFYxNEg0LjVBMS41IDEuNSAwIDAgMSAzIDEyLjV6TTQuNSA0YS41LjUgMCAwIDAtLjUuNXY4YS41LjUgMCAwIDAgLjUuNWgxLjgzM3YzLjM3MmEzNiAzNiAwIDAgMCAxLjY3OC0xLjMzOGwuMzItLjI2NWEyNiAyNiAwIDAgMSAyLjIyNS0xLjY4NWwuMTI2LS4wODRIMTUuNWEuNS41IDAgMCAwIC41LS41di04YS41LjUgMCAwIDAtLjUtLjV6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-candlestick-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNyAxdjNoMnYxMkg3djNINnYtM0g0VjRoMlYxek01IDVoM3YxMEg1ek0xMSAxNFY2aDJWMy4yNWgxVjZoMnY4aC0ydjIuNzVoLTFWMTR6bTEtN2gzdjZoLTN6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-comment-annotation{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNy41MTMgMy45OTVhNi41IDYuNSAwIDAgMSA2LjA5OCAxMS40MWMtLjU4OC4zOTMtMS4yMTcuNTM2LTEuODI5LjU4NWExMyAxMyAwIDAgMS0xLjI3LjAxN0EyNyAyNyAwIDAgMCAxMCAxNkg0LjVhLjUuNSAwIDAgMS0uNS0uNVYxMHEwLS4yNDctLjAwNy0uNTEzYy0uMDA4LS40MTYtLjAxNi0uODU3LjAxNy0xLjI2OS4wNS0uNjEyLjE5Mi0xLjI0LjU4NS0xLjgzYTYuNSA2LjUgMCAwIDEgMi45MTgtMi4zOTNtMy41Ni42MWE1LjUgNS41IDAgMCAwLTUuNjQ2IDIuMzRjLS4yNjYuMzk3LS4zNzkuODQyLS40MiAxLjM1NC0uMDMuMzYtLjAyMi43MTgtLjAxNSAxLjEwOFE1IDkuNjg5IDUgMTB2NWg1cS4zMTEuMDAxLjU5My4wMDhjLjM5LjAwNy43NDcuMDE1IDEuMTA4LS4wMTUuNTEyLS4wNDEuOTU3LS4xNTQgMS4zNTUtLjQyYTUuNSA1LjUgMCAwIDAtMS45ODMtOS45NjciIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-crosshair-add-line{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZD0iTTEwIDUuNWEuNS41IDAgMCAxIC41LjV2My41aDMuODc1YS41LjUgMCAwIDEgMCAxSDEwLjV2NC4yNWEuNS41IDAgMSAxLTEgMFYxMC41SDUuNjI1YS41LjUgMCAxIDEgMC0xSDkuNVY2YS41LjUgMCAwIDEgLjUtLjUiLz48L3N2Zz4=)}.ag-charts-icon-delete{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZD0iTTguNDk2IDguOTk2QS41LjUgMCAwIDEgOSA5LjQ5MnY0YS41LjUgMCAxIDEtMSAuMDA4di00YS41LjUgMCAwIDEgLjQ5Ni0uNTA0TTEyIDkuNWEuNS41IDAgMCAwLTEgMHY0YS41LjUgMCAwIDAgMSAweiIvPjxwYXRoIGZpbGw9IiMxMzE3MjIiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTYgNVYzLjVBMi41IDIuNSAwIDAgMSA4LjUgMWgzQTIuNSAyLjUgMCAwIDEgMTQgMy41VjVoMi44MzNhLjUuNSAwIDAgMSAwIDFIMTV2MTAuMjVjMCAuNDE1LS4wNjYuODYzLS4zIDEuMjIxLS4yNTcuMzk0LS42NzIuNjEyLTEuMi42MTJoLTdjLS41MjggMC0uOTQzLS4yMTgtMS4yLS42MTItLjIzNC0uMzU4LS4zLS44MDYtLjMtMS4yMjFWNkgzLjMzM2EuNS41IDAgMCAxIDAtMXptMS0xLjVBMS41IDEuNSAwIDAgMSA4LjUgMmgzQTEuNSAxLjUgMCAwIDEgMTMgMy41VjVIN3pNNiAxNi4yNVY2aDh2MTAuMjVjMCAuMzM1LS4wNTkuNTU0LS4xMzguNjc1LS4wNTUuMDg1LS4xNC4xNTgtLjM2Mi4xNThoLTdjLS4yMjIgMC0uMzA3LS4wNzMtLjM2Mi0uMTU4LS4wOC0uMTIxLS4xMzgtLjM0LS4xMzgtLjY3NSIgY2xpcC1ydWxlPSJldmVub2RkIi8+PC9zdmc+)}.ag-charts-icon-disjoint-channel,.ag-charts-icon-disjoint-channel-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTkuMDI4IDE3LjQ2YTIuMjUgMi4yNSAwIDAgMC00LjA5Mi0xLjg1bC05LjUxMS0yLjM3OGEyLjI1IDIuMjUgMCAxIDAtLjIyNS45NzRsOS40NzUgMi4zNjlhMi4yNTEgMi4yNTEgMCAwIDAgNC4zNTMuODg2bS0xLjY2Mi0xLjk2NWExLjI1IDEuMjUgMCAxIDEtLjg4NSAyLjMzOCAxLjI1IDEuMjUgMCAwIDEgLjg4NS0yLjMzOE00LjM0MyAxMy42NjlhMS4yNSAxLjI1IDAgMSAwLTIuMzM4LS44ODUgMS4yNSAxLjI1IDAgMCAwIDIuMzM4Ljg4NU0zLjk3IDguNzY5YTIuMjUgMi4yNSAwIDAgMCAxLjQ1NS0yLjExbDkuNTExLTIuMzc4YTIuMjUgMi4yNSAwIDEgMC0uMjYtLjk2NUw1LjIgNS42ODVhMi4yNSAyLjI1IDAgMSAwLTEuMjMgMy4wODRtLjM3My0yLjU0N2ExLjI1IDEuMjUgMCAxIDEtMi4zMzguODg1IDEuMjUgMS4yNSAwIDAgMSAyLjMzOC0uODg1bTEzLjc1LTMuNDM4YTEuMjUgMS4yNSAwIDEgMS0yLjMzOC44ODUgMS4yNSAxLjI1IDAgMCAxIDIuMzM4LS44ODUiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-hollow-candlestick-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1vcGFjaXR5PSIuMTUiIGQ9Ik01IDVoM3YxMEg1eiIvPjxwYXRoIGZpbGw9IiMxMzE3MjIiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTcgMXYzaDJ2MTJIN3YzSDZ2LTNINFY0aDJWMXpNNSA1aDN2MTBINXptNyAyaDN2NmgtM3ptLTEgN1Y2aDJWMy4yNWgxVjZoMnY4aC0ydjIuNzVoLTFWMTR6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-horizontal-line,.ag-charts-icon-horizontal-line-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNLjUgOS41aDcuMzA2YTIuMjUgMi4yNSAwIDAgMSA0LjM4OCAwSDE5LjV2MWgtNy4zMDZhMi4yNSAyLjI1IDAgMCAxLTQuMzg4IDBILjV6bTkuNSAxLjc1YTEuMjUgMS4yNSAwIDEgMCAwLTIuNSAxLjI1IDEuMjUgMCAwIDAgMCAyLjUiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-line-color{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTQuMjQyIDIuNzIyYy0uNjEyIDAtMS4yLjI0My0xLjYzMi42NzVsLTEuMzQzIDEuMzQ0YS41LjUgMCAwIDAtLjExMi4xMTJMNC4wNSAxMS45NTljLS4yMDcuMjA3LS4zNi40Ni0uNDQ2Ljc0di4wMDFsLS42OSAyLjc2N3YuMDAyYS44Mi44MiAwIDAgMCAxLjAyMiAxLjAyMWguMDAybDIuNjM0LS44MjJjLjI4LS4wODUuNTM0LS4yMzcuNzQtLjQ0M2w3LjEwNy03LjEwOGEuNS41IDAgMCAwIC4xMTItLjExMmwxLjM0My0xLjM0M2EyLjMwOCAyLjMwOCAwIDAgMC0xLjYzMi0zLjk0TTE0LjEyMiA3bDEuMDQ0LTEuMDQ1YTEuMzA4IDEuMzA4IDAgMSAwLTEuODQ5LTEuODVMMTIuMjcxIDUuMTV6bS0yLjU1OC0xLjE0Mi02LjgwNyA2LjgwOWEuOC44IDAgMCAwLS4xOTYuMzI1bC0uNzUgMi40NjggMi40Ny0uNzQ5YS44LjggMCAwIDAgLjMyNS0uMTk0bDYuODA4LTYuODF6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-line-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJtMTcuMzYyIDQuODczLTQuNTk0IDYuNjU0LTQuODUtMy4zMTctNC4yNTEgNi45NzctLjg1NC0uNTJMNy42MTIgNi43OWw0Ljg5OSAzLjM1IDQuMDI4LTUuODM2eiIgY2xpcC1ydWxlPSJldmVub2RkIi8+PC9zdmc+)}.ag-charts-icon-line-with-markers-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJtMTguMTk4IDQuODg4LTMuNTU2IDQuOTE4YTIuMjUgMi4yNSAwIDEgMS0zLjg2Ni43NWwtMS40MzItLjlhMi4yNCAyLjI0IDAgMCAxLTIuMDA5LjQzNWwtMy44MjggNi40MjgtLjg2LS41MTJMNi40NSA5LjYyM2EyLjI1IDIuMjUgMCAxIDEgMy41MS0uNzYxbDEuMzI5LjgzNWEyLjI0IDIuMjQgMCAwIDEgMi41NTctLjQ5N2wzLjU0Mi00Ljg5OHptLTQuOTYgNS4xNTNhMS4yNSAxLjI1IDAgMSAwLS42NCAyLjQxOSAxLjI1IDEuMjUgMCAwIDAgLjY0LTIuNDE5TTkuMSA4LjMyMXEuMDY2LS4xOTIuMDY3LS40MDRhMS4yNSAxLjI1IDAgMSAwLS4wNjcuNDA0IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-lock,.ag-charts-icon-locked{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTAuMjA3IDMuNzY0YTIuODk0IDIuODk0IDAgMCAwLTIuODk1IDIuODk0VjloNS43ODlWNi42NThhMi44OTQgMi44OTQgMCAwIDAtMi44OTUtMi44OTRNMTQuMSA5VjYuNjU4YTMuODk0IDMuODk0IDAgMSAwLTcuNzg5IDB2Mi4zNDlBMi41IDIuNSAwIDAgMCA0IDExLjV2M0EyLjUgMi41IDAgMCAwIDYuNSAxN2g4YTIuNSAyLjUgMCAwIDAgMi41LTIuNXYtM0EyLjUgMi41IDAgMCAwIDE0LjUgOXpNNi41IDEwQTEuNSAxLjUgMCAwIDAgNSAxMS41djNBMS41IDEuNSAwIDAgMCA2LjUgMTZoOGExLjUgMS41IDAgMCAwIDEuNS0xLjV2LTNhMS41IDEuNSAwIDAgMC0xLjUtMS41eiIgY2xpcC1ydWxlPSJldmVub2RkIi8+PC9zdmc+)}.ag-charts-icon-note-annotation{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMyA0LjVBMS41IDEuNSAwIDAgMSA0LjUgM2gxMUExLjUgMS41IDAgMCAxIDE3IDQuNXY4YTEuNSAxLjUgMCAwIDEtMS41IDEuNWgtMy4yMWwtMS40NjkgMi41N2ExIDEgMCAwIDEtMS42ODIuMDg1TDcuMjQzIDE0SDQuNUExLjUgMS41IDAgMCAxIDMgMTIuNXpNNC41IDRhLjUuNSAwIDAgMC0uNS41djhhLjUuNSAwIDAgMCAuNS41aDMuMjU3bDIuMTk2IDMuMDc0TDExLjcxIDEzaDMuNzlhLjUuNSAwIDAgMCAuNS0uNXYtOGEuNS41IDAgMCAwLS41LS41eiIgY2xpcC1ydWxlPSJldmVub2RkIi8+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNi41IDYuNUEuNS41IDAgMCAxIDcgNmg2YS41LjUgMCAwIDEgMCAxSDdhLjUuNSAwIDAgMS0uNS0uNU02LjUgOS41QS41LjUgMCAwIDEgNyA5aDZhLjUuNSAwIDAgMSAwIDFIN2EuNS41IDAgMCAxLS41LS41IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-ohlc-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZD0iTTEzIDExaC0zdi0xaDNWM2gxdjJoNHYxaC00djExaC0xek02IDE3di0yaDN2LTFINlY0SDV2MUgydjFoM3YxMXoiLz48L3N2Zz4=)}.ag-charts-icon-fill-color{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJtOC4wNzEgNC4wNi0uOTI0LS45MjQuNzA3LS43MDcgNy4yODggNy4yODgtNC45NSA0Ljk1YTMuNSAzLjUgMCAwIDEtNC45NSAwbC0xLjQxNC0xLjQxNGEzLjUgMy41IDAgMCAxIDAtNC45NXptLjcwNy43MDhMNC41MzYgOS4wMWEyLjUgMi41IDAgMCAwIDAgMy41MzZMNS45NSAxMy45NmEyLjUgMi41IDAgMCAwIDMuNTM1IDBsNC4yNDMtNC4yNDN6bTYuOSA3LjIwMi0uMzQ1LjM2My0uMzQ0LS4zNjNhLjUuNSAwIDAgMSAuNjg4IDBtLS4zNDUgMS4wOGE4IDggMCAwIDAtLjI4LjMyMyA0LjMgNC4zIDAgMCAwLS40MDkuNTgyYy0uMTEzLjIwMS0uMTQ0LjMyNi0uMTQ0LjM3OGEuODMzLjgzMyAwIDAgMCAxLjY2NyAwYzAtLjA1Mi0uMDMxLS4xNzctLjE0NC0uMzc4YTQuMyA0LjMgMCAwIDAtLjQxLS41ODIgOCA4IDAgMCAwLS4yOC0uMzIybS0uMzQ0LTEuMDguMzQ0LjM2My4zNDQtLjM2My4wMDIuMDAyLjAwNC4wMDQuMDEzLjAxMmE2IDYgMCAwIDEgLjIwNi4yMDhjLjEzMS4xMzYuMzA4LjMyNy40ODUuNTQ1LjE3Ni4yMTUuMzYzLjQ2Ny41MDcuNzI0LjEzNy4yNDMuMjczLjU1My4yNzMuODY4YTEuODMzIDEuODMzIDAgMSAxLTMuNjY3IDBjMC0uMzE1LjEzNi0uNjI1LjI3My0uODY4LjE0NC0uMjU3LjMzLS41MDkuNTA3LS43MjRhOSA5IDAgMCAxIC42NDUtLjcwOGwuMDQ2LS4wNDUuMDEzLS4wMTIuMDA0LS4wMDR6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-pan-end{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZD0ibTYuNjQ2IDEzLjgxMy0uMzUzLjM1NC43MDcuNzA3LjM1NC0uMzU0ek0xMS4xNjYgMTBsLjM1NC4zNTQuMzU0LS4zNTQtLjM1NC0uMzU0ek03LjM1NSA1LjQ4IDcgNS4xMjZsLS43MDcuNzA3LjM1My4zNTR6bTAgOS4wNCA0LjE2Ni00LjE2Ni0uNzA3LS43MDgtNC4xNjcgNC4xNjd6bTQuMTY2LTQuODc0TDcuMzU0IDUuNDhsLS43MDguNzA3IDQuMTY3IDQuMTY3ek0xMy4wODMgNXYxMGgxVjV6Ii8+PC9zdmc+)}.ag-charts-icon-pan-left{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTIuNzkgNS44MzMgOC42MjUgMTBsNC4xNjYgNC4xNjctLjcwNy43MDdMNy4yMSAxMGw0Ljg3My00Ljg3NHoiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-pan-right{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNy4yMSAxNC4xNjcgMTEuMzc2IDEwIDcuMjEgNS44MzNsLjcwNy0uNzA3TDEyLjc5IDEwbC00Ljg3MyA0Ljg3NHoiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-pan-start{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZD0iTTYgNXYxMGgxVjV6TTkuNjI0IDEwbDQuMTY2LTQuMTY3LS43MDctLjcwN0w4LjIxIDEwbDQuODc0IDQuODc0LjcwNy0uNzA3eiIvPjwvc3ZnPg==)}.ag-charts-icon-parallel-channel,.ag-charts-icon-parallel-channel-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTcuNzIgNS4zMzFBMi4yNSAyLjI1IDAgMSAwIDE0LjcwNSAzLjZsLTkuNDkgNC41NjJhMi4yNSAyLjI1IDAgMSAwIC4yMDkgMS4wMWw5LjY2Mi00LjY0NmEyLjI1IDIuMjUgMCAwIDAgMi42MzQuODA1bS4zNzMtMi41NDdhMS4yNSAxLjI1IDAgMSAxLTIuMzM4Ljg4NSAxLjI1IDEuMjUgMCAwIDEgMi4zMzgtLjg4NU00LjM0MyA4LjY3YTEuMjUgMS4yNSAwIDEgMS0yLjMzOC44ODUgMS4yNSAxLjI1IDAgMCAxIDIuMzM4LS44ODVNNS4zMDcgMTYuNzI4YTIuMjUgMi4yNSAwIDEgMS0uNTI1LS44NThsOS45MjMtNC43N2EyLjI1IDIuMjUgMCAxIDEgLjM4MS45MjZ6bS0uOTY0LjI3NGExLjI1IDEuMjUgMCAxIDEtMi4zMzguODg1IDEuMjUgMS4yNSAwIDAgMSAyLjMzOC0uODg1bTEzLjAyMy01LjEwNmExLjI1IDEuMjUgMCAxIDAtLjg4NS0yLjMzOSAxLjI1IDEuMjUgMCAwIDAgLjg4NSAyLjMzOSIgY2xpcC1ydWxlPSJldmVub2RkIi8+PC9zdmc+)}.ag-charts-icon-price-label-annotation{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNC41IDNBMS41IDEuNSAwIDAgMCAzIDQuNVYxM2ExLjUgMS41IDAgMCAwIDEuNSAxLjVoLjgzM3YuMDU3Yy4yNDItLjI5OS41OTctLjUwMyAxLS41NDhWMTMuNUg0LjVBLjUuNSAwIDAgMSA0IDEzVjQuNWEuNS41IDAgMCAxIC41LS41aDExYS41LjUgMCAwIDEgLjUuNXY4YS41LjUgMCAwIDEtLjUuNWgtNC44MThsLS4xMjYuMDg0YTI2IDI2IDAgMCAwLTIuMjI1IDEuNjg1bC0uMzIuMjY1LS4wNjguMDU2YTEuNSAxLjUgMCAwIDEtMi42MDkgMS4zNTRjLjAzMy43NjMuOTA1IDEuMjM4IDEuNTYuNzU2LjY0Ni0uNDc0IDEuMjEtLjk0MyAxLjc2MS0xLjRsLjMxMy0uMjZBMjYgMjYgMCAwIDEgMTAuOTg2IDE0SDE1LjVhMS41IDEuNSAwIDAgMCAxLjUtMS41di04QTEuNSAxLjUgMCAwIDAgMTUuNSAzeiIgY2xpcC1ydWxlPSJldmVub2RkIi8+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNOC43MTYgMTQuODE1YTIuMjUgMi4yNSAwIDEgMS00LjIxIDEuNTkzIDIuMjUgMi4yNSAwIDAgMSA0LjIxLTEuNTkzbS0xLjY2MiAxLjk2NmExLjI1IDEuMjUgMCAxIDAtLjg4NS0yLjMzOSAxLjI1IDEuMjUgMCAwIDAgLjg4NSAyLjMzOSIgY2xpcC1ydWxlPSJldmVub2RkIi8+PC9zdmc+)}.ag-charts-icon-reset{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTIuMDQgNC40NDVhNS44MSA1LjgxIDAgMCAwLTcuMjU3IDIuNDUzLjUuNSAwIDAgMS0uODY1LS41MDJBNi44MSA2LjgxIDAgMSAxIDMgOS44MTNhLjUuNSAwIDAgMSAxIDAgNS44MSA1LjgxIDAgMSAwIDguMDQtNS4zNjgiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjxwYXRoIGZpbGw9IiMwMDAiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTQuMjg5IDMuMDAyYS41LjUgMCAwIDEgLjUuNXYyLjY1NWgyLjY1NWEuNS41IDAgMCAxIDAgMUg0LjI5YS41LjUgMCAwIDEtLjUtLjVWMy41MDJhLjUuNSAwIDAgMSAuNS0uNSIgY2xpcC1ydWxlPSJldmVub2RkIi8+PC9zdmc+)}.ag-charts-icon-step-line-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzE4MUQxRiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNiA0aDV2OGgzVjhoNXYxaC00djRoLTVWNUg3djEwSDJ2LTFoNHoiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-text-annotation{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik00IDRIMTZWN0gxNVY1SDEwLjVWMTVIMTRWMTZINlYxNUg5LjVWNUg1VjdINFY0WiIgZmlsbD0iYmxhY2siLz4KPC9zdmc+Cg==)}.ag-charts-icon-trend-line,.ag-charts-icon-trend-line-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNS4zMTQgMTAuOTM4YTIuMjUgMi4yNSAwIDEgMSAuMDEtMWg5LjM1MmEyLjI1IDIuMjUgMCAxIDEgLjAxIDF6bS0yLjE4OS43MjlhMS4yNSAxLjI1IDAgMSAwIDAtMi41IDEuMjUgMS4yNSAwIDAgMCAwIDIuNW0xMy43NSAwYTEuMjUgMS4yNSAwIDEgMCAwLTIuNSAxLjI1IDEuMjUgMCAwIDAgMCAyLjUiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-unlock,.ag-charts-icon-unlocked{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTAuNjUxIDMuNWEyLjg5NCAyLjg5NCAwIDAgMC0yLjg5NCAyLjg5NFY5SDE0LjVhMi41IDIuNSAwIDAgMSAyLjUgMi41djNhMi41IDIuNSAwIDAgMS0yLjUgMi41aC04QTIuNSAyLjUgMCAwIDEgNCAxNC41di0zQTIuNSAyLjUgMCAwIDEgNi41IDloLjI1N1Y2LjM5NGEzLjg5NCAzLjg5NCAwIDEgMSA3Ljc4OSAwIC41LjUgMCAwIDEtMSAwQTIuODk0IDIuODk0IDAgMCAwIDEwLjY1IDMuNU02LjUgMTBBMS41IDEuNSAwIDAgMCA1IDExLjV2M0ExLjUgMS41IDAgMCAwIDYuNSAxNmg4YTEuNSAxLjUgMCAwIDAgMS41LTEuNXYtM2ExLjUgMS41IDAgMCAwLTEuNS0xLjV6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-vertical-line,.ag-charts-icon-vertical-line-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTAuNSA3LjgwNmEyLjI1IDIuMjUgMCAwIDEgMCA0LjM4OFYxOS41aC0xdi03LjMwNmEyLjI1IDIuMjUgMCAwIDEgMC00LjM4OFYuNWgxem0tLjUuOTQ0YTEuMjUgMS4yNSAwIDEgMSAwIDIuNSAxLjI1IDEuMjUgMCAwIDEgMC0yLjUiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-zoom-in{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZD0iTTEwIDUuNWEuNS41IDAgMCAxIC41LjV2My41aDMuODc1YS41LjUgMCAwIDEgMCAxSDEwLjV2NC4yNWEuNS41IDAgMSAxLTEgMFYxMC41SDUuNjI1YS41LjUgMCAxIDEgMC0xSDkuNVY2YS41LjUgMCAwIDEgLjUtLjUiLz48L3N2Zz4=)}.ag-charts-icon-zoom-out{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNS41IDEwYS41LjUgMCAwIDEgLjUtLjVoOGEuNS41IDAgMCAxIDAgMUg2YS41LjUgMCAwIDEtLjUtLjUiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-high-low-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNyA0aDJ2MTJINFY0aDNNNSA1aDN2MTBINXpNMTEgMTRWNmg1djhoLTVtMS03aDN2NmgtM3oiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-hlc-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJtMTguMTYzIDEuODM3LTUuMzM0IDExLjYyMUw2Ljk1NyA4LjEybC00LjE5OSA5LjYyMi0uOTE2LS40IDQuNzU2LTEwLjlMMTIuNDkgMTEuOCAxNy4yNTQgMS40MnoiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjxwYXRoIGZpbGw9IiMwMDAiIGZpbGwtb3BhY2l0eT0iLjQiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTUuODI1IDIuNzA0LjU1IDEzLjc4NWwuOTAyLjQzIDQuNzI0LTkuOTE5IDYuMDM0IDUuMDI5IDMuMjU1LTguMTQtLjkyOC0uMzctMi43NDUgNi44NnptNy44NTIgMTQuNjM2IDUuNzgtMTMuMTM5LS45MTUtLjQwMi01LjIxOSAxMS44Ni02LjAwNS01LjUwNC0zLjI3OCA3LjY0OC45Mi4zOTQgMi43MjItNi4zNTJ6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-zoom-in-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik04Ljc1IDQuNWEuNzUuNzUgMCAwIDAtMS41IDB2Mi43NUg0LjVhLjc1Ljc1IDAgMCAwIDAgMS41aDIuNzV2Mi43NWEuNzUuNzUgMCAwIDAgMS41IDBWOC43NWgyLjc1YS43NS43NSAwIDAgMCAwLTEuNUg4Ljc1VjQuNVoiIGZpbGw9IiMwMDAiLz48L3N2Zz4=)}.ag-charts-icon-zoom-out-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0zLjc1IDhhLjc1Ljc1IDAgMCAxIC43NS0uNzVoN2EuNzUuNzUgMCAwIDEgMCAxLjVoLTdBLjc1Ljc1IDAgMCAxIDMuNzUgOFoiIGZpbGw9IiMwMDAiLz48L3N2Zz4=)}.ag-charts-icon-zoom-in-alt,.ag-charts-icon-zoom-in-alt-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJsdWNpZGUgbHVjaWRlLXpvb20taW4iPjxjaXJjbGUgY3g9IjExIiBjeT0iMTEiIHI9IjgiLz48bGluZSB4MT0iMjEiIHgyPSIxNi42NSIgeTE9IjIxIiB5Mj0iMTYuNjUiLz48bGluZSB4MT0iMTEiIHgyPSIxMSIgeTE9IjgiIHkyPSIxNCIvPjxsaW5lIHgxPSI4IiB4Mj0iMTQiIHkxPSIxMSIgeTI9IjExIi8+PC9zdmc+)}.ag-charts-icon-zoom-out-alt,.ag-charts-icon-zoom-out-alt-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJsdWNpZGUgbHVjaWRlLXpvb20tb3V0Ij48Y2lyY2xlIGN4PSIxMSIgY3k9IjExIiByPSI4Ii8+PGxpbmUgeDE9IjIxIiB4Mj0iMTYuNjUiIHkxPSIyMSIgeTI9IjE2LjY1Ii8+PGxpbmUgeDE9IjgiIHgyPSIxNCIgeTE9IjExIiB5Mj0iMTEiLz48L3N2Zz4=)}.ag-charts-icon-reset-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik00LjQxMiA0LjA1OCAyLjc1IDIuMzk2VjYuNzVoLjc0NGEuNzYuNzYgMCAwIDAgLjAxMiAwaDMuNTk4TDUuNDc4IDUuMTI1YTQuMTI1IDQuMTI1IDAgMCAxIDIuNTIzLS44NzUgMy43NSAzLjc1IDAgMSAxLTMuMTE5IDUuODMzLjc1Ljc1IDAgMCAwLTEuMjQ3LjgzNEE1LjI1IDUuMjUgMCAxIDAgOCAyLjc1aC0uMDAzYTUuNjI1IDUuNjI1IDAgMCAwLTMuNTg1IDEuMzA4WiIgZmlsbD0iIzAwMCIvPjwvc3ZnPg==)}.ag-charts-icon-pan-left-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xMC4wMyA0LjQ3YS43NS43NSAwIDAgMSAwIDEuMDZMNy41NiA4bDIuNDcgMi40N2EuNzUuNzUgMCAxIDEtMS4wNiAxLjA2bC0zLTNhLjc1Ljc1IDAgMCAxIDAtMS4wNmwzLTNhLjc1Ljc1IDAgMCAxIDEuMDYgMFoiIGZpbGw9IiMwMDAiLz48L3N2Zz4=)}.ag-charts-icon-pan-right-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik01Ljk3IDExLjUzYS43NS43NSAwIDAgMSAwLTEuMDZMOC40NCA4IDUuOTcgNS41M2EuNzUuNzUgMCAwIDEgMS4wNi0xLjA2bDMgM2EuNzUuNzUgMCAwIDEgMCAxLjA2bC0zIDNhLjc1Ljc1IDAgMCAxLTEuMDYgMFoiIGZpbGw9IiMwMDAiLz48L3N2Zz4=)}.ag-charts-icon-pan-start-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJsdWNpZGUgbHVjaWRlLWNoZXZyb24tZmlyc3QiPjxwYXRoIGQ9Im0xNyAxOC02LTYgNi02Ii8+PHBhdGggZD0iTTcgNnYxMiIvPjwvc3ZnPg==)}.ag-charts-icon-pan-end-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJsdWNpZGUgbHVjaWRlLWNoZXZyb24tbGFzdCI+PHBhdGggZD0ibTcgMTggNi02LTYtNiIvPjxwYXRoIGQ9Ik0xNyA2djEyIi8+PC9zdmc+)}.ag-charts-icon-trend-line-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGNpcmNsZSBjeD0iMi41IiBjeT0iOCIgcj0iMS43NSIgc3Ryb2tlPSIjMDAwIiBzdHJva2Utd2lkdGg9IjEuNSIvPjxjaXJjbGUgY3g9IjEzLjUiIGN5PSI4IiByPSIxLjc1IiBzdHJva2U9IiMwMDAiIHN0cm9rZS13aWR0aD0iMS41Ii8+PHBhdGggc3Ryb2tlPSIjMDAwIiBzdHJva2Utd2lkdGg9IjEuNSIgZD0iTTQgOGg4Ii8+PC9zdmc+)}.ag-charts-icon-horizontal-line-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xMC4zODYgOC43NWEyLjUwMSAyLjUwMSAwIDAgMS00Ljc3MiAwSC43NWEuNzUuNzUgMCAwIDEgMC0xLjVoNC44NjRhMi41MDEgMi41MDEgMCAwIDEgNC43NzIgMGg0Ljg2NGEuNzUuNzUgMCAwIDEgMCAxLjVoLTQuODY0Wk05IDhhMSAxIDAgMSAxLTIgMCAxIDEgMCAwIDEgMiAwWiIgZmlsbD0iIzAwMCIvPjwvc3ZnPg==)}.ag-charts-icon-vertical-line-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik04Ljc1IDUuNjE0YTIuNTAxIDIuNTAxIDAgMCAxIDAgNC43NzJ2NC44NjRhLjc1Ljc1IDAgMCAxLTEuNSAwdi00Ljg2NGEyLjUwMSAyLjUwMSAwIDAgMSAwLTQuNzcyVi43NWEuNzUuNzUgMCAwIDEgMS41IDB2NC44NjRaTTggN2ExIDEgMCAxIDEgMCAyIDEgMSAwIDAgMSAwLTJaIiBmaWxsPSIjMDAwIi8+PC9zdmc+)}.ag-charts-icon-parallel-channel-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTciIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNC40MjQgNC45MmEyLjUgMi41IDAgMSAwLTMuMzc3LTIuMTRsLTYuNjMgMi45YTIuNTAxIDIuNTAxIDAgMSAwIC42MDcgMS4zNzJsNi41ODUtMi44OGEyLjUwMSAyLjUwMSAwIDAgMCAyLjgxNS43NDhabS4wNS0yLjY5M2ExIDEgMCAxIDEtMS44Ny43MDggMSAxIDAgMCAxIDEuODctLjcwOFptLTExIDQuNzVhMSAxIDAgMSAxLTEuODcuNzA4IDEgMSAwIDAgMSAxLjg3LS43MDhabTEuNTUgNi4wNzVhMi41MDEgMi41MDEgMCAxIDEtLjYwNy0xLjM3Mmw2LjYzLTIuOWEyLjUwMSAyLjUwMSAwIDEgMSAuNTYyIDEuMzkxbC02LjU4NSAyLjg4Wm0tMS41NS0uMDc1YTEgMSAwIDEgMS0xLjg3LjcwOCAxIDEgMCAwIDEgMS44Ny0uNzA4Wm0xMC40Mi0zLjQ2YTEgMSAwIDEgMC0uNzA5LTEuODcgMSAxIDAgMCAwIC43MDggMS44N1oiIGZpbGw9IiMwMDAiLz48L3N2Zz4=)}.ag-charts-icon-disjoint-channel-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTciIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNC40MjQgNC45MmEyLjUgMi41IDAgMSAwLTMuMzgzLTIuNDUzTDQuNjkgNC4wNTVhMi41IDIuNSAwIDEgMCAuMzQ0IDEuNDZsNi4zOTItMS41OThhMi41MDEgMi41MDEgMCAwIDAgMyAxLjAwM1ptLjA1LTIuNjkzYTEgMSAwIDEgMS0xLjg3LjcwOCAxIDEgMCAwIDEgMS44Ny0uNzA4Wm0tMTEgMi43NWExIDEgMCAxIDEtMS44Ny43MDggMSAxIDAgMCAxIDEuODctLjcwOFptMS41NiA1LjQyYTIuNSAyLjUgMCAxIDAtLjM0NSAxLjQ2MWw2LjM1MiAxLjU4OGEyLjUgMi41IDAgMSAwIC4zODQtMS40NWwtNi4zOTItMS41OThabS0xLjU2LjUzOGExIDEgMCAxIDAtMS44Ny0uNzA4IDEgMSAwIDAgMCAxLjg3LjcwOFptMTAuNDIgMS40NjFhMSAxIDAgMSAxLS43MDkgMS44NyAxIDEgMCAwIDEgLjcwOC0xLjg3WiIgZmlsbD0iIzAwMCIvPjwvc3ZnPg==)}.ag-charts-icon-line-color-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgY2xpcC1wYXRoPSJ1cmwoI2EpIj48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEyLjc4OC41ODNhMi42MyAyLjYzIDAgMCAwLTEuODYuNzdMOS41NDQgMi43MzhhLjc1Ny43NTcgMCAwIDAtLjE0LjE0TDIuMDMyIDEwLjI1di4wMDFjLS4yNDIuMjQxLS40Mi41MzgtLjUyLjg2NGwtLjAwMi4wMDItLjg4IDIuOTAyLS4wMDEuMDAzYTEuMDgzIDEuMDgzIDAgMCAwIDEuMzUgMS4zNDdoLjAwMWwyLjkwMi0uODhoLjAwMWMuMzI2LS4xLjYyMy0uMjc3Ljg2NS0uNTE4di0uMDAxbDcuMzc1LTcuMzc2YS43NjMuNzYzIDAgMCAwIC4xMzktLjEzOWwxLjM4NC0xLjM4NEEyLjYzIDIuNjMgMCAwIDAgMTIuNzg4LjU4M1ptLS4xMjYgNC4zNTIuOTI0LS45MjRhMS4xMyAxLjEzIDAgMCAwLTEuNTk3LTEuNTk3bC0uOTI0LjkyNCAxLjU5NyAxLjU5N1ptLTIuNjU3LS41MzYtNi45MTMgNi45MTRIMy4wOWEuNTgzLjU4MyAwIDAgMC0uMTQ2LjI0MmwtLjY1MyAyLjE1MyAyLjE1NS0uNjU0YS41ODMuNTgzIDAgMCAwIC4yNDEtLjE0NGw2LjkxNC02LjkxNC0xLjU5Ny0xLjU5N1oiIGZpbGw9IiMwMDAiLz48L2c+PGRlZnM+PGNsaXBQYXRoIGlkPSJhIj48cGF0aCBmaWxsPSIjZmZmIiBkPSJNMCAwaDE2djE2SDB6Ii8+PC9jbGlwUGF0aD48L2RlZnM+PC9zdmc+)}.ag-charts-icon-delete-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik02LjA4MyAyLjY2N2MwLS4wOS4wNTMtLjI0Mi4xOTctLjM4Ny4xNDUtLjE0NC4yOTctLjE5Ny4zODctLjE5N2gyLjY2N2MuMDg5IDAgLjI0MS4wNTMuMzg2LjE5Ny4xNDUuMTQ1LjE5Ny4yOTcuMTk3LjM4N3YuNTgzSDYuMDg0di0uNTgzWk01LjMzIDQuNzVIMTEuOTE3djguNTgzYzAgLjA5LS4wNTIuMjQyLS4xOTcuMzg3LS4xNDUuMTQ0LS4yOTcuMTk3LS4zODYuMTk3SDQuNjY3Yy0uMDkgMC0uMjQyLS4wNTMtLjM4Ny0uMTk3LS4xNDQtLjE0NS0uMTk3LS4yOTctLjE5Ny0uMzg3VjQuNzVINS4zM1ptLS43NDUtMS41di0uNTgzYzAtLjU3OC4yOC0xLjA5Mi42MzYtMS40NDcuMzU1LS4zNTYuODctLjYzNyAxLjQ0Ny0uNjM3aDIuNjY3Yy41NzcgMCAxLjA5MS4yODEgMS40NDcuNjM3LjM1NS4zNTUuNjM2Ljg3LjYzNiAxLjQ0N3YuNTgzSDE0YS43NS43NSAwIDAgMSAwIDEuNWgtLjU4M3Y4LjU4M2MwIC41NzgtLjI4MSAxLjA5Mi0uNjM2IDEuNDQ3LS4zNTYuMzU2LS44Ny42MzctMS40NDcuNjM3SDQuNjY3Yy0uNTc3IDAtMS4wOTItLjI4MS0xLjQ0Ny0uNjM3LS4zNTUtLjM1NS0uNjM3LS44Ny0uNjM3LTEuNDQ3VjQuNzVIMmEuNzUuNzUgMCAwIDEgMC0xLjVoMi41ODNabTIuMDgzIDMuMzMzYS43NS43NSAwIDAgMSAuNzUuNzV2NGEuNzUuNzUgMCAxIDEtMS41IDB2LTRhLjc1Ljc1IDAgMCAxIC43NS0uNzVabTMuNDE3Ljc1YS43NS43NSAwIDAgMC0xLjUgMHY0YS43NS43NSAwIDEgMCAxLjUgMHYtNFoiIGZpbGw9IiMwMDAiLz48L3N2Zz4=)}.ag-charts-icon-lock-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik02LjE3MyAyLjg0YTIuNTgzIDIuNTgzIDAgMCAxIDQuNDEgMS44Mjd2MS45MTZINS40MTZWNC42NjdjMC0uNjg1LjI3My0xLjM0My43NTctMS44MjdaTTMuOTE3IDYuNTgzVjQuNjY3YTQuMDgzIDQuMDgzIDAgMCAxIDguMTY2IDB2MS45MTZoLjU4NGMxLjE1IDAgMi4wODMuOTMzIDIuMDgzIDIuMDg0djQuNjY2YzAgMS4xNS0uOTMzIDIuMDg0LTIuMDgzIDIuMDg0SDMuMzMzYTIuMDgzIDIuMDgzIDAgMCAxLTIuMDgzLTIuMDg0VjguNjY3YzAtMS4xNTEuOTMzLTIuMDg0IDIuMDgzLTIuMDg0aC41ODNabTcuNDE2IDEuNWgtOGEuNTgzLjU4MyAwIDAgMC0uNTgzLjU4NHY0LjY2NmMwIC4zMjIuMjYxLjU4NC41ODMuNTg0aDkuMzM0YS41ODMuNTgzIDAgMCAwIC41ODMtLjU4NFY4LjY2N2EuNTgzLjU4MyAwIDAgMC0uNTgzLS41ODRoLTEuMzM0WiIgZmlsbD0iIzAwMCIvPjwvc3ZnPg==)}.ag-charts-icon-unlock-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTciIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik02LjkyMyAyLjg0YTIuNTgzIDIuNTgzIDAgMCAxIDMuNjUzIDAgMyAzIDAgMCAxIC41Ny43OThjLjEzNC4yNzguMTcuNDc0LjE3LjU0NWEuNzUuNzUgMCAwIDAgMS41IDBjMC0uMzgxLS4xMzItLjgwOS0uMzItMS4xOThhNC41MDEgNC41MDEgMCAwIDAtLjg1OS0xLjIwNiA0LjA4MyA0LjA4MyAwIDAgMC02Ljk3IDIuODg4djEuOTE2aC0uNTg0QzIuOTMzIDYuNTgzIDIgNy41MTYgMiA4LjY2N3Y0LjY2NmMwIDEuMTUuOTMzIDIuMDg0IDIuMDgzIDIuMDg0aDkuMzM0YzEuMTUgMCAyLjA4My0uOTMzIDIuMDgzLTIuMDg0VjguNjY3YzAtMS4xNTEtLjkzMy0yLjA4NC0yLjA4My0yLjA4NGgtNy4yNVY0LjY2N2MwLS42ODUuMjcyLTEuMzQzLjc1Ni0xLjgyN1pNNS40MTcgOC4wODNINC4wODJhLjU4My41ODMgMCAwIDAtLjU4My41ODR2NC42NjZjMCAuMzIyLjI2MS41ODQuNTgzLjU4NGg5LjMzNGEuNTgzLjU4MyAwIDAgMCAuNTgzLS41ODRWOC42NjdhLjU4My41ODMgMCAwIDAtLjU4My0uNTg0aC04WiIgZmlsbD0iIzAwMCIvPjwvc3ZnPg==)}.ag-charts-icon-plus-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJsdWNpZGUgbHVjaWRlLXBsdXMiPjxwYXRoIGQ9Ik01IDEyaDE0Ii8+PHBhdGggZD0iTTEyIDV2MTQiLz48L3N2Zz4=)}.ag-charts-icon-crossline-add-line-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNOC43NSA0LjVhLjc1Ljc1IDAgMCAwLTEuNSAwdjIuNzVINC41YS43NS43NSAwIDAgMCAwIDEuNWgyLjc1djIuNzVhLjc1Ljc1IDAgMCAwIDEuNSAwVjguNzVoMi43NWEuNzUuNzUgMCAwIDAgMC0xLjVIOC43NXoiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-focus.ag-charts-focus__indicator{position:absolute;display:block;pointer-events:none;user-select:none;width:100%;height:100%}.ag-charts-focus.ag-charts-focus__indicator>div{position:absolute;outline:var(--ag-charts-focus-border);outline-width:2px;box-shadow:var(--ag-charts-focus-border-shadow)}.ag-charts-focus.ag-charts-focus__indicator>svg{width:100%;height:100%;fill:none;stroke:var(--ag-charts-focus-border-color);stroke-width:2px}.ag-charts-focus--hidden{visibility:hidden}.ag-charts-toolbar{align-items:center;background:none;border:none;display:flex;flex-wrap:nowrap;opacity:1;position:absolute;transform:translateY(0);transition:opacity .2s ease-in-out,transform .2s ease-in-out}.ag-charts-toolbar--hidden,.ag-charts-toolbar--prevent-flash{visibility:hidden}.ag-charts-toolbar--floating-hidden{opacity:0;transition:opacity .4s ease-in-out}.ag-charts-toolbar--small{--ag-charts-toolbar-size: var(--ag-charts-toolbar-size-small);--ag-charts-toolbar-font-size: var(--ag-charts-toolbar-font-size-small);--ag-charts-toolbar-button-padding: var(--ag-charts-toolbar-button-padding-small)}.ag-charts-toolbar--top,.ag-charts-toolbar--bottom{flex-direction:row;width:100%}.ag-charts-toolbar--left,.ag-charts-toolbar--right{flex-direction:column}.ag-charts-toolbar--floating,.ag-charts-toolbar--floating-top,.ag-charts-toolbar--floating-bottom{background:none;border:none;flex-direction:row;pointer-events:none;width:100%}.ag-charts-toolbar--floating{padding:0;width:auto;z-index:var(--ag-charts-layer-toolbar)}.ag-charts-toolbar--floating-top{height:calc(var(--ag-charts-toolbar-size) + 10px);padding-top:10px}.ag-charts-toolbar--floating-bottom{height:calc(var(--ag-charts-toolbar-size) + 10px);padding-bottom:10px;overflow:hidden}.ag-charts-toolbar__align{display:flex;flex-direction:inherit;flex-wrap:inherit;gap:var(--ag-charts-toolbar-gap);max-width:100%;width:100%}.ag-charts-toolbar__align--start{justify-content:start}.ag-charts-toolbar__align--center{justify-content:center}.ag-charts-toolbar__align--end{justify-content:end}.ag-charts-toolbar__align--center,.ag-charts-toolbar__align--end{margin-left:auto}.ag-charts-toolbar--left .ag-charts-toolbar__align--center,.ag-charts-toolbar--left .ag-charts-toolbar__align--end,.ag-charts-toolbar--right .ag-charts-toolbar__align--center,.ag-charts-toolbar--right .ag-charts-toolbar__align--end{margin-left:0;margin-top:auto}.ag-charts-toolbar--floating-top .ag-charts-toolbar__align,.ag-charts-toolbar--floating-bottom .ag-charts-toolbar__align{transition:transform .4s ease-in-out;width:auto}.ag-charts-toolbar__section{display:inherit;flex-direction:inherit;flex-wrap:inherit;justify-content:inherit;max-width:inherit;width:inherit}.ag-charts-toolbar__button{--transition: background-color .25s ease-in-out, border-color .25s ease-in-out, color .25s ease-in-out;align-items:center;background:var(--ag-charts-toolbar-background-color);border:var(--ag-charts-toolbar-border);color:var(--ag-charts-toolbar-foreground-color);display:flex;font:var(--ag-charts-toolbar-font-size) var(--ag-charts-font-family);justify-content:center;margin:0 0 0 -1px;min-height:var(--ag-charts-toolbar-size);min-width:var(--ag-charts-toolbar-size);padding:var(--ag-charts-toolbar-button-padding);pointer-events:all;position:relative;transition:var(--transition);white-space:nowrap}.ag-charts-toolbar__button[data-toolbar-group=ranges]{padding:var(--ag-charts-toolbar-button-padding) calc(var(--ag-charts-toolbar-button-padding) * 1.5)}.ag-charts-toolbar--top,.ag-charts-toolbar--bottom,.ag-charts-toolbar--floating,.ag-charts-toolbar--floating-top,.ag-charts-toolbar--floating-bottom{.ag-charts-toolbar__button:nth-child(1 of:not(.ag-charts-toolbar__button--hidden-toggled)){border-bottom-left-radius:var(--ag-charts-button-radius);border-top-left-radius:var(--ag-charts-button-radius);margin:0}.ag-charts-toolbar__button:nth-last-child(1 of:not(.ag-charts-toolbar__button--hidden-toggled)){border-bottom-right-radius:var(--ag-charts-button-radius);border-top-right-radius:var(--ag-charts-button-radius)}}.ag-charts-toolbar--left,.ag-charts-toolbar--right{.ag-charts-toolbar__button{border-radius:0;margin:-1px 0 0;max-width:100%}.ag-charts-toolbar__button:nth-child(1 of:not(.ag-charts-toolbar__button--hidden-toggled)){border-top-left-radius:var(--ag-charts-button-radius);border-top-right-radius:var(--ag-charts-button-radius);margin:0}.ag-charts-toolbar__button:nth-last-child(1 of:not(.ag-charts-toolbar__button--hidden-toggled)){border-bottom-left-radius:var(--ag-charts-button-radius);border-bottom-right-radius:var(--ag-charts-button-radius)}}.ag-charts-toolbar__button--hidden-value,.ag-charts-toolbar__button--hidden-toggled{display:none}.ag-charts-toolbar__button:hover{background:var(--ag-charts-toolbar-hover-color);z-index:1}.ag-charts-toolbar__button:focus-visible{border-color:var(--ag-charts-toolbar-focus-color);box-shadow:var(--ag-charts-focus-border-shadow);z-index:3}.ag-charts-toolbar__button.ag-charts-toolbar__button--active{background:var(--ag-charts-toolbar-active-background-color);border-color:var(--ag-charts-toolbar-active-color);color:var(--ag-charts-toolbar-active-color);z-index:2}.ag-charts-toolbar__button[aria-disabled=true]{background:var(--ag-charts-toolbar-disabled-background-color);color:var(--ag-charts-toolbar-disabled-foreground-color)}.ag-charts-toolbar__button:not([aria-disabled=true]){cursor:pointer}.ag-charts-toolbar__button--fill-visible:after{content:"";display:block;position:absolute;bottom:3px;left:5px;right:5px;height:4px;border-radius:99px;box-shadow:inset 0 0 0 1px color-mix(in srgb,var(--ag-charts-foreground-color) 10%,transparent);background:var(--fill)}.ag-charts-toolbar__button--fill-visible[aria-disabled=true]:after{filter:grayscale(1);opacity:.5}.ag-charts-toolbar__icon+.ag-charts-toolbar__label{margin-left:var(--ag-charts-toolbar-gap)}.ag-charts-toolbar__icon,.ag-charts-toolbar__label{pointer-events:none}.ag-chart-overlay{color:#181d1f;pointer-events:none}.ag-chart-overlay.ag-chart-dark-overlay{color:#fff}.ag-chart-overlay--loading{color:#8c8c8c}.ag-chart-overlay__loading-background{background:#fff;pointer-events:none}.ag-chart-overlay.ag-chart-dark-overlay .ag-chart-overlay__loading-background{background:#192232}.ag-chart-tooltip{transition:transform .1s ease;width:max-content;z-index:99999;font:12px Verdana,sans-serif;color:#464646;box-shadow:0 4px 8px #00000014}.ag-chart-tooltip-wrap-always{overflow-wrap:break-word;word-break:break-word;hyphens:none}.ag-chart-tooltip-wrap-hyphenate{overflow-wrap:break-word;word-break:break-word;hyphens:auto}.ag-chart-tooltip-wrap-on-space{overflow-wrap:normal;word-break:normal}.ag-chart-tooltip-wrap-never{white-space:pre;text-overflow:ellipsis}.ag-chart-tooltip-no-interaction{pointer-events:none;user-select:none}.ag-chart-tooltip-no-animation{transition:none!important}.ag-chart-tooltip-hidden{visibility:hidden}.ag-chart-tooltip-title{overflow:hidden;position:relative;padding:8px 14px;border-top-left-radius:2px;border-top-right-radius:2px;color:#fff;background-color:#888;z-index:1;text-overflow:inherit}.ag-chart-tooltip-title:only-child{border-bottom-left-radius:2px;border-bottom-right-radius:2px}.ag-chart-tooltip-content{overflow:hidden;padding:6px 14px;line-height:1.7em;background:#fff;border-bottom-left-radius:2px;border-bottom-right-radius:2px;border:1px solid rgba(0,0,0,.15);text-overflow:inherit}.ag-chart-tooltip-arrow:before{content:"";position:absolute;top:100%;left:50%;transform:translate(-50%);border:5px solid #d9d9d9;border-left-color:transparent;border-right-color:transparent;border-bottom-color:transparent;width:0;height:0;margin:0 auto}.ag-chart-tooltip-arrow:after{content:"";position:absolute;top:calc(100% - 1px);left:50%;transform:translate(-50%);border:5px solid white;border-left-color:transparent;border-right-color:transparent;border-bottom-color:transparent;width:0;height:0;margin:0 auto}
`,vY=class{constructor(t,e,i){this.element=t,this.topTabGuard=e,this.bottomTabGuard=i,this.destroyFns=[],this.guardTabIndex=0,this.element.tabIndex=-1,this.initEventListener(this.element,"blur",()=>this.onBlur()),this.initEventListener(this.element,"focus",()=>this.onFocus()),this.initEventListener(this.topTabGuard,"focus",n=>this.onTabStart(n,this.topTabGuard)),this.initEventListener(this.bottomTabGuard,"focus",n=>this.onTabStart(n,this.bottomTabGuard))}set tabIndex(t){t>=0&&(this.guardTabIndex=t),t>0?(this.topTabGuard.tabIndex=t,this.bottomTabGuard.style.display="none"):(this.topTabGuard.tabIndex=t,this.bottomTabGuard.tabIndex=t)}destroy(){for(let t of this.destroyFns)t();this.destroyFns.length=0}initEventListener(t,e,i){t.addEventListener(e,i),this.destroyFns.push(()=>t.removeEventListener(e,i))}onBlur(){this.element.tabIndex===-1&&(this.tabIndex=this.guardTabIndex,this.guardTarget=void 0,this.guessedDelta=void 0)}onFocus(){this.element.tabIndex===-1&&(this.tabIndex=-1)}onTabStart(t,e){if(e.tabIndex>0&&(this.guessedDelta=0,t.relatedTarget!=null&&"tabIndex"in t.relatedTarget)){let i=Number(t.relatedTarget.tabIndex);!isNaN(i)&&i>0&&(this.guessedDelta=i<e.tabIndex?1:-1)}this.guardTarget=e,this.element.focus()}getBrowserFocusDelta(){let{guessedDelta:t,guardTarget:e,topTabGuard:i,bottomTabGuard:n}=this;return t!==void 0?t:e===i?1:e===n?-1:0}},xY=class{constructor(){this.elements=new Map,this.documentReady=!1,this.queuedObserveRequests=[],this.onLoad=()=>{this.documentReady=!0,this.queuedObserveRequests.forEach(([t,e])=>this.observe(t,e)),this.queuedObserveRequests=[]},!(typeof ResizeObserver>"u")&&(this.resizeObserver=new ResizeObserver(t=>{for(let{target:e,contentRect:{width:i,height:n}}of t){let r=this.elements.get(e);this.checkSize(r,e,i,n)}}),this.documentReady=Fr("readyState")==="complete",this.documentReady||Br()?.addEventListener("load",this.onLoad))}destroy(){Br()?.removeEventListener("load",this.onLoad),this.resizeObserver?.disconnect(),this.resizeObserver=null}checkSize(t,e,i,n){t&&(i!==t.size?.width||n!==t.size?.height)&&(t.size={width:i,height:n},t.cb(t.size,e))}observe(t,e){if(!this.documentReady){this.queuedObserveRequests.push([t,e]);return}this.elements.has(t)?this.removeFromQueue(t):this.resizeObserver?.observe(t);let i={cb:e};this.elements.set(t,i),this.checkSize(i,t,t.offsetWidth,t.offsetHeight)}unobserve(t){this.resizeObserver?.unobserve(t),this.elements.delete(t),this.removeFromQueue(t),this.elements.size||this.destroy()}removeFromQueue(t){this.queuedObserveRequests=this.queuedObserveRequests.filter(([e])=>e!==t)}},_Y='<div role="presentation" class="ag-charts-wrapper ag-charts-styles" data-ag-charts><div role="presentation" class="ag-charts-canvas-center"><div role="figure" class="ag-charts-canvas-container"><div role="presentation" class="ag-charts-tab-guard"></div><div role="presentation" class="ag-charts-canvas"></div><div role="presentation" class="ag-charts-canvas-proxy"></div><div role="presentation" class="ag-charts-tab-guard"></div><div role="presentation" class="ag-charts-canvas-overlay"></div></div></div></div>',LM="canvas-center",MY=["styles",LM,"canvas","canvas-proxy","canvas-overlay"],Jx=new Map([["styles",{childElementType:"style"}],["canvas",{childElementType:"canvas",eventTypes:["focus","blur"]}],["canvas-proxy",{childElementType:"div"}],["canvas-overlay",{childElementType:"div"}],[LM,{childElementType:"div"}]]);function DY(t,e){if(typeof IntersectionObserver>"u")return;let i=new IntersectionObserver(n=>{for(let r of n)r.target===t&&e(r.intersectionRatio)},{root:t});return i.observe(t),i}var uL={x:0,y:0,width:0,height:0,top:0,bottom:0,left:0,right:0,toJSON(){return uL}},hL=class extends Ni{constructor(t){super(),this.styles={},this.container=void 0,this.containerSize=void 0,this.sizeMonitor=new xY;let e=Zt("div");e.innerHTML=_Y,this.element=e.children.item(0),this.rootElements=MY.reduce((n,r)=>{let o=`ag-charts-${r}`,s=this.element.classList.contains(o)?this.element:this.element.querySelector(`.${o}`);if(!s)throw new Error(`AG Charts - unable to find DOM element ${o}`);return n[r]={element:s,children:new Map,listeners:[]},n},{});let i=!1;this.observer=DY(this.element,n=>{n===0&&!i&&this.listeners.dispatch("hidden",{type:"hidden"}),i=n===0}),this.setSizeOptions(),this.addStyles("ag-charts-community",bY),t&&this.setContainer(t)}destroy(){super.destroy(),this.observer?.unobserve(this.element),this.container&&this.sizeMonitor.unobserve(this.container),Object.values(this.rootElements).forEach(t=>{t.children.forEach(e=>e.remove()),t.element.remove()}),this.guardedElement?.destroy(),this.element.remove()}setSizeOptions(t=300,e=300,i,n){let{style:r}=this.element;r.width=`${i??t}px`,r.height=`${n??e}px`}updateContainerSize(){let{style:t}=this.rootElements[LM].element;t.width=`${this.containerSize?.width??0}px`,t.height=`${this.containerSize?.height??0}px`}setContainer(t){if(t===this.container)return;if(this.container&&(this.container.removeChild(this.element),this.sizeMonitor.unobserve(this.container)),!(this.getDocumentRoot(t)!=null))for(let i of this.rootElements.styles.children.keys())this.removeChild("styles",i);t.appendChild(this.element),this.sizeMonitor.observe(t,i=>{this.containerSize=i,this.updateContainerSize(),this.listeners.dispatch("resize",{type:"resize"})}),this.container=t;for(let[i,n]of Object.entries(this.styles))this.addStyles(i,n);this.listeners.dispatch("container-changed",{type:"container-changed"})}setThemeClass(t){let e="ag-charts-theme-";this.element.classList.forEach(i=>{i.startsWith(e)&&i!==t&&this.element.classList.remove(i)}),this.element.classList.add(t)}createTabGuards(){let t=this.rootElements.canvas.element.querySelector("canvas"),e=this.element.querySelectorAll(".ag-charts-tab-guard");if(t==null||e[0]==null||e[1]==null)throw new Error("AG Charts - error initialising canvas tab guards");return new vY(t,e[0],e[1])}setTabIndex(t){this.guardedElement??(this.guardedElement=this.createTabGuards()),this.guardedElement.tabIndex=t}getBrowserFocusDelta(){return this.guardedElement?.getBrowserFocusDelta()??0}addEventListenerOnElement(t,e,i,n){let{element:r}=this.rootElements[t];return r.addEventListener(e,i,n),()=>{r.removeEventListener(e,i,n)}}addEventListener(t,e,i){this.element.addEventListener(t,e,i),Jx.forEach((n,r)=>{if(!n.eventTypes?.includes(t))return;let o=this.rootElements[r];o.listeners.push([t,e,i]),o.children.forEach(s=>{s.addEventListener(t,e)})})}removeEventListener(t,e,i){this.element.removeEventListener(t,e,i),Jx.forEach((n,r)=>{if(!n.eventTypes?.includes(t))return;let o=this.rootElements[r];o.listeners=o.listeners.filter(([s,a])=>s!==t&&a!==e),o.children.forEach(s=>{s.removeEventListener(t,e,i)})})}getBoundingClientRect(){return this.rootElements.canvas.element.getBoundingClientRect()}getOverlayClientRect(){let t=Br(),e=new se(0,0,t.innerWidth,t.innerHeight),i=this.getRawOverlayClientRect(),n=se.fromDOMRect(i??this.getBoundingClientRect());return e.intersection(n)?.toDOMRect()??uL}getRawOverlayClientRect(){let t=this.element;for(;t!=null;){let i=t.computedStyleMap?.(),n=i?.get("overflow-x")?.toString(),r=i?.get("overflow-y")?.toString();if(n!=null&&n!=="visible"||r&&r!=="visible")return t.getBoundingClientRect();t=t.parentElement}let e=this.getDocumentRoot();if(e)return e.getBoundingClientRect()}getDocumentRoot(t=this.container){let e=t?.ownerDocument?.body??Fr("body");for(;t!=null;){if(t===e)return;if(t.parentNode instanceof DocumentFragment)return t;t=t.parentNode}}getChildBoundingClientRect(t){let{children:e}=this.rootElements[t],i=[];for(let n of e.values())i.push(se.fromDOMRect(n.getBoundingClientRect()));return se.merge(i)}calculateCanvasPosition(t){let e=0,i=0,{x:n=0,y:r=0}=this.getChildBoundingClientRect("canvas")??{},o=t.getBoundingClientRect();return e=o.x-n,i=o.y-r,{x:e,y:i}}isManagedChildDOMElement(t,e,i){let{children:n}=this.rootElements[e],r=n?.get(i);return r!=null&&t.contains(r)}isEventOverElement(t){let e=t.target;return e!=null&&this.element.contains(e)}addStyles(t,e){if(this.styles[t]=e,this.container==null)return;let i="data-ag-charts",n=this.getDocumentRoot(),r;if(n!=null)r=this.addChild("styles",t);else{let o=Fr("head");for(let s of o.children)if(s.getAttribute(i)===t)return;r=Zt("style"),o.appendChild(r)}r.getAttribute(i)!==t&&(r.setAttribute(i,t),r.innerHTML=e)}removeStyles(t){this.removeChild("styles",t)}updateCursor(t){this.element.style.cursor=t}getCursor(){return this.element.style.cursor}addChild(t,e,i){let{element:n,children:r,listeners:o}=this.rootElements[t];if(!r)throw new Error("AG Charts - unable to create DOM elements after destroy()");let s=r.get(e);if(s!=null)return s;let{childElementType:a="div"}=Jx.get(t)??{};if(i&&i.tagName.toLowerCase()!==a.toLowerCase())throw new Error("AG Charts - mismatching DOM element type");let l=i??Zt(a);for(let[c,d,u]of o)l.addEventListener(c,d,u);return r.set(e,l),n?.appendChild(l),l}removeChild(t,e){let{children:i}=this.rootElements[t];i&&(i.get(e)?.remove(),i.delete(e))}incrementDataCounter(t){let{dataset:e}=this.element;e[t]??(e[t]="0"),e[t]=String(Number(e[t])+1)}getIconClassNames(t){return`ag-charts-icon ag-charts-icon-${t}`}};function wY(t,e){let i=-e/t;return t!==0&&i>=0&&i<=1?[i]:[]}function IY(t,e,i){if(t===0)return wY(e,i);let n=e*e-4*t*i,r=[];if(n===0){let o=-e/(2*t);o>=0&&o<=1&&r.push(o)}else if(n>0){let o=Math.sqrt(n),s=(-e-o)/(2*t),a=(-e+o)/(2*t);s>=0&&s<=1&&r.push(s),a>=0&&a<=1&&r.push(a)}return r}function SY(t,e,i,n){if(t===0)return IY(e,i,n);let r=e/t,o=i/t,s=n/t,a=(3*o-r*r)/9,l=(9*r*o-27*s-2*r*r*r)/54,c=a*a*a+l*l,d=1/3,u=[];if(c>=0){let h=Math.sqrt(c),f=Math.sign(l+h)*Math.pow(Math.abs(l+h),d),p=Math.sign(l-h)*Math.pow(Math.abs(l-h),d),m=Math.abs(Math.sqrt(3)*(f-p)/2),b=-d*r+(f+p);if(b>=0&&b<=1&&u.push(b),m===0){let g=-d*r-(f+p)/2;g>=0&&g<=1&&u.push(g)}}else{let h=Math.acos(l/Math.sqrt(-a*a*a)),f=d*r,p=2*Math.sqrt(-a),m=p*Math.cos(d*h)-f,b=p*Math.cos(d*(h+2*Math.PI))-f,g=p*Math.cos(d*(h+4*Math.PI))-f;m>=0&&m<=1&&u.push(m),b>=0&&b<=1&&u.push(b),g>=0&&g<=1&&u.push(g)}return u}function Fc(t,e,i,n,r,o,s,a){let l=(i-t)*(a-o)-(n-e)*(s-r);if(l===0)return 0;let c=((s-r)*(e-o)-(t-r)*(a-o))/l,d=((i-t)*(e-o)-(n-e)*(t-r))/l;return c>=0&&c<=1&&d>=0&&d<=1?1:0}function CY(t,e,i,n,r,o,s,a,l,c,d,u){let h=0,f=c-u,p=d-l,m=l*(u-c)-c*(d-l),b=Sk(t,i,r,s),g=Sk(e,n,o,a),v=f*b[0]+p*g[0],M=f*b[1]+p*g[1],w=f*b[2]+p*g[2],I=f*b[3]+p*g[3]+m,D=SY(v,M,w,I);for(let _ of D){let S=_*_,E=_*S,T=b[0]*E+b[1]*S+b[2]*_+b[3],k=g[0]*E+g[1]*S+g[2]*_+g[3],P;l===d?P=(k-c)/(u-c):P=(T-l)/(d-l),P>=0&&P<=1&&h++}return h}function Sk(t,e,i,n){return[-t+3*e-3*i+n,3*t-6*e+3*i,-3*t+3*e,t]}function fL(t,e,i,n,r,o,s,a,l,c){if(isNaN(t)||isNaN(e))return 0;o&&([r,n]=[n,r]);let d=(c-a)/(l-s),u=a-d*s,h=Math.pow(d,2)+1,f=2*(d*(u-e)-t),p=Math.pow(t,2)+Math.pow(u-e,2)-Math.pow(i,2),m=Math.pow(f,2)-4*h*p;if(m<0)return 0;let b=(-f+Math.sqrt(m))/2/h,g=(-f-Math.sqrt(m))/2/h,v=0;return[b,g].forEach(M=>{if(!(M>=Math.min(s,l)&&M<=Math.max(s,l)))return;let I=d*M+u,D=M-t,_=I-e,S=Math.atan2(_,D);Hs(S,n,r)&&v++}),v}var gh=class{constructor(){this.path2d=new Path2D,this.previousCommands=[],this.previousParams=[],this.previousClosedPath=!1,this.commands=[],this.params=[],this.openedPath=!1,this.closedPath=!1}isDirty(){return this.closedPath!==this.previousClosedPath||this.previousCommands.length!==this.commands.length||this.previousParams.length!==this.params.length||this.previousCommands.toString()!==this.commands.toString()||this.previousParams.toString()!==this.params.toString()}getPath2D(){return this.path2d}moveTo(t,e){this.openedPath=!0,this.path2d.moveTo(t,e),this.commands.push(0),this.params.push(t,e)}lineTo(t,e){this.openedPath?(this.path2d.lineTo(t,e),this.commands.push(1),this.params.push(t,e)):this.moveTo(t,e)}rect(t,e,i,n){this.moveTo(t,e),this.lineTo(t+i,e),this.lineTo(t+i,e+n),this.lineTo(t,e+n),this.closePath()}roundRect(t,e,i,n,r){r=Math.min(r,i/2,n/2),this.moveTo(t,e+r),this.arc(t+r,e+r,r,Math.PI,1.5*Math.PI),this.lineTo(t+r,e),this.lineTo(t+i-r,e),this.arc(t+i-r,e+r,r,1.5*Math.PI,2*Math.PI),this.lineTo(t+i,e+r),this.lineTo(t+i,e+n-r),this.arc(t+i-r,e+n-r,r,0,Math.PI/2),this.lineTo(t+i-r,e+n),this.lineTo(t+r,e+n),this.arc(t+ +r,e+n-r,r,Math.PI/2,Math.PI),this.lineTo(t,e+n-r),this.closePath()}arc(t,e,i,n,r,o){this.openedPath=!0,this.path2d.arc(t,e,i,n,r,o),this.commands.push(2),this.params.push(t,e,i,n,r,o?1:0)}cubicCurveTo(t,e,i,n,r,o){this.openedPath||this.moveTo(t,e),this.path2d.bezierCurveTo(t,e,i,n,r,o),this.commands.push(3),this.params.push(t,e,i,n,r,o)}closePath(){this.openedPath&&(this.path2d.closePath(),this.commands.push(4),this.openedPath=!1,this.closedPath=!0)}clear(t){t&&(this.previousCommands=this.commands,this.previousParams=this.params,this.previousClosedPath=this.closedPath),this.path2d=new Path2D,this.openedPath=!1,this.closedPath=!1,this.commands=[],this.params=[]}isPointInPath(t,e){let i=this.commands,n=this.params,r=i.length,o=-1e4,s=-1e4,a=NaN,l=NaN,c=0,d=0,u=0;for(let h=0,f=0;h<r;h++)switch(i[h]){case 0:u+=Fc(a,l,c,d,o,s,t,e),c=n[f++],a=c,d=n[f++],l=d;break;case 1:u+=Fc(c,d,n[f++],n[f++],o,s,t,e),c=n[f-2],d=n[f-1];break;case 3:u+=CY(c,d,n[f++],n[f++],n[f++],n[f++],n[f++],n[f++],o,s,t,e),c=n[f-2],d=n[f-1];break;case 2:let p=n[f++],m=n[f++],b=n[f++],g=n[f++],v=n[f++],M=!!n[f++];if(u+=fL(p,m,b,g,v,M,o,s,t,e),!isNaN(a)){let w=p+Math.cos(g)*b,I=m+Math.sin(g)*b;u+=Fc(c,d,w,I,o,s,t,e)}c=p+Math.cos(v)*b,d=m+Math.sin(v)*b;break;case 4:u+=Fc(a,l,c,d,o,s,t,e);break}return u%2===1}distanceSquared(t,e){let i=1/0,n=this.commands,r=this.params,o=n.length,s=NaN,a=NaN,l=0,c=0;for(let d=0,u=0;d<o;d++)switch(n[d]){case 0:l=s=r[u++],c=a=r[u++];break;case 1:{let h=r[u++],f=r[u++];i=lg(t,e,l,c,h,f,i);break}case 3:Y.error("Command.Curve distanceSquare not implemented");break;case 2:{let h=r[u++],f=r[u++],p=r[u++],m=r[u++],b=r[u++],g=h+Math.cos(m)*p,v=f+Math.sin(m)*p,M=!!r[u++];i=lg(t,e,l,c,g,v,i),i=TW(t,e,h,f,p,m,b,M,i),l=h+Math.cos(b)*p,c=f+Math.sin(b)*p;break}case 4:i=lg(t,e,l,c,s,a,i);break}return i}getPoints(){let{commands:t,params:e}=this,i=[],n=0;for(let r=0;r<t.length;r++)switch(t[r]){case 0:case 1:i.push({x:e[n++],y:e[n++]});break;case 3:n+=4,i.push({x:e[n++],y:e[n++]});break;case 2:i.push({x:e[n++],y:e[n++]}),n+=4;break;case 4:break}return i}computeSVGDataPath(t,e){let i=[],{commands:n,params:r}=this,o=0;for(let s=0;s<n.length;s++)switch(n[s]){case 0:i.push("M",t+r[o++],e+r[o++]);break;case 1:i.push("L",t+r[o++],e+r[o++]);break;case 3:i.push("C",t+r[o++],e+r[o++],t+r[o++],e+r[o++],t+r[o++],e+r[o++]);break;case 2:let[a,l,c,d,u,h]=[r[o++],r[o++],r[o++],r[o++],r[o++],r[o++]],f=t+a+Math.cos(d)*c,p=e+l+Math.sin(d)*c,m=t+a+Math.cos(u)*c,b=e+l+Math.sin(u)*c,g=AR(d,u,!!h)>Math.PI?1:0,v=(h+1)%2,M=i.length===0?"M":"L";i.push(M,f,p,"A",c,c,0,g,v,m,b);break;case 4:i.push("Z");break}return i.join(" ")}};function Me(t){let{redraw:e=3,changeCb:i,convertor:n}=t??{};return re({redraw:e,type:"path",convertor:n,changeCb:i})}var ki=class extends ar{constructor(){super(...arguments),this.path=new gh,this._clipX=NaN,this._clipY=NaN,this._dirtyPath=!0}set clipX(t){this._clipX=t,this.dirtyPath=!0}set clipY(t){this._clipY=t,this.dirtyPath=!0}set dirtyPath(t){this._dirtyPath!==t&&(this._dirtyPath=t,t&&this.markDirty(this,3))}get dirtyPath(){return this._dirtyPath}checkPathDirty(){this._dirtyPath||(this.dirtyPath=this.path.isDirty()||(this.fillShadow?.isDirty()??!1)||(this._clipPath?.isDirty()??!1))}isPointInPath(t,e){let i=this.transformPoint(t,e);return this.path.closedPath&&this.path.isPointInPath(i.x,i.y)}distanceSquared(t,e){let i=this.transformPoint(t,e);return this.distanceSquaredTransformedPoint(i.x,i.y)}computeSVGDataPath(){let{x:t,y:e}=this.inverseTransformPoint(0,0);return this.dirtyPath&&(this.updatePath(),this.dirtyPath=!1),this.path.computeSVGDataPath(t,e)}distanceSquaredTransformedPoint(t,e){return this.path.closedPath&&this.path.isPointInPath(t,e)?0:this.path.distanceSquared(t,e)}isDirtyPath(){return!1}updatePath(){}render(t){let{ctx:e,forceRender:i,stats:n}=t;if(this.dirty===0&&!i){n&&(n.nodesSkipped+=this.nodeCount.count);return}if(this.transformRenderContext(t),(this.dirtyPath||this.isDirtyPath())&&(this.updatePath(),this.dirtyPath=!1),!isNaN(this._clipX)&&!isNaN(this._clipY)&&this.clipMode!=null){e.save();let r=this.strokeWidth/2;if(this._clipPath??(this._clipPath=new gh),this._clipPath.clear(),this._clipPath.rect(-r,-r,this._clipX+r,this._clipY+r+r),this.clipMode==="normal"&&e.clip(this._clipPath?.getPath2D()),this._clipX>0&&this._clipY>0&&this.drawPath(e),this.clipMode==="punch-out"){e.clip(this._clipPath?.getPath2D());let{x:o=-1e4,y:s=-1e4,width:a=2e4,height:l=2e4}=this.getBBox()??{};e.clearRect(o,s,a,l)}e.restore()}else this.drawPath(e);this.fillShadow?.markClean(),super.render(t)}drawPath(t){this.fillStroke(t,this.path.getPath2D())}};ki.className="Path";y([Me()],ki.prototype,"clipMode",2);y([Me()],ki.prototype,"clipX",1);y([Me()],ki.prototype,"clipY",1);var pL={};go(pL,{block:()=>O_,elements:()=>EY,modifiers:()=>P_});var O_="ag-charts-focus",EY={indicator:"ag-charts-focus__indicator",svg:"ag-charts-focus__svg"},P_={hidden:"ag-charts-focus--hidden"},TY=class{constructor(t){this.domManager=t;let{block:e,elements:i,modifiers:n}=pL;this.div=Fr().createElement("div"),this.svg=Fr().createElementNS("http://www.w3.org/2000/svg","svg"),this.path=Fr().createElementNS("http://www.w3.org/2000/svg","path"),this.svg.append(this.path),this.element=t.addChild("canvas-overlay",e),this.element.classList.add(e,i.indicator,n.hidden),this.element.ariaHidden="true",this.element.append(this.svg)}destroy(){this.domManager.removeStyles(O_),this.domManager.removeChild("canvas-overlay",O_)}updateBounds(t){t===void 0?this.element.classList.add(P_.hidden):t instanceof ki?(this.path.setAttribute("d",t.computeSVGDataPath()),this.show(this.svg)):(Ys(this.div,t),this.show(this.div))}show(t){this.element.classList.remove(P_.hidden),this.element.innerHTML="",this.element.append(t)}},AY=class{set textContent(t){this.textElement.textContent=t;let i=this.textElement.getBBox?.();i&&this.svgElement.setAttribute("viewBox",`${i.x} ${i.y} ${i.width} ${i.height}`)}get textContent(){return this.textElement.textContent}constructor(){this.textElement=E_("http://www.w3.org/2000/svg","text"),this.textElement.role="presentation",this.svgElement=E_("http://www.w3.org/2000/svg","svg"),this.svgElement.appendChild(this.textElement),this.svgElement.style.width="100%",this.svgElement.style.opacity="0",this.svgElement.role="presentation",this.boundedContainer=Zt("div"),this.boundedContainer.appendChild(this.svgElement),this.boundedContainer.role="presentation"}remove(){this.boundedContainer.remove()}getContainer(){return this.boundedContainer}updateBounds(t){Ys(this.boundedContainer,t)}};function e_(t,e){return e.params?.type===t}function NY(t){if(t==="button")return Zt("button");if(t==="slider")return Zt("input");if(t==="toolbar"||t==="group")return Zt("div");if(t==="text")return new AY;throw Error("AG Charts - error allocating meta")}function Ck(t){let e={params:t,result:void 0};return e.result=NY(e.params.type),e}var kY=class{constructor(t,e,i,n){this.localeManager=e,this.domManager=i,this.focusIndicator=n,this.debugShowDOMProxies=gt.check("showDOMProxies"),this.destroyFns=[],this.destroyFns.push(t.addListener("update-complete",()=>this.update()))}destroy(){this.destroyFns.forEach(t=>t())}update(){this.focusable&&this.focusIndicator.updateBounds(this.focusable.computeTransformedBBox())}addLocalisation(t){t(),this.destroyFns.push(this.localeManager.addListener("locale-changed",t))}createProxyContainer(t){let e=Ck(t),{params:i,result:n}=e;return this.domManager.addChild("canvas-overlay",i.id,n),n.classList.add(...i.classList),n.style.pointerEvents="none",n.role=i.type,n.ariaOrientation=i.ariaOrientation,typeof i.ariaHidden=="boolean"&&(n.ariaHidden=i.ariaHidden.toString()),this.addLocalisation(()=>{n.ariaLabel=this.localeManager.t(i.ariaLabel.id,i.ariaLabel.params)}),n}createProxyElement(t){let e=Ck(t);if(e_("button",e)){let{params:i,result:n}=e;if(this.initInteract(i,n),typeof i.textContent=="string")n.textContent=i.textContent;else{let{textContent:r}=i;this.addLocalisation(()=>{n.textContent=this.localeManager.t(r.id,r.params)})}}if(e_("slider",e)){let{params:i,result:n}=e;this.initInteract(i,n),n.type="range",n.role="presentation",n.style.margin="0px",n.ariaOrientation=i.ariaOrientation,this.addLocalisation(()=>{n.ariaLabel=this.localeManager.t(i.ariaLabel.id,i.ariaLabel.params)})}if(e_("text",e)){let{params:i,result:n}=e;this.initElement(i,n.getContainer())}return e.result}initElement(t,e){let{id:i,parent:n}=t;e.id=i,e.style.pointerEvents="none",e.style.opacity=this.debugShowDOMProxies?"0.25":"0",e.style.position="absolute",e.style.overflow="hidden",typeof n=="string"?this.domManager.addChild(n,i,e):n.appendChild(e)}initInteract(t,e){let{focusable:i,onclick:n,onchange:r,onfocus:o,onblur:s,tabIndex:a}=t;this.initElement(t,e),a!==void 0&&(e.tabIndex=a),e.addEventListener("focus",l=>{this.focusable=i,e.style.setProperty("pointerEvents",null),this.focusIndicator.updateBounds(i.computeTransformedBBox())}),e.addEventListener("blur",l=>{this.focusable=void 0,e.style.pointerEvents="none",this.focusIndicator.updateBounds(void 0)}),n&&e.addEventListener("click",n),o&&e.addEventListener("focus",o),s&&e.addEventListener("blur",s),r&&e.addEventListener("change",r)}},Ek=class{constructor(t){this.maxAnimationTime=t,this.debug=gt.create(!0,"animation"),this.controllers=new Map,this.stoppedCbs=new Set,this.currentPhase=0,this.phases=new Map(Lc.map(e=>[e,[]])),this.skipAnimations=!1,this.animationTimeConsumed=0,this.isReady=!1}get size(){return this.controllers.size}get consumedTimeMs(){return this.animationTimeConsumed}isActive(){return this.controllers.size>0}getActiveControllers(){return this.phases.get(Lc[this.currentPhase])??[]}checkOverlappingId(t){t!=null&&this.controllers.has(t)&&(this.controllers.get(t).stop(),this.debug(`Skipping animation batch due to update of existing animation: ${t}`),this.skip())}addAnimation(t){if(t.isComplete)return;if(Lc.indexOf(t.phase)<this.currentPhase){this.debug("Skipping animation due to being for an earlier phase",t.id),t.stop();return}this.controllers.set(t.id,t),this.phases.get(t.phase)?.push(t)}removeAnimation(t){this.controllers.delete(t.id);let e=this.phases.get(t.phase),i=e?.indexOf(t);i!=null&&i>=0&&e?.splice(i,1)}progress(t){if(!this.isReady)return;let e=t===0?.01:t,i=()=>{let c=Lc[this.currentPhase];return{phaseControllers:[...this.getActiveControllers()],phase:c,phaseMeta:hh[c]}},{phase:n,phaseControllers:r,phaseMeta:o}=i(),s=()=>Lc[this.currentPhase]==null,a=()=>{for({phase:n,phaseControllers:r,phaseMeta:o}=i();!s()&&r.length===0;)this.currentPhase++,{phase:n,phaseControllers:r,phaseMeta:o}=i(),this.debug(`AnimationBatch - phase changing to ${n}`,{unusedTime:e},r)},l=this.controllers.size;this.debug(`AnimationBatch - ${t}ms; phase ${n} with ${r?.length} of ${l}`);do{let c=e,d=o.skipIfNoEarlierAnimations&&this.animationTimeConsumed===0,u=0;for(let h of r)d?h.stop():e=Math.min(h.update(c),e),h.isComplete&&(u++,this.removeAnimation(h));this.animationTimeConsumed+=c-e,this.debug(`AnimationBatch - updated ${r.length} controllers; ${u} completed`),this.debug(`AnimationBatch - animationTimeConsumed: ${this.animationTimeConsumed}`),a()}while(e>0&&!s());this.animationTimeConsumed>this.maxAnimationTime&&(Y.warnOnce("Animation batch exceeded max animation time, skipping.",new Map(this.controllers.entries())),this.stop())}ready(){if(this.isReady)return;this.isReady=!0,this.debug(`AnimationBatch - ready; skipped: ${this.skipAnimations}`,[...this.controllers]);let t=!0;for(let[,e]of this.controllers)if(e.duration>0&&hh[e.phase].skipIfNoEarlierAnimations!==!0){t=!1;break}if(!t)for(let[,e]of this.controllers)e.autoplay&&e.play(!0)}skip(t=!0){if(this.skipAnimations===!1&&t===!0){for(let e of this.controllers.values())e.stop();this.controllers.clear()}this.skipAnimations=t}play(){for(let t of this.controllers.values())t.play()}pause(){for(let t of this.controllers.values())t.pause()}stop(){for(let t of this.controllers.values())try{t.stop(),this.removeAnimation(t)}catch(e){Y.error("Error during animation stop",e)}this.dispatchStopped()}stopByAnimationId(t){if(t!=null&&this.controllers.has(t)){let e=this.controllers.get(t);e&&(e.stop(),this.removeAnimation(e))}}stopByAnimationGroupId(t){for(let e of this.controllers.values())e.groupId===t&&this.stopByAnimationId(e.id)}dispatchStopped(){this.stoppedCbs.forEach(t=>t()),this.stoppedCbs.clear()}isSkipped(){return this.skipAnimations}destroy(){this.stop(),this.controllers.clear()}};function yh(t){let e=L(C({},t),{preventDefault(){e.sourceEvent?.preventDefault()}});return e}function qu(t,e){t.dispatchWrapHandlers(e.type,(i,n)=>i(n),yh(e))}var OM=["click","dblclick","contextmenu","hover","drag-start","drag","drag-end","leave","enter","page-left","wheel"],RY=["blur","focus"],LY=["keydown","keyup"],t_=["mousemove","mouseup"],Tk=["pagehide","mousemove","mouseup"],Ak=["click","dblclick","contextmenu","mousedown","mouseleave","mouseenter","touchstart","touchmove","touchend","touchcancel","wheel","blur","focus","keydown","keyup"],Ph=(t=>(t[t.Default=16]="Default",t[t.ZoomDrag=8]="ZoomDrag",t[t.Annotations=4]="Annotations",t[t.ContextMenu=2]="ContextMenu",t[t.Animation=1]="Animation",t[t.All=31]="All",t))(Ph||{}),mL=(t=>(t.Retain="retain",t.Exclusive="exclusive",t))(mL||{}),OY=new Set(Object.values(mL));function PY(t){return OM.includes(t)}function FY(t){return RY.includes(t)}function jY(t){return LY.includes(t)}var gL=class F_ extends Ni{constructor(e,i){super(),this.keyboardOptions=e,this.domManager=i,this.debug=gt.create(!0,"interaction"),this.eventHandler=n=>this.processEvent(n),this.overlayEventHandler=n=>this.processCanvasOverlayEvent(n),this.mouseDown=!1,this.touchDown=!1,this.pointerCaptureCanvasElement=void 0,this.clickHistory=[{offsetX:NaN,offsetY:NaN,type:"mousedown"}],this.dblclickHistory=[{offsetX:NaN,offsetY:NaN,type:"mousedown"},{offsetX:NaN,offsetY:NaN,type:"mouseup"},{offsetX:NaN,offsetY:NaN,type:"mousedown"}],this.stateQueue=17,this.rootElement=this.domManager.getDocumentRoot();for(let n of Ak)n.startsWith("touch")||n==="wheel"?this.domManager.addEventListener(n,this.eventHandler,{passive:!1}):this.domManager.addEventListener(n,this.eventHandler);for(let n of Tk)Br().addEventListener(n,this.eventHandler);this.destroyFns.push(this.domManager.addEventListenerOnElement("canvas-overlay","mouseover",this.overlayEventHandler),this.domManager.addEventListenerOnElement("canvas-overlay","mouseout",this.overlayEventHandler)),this.containerChanged(!0),this.domManager.addListener("container-changed",()=>this.containerChanged())}containerChanged(e=!1){let i=this.domManager.getDocumentRoot();if(!(!e&&i===this.rootElement)){for(let n of t_)this.rootElement?.removeEventListener(n,this.eventHandler);this.rootElement=i,this.debug("[InteractionManager] Switching rootElement to:",this.rootElement);for(let n of t_)this.rootElement?.addEventListener(n,this.eventHandler)}}destroy(){super.destroy();for(let e of Tk)Br().removeEventListener(e,this.eventHandler);for(let e of t_)this.rootElement?.removeEventListener(e,this.eventHandler);for(let e of Ak)this.domManager.removeEventListener(e,this.eventHandler);this.domManager.removeStyles("interactionManager")}addListener(e,i,n=16){return super.addListener(e,r=>{this.getState()&n&&i(r)})}pushState(e){this.stateQueue|=e}popState(e){this.stateQueue&=~e}getState(){return this.stateQueue&-this.stateQueue}processCanvasOverlayEvent(e){let i=this.calculateCoordinates(e);if(i==null)return;let n=e.target,r=null;for(;n!=null&&(r=n.getAttribute("data-pointer-capture"),r==null);)n=n.parentElement;if(n==null||r==null||!OY.has(r))return;let o=e.type==="mouseover",s=o?n:void 0;this.pointerCaptureCanvasElement!==s&&(this.pointerCaptureCanvasElement=s,r==="exclusive"&&qu(this.listeners,this.buildPointerEvent(C({type:o?"leave":"enter",event:e},i))))}processEvent(e){let i=this.decideInteractionEventTypes(e),n=e.target;if(e.type==="click"&&n?.ariaDisabled==="true"){e.preventDefault();return}i!=null&&this.dispatchEvent(e,i).catch(r=>Y.errorOnce(r))}dispatchEvent(e,i){return j(this,null,function*(){if(PY(i)){this.dispatchPointerEvent(e,i);return}let{relatedElement:n,targetElement:r}=this.extractElements(e);if(FY(i)){let o=e;qu(this.listeners,{type:i,sourceEvent:o,relatedElement:n,targetElement:r})}else if(jY(i)){let o=e;qu(this.listeners,{type:i,sourceEvent:o,relatedElement:n,targetElement:r})}})}extractElements(e){let i,n;return"relatedTarget"in e&&e.relatedTarget instanceof HTMLElement&&(i=e.relatedTarget),"target"in e&&e.target instanceof HTMLElement&&(n=e.target),{relatedElement:i,targetElement:n}}dispatchPointerEvent(e,i){let n=this.calculateCoordinates(e);n!=null&&qu(this.listeners,this.buildPointerEvent(C({type:i,event:e},n)))}getEventHTMLTarget(e){if(e.target instanceof HTMLElement)return e.target;if(e.currentTarget instanceof HTMLElement)return e.currentTarget}recordDown(e){e instanceof MouseEvent&&(sl(["offsetX","offsetY"],this.clickHistory[0],e),sl(["offsetX","offsetY"],this.dblclickHistory[2],this.dblclickHistory[0]),sl(["offsetX","offsetY"],this.dblclickHistory[0],e)),this.dragStartElement=this.getEventHTMLTarget(e)}recordUp(e){e instanceof MouseEvent&&sl(["offsetX","offsetY"],this.dblclickHistory[1],e),this.dragStartElement=void 0}decideInteractionEventTypes(e){let i="drag-start";if(this.pointerCaptureCanvasElement?.isConnected===!1&&(this.pointerCaptureCanvasElement=void 0),this.pointerCaptureCanvasElement==null)switch(e.type){case"blur":case"focus":case"keydown":case"keyup":return this.keyboardOptions.enabled?e.type:void 0;case"click":case"dblclick":case"contextmenu":case"wheel":return e.type;case"mousedown":return this.isEventOverElement(e)?(this.mouseDown=!0,this.recordDown(e),i):void 0;case"touchstart":return this.isEventOverElement(e)?(this.touchDown=!0,this.recordDown(e),i):void 0;case"touchmove":case"mousemove":return!this.mouseDown&&!this.touchDown&&!this.isEventOverElement(e)?void 0:this.mouseDown||this.touchDown?"drag":"hover";case"mouseup":return!this.mouseDown&&!this.isEventOverElement(e)?void 0:(this.mouseDown=!1,this.recordUp(e),"drag-end");case"touchend":return!this.touchDown&&!this.isEventOverElement(e)?void 0:(this.touchDown=!1,this.recordUp(e),"drag-end");case"mouseleave":case"touchcancel":return"leave";case"mouseenter":return"enter";case"pagehide":return"page-left"}}isEventOverElement(e){return this.domManager.isEventOverElement(e)}calculateCoordinates(e){if(e instanceof MouseEvent)return this.getMouseEventCoords(e);if(typeof TouchEvent<"u"&&e instanceof TouchEvent){let i=e.touches[0]??e.changedTouches[0],{clientX:n,clientY:r,pageX:o,pageY:s}=i;return L(C({},F_.NULL_COORDS),{clientX:n,clientY:r,pageX:o,pageY:s})}else if(e instanceof PageTransitionEvent)return e.persisted?void 0:F_.NULL_COORDS}getMouseEventCoords(e){let{clientX:i,clientY:n,pageX:r,pageY:o}=e,{offsetX:s,offsetY:a}=e,l=this.getEventHTMLTarget(e),{x:c=0,y:d=0}=l?this.domManager.calculateCanvasPosition(l):{};if(this.dragStartElement!=null&&e.target!==this.dragStartElement){let u=this.domManager.calculateCanvasPosition(this.dragStartElement);s-=u.x-c,a-=u.y-d}else s+=c,a+=d;return{clientX:i,clientY:n,pageX:r,pageY:o,offsetX:s,offsetY:a}}isWheelEvent(e){return e.type==="wheel"}buildPointerEvent(e){let{type:i,event:n,clientX:r,clientY:o}=e,{offsetX:s,offsetY:a,pageX:l,pageY:c}=e;if(!We(s)||!We(a)){let g=this.domManager.getBoundingClientRect();s=r-g.left,a=o-g.top}if(!We(l)||!We(c)){let g=this.rootElement?.getBoundingClientRect();l=r-(g?.left??0),c=o-(g?.top??0)}let[d,u]=[NaN,NaN];if(this.isWheelEvent(n)){let g=n.deltaMode===0?.01:1;d=n.deltaX*g,u=n.deltaY*g}let h=[];n.type==="click"?h=this.clickHistory:n.type==="dblclick"&&(h=this.dblclickHistory);let{relatedElement:f,targetElement:p}=this.extractElements(n),m="button"in n?Number(n.button):0,b={type:i,offsetX:s,offsetY:a,pageX:l,pageY:c,deltaX:d,deltaY:u,button:m,pointerHistory:h,sourceEvent:n,relatedElement:f,targetElement:p};return this.debug("InteractionManager - builtEvent: ",b),b}};gL.NULL_COORDS={clientX:-1/0,clientY:-1/0,pageX:-1/0,pageY:-1/0,offsetX:-1/0,offsetY:-1/0};var yL=gL;function Nk(t){return t==null?!0:!isNaN(t)&&t>=0&&t<=2}var bL=class extends Ni{constructor(t,e){super(),this.interactionManager=t,this.chartUpdateMutex=e,this.defaultDuration=1e3,this.batch=new Ek(this.defaultDuration*1.5),this.debug=gt.create(!0,"animation"),this.rafAvailable=typeof requestAnimationFrame<"u",this.isPlaying=!1,this.requestId=null,this.skipAnimations=!1,this.currentAnonymousAnimationId=0}animate(e){var t=pt(e,[]);let i=this.batch;try{i.checkOverlappingId(t.id)}catch(l){this.failsafeOnError(l);return}let{id:n}=t;n==null&&(n=`__${this.currentAnonymousAnimationId}`,this.currentAnonymousAnimationId+=1);let r=this.isSkipped()||t.phase==="none";r&&this.debug("AnimationManager - skipping animation");let{delay:o,duration:s}=t;if(!Nk(o))throw new Error(`Animation delay of ${o} is unsupported (${n})`);if(!Nk(s))throw new Error(`Animation duration of ${s} is unsupported (${n})`);let a=new X1(L(C({},t),{id:n,skip:r,autoplay:this.isPlaying?t.autoplay:!1,phase:t.phase,defaultDuration:this.defaultDuration}));if(!this.forceTimeJump(a,this.defaultDuration))return this.batch.addAnimation(a),a}play(){if(!this.isPlaying){this.isPlaying=!0,this.debug("AnimationManager.play()");try{this.batch.play()}catch(t){this.failsafeOnError(t)}this.requestAnimation()}}pause(){if(this.isPlaying){this.isPlaying=!1,this.cancelAnimation(),this.debug("AnimationManager.pause()");try{this.batch.pause()}catch(t){this.failsafeOnError(t)}}}stop(){this.isPlaying=!1,this.cancelAnimation(),this.debug("AnimationManager.stop()"),this.batch.stop()}stopByAnimationId(t){try{this.batch.stopByAnimationId(t)}catch(e){this.failsafeOnError(e)}}stopByAnimationGroupId(t){try{this.batch.stopByAnimationGroupId(t)}catch(e){this.failsafeOnError(e)}}reset(){this.isPlaying?(this.stop(),this.play()):this.stop()}skip(t=!0){this.skipAnimations=t}isSkipped(){return!this.rafAvailable||this.skipAnimations||this.batch.isSkipped()}isActive(){return this.isPlaying&&this.batch.isActive()}skipCurrentBatch(){this.debug.check()&&this.debug("AnimationManager - skipCurrentBatch()",{stack:new Error().stack}),this.batch.skip()}isSkippingFrames(){return!0}scheduleAnimationFrame(t){this.requestId=requestAnimationFrame(t)}forceTimeJump(t,e){return!1}requestAnimation(){if(!this.rafAvailable||!this.batch.isActive()||this.requestId!==null)return;let t,e=i=>j(this,null,function*(){let n=()=>j(this,null,function*(){let r=i-(t??i);t=i,this.debug("AnimationManager - onAnimationFrame()",{controllersCount:this.batch.size,deltaTime:r}),this.interactionManager.pushState(1);try{this.batch.progress(r)}catch(o){this.failsafeOnError(o)}this.listeners.dispatch("animation-frame",{type:"animation-frame",deltaMs:r})});this.isSkippingFrames()?yield this.chartUpdateMutex.acquireImmediately(n):yield this.chartUpdateMutex.acquire(n),this.batch.isActive()?this.scheduleAnimationFrame(e):(this.batch.stop(),this.listeners.dispatch("animation-stop",{type:"animation-stop",deltaMs:this.batch.consumedTimeMs}))});this.listeners.dispatch("animation-start",{type:"animation-start",deltaMs:0}),this.scheduleAnimationFrame(e)}cancelAnimation(){this.requestId!==null&&(cancelAnimationFrame(this.requestId),this.requestId=null,this.startBatch())}failsafeOnError(t,e=!0){Y.error("Error during animation, skipping animations",t),e&&this.cancelAnimation()}startBatch(t){this.debug(`AnimationManager - startBatch() with skipAnimations=${t}.`),this.reset(),this.batch.stop(),this.batch.destroy(),this.batch=new Ek(this.defaultDuration*1.5),t===!0&&this.batch.skip()}endBatch(){this.batch.isActive()?(this.batch.ready(),this.requestAnimation()):(this.interactionManager.popState(1),this.batch.isSkipped()&&this.batch.skip(!1))}onBatchStop(t){this.batch.stoppedCbs.add(t)}},BY=class vL{constructor(e,i,n){this.localeManager=e,this.domManager=i,this.layoutService=n,this.debug=gt.create(!0,"aria"),this.destroyFns=[],this.liveElem=vL.createAnnouncer(),this.domManager.addChild("canvas-proxy","ag-charts-canvas-proxy",this.liveElem),this.destroyFns.push(this.layoutService.addListener("layout-complete",r=>this.onResize(r)),()=>this.domManager.removeChild("canvas-proxy","ag-charts-canvas-proxy"))}static createAnnouncer(){let e=Fr().createElement("div");return e.classList.add("ag-charts-aria-announcer"),bl(e,"role","status"),bl(e,"aria-live","assertive"),e}destroy(){this.destroyFns.forEach(e=>e())}onResize(e){this.liveElem.style.width=`${e.chart.width}px`,this.liveElem.style.height=`${e.chart.height}px`}announceValue(e,i){let{localeManager:n,liveElem:r}=this,o=n.t(e,i);this.debug(`AriaAnnouncementService - announceValue: ${o}`),r.textContent="\xA0",setTimeout(()=>r.innerText=o,16)}},xL=class extends Ni{legendItemClick(t,e,i,n){let r={type:"legend-item-click",series:t,itemId:e,enabled:i,legendItemName:n};this.listeners.dispatch("legend-item-click",r)}legendItemDoubleClick(t,e,i,n,r){let o={type:"legend-item-double-click",series:t,itemId:e,enabled:i,legendItemName:r,numVisibleItems:n};this.listeners.dispatch("legend-item-double-click",o)}axisHover(t,e){let i={type:"axis-hover",axisId:t,direction:e};this.listeners.dispatch("axis-hover",i)}},_L=class ML{constructor(e){this.defaultActions=[],this.disabledActions=new Set,this.hiddenActions=new Set,this.listeners=new la;let{Default:i,ContextMenu:n}=Ph;this.destroyFns=[e.listenAll("contextmenu",r=>this.onContextMenu(r),i|n)]}destroy(){this.destroyFns.forEach(e=>e())}onContextMenu(e){ML.toContextType(e.region)==="all"&&this.dispatchContext("all",e,{})}static toContextType(e){return e==="legend"||e==="series"?e:"all"}static check(e,i){return i.type===e}static checkCallback(e,i,n){return e===i}dispatchContext(e,i,n){let{offsetX:r,offsetY:o,sourceEvent:s}=i;this.listeners.dispatch("",yh({type:e,x:r,y:o,context:n,sourceEvent:s}))}addListener(e){return this.listeners.addListener("",e)}filterActions(e){return this.defaultActions.filter(i=>i.id&&!this.hiddenActions.has(i.id)&&["all",e].includes(i.type))}registerDefaultAction(e){e.id&&this.defaultActions.find(({id:i})=>i===e.id)||this.defaultActions.push(e)}enableAction(e){this.disabledActions.delete(e)}disableAction(e){this.disabledActions.add(e)}setActionVisiblity(e,i){i?this.hiddenActions.delete(e):this.hiddenActions.add(e)}isDisabled(e){return this.disabledActions.has(e)}},Kc=class extends Map{constructor(t,e){super(),this.defaultValue=t,this.defaultState=e}set(t,e){return this.delete(t),typeof e<"u"&&super.set(t,e),this}stateId(){return Array.from(this.keys()).pop()??this.defaultState}stateValue(){return Array.from(this.values()).pop()??this.defaultValue}},DL=(t=>(t.Auto="auto",t.Default="default",t.Grab="grab",t.Grabbing="grabbing",t.Move="move",t.NotAllowed="not-allowed",t.Pointer="pointer",t.EWResize="ew-resize",t.NSResize="ns-resize",t.ZoomIn="zoom-in",t.ZoomOut="zoom-out",t))(DL||{}),wL=class{constructor(t){this.domManager=t,this.stateTracker=new Kc("default")}updateCursor(t,e){this.stateTracker.set(t,e),this.domManager.updateCursor(this.stateTracker.stateValue())}getCursor(){return this.domManager.getCursor()}};function zY(t,e){let i=t.screenX-e.screenX,n=t.screenY-e.screenY;return i*i+n*n}function kk(t,e){return Math.sqrt(zY(t,e))}var VY=1,IL=class extends Ni{constructor(t){super(),this.domManager=t,this.touchstart=e=>this.onTouchStart(e),this.touchmove=e=>this.onTouchMove(e),this.touchend=e=>this.onTouchEnd(e),this.touchcancel=e=>this.onTouchCancel(e),this.pinch={finger1:{identifier:NaN,screenX:NaN,screenY:NaN},finger2:{identifier:NaN,screenX:NaN,screenY:NaN},origin:{x:NaN,y:NaN},distance:NaN,status:0},this.domManager.addEventListener("touchstart",this.touchstart,{passive:!0}),this.domManager.addEventListener("touchmove",this.touchmove,{passive:!1}),this.domManager.addEventListener("touchend",this.touchend),this.domManager.addEventListener("touchcancel",this.touchcancel)}destroy(){this.domManager.removeEventListener("touchstart",this.touchstart),this.domManager.removeEventListener("touchmove",this.touchmove),this.domManager.removeEventListener("touchend",this.touchend),this.domManager.removeEventListener("touchcancel",this.touchcancel)}findPinchTouches(t){let{touches:e}=t,{finger1:i,finger2:n}=this.pinch;if(this.pinch.status!==0&&e.length===2){if(e[0].identifier===i.identifier&&e[1].identifier===n.identifier)return[e[0],e[1]];if(e[0].identifier===n.identifier&&e[1].identifier===i.identifier)return[e[1],e[0]]}}copyTouchData(t){let e=["identifier","screenX","screenY"];sl(e,this.pinch.finger1,t.touches[0]),sl(e,this.pinch.finger2,t.touches[1]),this.pinch.distance=kk(this.pinch.finger1,this.pinch.finger2)}dispatchPinchEvent(t,e,i){let{finger1:n,finger2:r,origin:o}=this.pinch;this.listeners.dispatch(t,yh({sourceEvent:i,type:t,finger1:n,finger2:r,deltaDistance:e,origin:o}))}onTouchStart(t){this.stopPinchTracking(t);let{pinch:e}=this;t.touches.length===2&&(e.status=1,this.copyTouchData(t),e.origin.x=(t.touches[0].clientX+t.touches[1].clientX)/2,e.origin.y=(t.touches[0].clientY+t.touches[1].clientY)/2)}onTouchMove(t){let e=this.findPinchTouches(t);if(e!==void 0){let[i,n]=e,{pinch:r}=this,o=kk(i,n),s=o-r.distance;r.status===1?Math.abs(s)>VY&&(r.status=2,this.copyTouchData(t),this.dispatchPinchEvent("pinch-start",0,t)):r.status===2?(r.distance=o,this.copyTouchData(t),this.dispatchPinchEvent("pinch-move",s,t)):Y.error(`unexpected pinch.status: ${r.status}`)}}onTouchEnd(t){this.stopPinchTracking(t)}onTouchCancel(t){this.stopPinchTracking(t)}stopPinchTracking(t){let{pinch:e}=this;e.status===2&&this.dispatchPinchEvent("pinch-end",0,t),this.pinch.status=0}},SL=class extends Ni{constructor(){super(...arguments),this.highlightStates=new Kc}updateHighlight(t,e){let{activeHighlight:i}=this;this.highlightStates.set(t,e),this.activeHighlight=this.highlightStates.stateValue(),this.isEqual(this.activeHighlight,i)||this.listeners.dispatch("highlight-change",{type:"highlight-change",currentHighlight:this.activeHighlight,previousHighlight:i,callerId:t})}getActiveHighlight(){return this.activeHighlight}isEqual(t,e){return t===e||t!=null&&e!=null&&t?.series===e?.series&&t?.itemId===e?.itemId&&t?.datum===e?.datum}},CL=class extends Ni{constructor(t,e){super(),this.domManager=e,this.hasBrowserFocus=!1,this.isMouseBlurred=!1,this.isClicking=!1,this.destroyFns.push(t.addListener("drag-start",i=>this.onClickStart(i),31),t.addListener("click",i=>this.onClickStop(i),31),t.addListener("drag-end",i=>this.onClickStop(i),31),t.addListener("wheel",i=>this.mouseBlur(i)),t.addListener("hover",i=>this.mouseBlur(i)),t.addListener("drag",i=>this.mouseBlur(i)),t.addListener("blur",i=>this.onBlur(i),31),t.addListener("focus",i=>this.onFocus(i),31),t.addListener("keydown",i=>this.onKeyDown(i),31))}destroy(){super.destroy()}onClickStart(t){this.isClicking=!0,this.mouseBlur(t)}onClickStop(t){this.mouseBlur(t),this.isClicking=!1}mouseBlur(t){this.hasBrowserFocus&&(this.isMouseBlurred||(this.dispatch("blur",0,t),this.isMouseBlurred=!0))}onBlur(t){this.hasBrowserFocus=!1,this.isMouseBlurred=!1,this.dispatch("blur",0,t)}onFocus(t){let e=this.domManager.getBrowserFocusDelta();this.dispatch("browserfocus",e,t),this.hasBrowserFocus=!0;let i=t.relatedElement==null&&t.targetElement?.tagName==="CANVAS";if(this.isClicking||i){this.isMouseBlurred=!0;return}this.dispatch("tab",e,t)}onKeyDown(t){if(!this.hasBrowserFocus)return;this.isMouseBlurred=!1;let{code:e,altKey:i,shiftKey:n,metaKey:r,ctrlKey:o}=t.sourceEvent;if(e==="Tab")return n?this.dispatch("tab",-1,t):this.dispatch("tab",1,t);if(!(i||n||r||o)){switch(e){case"ArrowDown":return this.dispatch("nav-vert",1,t);case"ArrowUp":return this.dispatch("nav-vert",-1,t);case"ArrowLeft":return this.dispatch("nav-hori",-1,t);case"ArrowRight":return this.dispatch("nav-hori",1,t);case"ZoomIn":case"Add":return this.dispatch("nav-zoom",1,t);case"ZoomOut":case"Substract":return this.dispatch("nav-zoom",-1,t);case"Space":case"Enter":return this.dispatch("submit",0,t);case"Escape":return this.dispatch("cancel",0,t);case"Backspace":case"Delete":return this.dispatch("delete",0,t)}switch(t.sourceEvent.key){case"+":return this.dispatch("nav-zoom",1,t);case"-":return this.dispatch("nav-zoom",-1,t)}}}dispatch(t,e,i){qu(this.listeners,{type:t,delta:e,sourceEvent:i})}},i_=["series"],Rk=class extends la{};function Lk(t,e,i,n,r=16){return t?.addListener(i,o=>{e.getState()&r&&n(o)})??(()=>{})}var EL=class{constructor(t,e,i){this.interactionManager=t,this.keyNavManager=e,this.focusIndicator=i,this.currentTabIndex=0,this.isDragging=!1,this.leftCanvas=!1,this.regions=new Map,this.destroyFns=[],this.allRegionsListeners=new Rk,this.destroyFns.push(...OM.map(n=>t.addListener(n,this.processPointerEvent.bind(this),31)),this.keyNavManager.addListener("blur",this.onNav.bind(this)),this.keyNavManager.addListener("browserfocus",this.onBrowserFocus.bind(this)),this.keyNavManager.addListener("tab",this.onTab.bind(this)),this.keyNavManager.addListener("nav-vert",this.onNav.bind(this)),this.keyNavManager.addListener("nav-hori",this.onNav.bind(this)),this.keyNavManager.addListener("nav-zoom",this.onNav.bind(this)),this.keyNavManager.addListener("submit",this.onNav.bind(this)),this.keyNavManager.addListener("cancel",this.onNav.bind(this)),this.keyNavManager.addListener("delete",this.onNav.bind(this)))}destroy(){this.destroyFns.forEach(t=>t()),this.currentRegion=void 0;for(let t of this.regions.values())t.listeners.destroy();this.focusIndicator.destroy(),this.regions.clear()}addRegion(t,...e){if(this.regions.has(t))throw new Error(`AG Charts - Region: ${t} already exists`);let i={properties:{name:t,bboxproviders:[...e]},listeners:new Rk};return this.regions.set(t,i),this.makeObserver(i)}updateRegion(t,...e){let i=this.regions.get(t);if(i)i.properties.bboxproviders=[...e];else throw new Error("AG Charts - unknown region: "+t)}getRegion(t){return this.makeObserver(this.regions.get(t))}listenAll(t,e,i=16){return Lk(this.allRegionsListeners,this.interactionManager,t,e,i)}makeObserver(t){let{interactionManager:e}=this;class i{addListener(r,o,s=16){return Lk(t?.listeners,e,r,o,s)}}return new i}checkPointerHistory(t,e){for(let i of e.pointerHistory){let{region:n}=this.pickRegion(i.offsetX,i.offsetY);if(t.properties.name!==n?.properties.name)return!1}return!0}dispatch(t,e,i){if(t==null)return;let n=yh(L(C({},e),{region:t.properties.name,bboxProviderId:i}));this.allRegionsListeners.dispatch(n.type,n),t.listeners.dispatch(n.type,n)}handleDragging(t){let{currentRegion:e}=this;switch(t.type){case"drag-start":this.isDragging=!0,this.leftCanvas=!1;break;case"leave":return this.leftCanvas=!0,this.isDragging;case"enter":return this.leftCanvas=!1,this.isDragging;case"drag":if(this.isDragging)return this.dispatch(e,t),!0;break;case"drag-end":if(this.isDragging)return this.isDragging=!1,this.dispatch(e,t),this.leftCanvas&&this.dispatch(e,L(C({},t),{type:"leave"})),!0;break}return!1}processPointerEvent(t){if(this.handleDragging(t))return;let{currentRegion:e}=this;if(t.type==="leave"){this.dispatch(e,L(C({},t),{type:"leave"})),this.currentRegion=void 0;return}let{region:i,bboxProviderId:n}=this.pickRegion(t.offsetX,t.offsetY);e!==void 0&&i?.properties.name!==e.properties.name&&this.dispatch(e,L(C({},t),{type:"leave"}),this.currentBBoxProviderId),i!==void 0&&i.properties.name!==e?.properties.name&&this.dispatch(i,L(C({},t),{type:"enter"}),n),i!==void 0&&this.checkPointerHistory(i,t)&&this.dispatch(i,t,n),this.currentRegion=i,this.currentBBoxProviderId=n}pickRegion(t,e){let i=1/0,n,r;for(let o of this.regions.values())for(let s of o.properties.bboxproviders){if(s.visible===!1)continue;let a=s.computeTransformedRegionBBox?.()??s.computeTransformedBBox(),l=a.width*a.height;l<i&&a.containsPoint(t,e)&&(i=l,n=o,r=s.id)}return{region:n,bboxProviderId:r}}getTabRegion(t){if(t!==void 0&&t>=0&&t<i_.length)return this.regions.get(i_[t])}getNextInteractableTabIndex(t,e){let i=e<0?-1:1,n=t;for(;e!==0;){if(this.getTabRegion(n+i)===void 0)return;e=e-i,n=n+i}return n}validateCurrentTabIndex(){this.getTabRegion(this.currentTabIndex)!==void 0&&(this.currentTabIndex=this.getNextInteractableTabIndex(-1,1)??0)}onBrowserFocus(t){t.delta>0?this.currentTabIndex=-1:t.delta<0&&(this.currentTabIndex=i_.length)}onTab(t){this.validateCurrentTabIndex();let e=this.getNextInteractableTabIndex(this.currentTabIndex,t.delta),i=this.getTabRegion(e),n=this.getTabRegion(this.currentTabIndex);if(e!==void 0&&(this.currentTabIndex=e),n!==void 0&&i?.properties.name!==n.properties.name){let{delta:r,sourceEvent:o}=t,s=yh({type:"blur",delta:r,sourceEvent:o});this.dispatch(n,s)}i===void 0?this.focusIndicator.updateBounds(void 0):this.dispatch(i,t)}onNav(t){let e=this.getTabRegion(this.currentTabIndex);this.dispatch(e,t)}},TL=["start","center","end"],n_=["seriesType","annotations","annotationOptions","ranges","zoom"],Ok={seriesType:0,annotations:1,annotationOptions:2,ranges:3,zoom:4},eh=(t=>(t.Top="top",t.Right="right",t.Bottom="bottom",t.Left="left",t.Floating="floating",t.FloatingTop="floating-top",t.FloatingBottom="floating-bottom",t))(eh||{}),jc=Object.values(eh);function Pk(t){return["floating-top","floating-bottom"].includes(t)}var AL=class extends Ni{static isGroup(t,e){return e.group===t}static isChildElement(t,e){for(let i of jc)if(t.isManagedChildDOMElement(e,"canvas-overlay",`toolbar-${i}`))return!0;return!1}pressButton(t,e,i,n){this.listeners.dispatch("button-pressed",{type:"button-pressed",group:t,id:e,value:i,rect:n})}cancel(t){this.listeners.dispatch("cancelled",{type:"cancelled",group:t})}toggleButton(t,e,i){let{active:n=!1,enabled:r=!0,visible:o=!0}=i;this.listeners.dispatch("button-toggled",{type:"button-toggled",group:t,id:e,active:n,enabled:r,visible:o})}updateButton(t,e,i){this.listeners.dispatch("button-updated",C({type:"button-updated",group:t,id:e},i))}toggleGroup(t,e,i){let{active:n,visible:r}=i;this.listeners.dispatch("group-toggled",{type:"group-toggled",caller:t,group:e,active:n,visible:r})}changeFloatingAnchor(t,e){this.listeners.dispatch("floating-anchor-changed",{type:"floating-anchor-changed",group:t,anchor:e})}buttonMoved(t,e,i,n){this.listeners.dispatch("button-moved",{type:"button-moved",group:t,value:e,rect:i,groupRect:n})}proxyGroupOptions(t,e,i){this.listeners.dispatch("proxy-group-options",{type:"proxy-group-options",caller:t,group:e,options:i})}},Zg=class{constructor(t,e){this.domManager=t,this.tooltip=e,this.stateTracker=new Kc,this.suppressState=new Kc(!1),this.appliedState=null,e.setup(t),t.addListener("hidden",()=>this.tooltip.toggle(!1))}updateTooltip(t,e,i){this.tooltip.enabled&&(i??(i=this.stateTracker.get(t)?.content),this.stateTracker.set(t,{content:i,meta:e}),this.applyStates())}removeTooltip(t){this.tooltip.enabled&&(this.stateTracker.delete(t),this.applyStates())}suppressTooltip(t){this.suppressState.set(t,!0)}unsuppressTooltip(t){this.suppressState.delete(t)}getTooltipMeta(t){return this.stateTracker.get(t)?.meta}destroy(){this.domManager.removeStyles("tooltip")}applyStates(){let t=this.stateTracker.stateId(),e=t?this.stateTracker.get(t):null;if(this.suppressState.stateValue()||e?.meta==null||e?.content==null){this.appliedState=null,this.tooltip.toggle(!1);return}let i=this.domManager.getBoundingClientRect(),n=this.tooltip.bounds==="extended"?this.domManager.getOverlayClientRect():i;if(this.appliedState?.content===e?.content){let r=this.tooltip.isVisible();this.tooltip.show(n,i,e?.meta,null,r)}else this.tooltip.show(n,i,e?.meta,e?.content);this.appliedState=e}static makeTooltipMeta(t,e){let{offsetX:i,offsetY:n}=t,{tooltip:r}=e.series.properties,o={offsetX:i,offsetY:n,enableInteraction:r.interaction?.enabled??!1,lastPointerEvent:{type:t.type,offsetX:i,offsetY:n},showArrow:r.showArrow,position:{type:r.position.type,xOffset:r.position.xOffset,yOffset:r.position.yOffset}},s=e.yBar?.upperPoint??e.midPoint??e.series.datumMidPoint?.(e);if(r.position.type==="node"&&s){let{x:a,y:l}=s,c=e.series.contentGroup.inverseTransformPoint(a,l);return L(C({},o),{offsetX:Math.round(c.x),offsetY:Math.round(c.y)})}return o}},NL=class extends la{constructor(){super(...arguments),this.layoutComplete="layout-complete",this.debug=gt.create(!0,"layout")}addListener(t,e){if(this.isLayoutStage(t)||this.isLayoutComplete(t))return super.addListener(t,e);throw new Error(`AG Charts - unsupported listener type: ${t}`)}dispatchPerformLayout(t,e){return this.isLayoutStage(t)?this.getListenersByType(t).reduce((i,n)=>{try{let r=n.handler(i);return this.debug("[LayoutService] Context updated to: ",C({},r),n),r}catch(r){return Y.errorOnce(r),i}},e):e}dispatchLayoutComplete(t){this.dispatch(this.layoutComplete,t)}isLayoutStage(t){return t!==this.layoutComplete}isLayoutComplete(t){return t===this.layoutComplete}},UY=/\$\{(\w+)}(?:\[(\w+)])?/gi,r_={number:new Intl.NumberFormat("en-US"),percent:new Intl.NumberFormat("en-US",{style:"percent"}),date:new Intl.DateTimeFormat("en-US",{dateStyle:"full"}),time:new Intl.DateTimeFormat("en-US",{timeStyle:"full"}),datetime:new Intl.DateTimeFormat("en-US",{dateStyle:"full",timeStyle:"full"})},GY=({defaultValue:t,variables:e})=>t?.replaceAll(UY,(i,n,r)=>{let o=e[n],s=r!=null?r_[r]:void 0;return r!=null&&s==null&&Y.warnOnce(`Format style [${r}] is not supported`),s!=null?s.format(o):typeof o=="number"?r_.number.format(o):o instanceof Date?r_.datetime.format(o):String(o)}),HY=class extends la{constructor(){super(...arguments),this.localeText=void 0,this.getLocaleText=void 0}setLocaleText(t){this.localeText!==t&&(this.localeText=t,this.dispatch("locale-changed"))}setLocaleTextFormatter(t){this.getLocaleText=t,this.getLocaleText!==t&&(this.getLocaleText=t,this.dispatch("locale-changed"))}t(t,e={}){let{localeText:i=V5,getLocaleText:n}=this,r=i[t];return n?.({key:t,defaultValue:r,variables:e})??GY({key:t,defaultValue:r,variables:e})??t}},$Y=class{constructor(){this.groups={}}registerSeries({id:t,seriesGrouping:e,visible:i,type:n}){var r;e&&((r=this.groups)[n]??(r[n]={}),this.groups[n][t]={grouping:e,visible:i})}deregisterSeries({id:t,type:e}){this.groups[e]&&delete this.groups[e][t],this.groups[e]&&Object.keys(this.groups[e]).length===0&&delete this.groups[e]}getVisiblePeerGroupIndex({type:t,seriesGrouping:e,visible:i}){if(!e)return{visibleGroupCount:i?1:0,visibleSameStackCount:i?1:0,index:0};let n=new Set,r=new Set;for(let s of Object.values(this.groups[t]??{}))s.visible&&(n.add(s.grouping.groupIndex),s.grouping.groupIndex===e.groupIndex&&r.add(s.grouping.stackIndex));let o=Array.from(n);return o.sort((s,a)=>s-a),{visibleGroupCount:o.length,visibleSameStackCount:r.size,index:o.indexOf(e.groupIndex)}}},th=(t=>(t[t.FULL=0]="FULL",t[t.UPDATE_DATA=1]="UPDATE_DATA",t[t.PROCESS_DATA=2]="PROCESS_DATA",t[t.PERFORM_LAYOUT=3]="PERFORM_LAYOUT",t[t.SERIES_UPDATE=4]="SERIES_UPDATE",t[t.PRE_SCENE_RENDER=5]="PRE_SCENE_RENDER",t[t.SCENE_RENDER=6]="SCENE_RENDER",t[t.NONE=7]="NONE",t))(th||{}),kL=class extends la{constructor(t){super(),this.updateCallback=t}update(t=0,e){this.updateCallback(t,e)}dispatchUpdateComplete(t){this.dispatch("update-complete",{type:"update-complete",minRect:t?.minRect,minVisibleRect:t?.minVisibleRect})}dispatchPreSceneRender(t){this.dispatch("pre-scene-render",C({type:"pre-scene-render"},t))}},WY=class{constructor(t,e){let{scene:i,root:n,syncManager:r,container:o,updateCallback:s,updateMutex:a,overrideDevicePixelRatio:l}=e;this.chartService=t,this.syncManager=r,this.zoomManager=t.zoomManager,this.domManager=new hL(o),i?.setContainer(this.domManager),this.scene=i??new RM({pixelRatio:l,domManager:this.domManager}),this.scene.setRoot(n),this.axisManager=new yY(n),this.localeManager=new HY,this.annotationManager=new gY(t.annotationRoot),this.chartEventManager=new xL,this.cursorManager=new wL(this.domManager),this.highlightManager=new SL,this.interactionManager=new yL(t.keyboard,this.domManager),this.keyNavManager=new CL(this.interactionManager,this.domManager),this.focusIndicator=new TY(this.domManager),this.regionManager=new EL(this.interactionManager,this.keyNavManager,this.focusIndicator),this.contextMenuRegistry=new _L(this.regionManager),this.toolbarManager=new AL,this.gestureDetector=new IL(this.domManager),this.layoutService=new NL,this.ariaAnnouncementService=new BY(this.localeManager,this.domManager,this.layoutService),this.updateService=new kL(s),this.proxyInteractionService=new kY(this.updateService,this.localeManager,this.domManager,this.focusIndicator),this.seriesStateManager=new $Y,this.stateManager=new dY,this.callbackCache=new mY,this.animationManager=new bL(this.interactionManager,a),this.animationManager.skip(),this.animationManager.play(),this.dataService=new Yg(this.animationManager),this.tooltipManager=new Zg(this.domManager,t.tooltip)}destroy(){this.tooltipManager.destroy(),this.contextMenuRegistry.destroy(),this.regionManager.destroy(),this.proxyInteractionService.destroy(),this.focusIndicator.destroy(),this.keyNavManager.destroy(),this.interactionManager.destroy(),this.animationManager.stop(),this.animationManager.destroy(),this.ariaAnnouncementService.destroy(),this.chartEventManager.destroy(),this.highlightManager.destroy(),this.callbackCache.invalidateCache(),this.animationManager.reset(),this.syncManager.destroy(),this.domManager.destroy(),this.axisManager.destroy()}},RL=class extends Ne{constructor(){super(...arguments),this.range="tooltip"}};y([x(bt(["tooltip","node"],"a range"))],RL.prototype,"range",2);var Fk=class LL{constructor(){this.domain=new Set}static is(e){return e instanceof LL}extend(e){this.domain.add(e)}getDomain(){return Array.from(this.domain)}},Oc=class OL{constructor(){this.domain=[1/0,-1/0]}static is(e){return e instanceof OL}static extendDomain(e,i=[1/0,-1/0]){for(let n of e)typeof n=="number"&&(i[0]>n&&(i[0]=n),i[1]<n&&(i[1]=n));return i}extend(e){this.domain[0]>e&&(this.domain[0]=e),this.domain[1]<e&&(this.domain[1]=e)}getDomain(){return[...this.domain]}};function YY(t){return t.map(e=>ln(e)?JSON.stringify(e):e).join("-")}function ZY(t){return Number.isInteger(t)?t:Math.abs(t)>1e4?Math.trunc(t):Math.round(t*1e4)/1e4}function qY(t){if(t==null)return[];let[e,i]=t.map(Number);return e===0&&i===0?[0,1]:e===1/0&&i===-1/0?[]:(e===1/0?e=0:i===-1/0&&(i=0),We(e)&&We(i)?[e,i]:[])}function dn(t,e){let i=qY(t);if(i.length===0)return i;let[n,r]=i;if(n===r){let[o,s]=e?.calculatePadding(n,r)??[1,1];n-=o,r+=s}return[n,r]}function PM(t,e){return e?.get(t.id)??0}var Za=Symbol("invalid");function PL(t){let e=[],i=0,n,r=/((?:(?:^|\.)\s*\w+|\[\s*(?:'(?:[^']|\\')*'|"(?:[^"]|\\")*"|-?\d+)\s*\])\s*)/g;for(;n=r.exec(t);){if(n.index!==i)return;i=n.index+n[0].length;let o=n[1].trim();if(o.startsWith("."))e.push(o.slice(1).trim());else if(o.startsWith("[")){let s=o.slice(1,-1).trim();s.startsWith("'")?e.push(s.slice(1,-1).replace(new RegExp("(?<!\\\\)\\\\'","g"),"'")):s.startsWith('"')?e.push(s.slice(1,-1).replace(new RegExp('(?<!\\\\)\\\\"',"g"),'"')):e.push(s)}else e.push(o)}if(i===t.length)return e}function KY(t){return e=>{let i=e;for(let n of t)i=i[n];return i}}var FL=class{constructor(t,e="standalone"){this.opts=t,this.mode=e,this.debug=gt.create(!0,"data-model"),this.scopeCache=new Map,this.keys=[],this.values=[],this.aggregates=[],this.groupProcessors=[],this.propertyProcessors=[],this.reducers=[],this.processors=[];let i=!0;for(let r of t.props){if(r.type==="key"&&!i)throw new Error("AG Charts - internal config error: keys must come before values.");r.type==="value"&&i&&(i=!1)}let n=({matchGroupIds:r=[]})=>{for(let o of r)if(this.values.every(s=>s.groupId!==o))throw new Error(`AG Charts - internal config error: matchGroupIds properties must match defined groups (${o}).`)};for(let r of t.props)switch(r.type){case"key":this.keys.push(L(C({},r),{index:this.keys.length,missing:new Map}));break;case"value":if(r.property==null)throw new Error(`AG Charts - internal config error: no properties specified for value definitions: ${JSON.stringify(r)}`);this.values.push(L(C({},r),{index:this.values.length,missing:new Map}));break;case"aggregate":n(r),this.aggregates.push(L(C({},r),{index:this.aggregates.length}));break;case"group-value-processor":n(r),this.groupProcessors.push(L(C({},r),{index:this.groupProcessors.length}));break;case"property-value-processor":this.propertyProcessors.push(L(C({},r),{index:this.propertyProcessors.length}));break;case"reducer":this.reducers.push(L(C({},r),{index:this.reducers.length}));break;case"processor":this.processors.push(L(C({},r),{index:this.processors.length}));break}}resolveProcessedDataDefById(t,e){let i=this.scopeCache.get(t.id)?.get(e);if(!i)throw new Error(`AG Charts - didn't find property definition for [${e}, ${t.id}]`);return{index:i.index,def:i}}resolveProcessedDataIndexById(t,e){return this.resolveProcessedDataDefById(t,e).index}resolveProcessedDataDefsByIds(t,e){return e.map(i=>[i,this.resolveProcessedDataDefById(t,i)])}resolveProcessedDataDefsValues(t,{keys:e,values:i}){let n={};for(let[r,{index:o,def:s}]of t){let a=s.type==="key"?e:i;n[r]=a[o]}return n}getDomain(t,e,i="value",n){return this.getDomainsByType(i,n)?.[this.resolveProcessedDataIndexById(t,e)]??[]}getDomainsByType(t,e){switch(t){case"key":return e.domain.keys;case"value":return e.domain.values;case"aggregate":return e.domain.aggValues;case"group-value-processor":return e.domain.groups;default:return null}}processData(t,e){let{opts:{groupByKeys:i,groupByFn:n},aggregates:r,groupProcessors:o,reducers:s,processors:a,propertyProcessors:l}=this,c=performance.now();if(i&&this.keys.length===0)return;let d=this.extractData(t,e);if(i?d=this.groupData(d):n&&(d=this.groupData(d,n(d))),o.length>0&&this.postProcessGroups(d),r.length>0&&this.aggregateData(d),l.length>0&&this.postProcessProperties(d),s.length>0&&this.reduceData(d),a.length>0&&this.postProcessData(d),t.length>0){for(let h of Vm(this.keys,this.values))for(let[f,p]of h.missing)if(p>=t.length){let m=f==null?"":` for ${f}`;Y.warnOnce(`the key '${h.property}' was not found in any data element${m}.`)}}let u=performance.now();d.time=u-c,this.debug.check()&&XY(d),this.scopeCache.clear();for(let h of Vm(this.keys,this.values,this.aggregates))if(h.idsMap)for(let[f,p]of h.idsMap)for(let m of p)if(!this.scopeCache.has(f))this.scopeCache.set(f,new Map([[m,h]]));else{if(this.scopeCache.get(f)?.has(m))throw new Error("duplicate definition ids on the same scope are not allowed.");this.scopeCache.get(f).set(m,h)}return d}valueGroupIdxLookup({matchGroupIds:t}){let e=[];for(let[i,n]of this.values.entries())(!t||n.groupId&&t.includes(n.groupId))&&e.push(i);return e}valueIdxLookup(t,e){let i=t==null||t.length===0,n=typeof e=="string"?e:e.id,r=s=>{if(s.idsMap){for(let[a,l]of s.idsMap)if(t?.includes(a)&&l.has(n))return!0}return!1},o=this.values.findIndex(s=>(s.scopes==null||i&&!s.scopes.length||s.scopes.some(l=>t?.includes(l)))&&(s.property===n||s.id===n||r(s)));if(o===-1)throw new Error(`AG Charts - configuration error, unknown property ${JSON.stringify(e)} in scope(s) ${JSON.stringify(t)}`);return o}extractData(t,e){let{dataDomain:i,processValue:n,scopes:r,allScopesHaveSameDefs:o}=this.initDataDomainProcessor(),s=new Map(e?.map(f=>[f.id,f])),{keys:a,values:l}=this,c=new Array(t.length),d=0,u=0;for(let[f,p]of t.entries()){let m={},b=r.size>0?new Set(r):void 0,g=new Array(a.length),v=0,M;for(let _ of a){if(M=n(_,p,M),M===Za)break;g&&(g[v++]=M)}if(M===Za)continue;let w=l.length>0?new Array(l.length):void 0,I;for(let[_,S]of l.entries()){for(let E of S.scopes??r){let T=s.get(E),k=T?.data[f]??p;if(I=n(S,k,I,E),!(I===Za||!w)){if(T!=null&&S.includeProperty!==!1){let P=S.includeProperty&&S.id!=null?S.id:S.property;m[E]??(m[E]={}),m[E][P]=I}w[_]=I}}if(I===Za){if(o)break;for(let E of S.scopes??r)b?.delete(E);if(b?.size===0)break}}if(I===Za&&o||b?.size===0)continue;let D={datum:C(C({},p),m),keys:g,values:w};!o&&b&&b.size<r.size&&(u++,D.validScopes=new Set(b)),c[d++]=D}c.length=d;let h=f=>{let p=i.get(f),m=p.getDomain();return Oc.is(p)&&m[0]>m[1]?[]:m};return{type:"ungrouped",input:{count:t.length},data:c,domain:{keys:a.map(h),values:l.map(h)},defs:{allScopesHaveSameDefs:o,keys:a,values:l},partialValidDataCount:u,time:0}}groupData(t,e){let i=new Map;for(let s of t.data){let{keys:a,values:l,datum:c,validScopes:d}=s,u=e?.(s)??a,h=YY(u);if(i.has(h)){let f=i.get(h);if(f.values.push(l),f.datum.push(c),d!=null&&f.validScopes!=null)for(let p of f.validScopes)d.has(p)||f.validScopes.delete(p)}else i.set(h,{keys:u,values:[l],datum:[c],validScopes:d})}let n=new Array(i.size),r=new Array(i.size),o=0;for(let{keys:s,values:a,datum:l,validScopes:c}of i.values())c?.size!==0&&(r[o]=s,n[o++]={keys:s,values:a,datum:l,validScopes:c});return L(C({},t),{type:"grouped",data:n,domain:L(C({},t.domain),{groups:r})})}aggregateData(t){let e=t.type==="ungrouped";t.domain.aggValues=[];for(let[i,n]of this.aggregates.entries()){let r=this.valueGroupIdxLookup(n),o=[1/0,-1/0];for(let s of t.data){if(s.aggValues??(s.aggValues=new Array(this.aggregates.length)),s.validScopes)continue;let a=e?[s.values]:s.values,l=n.groupAggregateFunction?.()??[1/0,-1/0];for(let d of a){let u=r.map(f=>d[f]),h=n.aggregateFunction(u,s.keys);h&&(l=n.groupAggregateFunction?.(h,l)??Oc.extendDomain(h,l))}let c=(n.finalFunction?.(l)??l).map(d=>ZY(d));s.aggValues[i]=c,Oc.extendDomain(c,o)}t.domain.aggValues.push(o)}}postProcessGroups(t){let{groupProcessors:e}=this,i=new Set,n=new Map,r=new Map,o=new Map;for(let a of e){let l=this.valueGroupIdxLookup(a);r.set(a,l),o.set(a,a.adjust());for(let c of l){let u=this.values[c].valueType==="category";i.add(c),n.set(c,u?new Fk:new Oc)}}let s=a=>{for(let l of i)n.get(l)?.extend(a[l])};for(let a of t.data){for(let l of e){if(a.validScopes)continue;let c=r.get(l)??[],d=o.get(l)?.();if(d)if(t.type==="grouped")for(let u of a.values)u&&d(u,c);else a.values&&d(a.values,c)}if(t.type==="grouped")for(let l of a.values)s(l);else s(a.values)}for(let[a,l]of n)t.domain.values[a]=l.getDomain()}postProcessProperties(t){for(let{adjust:e,property:i,scopes:n}of this.propertyProcessors)e()(t,this.valueIdxLookup(n,i))}reduceData(t){t.reduced??(t.reduced={});for(let e of this.reducers){let i=e.reducer(),n=e.initialValue;for(let r of t.data)(!r.validScopes||e.scopes?.some(o=>r.validScopes?.has(o)))&&(n=i(n,r));t.reduced[e.property]=n}}postProcessData(t){t.reduced??(t.reduced={});for(let e of this.processors)t.reduced[e.property]=e.calculate(t)}initDataDomainProcessor(){let{keys:t,values:e}=this,i=new Set;for(let c of e)if(c.scopes)for(let d of c.scopes)i.add(d);let n=new Map,r=new Map,o=!0,s=()=>{for(let c of Vm(t,e))c.valueType==="category"?n.set(c,new Fk):(n.set(c,new Oc),o&&(o=(c.scopes??[]).length===i.size))};s();let a=this.buildAccessors(Vm(t,e));return{dataDomain:n,processValue:(c,d,u,h)=>{let f,p;if(a.has(c.property)){try{p=a.get(c.property)(d)}catch{}f=p!=null}else f=c.property in d,p=f?d[c.property]:c.missingValue;c.forceValue!=null&&(p=f&&Ih(p)?-1*c.forceValue:c.forceValue,f=!0);let m="missingValue"in c;if(!f&&!m){let b=c.missing.get(h)??0;c.missing.set(h,b+1)}if(n.has(c)||s(),f&&c.validation?.(p,d)===!1)if("invalidValue"in c)p=c.invalidValue;else return this.mode!=="integrated"&&Y.warnOnce(`invalid value of type [${typeof p}] for [${c.scopes} / ${c.id}] ignored:`,`[${p}]`),Za;return c.processor&&(r.has(c)||r.set(c,c.processor()),p=r.get(c)?.(p,u===Za?void 0:u)),n.get(c)?.extend(p),p},initDataDomain:s,scopes:i,allScopesHaveSameDefs:o}}buildAccessors(t){let e=new Map;if(this.mode==="integrated")return e;for(let i of t){if(!(i.property.includes(".")||i.property.includes("[")))continue;let r=PL(i.property);if(r==null){Y.warnOnce("Invalid property path [%s]",i.property);continue}let o=KY(r);e.set(i.property,o)}return e}};function XY(t){let e=(i,n)=>{n.length>0&&(Y.log(`DataModel.processData() - ${i}`),Y.table(n))};if(Y.log("DataModel.processData() - processedData",t),e("Key Domains",t.domain.keys),e("Group Domains",t.domain.groups??[]),e("Value Domains",t.domain.values),e("Aggregate Domains",t.domain.aggValues??[]),t.type==="grouped"){let i=t.data.reduce((n,r)=>{let o=r.keys??[],s=r.aggValues??[],a=r.keys.map(()=>{}),l=s?.map(()=>{});return n.push(...r.values.map((c,d)=>[...d===0?o:a,...c??[],...d==0?s:l])),n},[]);e("Values",i)}else{let i=t.data.reduce((n,r)=>{let o=r.aggValues??[];return n.push([...r.keys,...r.values,...o]),n},[]);e("Values",i)}}var jL=class Go{constructor(e){this.mode=e,this.debug=gt.create(!0,"data-model"),this.requested=[],this.status="setup"}request(e,i,n){return j(this,null,function*(){if(this.status!=="setup")throw new Error("AG Charts - data request after data setup phase.");return new Promise((r,o)=>{this.requested.push({id:e,opts:n,data:i,resolve:r,reject:o})})})}execute(){if(this.status!=="setup")throw new Error("AG Charts - data request after data setup phase.");this.status="executed",this.debug("DataController.execute() - requested",this.requested);let e=this.validateRequests(this.requested);this.debug("DataController.execute() - validated",e);let i=this.mergeRequested(e);this.debug("DataController.execute() - merged",i),this.debug.check()&&(Br().processedData=[]);let n=this.requested.map(({id:o})=>o),r=this.hasMultipleDataSources(e);for(let{opts:o,data:s,resolves:a,rejects:l,ids:c}of i)try{let d=new FL(o,this.mode),u=d.processData(s,e);this.debug.check()&&Br("processedData").push(u),u?.partialValidDataCount===0?a.forEach((h,f)=>h({dataModel:d,processedData:this.processScopedData(c[f],u,n,r)})):u?this.splitResult(d,u,c,a):l.forEach(h=>h(new Error("AG Charts - no processed data generated")))}catch(d){l.forEach(u=>u(d))}}hasMultipleDataSources(e){if(e.length){let[{data:i},...n]=e;return n.some(r=>i!==r.data)}return!1}processScopedData(e,i,n,r){let o=a=>{if(Array.isArray(a))return a.map(o);let l=r?C(C({},a),a[e]):a;for(let c of n)delete l[c];return l},s=a=>Array.isArray(a)?a.map(s):a?.[e]??a;return L(C({},i),{data:i.data.map(a=>L(C({},a),{datum:o(a.datum),values:r?a.values?.map(s):a.values}))})}validateRequests(e){let i=[];for(let[n,r]of e.entries())n>0&&r.data.length!==e[0].data.length&&r.opts.groupByData===!1?r.reject(new Error("all series[].data arrays must be of the same length and have matching keys.")):i.push(r);return i}mergeRequested(e){let i=[];for(let n of e){let r=i.find(Go.groupMatch(n));r?r.push(n):i.push([n])}return i.map(Go.mergeRequests)}splitResult(e,i,n,r){for(let o=0;o<n.length;o++){let s=n[o],a=r[o];a({dataModel:e,processedData:L(C({},i),{data:i.data.filter(({validScopes:l})=>l?.has(s)??!0)})})}}static groupMatch({data:e,opts:i}){function n(r){return r.filter(o=>o.type==="key").map(o=>o.property).join(";")}return([r])=>(i.groupByData===!1||r.data===e)&&r.opts.groupByKeys===i.groupByKeys&&r.opts.groupByFn===i.groupByFn&&n(r.opts.props)===n(i.props)}static mergeRequests(e){return e.reduce((i,c)=>{var{id:n,data:r,resolve:o,reject:s,opts:d}=c,u=d,{props:a}=u,l=pt(u,["props"]);i.ids.push(n),i.rejects.push(s),i.resolves.push(o),i.data??(i.data=r),i.opts??(i.opts=L(C({},l),{props:[]}));for(let h of a){let f=L(C({},h),{scopes:[n]});Go.createIdsMap(n,f);let p=i.opts.props.find(m=>m.type===f.type&&Go.deepEqual(m,f));if(!p){i.opts.props.push(f);continue}p.scopes??(p.scopes=[]),p.scopes.push(...f.scopes??[]),(p.type==="key"||p.type==="value")&&f.idsMap?.size&&Go.mergeIdsMap(f.idsMap,p.idsMap)}return i},{ids:[],rejects:[],resolves:[],data:null,opts:null})}static mergeIdsMap(e,i){for(let[n,r]of e){let o=i.get(n);if(o!=null)for(let s of r)o.add(s);else i.set(n,new Set(r))}}static createIdsMap(e,i){i.id!=null&&(i.idsMap??(i.idsMap=new Map),i.idsMap.has(e)?i.idsMap.get(e).add(i.id):i.idsMap.set(e,new Set([i.id])))}static deepEqual(e,i){if(e===i)return!0;if(e&&i&&typeof e=="object"&&typeof i=="object"){if(e.constructor!==i.constructor)return!1;let n,r;if(Array.isArray(e)){if(r=e.length,r!==i.length)return!1;for(n=r-1;n>=0;n--)if(!Go.deepEqual(e[n],i[n]))return!1;return!0}let o=Object.keys(e);if(r=o.length,r!==Object.keys(i).length)return!1;for(n=r-1;n>=0;n--){let s=o[n];if(!Go.skipKeys.has(s)&&(!Object.hasOwn(i,s)||!Go.deepEqual(e[s],i[s])))return!1}return!0}return!1}};jL.skipKeys=new Set(["id","idsMap","type","scopes"]);var BL=jL,QY=class{constructor(){this.axesMap=new Map,this.hidden=new Set,this.themeTemplates=new Map}register(t,e){this.axesMap.set(t,e.moduleFactory),e.themeTemplate&&this.setThemeTemplate(t,e.themeTemplate),e.hidden&&this.hidden.add(t)}create(t,e){let i=this.axesMap.get(t);if(i)return i(e);throw new Error(`AG Charts - unknown axis type: ${t}`)}has(t){return this.axesMap.has(t)}keys(){return this.axesMap.keys()}publicKeys(){return[...this.keys()].filter(t=>!this.hidden.has(t))}setThemeTemplate(t,e){return this.themeTemplates.set(t,e),this}getThemeTemplate(t){return this.themeTemplates.get(t)}},Yo=new QY,cd=[{type:"root",optionsKey:"animation",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion"]},{type:"root",optionsKey:"annotations",chartTypes:["cartesian"]},{type:"root",optionsKey:"background",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion"],optionsInnerKey:"image"},{type:"root",optionsKey:"foreground",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion"],optionsInnerKey:"image"},{type:"root",optionsKey:"chartToolbar",chartTypes:["cartesian"]},{type:"root",optionsKey:"contextMenu",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion"]},{type:"root",optionsKey:"statusBar",chartTypes:["cartesian"],identifier:"status-bar"},{type:"root",optionsKey:"dataSource",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion"]},{type:"root",optionsKey:"sync",chartTypes:["cartesian"]},{type:"root",optionsKey:"zoom",chartTypes:["cartesian","topology"]},{type:"legend",optionsKey:"gradientLegend",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion"],identifier:"gradient"},{type:"root",optionsKey:"navigator",chartTypes:["cartesian"],optionsInnerKey:"miniChart"},{type:"axis",optionsKey:"axes[]",chartTypes:["polar"],identifier:"angle-category"},{type:"axis",optionsKey:"axes[]",chartTypes:["polar"],identifier:"angle-number"},{type:"axis",optionsKey:"axes[]",chartTypes:["polar"],identifier:"radius-category"},{type:"axis",optionsKey:"axes[]",chartTypes:["polar"],identifier:"radius-number"},{type:"axis",optionsKey:"axes[]",chartTypes:["cartesian"],identifier:"ordinal-time"},{type:"axis-option",optionsKey:"crosshair",chartTypes:["cartesian"]},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"box-plot"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"candlestick"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"ohlc"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"bullet"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"heatmap"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"range-area"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"range-bar"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"waterfall"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"nightingale"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"radar-area"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"radar-line"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"radial-bar"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"radial-column"},{type:"series",optionsKey:"series[]",chartTypes:["hierarchy"],identifier:"sunburst"},{type:"series",optionsKey:"series[]",chartTypes:["hierarchy"],identifier:"treemap"},{type:"series",optionsKey:"series[]",chartTypes:["topology"],identifier:"map-shape"},{type:"series",optionsKey:"series[]",chartTypes:["topology"],identifier:"map-line"},{type:"series",optionsKey:"series[]",chartTypes:["topology"],identifier:"map-marker"},{type:"series",optionsKey:"series[]",chartTypes:["topology"],identifier:"map-shape-background"},{type:"series",optionsKey:"series[]",chartTypes:["topology"],identifier:"map-line-background"},{type:"series",optionsKey:"series[]",chartTypes:["flow-proportion"],identifier:"chord"},{type:"series",optionsKey:"series[]",chartTypes:["flow-proportion"],identifier:"sankey"},{type:"series-option",optionsKey:"errorBar",chartTypes:["cartesian"],identifier:"error-bars"}];function JY(t){return cd.some(e=>e.type==="series"&&e.identifier===t)}function Fh(t){return cd.find(e=>e.type==="series"&&e.identifier===t)?.chartTypes}function e8(t){return Fh(t)?.find(i=>i==="cartesian")==="cartesian"}function t8(t){return Fh(t)?.find(i=>i==="polar")==="polar"}function i8(t){return Fh(t)?.find(i=>i==="hierarchy")==="hierarchy"}function n8(t){return Fh(t)?.find(i=>i==="topology")==="topology"}function r8(t){return Fh(t)?.find(i=>i==="flow-proportion")==="flow-proportion"}function o8(t){return t.packageType==="enterprise"}function s8(t){if(!o8(t))throw new Error("AG Charts - internal configuration error, only enterprise modules need verification.");let e=cd.find(i=>i.type===t.type&&i.optionsKey===t.optionsKey&&i.identifier===t.identifier&&t.chartTypes.every(n=>i.chartTypes.includes(n)));return e&&(e.useCount??(e.useCount=0),e.useCount++),e!=null}function a8(){return cd.filter(({useCount:t})=>t==null||t===0)}var l8=class{constructor(){this.legendMap=new Map,this.themeTemplates=new Map}register(t,{optionsKey:e,moduleFactory:i,themeTemplate:n}){this.legendMap.set(t,{optionsKey:e,moduleFactory:i}),this.themeTemplates.set(e,n)}create(t,e){let i=this.legendMap.get(t)?.moduleFactory;if(i)return i(e);throw new Error(`AG Charts - unknown legend type: ${t}`)}getThemeTemplates(){return Object.fromEntries(this.themeTemplates)}getKeys(){return Array.from(this.legendMap.entries()).reduce((t,[e,i])=>(t[e]=i.optionsKey,t),{})}},FM=new l8,zL=class extends Map{get(t){return super.get(t)??"unknown"}isCartesian(t){return this.get(t)==="cartesian"}isPolar(t){return this.get(t)==="polar"}isHierarchy(t){return this.get(t)==="hierarchy"}isTopology(t){return this.get(t)==="topology"}isFlowProportion(t){return this.get(t)==="flow-proportion"}get seriesTypes(){return Array.from(this.keys())}get cartesianTypes(){return this.seriesTypes.filter(t=>this.isCartesian(t))}get polarTypes(){return this.seriesTypes.filter(t=>this.isPolar(t))}get hierarchyTypes(){return this.seriesTypes.filter(t=>this.isHierarchy(t))}get topologyTypes(){return this.seriesTypes.filter(t=>this.isTopology(t))}get flowProportionTypes(){return this.seriesTypes.filter(t=>this.isFlowProportion(t))}},c8=class extends Map{set(t,e){return super.set(t,Be(e,this.get(t)))}},ei=new zL,VL=new zL,j_=new c8,d8=class{constructor(){this.seriesMap=new Map,this.themeTemplates=new Map}register(t,{chartTypes:[e],moduleFactory:i,tooltipDefaults:n,defaultAxes:r,themeTemplate:o,paletteFactory:s,solo:a,stackable:l,groupable:c,stackedByDefault:d,swapDefaultAxesCondition:u,hidden:h}){this.setThemeTemplate(t,o),this.seriesMap.set(t,{moduleFactory:i,tooltipDefaults:n,defaultAxes:r,paletteFactory:s,solo:a,stackable:l,groupable:c,stackedByDefault:d,swapDefaultAxesCondition:u}),ei.set(t,e),h||VL.set(t,e)}create(t,e){let i=this.seriesMap.get(t)?.moduleFactory;if(i)return i(e);throw new Error(`AG Charts - unknown series type: ${t}`)}cloneDefaultAxes(t){let e=this.seriesMap.get(t)?.defaultAxes;return e?{axes:vi(e)}:null}setThemeTemplate(t,e){let i=this.themeTemplates.get(t);this.themeTemplates.set(t,Be(e,i))}getThemeTemplate(t){return this.themeTemplates.get(t)}getPaletteFactory(t){return this.seriesMap.get(t)?.paletteFactory}getTooltipDefauls(t){return this.seriesMap.get(t)?.tooltipDefaults}isSolo(t){return this.seriesMap.get(t)?.solo??!1}isGroupable(t){return this.seriesMap.get(t)?.groupable??!1}isStackable(t){return this.seriesMap.get(t)?.stackable??!1}isStackedByDefault(t){return this.seriesMap.get(t)?.stackedByDefault??!1}isDefaultAxisSwapNeeded(t){let e;for(let i of t.series??[]){let{type:n="line"}=i,r=this.seriesMap.get(n)?.swapDefaultAxesCondition?.(i);if(r!=null){if(e!=null&&e!=r)throw new Error("AG Charts - The provided series have incompatible directions");e=r}}return e}},on=new d8,jM=class ol extends Ni{constructor(e){super(),this.chart=e}subscribe(e=ol.DEFAULT_GROUP){let i=this.get(e);return i||(i=new Set,ol.chartsGroups.set(e,i)),i.add(this.chart),this}unsubscribe(e=ol.DEFAULT_GROUP){return this.get(e)?.delete(this.chart),this}getChart(){return this.chart}getGroup(e=ol.DEFAULT_GROUP){let i=this.get(e);return i?Array.from(i):[]}getGroupSiblings(e=ol.DEFAULT_GROUP){return this.getGroup(e).filter(i=>i!==this.chart)}get(e){return ol.chartsGroups.get(e)}};jM.chartsGroups=new Map;jM.DEFAULT_GROUP=Symbol("sync-group-default");var u8=jM,UL=class extends Ni{constructor(){super(...arguments),this.axisZoomManagers=new Map,this.state=new Kc(void 0,"initial"),this.rejectCallbacks=new Map}updateAxes(t){let e=new Map(t.map(i=>[i.id,this.axisZoomManagers.get(i.id)]));this.axisZoomManagers.clear();for(let i of t)this.axisZoomManagers.set(i.id,e.get(i.id)??new h8(i));this.state.size>0&&t.length>0&&this.updateZoom(this.state.stateId(),this.state.stateValue())}updateZoom(t,e,i=!0,n){if(n&&this.rejectCallbacks.set(t,n),this.axisZoomManagers.size===0){let r=this.state.stateId();r==="initial"||r===t||i?(this.state.set(t,e),r!==t&&this.rejectCallbacks.get(r)?.(t)):n?.(r);return}this.state.set(t,e),this.axisZoomManagers.forEach(r=>{r.updateZoom(t,e?.[r.getDirection()])}),this.applyChanges(t)}updateAxisZoom(t,e,i){this.axisZoomManagers.get(e)?.updateZoom(t,i),this.applyChanges(t)}fireZoomPanStartEvent(t){this.listeners.dispatch("zoom-pan-start",{type:"zoom-pan-start",callerId:t})}getZoom(){let t,e;if(this.axisZoomManagers.forEach(i=>{i.getDirection()==="x"?t??(t=i.getZoom()):i.getDirection()==="y"&&(e??(e=i.getZoom()))}),t||e)return{x:t,y:e}}getAxisZoom(t){return this.axisZoomManagers.get(t)?.getZoom()??{min:0,max:1}}getAxisZooms(){let t={};for(let[e,i]of this.axisZoomManagers.entries())t[e]={direction:i.getDirection(),zoom:i.getZoom()};return t}applyChanges(t){if(!Array.from(this.axisZoomManagers.values(),n=>n.applyChanges()).some(Boolean))return;let i={};for(let[n,r]of this.axisZoomManagers.entries())i[n]=r.getZoom();this.listeners.dispatch("zoom-change",L(C({type:"zoom-change"},this.getZoom()),{axes:i,callerId:t}))}},h8=class{constructor(t){this.axis=t;let[e=0,i=1]=t.visibleRange;this.state=new Kc({min:e,max:i}),this.currentZoom=this.state.stateValue()}getDirection(){return this.axis.direction}updateZoom(t,e){this.state.set(t,e)}getZoom(){return vi(this.state.stateValue())}applyChanges(){let t=this.currentZoom;return this.currentZoom=this.state.stateValue(),t.min!==this.currentZoom.min||t.max!==this.currentZoom.max}},BM=class extends Ne{constructor(){super(...arguments),this.enabled=!1}};y([x(ve)],BM.prototype,"enabled",2);y([x(yt)],BM.prototype,"tabIndex",2);var GL=["top","right","bottom","left"];function f8(t){return typeof t=="string"&&GL.includes(t)}function p8(t){let e=[],i=[],n=[...GL];for(let r of t)r instanceof ld&&(f8(r.position)?i.push(r.position):e.push(r));for(let r of e){let o;do o=n.pop();while(o&&i.includes(o));if(o==null)break;r.position=o}}var m8=["direction","xKey","yKey","sizeKey","angleKey","radiusKey","normalizedTo"];function g8(t,e,i){let n=(d,u,h)=>{let f=[d];for(let p of m8)p in u&&u[p]!=null&&f.push(`${p}=${u[p]}`);return h?.seriesGrouping&&f.push(`seriesGrouping.groupId=${h?.seriesGrouping.groupId}`),f.join(";")},r=new Map,o=0;for(let d of t){let u=n(d.type,d.properties,i?.[o]);r.has(u)||r.set(u,[]),r.get(u)?.push([d,o++])}let s=new Map;for(let d of e){let u=n(d.type,d,d);s.has(u)||s.set(u,[]),s.get(u)?.push(d)}if(![...r.keys()].some(d=>s.has(d)))return{status:"no-overlap",oldKeys:r.keys(),newKeys:s.keys()};let l=[],c=-1;for(let[d,u]of s.entries())for(let h of u){c++;let f=r.get(d);if(f==null||f.length<1){l.push({opts:h,idx:c,status:"add"}),r.delete(d);continue}let[p,m]=f.shift(),b=i?.[m]??{},g=Tn(b,h??{}),{groupIndex:v,stackIndex:M}=g?.seriesGrouping??{};v!=null||M!=null?l.push({opts:h,series:p,diff:g,idx:m,status:"series-grouping"}):g?l.push({opts:h,series:p,diff:g,idx:m,status:"update"}):l.push({opts:h,series:p,idx:m,status:"no-op"}),f.length===0&&r.delete(d)}for(let d of r.values())for(let[u,h]of d)l.push({series:u,idx:h,status:"remove"});return{status:"overlap",changes:l}}function Ml(t){return t.series?.[0]?.type??"line"}function hl(t){let e=Ml(t);return e==null?!0:e==="cartesian"?(Y.warnOnce(`type '${e}' is deprecated, use a series type instead`),!0):ei.isCartesian(e)||e8(e)}function qg(t){let e=Ml(t);return e==null?!1:e==="polar"?(Y.warnOnce(`type '${e}' is deprecated, use a series type instead`),!0):ei.isPolar(e)||t8(e)}function zM(t){let e=Ml(t);return e==null?!1:e==="hierarchy"?(Y.warnOnce(`type '${e}' is deprecated, use a series type instead`),!0):ei.isHierarchy(e)||i8(e)}function VM(t){let e=Ml(t);return e==null?!1:e==="topology"?(Y.warnOnce(`type '${e}' is deprecated, use a series type instead`),!0):ei.isTopology(e)||n8(e)}function UM(t){let e=Ml(t);return e==null?!1:e==="flow-proportion"?(Y.warnOnce(`type '${e}' is deprecated, use a series type instead`),!0):ei.isFlowProportion(e)||r8(e)}function y8(t){let e=Ml(t);return qg(t)&&e!=="pie"&&e!=="donut"}function b8(t){return t==null?!1:ei.has(t)}function v8(t){return t==null?!1:Yo.has(t)}var x8=class extends xM{applyOptions(t){for(let e of this.moduleMap.values())e.module.optionsKey in t&&fo(e.moduleInstance)&&e.moduleInstance.set(t[e.module.optionsKey])}*legends(){for(let{module:t,moduleInstance:e}of this.moduleMap.values())t.type==="legend"&&(yield{legendType:t.identifier,legend:e})}},B_="ag-chart-overlay",jk="ag-chart-dark-overlay",ih=class extends Ne{constructor(t,e){super(),this.className=t,this.defaultMessageId=e}getText(t){return t.t(this.text??this.defaultMessageId)}getElement(t,e,i){if(this.content?.remove(),this.focusBox=i,this.renderer){let n=this.renderer();if(n instanceof HTMLElement)this.content=n;else{let r=Zt("div");r.innerHTML=n,this.content=r.firstElementChild}}else{let n=Zt("div",{display:"flex",alignItems:"center",justifyContent:"center",boxSizing:"border-box",height:"100%",margin:"8px",font:"12px Verdana, sans-serif"});n.innerText=this.getText(e),this.content=n,t?.animate({from:0,to:1,id:"overlay",phase:"add",groupId:"opacity",onUpdate(r){n.style.opacity=String(r)},onStop(){n.style.opacity="1"}})}return this.content}removeElement(t=()=>this.content?.remove(),e){if(this.content){if(e){let{content:i}=this;e.animate({from:1,to:0,phase:"remove",id:"overlay",groupId:"opacity",onUpdate(n){i.style.opacity=String(n)},onStop(){t?.()}})}else t?.();this.content=void 0,this.focusBox=void 0}}};y([x(Q,{optional:!0})],ih.prototype,"text",2);y([x(hn,{optional:!0})],ih.prototype,"renderer",2);var jh=class extends Ne{constructor(){super(...arguments),this.darkTheme=!1,this.loading=new ih("ag-chart-loading-overlay","overlayLoadingData"),this.noData=new ih("ag-chart-no-data-overlay","overlayNoData"),this.noVisibleSeries=new ih("ag-chart-no-visible-series","overlayNoVisibleSeries")}getFocusInfo(t){for(let e of[this.loading,this.noData,this.noVisibleSeries])if(e.focusBox!==void 0)return{text:e.getText(t),rect:e.focusBox}}destroy(){this.loading.removeElement(),this.noData.removeElement(),this.noVisibleSeries.removeElement()}};y([x(ve)],jh.prototype,"darkTheme",2);y([x(ae)],jh.prototype,"loading",2);y([x(ae)],jh.prototype,"noData",2);y([x(ae)],jh.prototype,"noVisibleSeries",2);function _8(t,e){let{animationDuration:i}=hh.add,n=i*e,r=Zt("div",`${B_}--loading`,{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",height:"100%",boxSizing:"border-box",font:"13px Verdana, sans-serif",userSelect:"none",animation:`ag-charts-loading ${n}ms linear 50ms both`}),o=Zt("span",{width:"45px",height:"40px",backgroundImage:["linear-gradient(#0000 calc(1 * 100% / 6), #ccc 0 calc(3 * 100% / 6), #0000 0), ","linear-gradient(#0000 calc(2 * 100% / 6), #ccc 0 calc(4 * 100% / 6), #0000 0), ","linear-gradient(#0000 calc(3 * 100% / 6), #ccc 0 calc(5 * 100% / 6), #0000 0)"].join(""),backgroundSize:"10px 400%",backgroundRepeat:"no-repeat",animation:"ag-charts-loading-matrix 1s infinite linear"}),s=Zt("p",{marginTop:"1em"});s.innerText=t;let a=Zt("div",`${B_}__loading-background`,{position:"absolute",inset:"0",opacity:"0.5",zIndex:"-1"}),l=Zt("style");return l.innerText=["@keyframes ag-charts-loading { from { opacity: 0 } to { opacity: 1 } }","@keyframes ag-charts-loading-matrix {","0% { background-position: 0% 0%, 50% 0%, 100% 0%; }","100% { background-position: 0% 100%, 50% 100%, 100% 100%; }","}"].join(" "),r.replaceChildren(l,o,s,a),r}function Kg(t,e=[0,0]){for(let i of t)typeof i=="number"&&(i<0&&(e[0]+=i),i>0&&(e[1]+=i));return e}function M8(t,e){return{id:t,matchGroupIds:[e],type:"aggregate",aggregateFunction:n=>Kg(n)}}function HL(t,e){return{id:t,type:"aggregate",matchGroupIds:e?[e]:void 0,aggregateFunction:i=>Kg(i),groupAggregateFunction:(i,n=[0,0])=>(n[0]+=i?.[0]??0,n[1]+=i?.[1]??0,n)}}function $L(t,e){return{id:t,matchGroupIds:[e],type:"aggregate",aggregateFunction:n=>Oc.extendDomain(n)}}function z_(t){return{id:t,type:"aggregate",aggregateFunction:()=>[0,1],groupAggregateFunction:(e,i=[0,0])=>(i[0]+=e?.[0]??0,i[1]+=e?.[1]??0,i)}}function WL(t,e){return{id:t,matchGroupIds:e?[e]:void 0,type:"aggregate",aggregateFunction:n=>Kg(n),groupAggregateFunction:(n,r=[0,0,-1])=>(r[0]+=n?.[0]??0,r[1]+=n?.[1]??0,r[2]++,r),finalFunction:(n=[0,0,0])=>{let r=n[0]+n[1];return r>=0?[0,r/n[2]]:[r/n[2],0]}}}function V_(t,e,i){let n={id:t,matchGroupIds:i?[i]:void 0,type:"aggregate",aggregateFunction:(r,o=[])=>{let s=o[1]-o[0];return e.aggregateFunction(r).map(a=>a/s)}};return e.groupAggregateFunction&&(n.groupAggregateFunction=e.groupAggregateFunction),n}function YL(t){return()=>{let e=0;return i=>We(i)?(e+=t?Math.max(0,i):i,e):i}}function ZL(){return()=>{let t=0;return e=>{if(!We(e))return e;let i=t;return t+=e,i}}}var Bu=new WeakMap;function xg(t,e){let i=JSON.stringify(t,null,0);return Bu.has(e)||Bu.set(e,new Map),Bu.get(e)?.has(i)||Bu.get(e)?.set(i,e(t)),Bu.get(e)?.get(i)}var qL={type:"reducer",property:"smallestKeyInterval",initialValue:1/0,reducer:()=>{let t=NaN;return(e=1/0,i)=>{let n=i.keys[0],r=Math.abs(n-t);return t=n,!isNaN(r)&&r>0&&r<e?r:e}}},KL={type:"reducer",property:"largestKeyInterval",initialValue:-1/0,reducer:()=>{let t=NaN;return(e=-1/0,i)=>{let n=i.keys[0],r=Math.abs(n-t);return t=n,!isNaN(r)&&r>0&&r>e?r:e}}},XL={type:"processor",property:"sortedGroupDomain",calculate:({domain:{groups:t}})=>t?.slice().sort((e,i)=>{for(let n=0;n<e.length;n++){let r=e[n]-i[n];if(r!==0)return r}return 0})};function D8({normaliseTo:t,mode:e}){let i=(n,r)=>{let o=n*t/r;return o>=0?Math.min(t,o):Math.max(-t,o)};return()=>()=>(n,r)=>{let o=[0,0];for(let a of r){let l=n[a],c=typeof l=="number"?l:Math.max(...l),d=c<0?0:1;e==="sum"?o[d]+=c:d===0?o[d]=Math.min(o[d],c):o[d]=Math.max(o[d],c)}let s=Math.max(Math.abs(o[0]),o[1]);for(let a of r){let l=n[a];n[a]=typeof l=="number"?i(l,s):l.map(c=>i(c,s))}}}function Xg(t,e,i="sum"){return{type:"group-value-processor",matchGroupIds:t,adjust:xg({normaliseTo:e,mode:i},D8)}}function w8({normaliseTo:t,zeroDomain:e,rangeMin:i,rangeMax:n}){let r=t[1]-t[0],o=(s,a,l)=>{let c=t[0]+(s-a)/l*r;return l===0?e:c>=t[1]?t[1]:c<t[0]?t[0]:c};return()=>(s,a)=>{let[l,c]=s.domain.values[a];i!=null&&(l=i),n!=null&&(c=n);let d=c-l;s.domain.values[a]=[t[0],t[1]];for(let u of s.data){let h=u.values;s.type==="ungrouped"&&(h=[h]);for(let f of h)f[a]=o(f[a],l,d)}}}function fl(t,e,i,n,r){return{type:"property-value-processor",property:t,adjust:xg({normaliseTo:e,rangeMin:n,rangeMax:r,zeroDomain:i},w8)}}function dd(t){return{type:"processor",property:"animationValidation",calculate(e){let{keys:i,values:n}=e.defs,{input:r,data:o}=e,s=!0,a=!0,l=[];for(let d=0;d<n.length;d++)t?.includes(n[d].id)&&l.push([d,n[d]]);let c=(d,u,h)=>{if(u.valueType==="category"){let p=e.domain[h][d];s&&(s=p.length===r.count);return}let f=o[0]?.[h][d];for(let p=1;(s||a)&&p<o.length;p++){let m=o[p][h][d];a&&(a=f<=m),s&&(s=f!==m),f=m}};for(let d=0;(s||a)&&d<i.length;d++)c(d,i[d],"keys");for(let d=0;(s||a)&&d<l.length;d++){let[u,h]=l[d];c(u,h,"values")}return{uniqueKeys:s,orderedKeys:a}}}}function I8({mode:t,separateNegative:e}){return()=>()=>(i,n)=>{let r=[0,0];for(let o of n){let s=i[o],a=Ih(s)&&e?0:1;We(s)&&(t==="normal"&&(r[a]+=s),i[o]=r[a],t==="trailing"&&(r[a]+=s))}}}function S8({mode:t,sum:e}){return()=>{let i=[],n=!0;return()=>(r,o)=>{let s=0;for(let a of o){let l=r[a],c=n&&e==="current"?0:i[a];i[a]=l;let d=e==="current"?l:c;if(!We(l)||!We(c)){r[a]=s;continue}t==="normal"&&(s+=d),r[a]=s,t==="trailing"&&(s+=d)}n=!1}}}function QL(t,e,i,n=!1){let r;if(e.startsWith("window")){let o=e.endsWith("-trailing")?"trailing":"normal";r=xg({mode:o,sum:i},S8)}else r=xg({mode:e,separateNegative:n},I8);return{type:"group-value-processor",matchGroupIds:[t],adjust:r}}function C8(){return()=>(t,e)=>{let i=new Float64Array(32),n=0;for(let r of e){let o=t[r];i[n]=Number.isFinite(o)?o:NaN,n+=1,t[r]=i.subarray(0,n)}}}function JL(t){return{type:"group-value-processor",matchGroupIds:[t],adjust:C8}}function Dl(t,e=!0){return{type:"processor",property:"diff",calculate:i=>{let n=new Map,r=new Map,o=new Map,s=new Map,a=Math.max(t.data.length,i.data.length);for(let c=0;c<a;c++){let d=t.data[c],u=i.data[c],h=d?Zo(d.keys):"",f=u?Zo(u.keys):"";if(u&&d&&h===f){ul(d.values,u.values)||o.set(f,u);continue}s.has(f)?((e||!ul(s.get(f).values,u.values))&&(o.set(f,u),n.set(f,u)),s.delete(f)):u&&r.set(f,u),r.has(h)?((e||!ul(r.get(h).values,d.values))&&(o.set(h,d),n.set(h,d)),r.delete(h)):d&&(o.delete(h),s.set(h,d))}return{changed:r.size>0||o.size>0||s.size>0,added:r,updated:o,removed:s,moved:n}}}}function Zo(t,...e){let i;return Rt(t)?i=t.map(r=>Uc(r)).join("___"):i=Uc(t),(typeof i=="string"||typeof i=="number"||typeof i=="boolean"||i instanceof Date)&&e.length>0&&(i+=`___${e.join("___")}`),i}var eO=(t=>(t[t.EXACT_SHAPE_MATCH=0]="EXACT_SHAPE_MATCH",t[t.NEAREST_BY_MAIN_AXIS_FIRST=1]="NEAREST_BY_MAIN_AXIS_FIRST",t[t.NEAREST_BY_MAIN_CATEGORY_AXIS_FIRST=2]="NEAREST_BY_MAIN_CATEGORY_AXIS_FIRST",t[t.NEAREST_NODE=3]="NEAREST_NODE",t))(eO||{});function GM(t){return t!=null&&$g(t)}function E8(t){return t!=null}function tO(t){switch(t){case"number":case"log":case"ordinal-time":case"time":case"color":return GM;default:return E8}}function iO(t){switch(t){case"number":case"log":case"time":case"color":return"range";default:return"category"}}function _i(t,e,i={}){return C({property:t,type:"key",valueType:iO(e),validation:tO(e)},i)}function Xe(t,e,i={}){return C({property:t,type:"value",valueType:iO(e),validation:tO(e)},i)}function HM(t,e={}){let o=e,{min:i=-1/0,max:n=1/0}=o,r=pt(o,["min","max"]);return C({type:"value",property:t,valueType:"range",validation:GM,processor:()=>s=>We(s)?Ce(i,s,n):s},r)}function bh(t,e,i={}){let s=i,{onlyPositive:n}=s,r=pt(s,["onlyPositive"]);return L(C({},Xe(t,e,r)),{processor:YL(n)})}function T8(t,e,i={}){return L(C({},Xe(t,e,i)),{processor:ZL()})}function qs(t,e,i="current",n,r){return[Xe(t,r,n),QL(n.groupId,e,i,n.separateNegative),...n.rangeId!=null?[$L(n.rangeId,n.groupId)]:[]]}function nO(t,e,i){return[Xe(t,e,i),JL(i.groupId)]}var Bh=class{constructor(t,e,{datum:i},n){this.type=t,this.event=e,this.datum=i,this.seriesId=n.id}},$M=class{constructor(t,e,i){this.series=t,this.seriesGrouping=e,this.oldGrouping=i,this.type="groupingChanged"}},ud=class extends nL{constructor(t){super(),this.destroyFns=[],this.seriesGrouping=void 0,this.NodeEvent=Bh,this.internalId=lr(this),this.rootGroup=new fe({name:"seriesRoot",isVirtual:!0}),this.axes={x:void 0,y:void 0},this.directions=["x","y"],this.nodeDataRefresh=!0,this.moduleMap=new xM,this._declarationOrder=-1,this.seriesListeners=new la,this._pickNodeCache=new wM;let{moduleCtx:e,pickModes:i=[1],directionKeys:n={},directionNames:r={},contentGroupVirtual:o=!0,canHaveAxes:s=!1}=t;this.ctx=e,this.directionKeys=n,this.directionNames=r,this.canHaveAxes=s,this.contentGroup=this.rootGroup.appendChild(new fe({name:`${this.internalId}-content`,isVirtual:o,zIndex:4,zIndexSubOrder:this.getGroupZIndexSubOrder("data")})),this.highlightGroup=new fe({name:`${this.internalId}-highlight`,isVirtual:o,zIndex:4,zIndexSubOrder:this.getGroupZIndexSubOrder("highlight")}),this.highlightNode=this.highlightGroup.appendChild(new fe({name:"highlightNode",zIndex:0})),this.highlightLabel=this.highlightGroup.appendChild(new fe({name:"highlightLabel",zIndex:10})),this.pickModes=i,this.labelGroup=this.rootGroup.appendChild(new fe({name:`${this.internalId}-series-labels`,zIndex:8})),this.annotationGroup=new fe({name:`${this.id}-annotation`,isVirtual:o,zIndex:4,zIndexSubOrder:this.getGroupZIndexSubOrder("annotation")})}get id(){return this.properties?.id??this.internalId}get type(){return this.constructor.type??""}get data(){return this._data??this._chartData}set visible(t){this.properties.visible=t,this.visibleMaybeChanged()}get visible(){return this.properties.visible}get hasData(){return this.data!=null&&this.data.length>0}get tooltipEnabled(){return this.properties.tooltip?.enabled??!1}onDataChange(){this.nodeDataRefresh=!0,this._pickNodeCache.clear()}setOptionsData(t){this._data=t,this.onDataChange()}setChartData(t){this._chartData=t,this.data===t&&this.onDataChange()}onSeriesGroupingChange(t,e){let{internalId:i,type:n,visible:r}=this;t&&this.ctx.seriesStateManager.deregisterSeries({id:i,type:n}),e&&this.ctx.seriesStateManager.registerSeries({id:i,type:n,visible:r,seriesGrouping:e}),this.fireEvent(new $M(this,e,t))}getBandScalePadding(){return{inner:1,outer:0}}getGroupZIndexSubOrder(t,e=0){let i=0;switch(t){case"data":case"paths":break;case"labels":i+=2e4;break;case"marker":i+=1e4;break;case"highlight":e+=15e3;break;case"annotation":i+=15e3;break}return[()=>this._declarationOrder+i,e]}addListener(t,e){return this.seriesListeners.addListener(t,e)}dispatch(t,e){this.seriesListeners.dispatch(t,e)}addChartEventListeners(){}destroy(){this.destroyFns.forEach(t=>t()),this.destroyFns=[],this.ctx.seriesStateManager.deregisterSeries(this)}getDirectionValues(t,e){let i=this.resolveKeyDirection(t),n=e?.[i],r=[];if(!n)return r;let o=(...s)=>{for(let a of s)Array.isArray(a)?o(...a):typeof a=="object"?o(...Object.values(a)):r.push(a)};return o(...n.map(s=>this.properties[s])),r}getKeys(t){return this.getDirectionValues(t,this.directionKeys)}getKeyProperties(t){return this.directionKeys[this.resolveKeyDirection(t)]??[]}getNames(t){return this.getDirectionValues(t,this.directionNames)}resolveKeyDirection(t){return t}getDomain(t){let e=this.getSeriesDomain(t),i=this.moduleMap.mapModules(n=>n.getDomain(t));return e.concat(i.flat())}markNodeDataDirty(){this.nodeDataRefresh=!0,this._pickNodeCache.clear(),this.visibleMaybeChanged()}visibleMaybeChanged(){this.ctx.seriesStateManager.registerSeries(this)}getOpacity(){let{dimOpacity:e=1,enabled:i=!0}=this.properties.highlightStyle.series;if(!i||e===1)return 1;switch(this.isItemIdHighlighted()){case 0:case 1:return 1;case 2:default:return e}}getStrokeWidth(t){let{strokeWidth:e,enabled:i=!0}=this.properties.highlightStyle.series;if(!i||e===void 0)return t;switch(this.isItemIdHighlighted()){case 1:return e;case 0:case 2:return t}}isItemIdHighlighted(){let t=this.ctx.highlightManager?.getActiveHighlight()?.series;return t==null?0:t!==this?2:1}getModuleTooltipParams(){return this.moduleMap.mapModules(t=>t.getTooltipParams()).reduce((t,e)=>Object.assign(t,e),{})}pickNode(t,e,i=!1){let{pickModes:n,visible:r,rootGroup:o}=this;if(!r||!o.visible||e==="highlight"&&!this.properties.highlight.enabled||e==="highlight-tooltip"&&!this.properties.highlight.enabled||e==="highlight"&&!this.properties.highlight.enabled)return;let s=1/0;if(e==="tooltip"||e==="highlight-tooltip"){let{tooltip:u}=this.properties;s=typeof u.range=="number"?u.range:1/0,i||(i=u.range==="exact")}else if(e==="event"){let{nodeClickRange:u}=this.properties;s=typeof u=="number"?u:1/0,i||(i=u==="exact")}let a=n.filter(u=>!i||u===0),{x:l,y:c}=t,d=JSON.stringify({x:l,y:c,maxDistance:s,selectedPickModes:a});if(this._pickNodeCache.has(d))return this._pickNodeCache.get(d);for(let u of a){let h;switch(u){case 0:h=this.pickNodeExactShape(t);break;case 1:case 2:h=this.pickNodeMainAxisFirst(t,u===2);break;case 3:h=this.pickNodeClosestDatum(t);break}if(h&&h.distance<=s)return this._pickNodeCache.set(d,{pickMode:u,match:h.datum,distance:h.distance})}return this._pickNodeCache.set(d,void 0)}pickNodeExactShape(t){let e=this.contentGroup.pickNode(t.x,t.y);if(e&&e.datum.missing!==!0)return{datum:e.datum,distance:0}}pickNodeClosestDatum(t){throw new Error("AG Charts - Series.pickNodeClosestDatum() not implemented")}pickNodeNearestDistantObject(t,e){let i=Eg(t.x,t.y,e);if(i.nearest!==void 0&&i.nearest.datum.missing!==!0)return{datum:i.nearest.datum,distance:Math.sqrt(i.distanceSquared)}}pickNodeMainAxisFirst(t,e){throw new Error("AG Charts - Series.pickNodeMainAxisFirst() not implemented")}fireNodeClickEvent(t,e){this.fireEvent(new this.NodeEvent("nodeClick",t,e,this))}fireNodeDoubleClickEvent(t,e){this.fireEvent(new this.NodeEvent("nodeDoubleClick",t,e,this))}createNodeContextMenuActionEvent(t,e){return new this.NodeEvent("nodeContextMenuAction",t,e,this)}toggleSeriesItem(t,e){this.visible=e,this.nodeDataRefresh=!0,this._pickNodeCache.clear(),this.dispatch("visibility-changed",{itemId:t,enabled:e})}isEnabled(){return this.visible}getModuleMap(){return this.moduleMap}createModuleContext(){return L(C({},this.ctx),{series:this})}getLabelText(t,e,i=String){return t.formatter?this.ctx.callbackCache.call(t.formatter,C({seriesId:this.id},e))??i(e.value):i(e.value)}getMarkerStyle(t,e,i=t.getStyle()){let n={size:e.datum.point?.size??0},r=Be(n,i);if(t.itemStyler){let o=this.ctx.callbackCache.call(t.itemStyler,L(C(C({seriesId:this.id},r),e),{datum:e.datum.datum}));return Be(o,r)}return r}updateMarkerStyle(t,e,i,n=e.getStyle(),{applyTranslation:r=!0}={}){let{point:o}=i.datum,s=this.getMarkerStyle(e,i,n),a=this.visible&&s.size>0&&o&&!isNaN(o.x)&&!isNaN(o.y);r?t.setProperties(L(C({visible:a},s),{translationX:o?.x,translationY:o?.y})):t.setProperties(C({visible:a},s)),typeof e.shape=="function"&&!t.dirtyPath&&(t.path.clear(!0),t.updatePath(),t.checkPathDirty())}getMinRects(t,e){}get nodeDataDependencies(){return this._nodeDataDependencies??{seriesRectWidth:NaN,seriesRectHeight:NaN}}checkResize(t){let{width:e,height:i}=t??{width:NaN,height:NaN},n=t?{seriesRectWidth:e,seriesRectHeight:i}:void 0,r=Tn(this.nodeDataDependencies,n)!=null;return r&&(this._nodeDataDependencies=n,this.markNodeDataDirty()),r}pickFocus(t){}};ud.highlightedZIndex=1e12;y([Yi({changeValue:function(t,e){this.onSeriesGroupingChange(e,t)}})],ud.prototype,"seriesGrouping",2);function A8({defs:t,values:e,xAxis:i,yAxis:n}){if(!(i&&n))throw new Error("Axes must be defined");let r={};for(let[o,{def:s}]of t)if(Object.hasOwn(e,o)){let{scale:a}=s.type==="key"?i:n;r[o]=Math.round(a.convert(e[o]))}return r}function Xc(t,e,i,n){let r=[...t].reverse(),o;for(let s of r){if(!s.visible||!s.rootGroup.visible)continue;let{match:a,distance:l}=s.pickNode(e,i,n)??{};if(!(!a||l==null)&&((!o||o.distance>l)&&(o={series:s,distance:l,datum:a}),l===0))break}return o}var N8=class extends Ni{constructor(t,e,i){super(),this.id=t,this.chart=e,this.ctx=i,this.series=[];let n=this.ctx.regionManager.getRegion("series"),r=this.ctx.regionManager.getRegion("horizontal-axes"),o=this.ctx.regionManager.getRegion("vertical-axes");this.destroyFns.push(this.ctx.regionManager.listenAll("click",s=>this.onClick(s)),this.ctx.regionManager.listenAll("dblclick",s=>this.onClick(s)),this.ctx.layoutService.addListener("layout-complete",s=>this.layoutComplete(s)),n.addListener("hover",s=>this.onHover(s)),n.addListener("leave",()=>this.onLeave()),r.addListener("leave",()=>this.onLeave()),o.addListener("leave",()=>this.onLeave()))}seriesChanged(t){this.series=t}dataChanged(){this.lastHover=void 0}preSceneRender(){this.lastHover&&this.onHover(this.lastHover)}update(t,e){this.ctx.updateService.update(t,e)}layoutComplete(t){this.seriesRect=t.series.paddedRect}onLeave(){this.lastHover=void 0,this.ctx.cursorManager.updateCursor(this.id)}onHover({offsetX:t,offsetY:e}){let i=Xc(this.series,{x:t,y:e},"event");i?.series.hasEventListener("nodeClick")||i?.series.hasEventListener("nodeDoubleClick")?this.ctx.cursorManager.updateCursor(this.id,"pointer"):this.ctx.cursorManager.updateCursor(this.id)}onClick(t){if(this.seriesRect?.containsPoint(t.offsetX,t.offsetY)&&this.checkSeriesNodeClick(t)){this.update(4),t.preventDefault();return}let e={type:t.type==="click"?"click":"doubleClick",event:t.sourceEvent};this.chart.fireEvent(e)}checkSeriesNodeClick(t){let e=Xc(this.series,{x:t.offsetX,y:t.offsetY},"event");return e==null?!1:t.type==="click"?(e.series.fireNodeClickEvent(t.sourceEvent,e.datum),!0):t.type==="dblclick"?(t.preventZoomDblClick=e.distance===0,e.series.fireNodeDoubleClickEvent(t.sourceEvent,e.datum),!0):!1}};function k8(t){return t instanceof se?t.computeCenter():t?.computeTransformedBBox()?.computeCenter()}function R8(t,e){let{bounds:i,showFocusBox:n}=e;n&&t?.updateBounds(i)}function rO(t,e){R8(t,e);let{x:i,y:n}=k8(e.bounds)??{};if(i!==void 0&&n!==void 0)return{type:"keyboard",offsetX:i,offsetY:n}}var L8=class extends Ni{constructor(t,e,i,n,r){super(),this.id=t,this.chart=e,this.ctx=i,this.chartType=n,this.overlays=r,this.series=[],this.focus={hasFocus:!1,series:void 0,seriesIndex:0,datumIndex:0,datum:void 0};let o=this.ctx.regionManager.getRegion("series");this.destroyFns.push(this.ctx.layoutService.addListener("layout-complete",s=>this.layoutComplete(s)),this.ctx.animationManager.addListener("animation-start",()=>this.onAnimationStart()),o.addListener("blur",()=>this.onBlur()),o.addListener("tab",s=>this.onTab(s)),o.addListener("nav-vert",s=>this.onNavVert(s)),o.addListener("nav-hori",s=>this.onNavHori(s)),o.addListener("submit",s=>this.onSubmit(s)),this.ctx.keyNavManager.addListener("browserfocus",s=>this.onBrowserFocus(s)),this.ctx.zoomManager.addListener("zoom-change",()=>{this.ctx.focusIndicator.updateBounds(void 0)}))}seriesChanged(t){this.series=t,this.onBlur()}dataChanged(){this.ctx.focusIndicator.updateBounds(void 0)}preSceneRender(){this.refreshFocus()}layoutComplete(t){this.seriesRect=t.series.rect}refreshFocus(){this.focus.hasFocus&&this.handleSeriesFocus(0,0)}onTab(t){this.handleFocus(0,0),t.preventDefault(),this.focus.hasFocus=!0}onNavVert(t){this.focus.seriesIndex+=t.delta,this.handleFocus(t.delta,0),t.preventDefault()}onNavHori(t){this.focus.datumIndex+=t.delta,this.handleFocus(0,t.delta),t.preventDefault()}onBrowserFocus(t){t.delta>0?(this.focus.datum=void 0,this.focus.series=void 0,this.focus.datumIndex=0,this.focus.seriesIndex=0):t.delta<0&&(this.focus.datum=void 0,this.focus.series=void 0,this.focus.datumIndex=1/0,this.focus.seriesIndex=1/0)}onAnimationStart(){this.focus.hasFocus&&this.onBlur()}onBlur(){this.ctx.focusIndicator.updateBounds(void 0),this.focus.hasFocus=!1}handleFocus(t,e){this.focus.hasFocus=!0;let i=this.overlays.getFocusInfo(this.ctx.localeManager);i==null?this.handleSeriesFocus(t,e):(this.ctx.focusIndicator.updateBounds(i.rect),this.ctx.ariaAnnouncementService.announceValue(i.text))}handleSeriesFocus(t,e){if(this.chartType==="hierarchy"){this.handleHierarchySeriesFocus(t,e);return}let{focus:i,seriesRect:n,series:r}=this,o=r.filter(c=>c.visible);if(o.length===0)return;i.seriesIndex=Ce(0,i.seriesIndex,o.length-1),i.series=o[i.seriesIndex];let{datumIndex:s,seriesIndex:a}=i,l=i.series.pickFocus({datumIndex:s,datumIndexDelta:e,otherIndex:a,otherIndexDelta:t,seriesRect:n});this.updatePickedFocus(l)}handleHierarchySeriesFocus(t,e){this.focus.series=this.series[0];let{focus:{series:i,seriesIndex:n,datumIndex:r},seriesRect:o}=this;if(i===void 0)return;let s=i.pickFocus({datumIndex:r,datumIndexDelta:e,otherIndex:n,otherIndexDelta:t,seriesRect:o});this.updatePickedFocus(s)}updatePickedFocus(t){let{focus:e}=this;if(t===void 0||e.series===void 0)return;let{datum:i,datumIndex:n}=t;e.datumIndex=n,e.datum=i;let r=rO(this.ctx.focusIndicator,t);if(r!==void 0){let o=e.series.getTooltipHtml(i),s=Zg.makeTooltipMeta(r,i),a=this.getDatumAriaText(i,o);this.ctx.highlightManager.updateHighlight(this.id,i),this.ctx.tooltipManager.updateTooltip(this.id,s,o),this.ctx.ariaAnnouncementService.announceValue("ariaAnnounceHoverDatum",{datum:a})}}onSubmit(t){let{series:e,datum:i}=this.focus,n=t.sourceEvent.sourceEvent;e!==void 0&&i!==void 0?e.fireNodeClickEvent(n,i):this.chart.fireEvent({type:"click",event:n}),t.preventDefault()}getDatumAriaText(t,e){let i=e.ariaLabel;return t.series.getDatumAriaText?.(t,i)??i}},O8=class extends Ni{constructor(t,e,i,n){super(),this.id=t,this.chart=e,this.ctx=i,this.highlight=n,this.series=[],this.hoverScheduler=rL(()=>{if(this.pendingHoverEvent){if(this.chart.performUpdateType<=4){this.hoverScheduler.schedule();return}this.handleHover(!1)}});let r=this.ctx.regionManager.getRegion("series"),o=this.ctx.regionManager.getRegion("horizontal-axes"),s=this.ctx.regionManager.getRegion("vertical-axes"),a=20;this.destroyFns.push(this.ctx.layoutService.addListener("layout-complete",l=>this.layoutComplete(l)),this.ctx.highlightManager.addListener("highlight-change",l=>this.changeHighlightDatum(l)),r.addListener("hover",l=>this.onHover(l),a),r.addListener("drag",l=>this.onHover(l),a),o.addListener("hover",l=>this.onHover(l)),s.addListener("hover",l=>this.onHover(l)),this.ctx.domManager.addListener("resize",()=>this.clearHighlight()),r.addListener("leave",()=>this.clearHighlight(),a),r.addListener("blur",()=>this.clearHighlight()),this.ctx.animationManager.addListener("animation-start",()=>this.clearHighlight()),this.ctx.zoomManager.addListener("zoom-pan-start",()=>this.clearHighlight()),this.ctx.zoomManager.addListener("zoom-change",()=>this.clearHighlight()))}seriesChanged(t){this.series=t}dataChanged(){this.stashedHoverEvent??(this.stashedHoverEvent=this.appliedHoverEvent),this.clearHighlight()}preSceneRender(){this.stashedHoverEvent!=null&&(this.pendingHoverEvent=this.stashedHoverEvent,this.stashedHoverEvent=void 0,this.handleHover(!0))}update(t,e){this.ctx.updateService.update(t,e)}layoutComplete(t){this.hoverRect=t.series.paddedRect}clearHighlight(){this.pendingHoverEvent=void 0,this.appliedHoverEvent=void 0,this.ctx.highlightManager.updateHighlight(this.id)}onHover(t){this.pendingHoverEvent=t,this.hoverScheduler.schedule()}handleHover(t){this.appliedHoverEvent=this.pendingHoverEvent,this.pendingHoverEvent=void 0;let e=this.appliedHoverEvent;if(!e)return;let i=this.ctx.interactionManager.getState();if(i!==16&&i!==4)return;let{offsetX:n,offsetY:r}=e;if(t?this.ctx.animationManager.isActive():!this.hoverRect?.containsPoint(n,r)){this.clearHighlight();return}let{range:o}=this.highlight,s=o==="tooltip"?"highlight-tooltip":"highlight",a=Xc(this.series,{x:e.offsetX,y:e.offsetY},s);if(a){this.ctx.highlightManager.updateHighlight(this.id,a.datum);return}this.ctx.highlightManager.updateHighlight(this.id)}changeHighlightDatum(t){let e=new Set,{series:i=void 0,datum:n}=t.currentHighlight??{},{series:r=void 0,datum:o}=t.previousHighlight??{};r&&e.add(r),i&&e.add(i),r?.properties.cursor&&o&&this.ctx.cursorManager.updateCursor(r.id),i?.properties.cursor&&i?.properties.cursor!=="default"&&n&&this.ctx.cursorManager.updateCursor(i.id,i.properties.cursor),i==null||r==null?this.update(4):this.update(4,{seriesToUpdate:e})}},P8=class extends Ni{constructor(t,e,i,n){super(),this.id=t,this.chart=e,this.ctx=i,this.tooltip=n,this.series=[],this.hoverScheduler=rL(()=>{if(this.lastHover){if(this.chart.performUpdateType<=4){this.hoverScheduler.schedule();return}this.handleHover(this.lastHover,!1)}});let r=this.ctx.regionManager.getRegion("series"),o=this.ctx.regionManager.getRegion("horizontal-axes"),s=this.ctx.regionManager.getRegion("vertical-axes");this.destroyFns.push(this.ctx.layoutService.addListener("layout-complete",a=>this.layoutComplete(a)),r.addListener("hover",a=>this.onHover(a),20),o.addListener("hover",a=>this.onHover(a)),s.addListener("hover",a=>this.onHover(a)),r.addListener("leave",()=>this.clearTooltip()),r.addListener("blur",()=>this.clearTooltip()),r.addListener("contextmenu",()=>this.clearTooltip(),31),o.addListener("leave",()=>this.clearTooltip()),s.addListener("leave",()=>this.clearTooltip()),this.ctx.animationManager.addListener("animation-start",()=>this.clearTooltip()),this.ctx.domManager.addListener("resize",()=>this.clearTooltip()),this.ctx.zoomManager.addListener("zoom-pan-start",()=>this.clearTooltip()),this.ctx.zoomManager.addListener("zoom-change",()=>this.clearTooltip()))}seriesChanged(t){this.series=t}dataChanged(){this.ctx.tooltipManager.removeTooltip(this.id)}preSceneRender(){this.lastHover!=null&&this.handleHover(this.lastHover,!0)}layoutComplete(t){this.hoverRect=t.series.paddedRect}onHover(t){this.lastHover=t,this.hoverScheduler.schedule()}clearTooltip(){this.ctx.tooltipManager.removeTooltip(this.id),this.lastHover=void 0}handleHover(t,e){let i=this.ctx.interactionManager.getState();if(i!==16&&i!==4)return;let{offsetX:n,offsetY:r,targetElement:o}=t;if(e?this.ctx.animationManager.isActive():!this.hoverRect?.containsPoint(n,r)){this.clearTooltip();return}if(o&&this.tooltip.interactive&&this.ctx.domManager.isManagedChildDOMElement(o,"canvas-overlay",lo))return;let s=Xc(this.series,{x:n,y:r},"tooltip");if(!s){this.clearTooltip();return}let a=s.series.getTooltipHtml(s.datum);if(this.tooltip.enabled&&s.series.tooltipEnabled&&a!=null){let d=Zg.makeTooltipMeta(t,s.datum);this.ctx.tooltipManager.updateTooltip(this.id,d,a)}}},F8=class extends Ni{constructor(t,e,i,n,r,o){super(),this.ctx=e,this.id=lr(this),this.series=[],this.subManagers=[new L8(this.id,t,e,i,o),new O8(this.id,t,e,r),new P8(this.id,t,e,n),new N8(this.id,t,e)];let s=this.ctx.regionManager.getRegion("series");this.destroyFns.push(()=>this.subManagers.forEach(a=>a.destroy()),s.addListener("contextmenu",a=>this.onContextMenu(a),31),this.ctx.updateService.addListener("pre-scene-render",()=>this.preSceneRender()))}dataChanged(){for(let t of this.subManagers)t.dataChanged?.()}preSceneRender(){for(let t of this.subManagers)t.preSceneRender?.()}seriesChanged(t){this.series=t;for(let e of this.subManagers)e.seriesChanged(t)}onContextMenu(t){let{Default:e,ContextMenu:i}=Ph,n;if(this.ctx.interactionManager.getState()&(e|i)){let r=Xc(this.series,{x:t.offsetX,y:t.offsetY},"context-menu");r&&(this.ctx.highlightManager.updateHighlight(this.id),n=r.datum)}this.ctx.contextMenuRegistry.dispatchContext("series",t,{pickedNode:n})}},Bk=30,j8=class{constructor(t,e,i){this.seriesRoot=t,this.highlightRoot=e,this.annotationRoot=i,this.groups={},this.series={},this.expectedSeriesCount=1,this.mode="normal"}setSeriesCount(t){this.expectedSeriesCount=t}requestGroup(t){var e,i;let{internalId:n,type:r,rootGroup:o,highlightGroup:s,annotationGroup:a,seriesGrouping:l}=t,{groupIndex:c=n}=l??{};if(this.series[n]!=null)throw new Error(`AG Charts - series already has an allocated layer: ${this.series[n]}`);Object.keys(this.series).length===0&&(this.mode=this.expectedSeriesCount>=Bk?"aggressive-grouping":"normal"),(e=this.groups)[r]??(e[r]={});let d=this.lookupIdx(c),u=this.groups[r][d];return u||(u=(i=this.groups[r])[d]??(i[d]={type:r,id:d,seriesIds:[],group:this.seriesRoot.appendChild(new fe({name:`${r}-content`,layer:!0,zIndex:4,zIndexSubOrder:t.getGroupZIndexSubOrder("data")})),highlight:this.highlightRoot.appendChild(new fe({name:`${r}-highlight`,zIndex:4,zIndexSubOrder:t.getGroupZIndexSubOrder("highlight")})),annotation:this.annotationRoot.appendChild(new fe({name:`${r}-annotation`,zIndex:4,zIndexSubOrder:t.getGroupZIndexSubOrder("annotation")}))})),this.series[n]={layerState:u,seriesConfig:t},u.seriesIds.push(n),u.group.appendChild(o),u.highlight.appendChild(s),u.annotation.appendChild(a),u.group}changeGroup(t){let{internalId:e,seriesGrouping:i,type:n,rootGroup:r,highlightGroup:o,annotationGroup:s,oldGrouping:a}=t,{groupIndex:l=e}=i??{};this.groups[n]?.[l]?.seriesIds.includes(e)||(this.series[e]!=null&&this.releaseGroup({internalId:e,seriesGrouping:a,type:n,rootGroup:r,highlightGroup:o,annotationGroup:s}),this.requestGroup(t))}releaseGroup(t){let{internalId:e,rootGroup:i,highlightGroup:n,annotationGroup:r,type:o}=t;if(this.series[e]==null)throw new Error(`AG Charts - series doesn't have an allocated layer: ${e}`);let s=this.series[e]?.layerState;if(s&&(s.seriesIds=s.seriesIds.filter(a=>a!==e),s.group.removeChild(i),s.highlight.removeChild(n),s.annotation.removeChild(r)),s?.seriesIds.length===0)this.seriesRoot.removeChild(s.group),this.highlightRoot.removeChild(s.highlight),this.annotationRoot.removeChild(s.annotation),delete this.groups[s.type][s.id],delete this.groups[o][e];else if(s?.seriesIds.length>0){let a=this.series[s?.seriesIds?.[0]]?.seriesConfig;s.group.zIndexSubOrder=a?.getGroupZIndexSubOrder("data"),s.highlight.zIndexSubOrder=a?.getGroupZIndexSubOrder("highlight"),s.annotation.zIndexSubOrder=a?.getGroupZIndexSubOrder("annotation")}delete this.series[e]}lookupIdx(t){return this.mode==="normal"?t:typeof t=="string"&&(t=Number(t.split("-").at(-1)),!t)?0:Math.floor(Ce(0,t/this.expectedSeriesCount,1)*Bk)}destroy(){for(let t of Object.values(this.groups))for(let e of Object.values(t))this.seriesRoot.removeChild(e.group),this.highlightRoot.removeChild(e.highlight),this.annotationRoot.removeChild(e.annotation);this.groups={},this.series={}}},B8=class{constructor(t,e){this.chartLike=t,this.layoutService=e,this.destroyFns=[],this.destroyFns.push(this.layoutService.addListener("start-layout",i=>this.positionPadding(i)),this.layoutService.addListener("layout-complete",i=>this.alignCaptions(i)),this.layoutService.addListener("start-layout",i=>this.positionCaptions(i)))}destroy(){this.destroyFns.forEach(t=>t())}positionPadding(t){let{shrinkRect:e}=t,{padding:i}=this.chartLike;return e.shrink(i.left,"left"),e.shrink(i.top,"top"),e.shrink(i.right,"right"),e.shrink(i.bottom,"bottom"),L(C({},t),{shrinkRect:e})}positionCaptions(t){let{shrinkRect:e,positions:i,padding:n}=t,{title:r,subtitle:o,footnote:s,titlePadding:a}=this.chartLike,l=e.clone().shrink(a),c=e.clone(),d=p=>{let m=e.height/10,b=p.lineHeight??p.fontSize*_t.defaultLineHeightRatio,g=e.width,v=Math.max(b,m);p.computeTextWrap(g,v)},u=p=>p==="left"?l.x:p==="right"?l.x+l.width:(p!=="center"&&Y.error(`invalid textAlign value: ${p}`),l.x+l.width/2),h=(p,m)=>{let b=l.y;p.node.x=u(p.textAlign),p.node.y=b,p.node.textBaseline="top",d(p);let g=p.node.getBBox(),v=Math.ceil(g.y-b+g.height+m);return p.layoutStyle==="block"&&(c.shrink(v+2*a,"top"),l.shrink(v,"top")),g},f=(p,m)=>{let b=l.y+l.height;p.node.x=u(p.textAlign),p.node.y=b,p.node.textBaseline="bottom",d(p);let g=p.node.getBBox(),v=Math.ceil(b-g.y+m);return p.layoutStyle==="block"&&(c.shrink(v+2*a,"bottom"),l.shrink(v,"bottom")),g};if(r.node.visible=r.enabled,o.node.visible=o.enabled,s.node.visible=s.enabled,r.enabled){let{spacing:p=o.enabled?Mt.SMALL_PADDING:Mt.LARGE_PADDING}=r;i.title=h(r,p)}return o.enabled&&(i.subtitle=h(o,o.spacing??0)),s.enabled&&(i.footnote=f(s,s.spacing??0)),n.title=a,L(C({},t),{shrinkRect:c,positions:i})}alignCaptions(t){let{rect:e}=t.series,{title:i,subtitle:n,footnote:r,titlePadding:o}=this.chartLike;for(let s of[i,n,r])if(s.layoutStyle==="overlay"){if(s.textAlign==="left")s.node.x=e.x+o;else if(s.textAlign==="right"){let a=s.node.getBBox();s.node.x=e.x+e.width-a.width-o}}}},z8=class{constructor(t,e,i,n){this.chart=t,this.dataService=e,this.updateService=i,this.zoomManager=n,this.dirtyZoom=!1,this.dirtyDataSource=!1,this.lastAxisZooms=new Map,this.destroyFns=[],this.destroyFns.push(this.dataService.addListener("data-source-change",()=>this.onDataSourceChange()),this.dataService.addListener("data-load",()=>this.onDataLoad()),this.dataService.addListener("data-error",()=>this.onDataError()),this.updateService.addListener("update-complete",()=>this.onUpdateComplete()),this.zoomManager.addListener("zoom-change",()=>this.onZoomChange()))}destroy(){this.destroyFns.forEach(t=>t())}onDataLoad(){this.updateService.update(1)}onDataError(){this.updateService.update(3)}onDataSourceChange(){this.dirtyDataSource=!0}onUpdateComplete(){!this.dirtyZoom&&!this.dirtyDataSource||this.updateWindow().catch(t=>Y.errorOnce(t))}onZoomChange(){this.dirtyZoom=!0}updateWindow(){return j(this,null,function*(){if(!this.dataService.isLazy())return;let t=this.getValidAxis(),e,i=!0;if(t){let n=this.zoomManager.getAxisZoom(t.id);e=this.getAxisWindow(t,n),i=this.shouldRefresh(t,n)}this.dirtyZoom=!1,this.dirtyDataSource=!1,i&&this.dataService.load({windowStart:e?.min,windowEnd:e?.max})})}getValidAxis(){return this.chart.axes.find(t=>t.type==="time")}shouldRefresh(t,e){if(this.dirtyDataSource)return!0;if(!this.dirtyZoom)return!1;let i=this.lastAxisZooms.get(t.id);return i&&e.min===i.min&&e.max===i.max?!1:(this.lastAxisZooms.set(t.id,e),!0)}getAxisWindow(t,e){let i=t.scale.getDomain?.();if(!e||!i||i.length===0||isNaN(Number(i[0])))return;let n=Number(i[1])-Number(i[0]),r=new Date(Number(i[0])+n*e.min),o=new Date(Number(i[0])+n*e.max);return{min:r,max:o}}},V8=class{constructor(t,e,i,n,r,o,s){this.chartLike=t,this.overlays=e,this.dataService=i,this.layoutService=n,this.localeManager=r,this.animationManager=o,this.domManager=s,this.destroyFns=[],this.overlayElem=this.domManager.addChild("canvas-overlay","overlay"),this.overlayElem.role="status",this.overlayElem.ariaAtomic="false",this.overlayElem.ariaLive="polite",this.overlayElem.classList.toggle(B_),this.destroyFns.push(this.layoutService.addListener("layout-complete",a=>this.onLayoutComplete(a)))}destroy(){this.destroyFns.forEach(t=>t()),this.domManager.removeStyles("overlays"),this.domManager.removeChild("canvas-overlay","overlay")}onLayoutComplete({series:{rect:t}}){let e=this.dataService.isLoading(),i=this.chartLike.series.some(r=>r.hasData),n=this.chartLike.series.some(r=>r.visible);this.overlays.darkTheme?this.overlayElem.classList.add(jk):this.overlayElem.classList.remove(jk),this.overlayElem.style.left=`${t.x}px`,this.overlayElem.style.top=`${t.y}px`,this.overlayElem.style.width=`${t.width}px`,this.overlayElem.style.height=`${t.height}px`,this.toggleOverlay(this.overlays.loading,t,e),this.toggleOverlay(this.overlays.noData,t,!e&&!i),this.toggleOverlay(this.overlays.noVisibleSeries,t,i&&!n)}toggleOverlay(t,e,i){if(this.overlayElem.ariaHidden=(!i).toString(),i){let n=t.getElement(this.animationManager,this.localeManager,e);this.overlayElem.appendChild(n)}else t.removeElement(()=>{this.overlayElem.innerText="\xA0"},this.animationManager)}},Rr=gt.create(!0,"opts"),WM=class extends Ne{constructor(){super(...arguments),this.padding=new aa(0)}};y([x(ve,{optional:!0})],WM.prototype,"clip",2);y([x(ae)],WM.prototype,"padding",2);var ti=class oO extends nL{constructor(e,i){var n;super(),this.id=lr(this),this.seriesRoot=new fe({name:`${this.id}-series-root`}),this.highlightRoot=new fe({name:`${this.id}-highlight-root`,layer:!0,zIndex:5,nonEmptyChildDerivedZIndex:!0}),this.annotationRoot=new fe({name:`${this.id}-annotation-root`,layer:!0,zIndex:10}),this.debug=gt.create(),this.extraDebugStats={},this.data=[],this._firstAutoSize=!0,this.padding=new aa(20),this.titlePadding=0,this.seriesArea=new WM,this.title=new Mt,this.subtitle=new Mt,this.footnote=new Mt,this.keyboard=new BM,this.mode="standalone",this.destroyed=!1,this._skipSync=!1,this._destroyFns=[],this.chartAnimationPhase="initial",this.modulesManager=new x8,this.zoomManager=new UL,this.processors=[],this.queuedUserOptions=[],this._pendingFactoryUpdatesCount=0,this._performUpdateNoRenderCount=0,this._performUpdateSkipAnimations=!1,this.performUpdateType=7,this.updateShortcutCount=0,this.seriesToUpdate=new Set,this.updateMutex=new lY,this.updateRequestors={},this.performUpdateTrigger=cY(f=>j(this,[f],function*({count:h}){this.destroyed||this.updateMutex.acquire(()=>j(this,null,function*(){try{yield this.performUpdate(h)}catch(p){Y.error("update error",p)}})).catch(p=>Y.errorOnce(p))})),this._performUpdateSplits={},this.axes=[],this.series=[],this.onSeriesNodeClick=h=>{let f=L(C({},h),{type:"seriesNodeClick"});Object.defineProperty(f,"series",{enumerable:!1,get:()=>h.series}),this.fireEvent(f)},this.onSeriesNodeDoubleClick=h=>{let f=L(C({},h),{type:"seriesNodeDoubleClick"});this.fireEvent(f)},this.seriesGroupingChanged=h=>{if(!(h instanceof $M))return;let{series:f,seriesGrouping:p,oldGrouping:m}=h;f.rootGroup.parent!=null&&this.seriesLayerManager.changeGroup({internalId:f.internalId,type:f.type,rootGroup:f.rootGroup,highlightGroup:f.highlightGroup,annotationGroup:f.annotationGroup,getGroupZIndexSubOrder:b=>f.getGroupZIndexSubOrder(b),seriesGrouping:p,oldGrouping:m})},this.dataProcessListeners=new Set,this.chartOptions=e;let r=i?.scene,o=i?.container,s=new fe({name:"root"}),a=new fe({name:"titles",layer:!0,zIndex:8});s.visible=!1,s.append(a),s.append(this.seriesRoot),s.append(this.highlightRoot),s.append(this.annotationRoot),a.append(this.title.node),a.append(this.subtitle.node),a.append(this.footnote.node);let{overrideDevicePixelRatio:l}=e.specialOverrides;this.tooltip=new ur,this.seriesLayerManager=new j8(this.seriesRoot,this.highlightRoot,this.annotationRoot);let c=this.ctx=new WY(this,{scene:r,root:s,syncManager:new u8(this),container:o,updateCallback:(h=0,f)=>this.update(h,f),updateMutex:this.updateMutex,overrideDevicePixelRatio:l});this._destroyFns.push(c.domManager.addListener("resize",()=>this.parentResize(c.domManager.containerSize))),this.overlays=new jh,(n=this.overlays.loading).renderer??(n.renderer=()=>_8(this.overlays.loading.getText(c.localeManager),c.animationManager.defaultDuration)),this.processors=[new B8(this,c.layoutService),new z8(this,c.dataService,c.updateService,c.zoomManager),new V8(this,this.overlays,c.dataService,c.layoutService,c.localeManager,c.animationManager,c.domManager)],this.highlight=new RL,this.container=o;let d=this.getModuleContext();c.regionManager.addRegion("series",this.seriesRoot,this.ctx.axisManager.axisGridGroup),c.regionManager.addRegion("horizontal-axes"),c.regionManager.addRegion("vertical-axes");let u=this;this.seriesAreaManager=new F8({fireEvent:this.fireEvent.bind(u),get performUpdateType(){return u.performUpdateType}},c,this.getChartType(),this.tooltip,this.highlight,this.overlays),c.regionManager.addRegion("root",s),this._destroyFns.push(c.dataService.addListener("data-load",h=>{this.data=h.data}),this.title.registerInteraction(d),this.subtitle.registerInteraction(d),this.footnote.registerInteraction(d),c.interactionManager.addListener("page-left",()=>this.destroy()),c.animationManager.addListener("animation-frame",()=>{this.update(6)}),c.zoomManager.addListener("zoom-change",()=>{this.series.map(f=>f.animationState?.transition("updateData"));let h=this.chartAnimationPhase!=="initial";this.update(3,{forceNodeDataRefresh:!0,skipAnimations:h})})),this.parentResize(c.domManager.containerSize)}static getInstance(e){return oO.chartsInstances.get(e)}get canvasElement(){return this.ctx.scene.canvas.element}download(e,i){this.ctx.scene.download(e,i)}getCanvasDataURL(e){return this.ctx.scene.getDataURL(e)}getOptions(){return this.queuedUserOptions.at(-1)??this.chartOptions.userOptions}getModuleContext(){return this.ctx}getCaptionText(){return[this.title,this.subtitle,this.footnote].filter(e=>e.enabled&&e.text).map(e=>e.text).join(". ")}getAriaLabel(){return this.ctx.localeManager.t("ariaAnnounceChart",{seriesCount:this.series.length})}resetAnimations(){this.chartAnimationPhase="initial";for(let e of this.series)e.resetAnimation(this.chartAnimationPhase);for(let e of this.axes)e.resetAnimation(this.chartAnimationPhase);this.animationRect=void 0,this.ctx.animationManager.reset()}skipAnimations(){this.ctx.animationManager.skipCurrentBatch(),this._performUpdateSkipAnimations=!0}destroy(e){if(this.destroyed)return;let i=e?.keepTransferableResources,n;return this.performUpdateType=7,this._destroyFns.forEach(r=>r()),this.processors.forEach(r=>r.destroy()),this.tooltip.destroy(this.ctx.domManager),this.overlays.destroy(),this.modulesManager.destroy(),i?(this.ctx.scene.strip(),n={container:this.container,scene:this.ctx.scene}):(this.ctx.scene.destroy(),this.container=void 0),this.destroySeries(this.series),this.seriesLayerManager.destroy(),this.axes.forEach(r=>r.destroy()),this.axes=[],this.animationRect=void 0,this.ctx.destroy(),this.zoomManager.destroy(),this.destroyed=!0,Object.freeze(this),n}requestFactoryUpdate(e){this.destroyed||(this._pendingFactoryUpdatesCount++,this.updateMutex.acquire(()=>j(this,null,function*(){this.destroyed||(yield e(this),!this.destroyed&&this._pendingFactoryUpdatesCount--)})).catch(i=>Y.errorOnce(i)))}update(e=0,i){let{forceNodeDataRefresh:n=!1,skipAnimations:r,seriesToUpdate:o=this.series,newAnimationBatch:s}=i??{};n&&this.series.forEach(a=>a.markNodeDataDirty());for(let a of o)this.seriesToUpdate.add(a);if(r&&(this.ctx.animationManager.skipCurrentBatch(),this._performUpdateSkipAnimations=!0),s&&this.ctx.animationManager.isActive()&&(this._performUpdateSkipAnimations=!0),this._skipSync=i?.skipSync??!1,this.debug.check()){let a=new Error().stack??"<unknown>";a=a.replace(/\([^)]*/g,""),this.updateRequestors[a]=e}e<this.performUpdateType&&(this.performUpdateType=e,this.performUpdateTrigger.schedule(i?.backOffMs))}performUpdate(e){return j(this,null,function*(){let{performUpdateType:i,extraDebugStats:n,_performUpdateSplits:r,ctx:o}=this,s=[...this.seriesToUpdate];this.performUpdateType=7,this.seriesToUpdate.clear(),this.updateShortcutCount===0&&i<6&&(o.animationManager.startBatch(this._performUpdateSkipAnimations),o.animationManager.onBatchStop(()=>this.chartAnimationPhase="ready")),this.debug("Chart.performUpdate() - start",th[i]);let a=performance.now();r.start??(r.start=a);let l=u=>{r[u]??(r[u]=0),r[u]+=performance.now()-a,a=performance.now()},c=!1;switch(i){case 0:this.updateDOM();case 1:yield this.updateData(),l("\u2B07\uFE0F");case 2:yield this.processData(),this.seriesAreaManager.dataChanged(),l("\u{1F3ED}");case 3:if(this.checkUpdateShortcut(3))break;if(!this.checkFirstAutoSize(s)){c=!0;break}yield this.processLayout(),l("\u2316");case 4:if(this.checkUpdateShortcut(4))break;let{seriesRect:u}=this;yield Promise.all(s.map(h=>h.update({seriesRect:u}))),l("\u{1F914}");case 5:if(this.checkUpdateShortcut(5))break;o.updateService.dispatchPreSceneRender(this.getMinRects()),l("\u2196");case 6:if(this.checkUpdateShortcut(6))break;o.animationManager.endBatch(),n.updateShortcutCount=this.updateShortcutCount,yield o.scene.render({debugSplitTimes:r,extraDebugStats:n,seriesRect:this.seriesRect}),this.extraDebugStats={};for(let h in r)delete r[h];this.ctx.domManager.incrementDataCounter("sceneRenders");case 7:this.updateShortcutCount=0,this.updateRequestors={},this._performUpdateSkipAnimations=!1,o.animationManager.endBatch()}c||o.updateService.dispatchUpdateComplete(this.getMinRects());let d=performance.now();this.debug("Chart.performUpdate() - end",{chart:this,durationMs:Math.round((d-r.start)*100)/100,count:e,performUpdateType:th[i]})})}updateThemeClassName(){let{theme:e}=this.chartOptions.processedOptions,i="ag-charts-theme-",n=[`${i}default`,`${i}default-dark`],r=n[0],o=!1;typeof e=="string"?(r=e.replace("ag-",i),o=e.includes("-dark")):typeof e?.baseTheme=="string"&&(r=e.baseTheme.replace("ag-",i),o=e.baseTheme.includes("-dark")),n.includes(r)||(r=o?n[1]:n[0]),this.ctx.domManager.setThemeClass(r)}updateDOM(){this.updateThemeClassName();let{enabled:e,tabIndex:i}=this.keyboard;this.ctx.domManager.setTabIndex(e?i??0:-1),bl(this.ctx.scene.canvas.element,"role","img"),bl(this.ctx.scene.canvas.element,"aria-label",this.getAriaLabel())}checkUpdateShortcut(e){return this.updateShortcutCount>3?(Y.warn("exceeded the maximum number of simultaneous updates (4), discarding changes and rendering",this.updateRequestors),!1):this.performUpdateType<=e?(this.updateShortcutCount++,!0):!1}checkFirstAutoSize(e){if(!(this.width!=null&&this.height!=null)){if(!this._lastAutoSize){let i=this._performUpdateNoRenderCount++,n=(i+1)**2*40;if(i<8)return this.update(3,{seriesToUpdate:e,backOffMs:n}),this.debug("Chart.checkFirstAutoSize() - backing off until first size update",n),!1;this.debug("Chart.checkFirstAutoSize() - timeout for first size update.")}}return this._performUpdateNoRenderCount=0,!0}onAxisChange(e,i){i==null&&e.length===0||this.ctx.axisManager.updateAxes(i??[],e)}onSeriesChange(e,i){let n=i?.filter(r=>!e.includes(r))??[];this.destroySeries(n),this.seriesLayerManager?.setSeriesCount(e.length);for(let r of e){if(i?.includes(r))continue;r.rootGroup.parent==null&&this.seriesLayerManager.requestGroup(r);let o=this;r.chart={get mode(){return o.mode},get isMiniChart(){return!1},get seriesRect(){return o.seriesRect},placeLabels(){return o.placeLabels()}},r.resetAnimation(this.chartAnimationPhase),this.addSeriesListeners(r),r.addChartEventListeners()}this.seriesAreaManager?.seriesChanged(e)}destroySeries(e){e?.forEach(i=>{i.removeEventListener("nodeClick",this.onSeriesNodeClick),i.removeEventListener("nodeDoubleClick",this.onSeriesNodeDoubleClick),i.removeEventListener("groupingChanged",this.seriesGroupingChanged),i.destroy(),this.seriesLayerManager.releaseGroup(i),i.chart=void 0})}addSeriesListeners(e){this.hasEventListener("seriesNodeClick")&&e.addEventListener("nodeClick",this.onSeriesNodeClick),this.hasEventListener("seriesNodeDoubleClick")&&e.addEventListener("nodeDoubleClick",this.onSeriesNodeDoubleClick),e.addEventListener("groupingChanged",this.seriesGroupingChanged)}updateAllSeriesListeners(){this.series.forEach(e=>{e.removeEventListener("nodeClick",this.onSeriesNodeClick),e.removeEventListener("nodeDoubleClick",this.onSeriesNodeDoubleClick),this.addSeriesListeners(e)})}assignSeriesToAxes(){this.axes.forEach(e=>{e.boundSeries=this.series.filter(i=>i.axes[e.direction]===e)})}assignAxesToSeries(){let e=_M(this.axes,i=>i.direction);this.series.forEach(i=>{i.directions.forEach(n=>{let r=e[n];if(!r){Y.warnOnce(`no available axis for direction [${n}]; check series and axes configuration.`);return}let o=i.getKeys(n),s=r.find(a=>!a.keys.length||o.some(l=>a.keys.includes(l)));if(!s){Y.warnOnce(`no matching axis for direction [${n}] and keys [${o}]; check series and axes configuration.`);return}i.axes[n]=s})})}parentResize(e){if(e==null||this.width!=null&&this.height!=null)return;let{width:i,height:n}=e;if(i=Math.floor(i),n=Math.floor(n),i===0&&n===0)return;let[r=0,o=0]=this._lastAutoSize??[];r===i&&o===n||(this._lastAutoSize=[i,n],this.resize("SizeMonitor",{}))}resize(e,i){let{scene:n,animationManager:r}=this.ctx,{inWidth:o,inHeight:s,inMinWidth:a,inMinHeight:l}=i;this.ctx.domManager.setSizeOptions(a??this.minWidth,l??this.minHeight,o??this.width,s??this.height);let c=o??this.width??this._lastAutoSize?.[0],d=s??this.height??this._lastAutoSize?.[1];if(this.debug(`Chart.resize() from ${e}`,{width:c,height:d,stack:new Error().stack}),!(c==null||d==null||!We(c)||!We(d))&&n.resize(c,d)){r.reset();let u=!0;(this.width==null||this.height==null)&&this._firstAutoSize&&(u=!1,this._firstAutoSize=!1),this.update(3,{forceNodeDataRefresh:!0,skipAnimations:u})}}updateData(){return j(this,null,function*(){this.series.forEach(i=>i.setChartData(this.data));let e=this.modulesManager.mapModules(i=>i.updateData?.({data:this.data}));yield Promise.all(e)})}processData(){return j(this,null,function*(){if(this.series.some(r=>r.canHaveAxes)){this.assignAxesToSeries();let r=this.modulesManager.getModule("sync");r?.enabled?r.syncAxes(this._skipSync):this.assignSeriesToAxes()}let e=new BL(this.mode),i=this.series.map(r=>r.processData(e)),n=this.modulesManager.mapModules(r=>r.processData?.({dataController:e}));e.execute(),yield Promise.all([...i,...n]);for(let{legendType:r,legend:o}of this.modulesManager.legends())o.data=this.getLegendData(r,this.mode!=="integrated");this.dataProcessListeners.forEach(r=>r()),this.dataProcessListeners.clear()})}placeLabels(){let e=[],i=[];for(let c of this.series){if(!c.visible)continue;let d=c.getLabelData();PW(d?.[0])&&(i.push(d),e.push(c))}let{seriesRect:n}=this,{top:r,right:o,bottom:s,left:a}=this.seriesArea.padding,l=n&&i.length>0?jW(i,{x:-a,y:-r,width:n.width+a+o,height:n.height+r+s}):[];return new Map(l.map((c,d)=>[e[d],c]))}getLegendData(e,i){var n;let r=this.series.filter(s=>s.properties.showInLegend).flatMap(s=>s.getLegendData(e));if(i&&(s=>s.every(a=>a.legendType==="category"))(r)){let s={},a=new Map(this.series.map(l=>[l.id,l.type]));for(let{seriesId:l,symbols:[{marker:c}],label:d}of r){if(c.fill==null)continue;let u=a.get(l),h=s[u]??(s[u]={});h[n=d.text]??(h[n]=c.fill),h[d.text]!==c.fill&&Y.warnOnce(`legend item '${d.text}' has multiple fill colors, this may cause unexpected behaviour.`)}}return r}processLayout(){return j(this,null,function*(){let e=this.animationRect;yield this.performLayout(),e&&!this.animationRect?.equals(e)&&this.ctx.animationManager.skipCurrentBatch(),this.debug("Chart.performUpdate() - seriesRect",this.seriesRect)})}performLayout(){return j(this,null,function*(){let{width:e,height:i}=this.ctx.scene,n={shrinkRect:new se(0,0,e,i),positions:{},padding:{}};n=this.ctx.layoutService.dispatchPerformLayout("start-layout",n),n=this.ctx.layoutService.dispatchPerformLayout("before-series",n);for(let r of this.modulesManager.modules())r.performLayout!=null&&(n=yield r.performLayout(n));return n.shrinkRect})}waitForUpdate(e=1e4,i=!1){return j(this,null,function*(){let n=performance.now();for(this._pendingFactoryUpdatesCount>0&&(yield this.updateMutex.waitForClearAcquireQueue());this.performUpdateType!==7;){if(performance.now()-n>e){let r=`Chart.waitForUpdate() timeout of ${e} reached - first chart update taking too long.`;if(i)throw new Error(r);Y.warnOnce(r)}yield aY(50)}yield this.updateMutex.waitForClearAcquireQueue()})}waitForDataProcess(e){return new Promise(i=>{this.dataProcessListeners.add(i),Cn(e)&&setTimeout(()=>{this.dataProcessListeners.has(i)&&(this.dataProcessListeners.delete(i),i())},e)})}getMinRects(){let{width:e,height:i}=this.ctx.scene,n=this.series.map(d=>d.getMinRects(e,i)).filter(dh);if(n.length===0)return;let r=0,o=0,s=0,a=0;for(let{minRect:d,minVisibleRect:u}of n)r=Math.max(r,d.width),o=Math.max(o,d.height),s=Math.max(s,u.width),a=Math.max(a,u.height);let l=new se(0,0,r,o),c=l.clone();return s>0&&a>0&&(c=new se(0,0,s,a)),{minRect:l,minVisibleRect:c}}filterMiniChartSeries(e){return e?.filter(i=>i.showInMiniChart!==!1)}applyOptions(e){let n=e!==this.chartOptions?this.chartOptions.processedOptions:{},r=e.processedOptions,o=e.diffOptions(n);if(o==null)return;Rr("Chart.applyOptions() - applying delta",o);let s=this.applyModules(r),a=["type","data","series","listeners","preset","theme","legend.listeners","navigator.miniChart.series","navigator.miniChart.label","locale.localeText","axes","topology","nodes","initialState"];o.listeners&&this.registerListeners(this,o.listeners),Vc(this,o,{skip:a});let l=!1,c="no-op";o.series!=null&&(c=this.applySeries(this,o.series,n?.series),l=!0),c==="replaced"&&this.resetAnimations(),this.applyAxes(this,r,n,c,[],!0)&&(l=!0),o.data&&(this.data=o.data),o.legend?.listeners&&this.modulesManager.isEnabled("legend")&&Object.assign(this.legend.listeners,o.legend.listeners),o.listeners&&this.updateAllSeriesListeners(),o.locale?.localeText&&(this.modulesManager.getModule("locale").localeText=o.locale?.localeText),this.chartOptions=e;let d=this.modulesManager.getModule("navigator"),u=this.modulesManager.getModule("zoom");!d?.enabled&&!u?.enabled&&this.ctx.zoomManager.updateZoom("chart");let h=d?.miniChart,f=r.navigator?.miniChart?.series??r.series;h?.enabled===!0&&f!=null?this.applyMiniChartOptions(h,f,r,n):h?.enabled===!1&&(h.series=[],h.axes=[]),this.ctx.annotationManager.setAnnotationStyles(e.annotationThemes),l||(l=this.shouldForceNodeDataRefresh(o,c));let m=l||s?0:3;this.maybeResetAnimations(c),Rr("Chart.applyOptions() - update type",th[m],{seriesStatus:c,forceNodeDataRefresh:l}),this.update(m,{forceNodeDataRefresh:l,newAnimationBatch:!0}),o.initialState&&this.applyInitialState(e.userOptions.initialState)}applyInitialState(e){let{ctx:{annotationManager:i,stateManager:n}}=this;if(e?.annotations!=null){let r=e.annotations.map(o=>{let s=i.getAnnotationTypeStyles(o.type);return Be(o,s)});n.setState(i,r)}}maybeResetAnimations(e){if(this.mode==="standalone")switch(e){case"series-grouping-change":case"replaced":this.resetAnimations();break;default:}}shouldForceNodeDataRefresh(e,i){let n=!!e.data||i==="data-change"||i==="replaced",r=FM.getKeys(),o=Object.values(r).some(a=>e[a]!=null),s=e.title!=null&&e.subtitle!=null;return n||o||s}applyMiniChartOptions(e,i,n,r){let o=r?.navigator?.miniChart?.series??r?.series,s=this.applySeries(e,this.filterMiniChartSeries(i),this.filterMiniChartSeries(o));this.applyAxes(e,n,r,s,["axes[].tick","axes[].thickness","axes[].title","axes[].crosshair","axes[].gridLine","axes[].label"]);let a=e.axes,l=a.find(c=>c.direction==="x");for(let c of a)c.gridLine.enabled=!1,c.label.enabled=c===l,c.tick.enabled=!1,c.interactionEnabled=!1;if(l!=null){let c=n.navigator?.miniChart,d=c?.label,u=c?.label?.interval;l.line.enabled=!1,l.label.set(M_(d,["interval","rotation","minSpacing","autoRotate","autoRotateAngle"])),l.tick.set(M_(u,["enabled","width","size","color","interval","step"]));let h=u?.step;h!=null&&(l.interval.step=h)}}applyModules(e){let{type:i}=this.constructor,n=!1;for(let r of Zs.byType("root","legend")){let s=e[r.optionsKey]!=null&&r.chartTypes.includes(i);s!==this.modulesManager.isEnabled(r)&&(s?(this.modulesManager.addModule(r,a=>a.moduleFactory(this.getModuleContext())),r.type==="legend"&&this.modulesManager.getModule(r)?.attachLegend(this.ctx.scene),this[r.optionsKey]=this.modulesManager.getModule(r)):(this.modulesManager.removeModule(r),delete this[r.optionsKey]),n=!0)}return n}applySeries(e,i,n){if(!i)return"no-change";let r=g8(e.series,i,n);if(r.status==="no-overlap")return Rr(`Chart.applySeries() - creating new series instances, status: ${r.status}`,r),e.series=i.map(c=>this.createSeries(c)),"replaced";Rr("Chart.applySeries() - matchResult",r);let o=[],s=!1,a=!1,l=!1;for(let c of r.changes)switch(a||(a=c.status==="series-grouping"),s||(s=c.diff?.data!=null),l||(l=c.status!=="no-op"),c.status){case"add":let d=this.createSeries(c.opts);o.push(d),Rr("Chart.applySeries() - created new series",d);break;case"remove":Rr(`Chart.applySeries() - removing series at previous idx ${c.idx}`,c.series);break;case"no-op":o.push(c.series),Rr(`Chart.applySeries() - no change to series at previous idx ${c.idx}`,c.series);break;case"series-grouping":case"update":default:let{series:u,diff:h,idx:f}=c;Rr(`Chart.applySeries() - applying series diff previous idx ${f}`,h,u),this.applySeriesValues(u,h),u.markNodeDataDirty(),o.push(u)}for(let c=0;c<o.length;c++)o[c]._declarationOrder=c;return Rr("Chart.applySeries() - final series instances",o),e.series=o,a?"series-grouping-change":s?"data-change":l?"updated":"no-op"}applyAxes(e,i,n,r,o=[],s=!1){if(!("axes"in i)||!i.axes)return!1;o=["axes[].type",...o];let{axes:a}=i;if(!(r==="replaced")&&e.axes.length===a.length&&e.axes.every((u,h)=>u.type===a[h].type)&&hl(n))return e.axes.forEach((u,h)=>{let f=n.axes?.[h]??{},p=Tn(f,a[h]);Rr(`Chart.applyAxes() - applying axis diff idx ${h}`,p);let m=`axes[${h}]`;Vc(u,p,{path:m,skip:o})}),!0;Rr(`Chart.applyAxes() - creating new axes instances; seriesStatus: ${r}`),e.axes=this.createAxis(a,o);let d={x:[],y:[]};return e.axes.forEach(u=>d[u.direction].push(u.getRegionBBoxProvider())),s&&(this.ctx.regionManager.updateRegion("horizontal-axes",...d.x),this.ctx.regionManager.updateRegion("vertical-axes",...d.y)),!0}createSeries(e){let i=on.create(e.type,this.getModuleContext());return this.applySeriesOptionModules(i,e),this.applySeriesValues(i,e),i}applySeriesOptionModules(e,i){let n=e.createModuleContext(),r=e.getModuleMap();for(let o of Zs.byType("series-option"))o.optionsKey in i&&o.seriesTypes.includes(e.type)&&r.addModule(o,s=>s.moduleFactory(n))}applySeriesValues(e,i){let n=e.getModuleMap(),d=i,{type:r,data:o,listeners:s,seriesGrouping:a,showInMiniChart:l}=d,c=pt(d,["type","data","listeners","seriesGrouping","showInMiniChart"]);for(let u of cd)if(u.type==="series-option"&&u.optionsKey in c){let h=n.getModule(u.optionsKey);if(h){let f=c[u.optionsKey];delete c[u.optionsKey],h.properties.set(f)}}e.properties.set(c),"data"in i&&e.setOptionsData(o),s&&this.registerListeners(e,s),"seriesGrouping"in i&&(a==null?e.seriesGrouping=void 0:e.seriesGrouping=C(C({},e.seriesGrouping),a))}createAxis(e,i){let n=[],r=this.getModuleContext();for(let o=0;o<e.length;o++){let s=e[o],a=Yo.create(s.type,r);this.applyAxisModules(a,s),Vc(a,s,{path:`axes[${o}]`,skip:i}),n.push(a)}return p8(n),n}applyAxisModules(e,i){let n=e.createModuleContext(),r=e.getModuleMap();for(let o of Zs.byType("axis-option")){let s=i[o.optionsKey]!=null;s!==r.isEnabled(o)&&(s?(r.addModule(o,a=>a.moduleFactory(n)),e[o.optionsKey]=r.getModule(o)):(r.removeModule(o),delete e[o.optionsKey]))}}registerListeners(e,i){e.clearEventListeners();for(let[n,r]of Object.entries(i))Qo(r)&&e.addEventListener(n,r)}};ti.chartsInstances=new WeakMap;y([Yi({newValue(t){this.destroyed||(this.ctx.domManager.setContainer(t),ti.chartsInstances.set(t,this))},oldValue(t){ti.chartsInstances.delete(t)}})],ti.prototype,"container",2);y([Yi({newValue(t){this.resize("width option",{inWidth:t})}})],ti.prototype,"width",2);y([Yi({newValue(t){this.resize("height option",{inHeight:t})}})],ti.prototype,"height",2);y([Yi({newValue(t){this.resize("minWidth option",{inMinWidth:t})}})],ti.prototype,"minWidth",2);y([Yi({newValue(t){this.resize("minHeight option",{inMinHeight:t})}})],ti.prototype,"minHeight",2);y([x(ae)],ti.prototype,"padding",2);y([x(yt)],ti.prototype,"titlePadding",2);y([x(ae)],ti.prototype,"seriesArea",2);y([x(ae)],ti.prototype,"title",2);y([x(ae)],ti.prototype,"subtitle",2);y([x(ae)],ti.prototype,"footnote",2);y([x(ae)],ti.prototype,"keyboard",2);y([x(bt(["standalone","integrated"],"a chart mode"))],ti.prototype,"mode",2);y([Yi({changeValue(t,e){this.onAxisChange(t,e)}})],ti.prototype,"axes",2);y([Yi({changeValue(t,e){this.onSeriesChange(t,e)}})],ti.prototype,"series",2);var hd=ti,U8=class{constructor(t,e,i){this.root=new $8(t,e,i)}clear(t){this.root.clear(t)}addValue(t,e){let i={hitTester:t,value:e,distanceSquared:(n,r)=>t.distanceSquared(n,r)};this.root.addElem(i)}find(t,e){let i={best:{nearest:void 0,distanceSquared:1/0}};return this.root.find(t,e,i),i.best}},G8=class{constructor(t,e,i,n){this.nw=t,this.ne=e,this.sw=i,this.se=n}addElem(t){this.nw.addElem(t),this.ne.addElem(t),this.sw.addElem(t),this.se.addElem(t)}find(t,e,i){this.nw.find(t,e,i),this.ne.find(t,e,i),this.sw.find(t,e,i),this.se.find(t,e,i)}},H8=class{constructor(t,e,i){this.capacity=t,this.maxdepth=e,this.boundary=i??se.NaN,this.elems=[],this.subdivisions=void 0}clear(t){this.elems.length=0,this.boundary=t,this.subdivisions=void 0}addElem(t){this.addCondition(t)&&(this.subdivisions===void 0?this.maxdepth===0||this.elems.length<this.capacity?this.elems.push(t):this.subdivide(t):this.subdivisions.addElem(t))}find(t,e,i){this.findCondition(t,e,i)&&(this.subdivisions===void 0?this.findAction(t,e,i):this.subdivisions.find(t,e,i))}subdivide(t){this.subdivisions=this.makeSubdivisions();for(let e of this.elems)this.subdivisions.addElem(e);this.subdivisions.addElem(t),this.elems.length=0}makeSubdivisions(){let{x:t,y:e,width:i,height:n}=this.boundary,{capacity:r}=this,o=this.maxdepth-1,s=i/2,a=n/2,l=new se(t,e,s,a),c=new se(t+s,e,s,a),d=new se(t,e+a,s,a),u=new se(t+s,e+a,s,a);return new G8(this.child(r,o,l),this.child(r,o,c),this.child(r,o,d),this.child(r,o,u))}},$8=class sO extends H8{addCondition(e){let{x:i,y:n}=e.hitTester.midPoint;return this.boundary.containsPoint(i,n)}findCondition(e,i,n){let{best:r}=n;return r.distanceSquared!==0&&this.boundary.distanceSquared(e,i)<r.distanceSquared}findAction(e,i,n){let r=Eg(e,i,this.elems,n.best.distanceSquared);r.nearest!==void 0&&r.distanceSquared<n.best.distanceSquared&&(n.best=r)}child(e,i,n){return new sO(e,i,n)}},Ri=class extends ki{constructor(){super(...arguments),this.x=0,this.y=0,this.size=12}computeBBox(){let{x:t,y:e,size:i}=this,{center:n}=this.constructor;return new se(t-i*n.x,e-i*n.y,i,i)}computeTransformedBBox(){return super.computeTransformedBBox()}applyPath(t,e){let{path:i}=this,{x:n,y:r}=this;this.repeat!=null&&(n=0,r=0),i.clear();for(let{x:o,y:s,t:a}of e)n+=o*t,r+=s*t,a==="move"?i.moveTo(n,r):i.lineTo(n,r);i.closePath()}executeFill(t,e){if(!e)return;if(this.repeat==null)return super.executeFill(t,e);t.save();let i=this.translationX,n=this.translationY;for(let r of this.repeat)t.translate(r.x-i,r.y-n),t.fill(e),i=r.x,n=r.y;t.restore()}executeStroke(t,e){if(!e)return;if(this.repeat==null)return super.executeStroke(t,e);t.save();let i=this.translationX,n=this.translationY;for(let r of this.repeat)t.translate(r.x-i,r.y-n),t.stroke(e),i=r.x,n=r.y;t.restore()}};Ri.center={x:.5,y:.5};y([Me()],Ri.prototype,"x",2);y([Me()],Ri.prototype,"y",2);y([Me({convertor:Math.abs})],Ri.prototype,"size",2);y([Me()],Ri.prototype,"repeat",2);var Ks=class extends Ri{updatePath(){let{x:t,y:e,path:i,size:n}=this,r=n/2;i.clear(),i.arc(t,e,r,0,Math.PI*2),i.closePath()}};Ks.className="Circle";var YM=class aO extends Ri{updatePath(){let e=this.size/4.2;super.applyPath(e,aO.moves)}};YM.className="Cross";YM.moves=[{x:-1,y:0,t:"move"},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1},{x:1,y:1},{x:-1,y:1},{x:-1,y:-1},{x:-1,y:1},{x:-1,y:-1}];var W8=YM,ZM=class lO extends Ri{updatePath(){let e=this.size/2;super.applyPath(e,lO.moves)}};ZM.className="Diamond";ZM.moves=[{x:0,y:-1,t:"move"},{x:1,y:1},{x:-1,y:1},{x:-1,y:-1},{x:1,y:-1}];var cO=ZM,dO=class extends Ri{rad(t){return t/180*Math.PI}updatePath(){let{x:t,path:e,size:i,rad:n}=this,r=i/4,o=this.y+r/2;e.clear(),e.arc(t-r,o-r,r,n(130),n(330)),e.arc(t+r,o-r,r,n(220),n(50)),e.lineTo(t,o+r),e.closePath()}};dO.className="Heart";var qM=class extends Ri{updatePath(){let{path:t,x:e,y:i}=this,n=this.size,r=.5,o=1;t.clear(),t.moveTo(e+(.15625-r)*n,i+(.34375-o)*n),t.cubicCurveTo(e+(.15625-r)*n,i+(.151491-o)*n,e+(.307741-r)*n,i+(0-o)*n,e+(.5-r)*n,i+(0-o)*n),t.cubicCurveTo(e+(.692259-r)*n,i+(0-o)*n,e+(.84375-r)*n,i+(.151491-o)*n,e+(.84375-r)*n,i+(.34375-o)*n),t.cubicCurveTo(e+(.84375-r)*n,i+(.493824-o)*n,e+(.784625-r)*n,i+(.600181-o)*n,e+(.716461-r)*n,i+(.695393-o)*n),t.cubicCurveTo(e+(.699009-r)*n,i+(.719769-o)*n,e+(.681271-r)*n,i+(.743104-o)*n,e+(.663785-r)*n,i+(.766105-o)*n),t.cubicCurveTo(e+(.611893-r)*n,i+(.834367-o)*n,e+(.562228-r)*n,i+(.899699-o)*n,e+(.528896-r)*n,i+(.980648-o)*n),t.cubicCurveTo(e+(.524075-r)*n,i+(.992358-o)*n,e+(.512663-r)*n,i+(1-o)*n,e+(.5-r)*n,i+(1-o)*n),t.cubicCurveTo(e+(.487337-r)*n,i+(1-o)*n,e+(.475925-r)*n,i+(.992358-o)*n,e+(.471104-r)*n,i+(.980648-o)*n),t.cubicCurveTo(e+(.487337-r)*n,i+(1-o)*n,e+(.475925-r)*n,i+(.992358-o)*n,e+(.471104-r)*n,i+(.980648-o)*n),t.cubicCurveTo(e+(.437772-r)*n,i+(.899699-o)*n,e+(.388107-r)*n,i+(.834367-o)*n,e+(.336215-r)*n,i+(.766105-o)*n),t.cubicCurveTo(e+(.318729-r)*n,i+(.743104-o)*n,e+(.300991-r)*n,i+(.719769-o)*n,e+(.283539-r)*n,i+(.695393-o)*n),t.cubicCurveTo(e+(.215375-r)*n,i+(.600181-o)*n,e+(.15625-r)*n,i+(.493824-o)*n,e+(.15625-r)*n,i+(.34375-o)*n),t.closePath()}};qM.className="MapPin";qM.center={x:.5,y:1};var KM=class uO extends Ri{updatePath(){let e=this.size/3;super.applyPath(e,uO.moves)}};KM.className="Plus";KM.moves=[{x:-.5,y:-.5,t:"move"},{x:0,y:-1},{x:1,y:0},{x:0,y:1},{x:1,y:0},{x:0,y:1},{x:-1,y:0},{x:0,y:1},{x:-1,y:0},{x:0,y:-1},{x:-1,y:0},{x:0,y:-1}];var Y8=KM,vh=class extends Ri{updatePath(){let{path:t,x:e,y:i}=this,n=this.size/2;t.clear(),t.moveTo(this.align(e-n),this.align(i-n)),t.lineTo(this.align(e+n),this.align(i-n)),t.lineTo(this.align(e+n),this.align(i+n)),t.lineTo(this.align(e-n),this.align(i+n)),t.closePath()}};vh.className="Square";var hO=class extends Ri{updatePath(){let{x:t,y:e,path:i,size:n}=this,r=5,o=n/2,s=Math.PI/2;i.clear();for(let a=0;a<r*2;a++){let l=a%2===0?n:o,c=a*Math.PI/r-s,d=t+Math.cos(c)*l,u=e+Math.sin(c)*l;i.lineTo(d,u)}i.closePath()}};hO.className="Star";var XM=class fO extends Ri{updatePath(){let e=this.size*1.1;super.applyPath(e,fO.moves)}};XM.className="Triangle";XM.moves=[{x:0,y:-.48,t:"move"},{x:.5,y:.87},{x:-1,y:0}];var Gc=XM,pO={circle:Ks,cross:W8,diamond:cO,heart:dO,pin:qM,plus:Y8,square:vh,star:hO,triangle:Gc},Z8=Object.keys(pO);function mO(t){return typeof t=="string"&&Z8.includes(t)}function mo(t=vh){return mO(t)?pO[t]:typeof t=="function"?t:vh}var QM=class extends ud{constructor(){super(...arguments),this.showFocusBox=!0}getScaleInformation({xScale:t,yScale:e}){let i=ct.is(t),n=ct.is(e);return{isContinuousX:i,isContinuousY:n,xScaleType:t?.type,yScaleType:e?.type}}getModulePropertyDefinitions(){let t=this.axes.x?.scale,e=this.axes.y?.scale;return this.moduleMap.mapModules(i=>i.getPropertyDefinitions(this.getScaleInformation({xScale:t,yScale:e}))).flat()}requestDataModel(t,e,i){return j(this,null,function*(){i.props.push(...this.getModulePropertyDefinitions());let{dataModel:n,processedData:r}=yield t.request(this.id,e??[],i);return this.dataModel=n,this.processedData=r,this.dispatch("data-processed",{dataModel:n,processedData:r}),{dataModel:n,processedData:r}})}isProcessedDataAnimatable(){let t=this.processedData?.reduced?.animationValidation;if(!t)return!0;let{orderedKeys:e,uniqueKeys:i}=t;return e&&i}checkProcessedDataAnimatable(){this.isProcessedDataAnimatable()||this.ctx.animationManager.skipCurrentBatch()}pickFocus(t){let e=this.getNodeData();if(e===void 0||e.length===0)return;let i=this.computeFocusDatumIndex(t,e);if(i===void 0)return;let{showFocusBox:n}=this,r=e[i],o=L(C({},t),{datumIndex:i}),s=this.computeFocusBounds(o);if(s!==void 0)return{bounds:s,showFocusBox:n,datum:r,datumIndex:i}}computeFocusDatumIndex(t,e){let i=a=>{let{missing:l=!1,enabled:c=!0,focusable:d=!0}=e[a];return!l&&c&&d},n=a=>{for(;a>=0&&!i(a);)a--;return a===-1?void 0:a},r=a=>{for(;a<e.length&&!i(a);)a++;return a===e.length?void 0:a},o,s=Ce(0,t.datumIndex,e.length-1);return t.datumIndexDelta<0?o=n(s):t.datumIndexDelta>0?o=r(s):(o??(o=r(s)),o??(o=n(s))),o===void 0?t.datumIndexDelta===0?void 0:t.datumIndex-t.datumIndexDelta:o}},rs=class extends Ne{constructor(){super(...arguments),this.fill="rgba(255,255,255, 0.33)",this.stroke="rgba(0, 0, 0, 0.4)",this.strokeWidth=2}};y([x(nt,{optional:!0})],rs.prototype,"fill",2);y([x(Je,{optional:!0})],rs.prototype,"fillOpacity",2);y([x(nt,{optional:!0})],rs.prototype,"stroke",2);y([x(K,{optional:!0})],rs.prototype,"strokeWidth",2);y([x(Je,{optional:!0})],rs.prototype,"strokeOpacity",2);y([x(es,{optional:!0})],rs.prototype,"lineDash",2);y([x(K,{optional:!0})],rs.prototype,"lineDashOffset",2);var Qg=class extends Ne{};y([x(K,{optional:!0})],Qg.prototype,"strokeWidth",2);y([x(Je,{optional:!0})],Qg.prototype,"dimOpacity",2);y([x(ve,{optional:!0})],Qg.prototype,"enabled",2);var gO=class extends Ne{constructor(){super(...arguments),this.color="black"}};y([x(nt,{optional:!0})],gO.prototype,"color",2);var JM=class extends Ne{constructor(){super(...arguments),this.enabled=!0}};y([x(ve,{optional:!0})],JM.prototype,"enabled",2);var zh=class extends Ne{constructor(){super(...arguments),this.item=new rs,this.series=new Qg,this.text=new gO}};y([x(ae)],zh.prototype,"item",2);y([x(ae)],zh.prototype,"series",2);y([x(ae)],zh.prototype,"text",2);var fr=class extends Ne{constructor(){super(...arguments),this.visible=!0,this.showInLegend=!0,this.cursor="default",this.nodeClickRange="exact",this.highlight=new JM,this.highlightStyle=new zh}};y([x(Q,{optional:!0})],fr.prototype,"id",2);y([x(ve)],fr.prototype,"visible",2);y([x(ve)],fr.prototype,"showInLegend",2);y([x(Q)],fr.prototype,"cursor",2);y([x(Bg)],fr.prototype,"nodeClickRange",2);y([x(ae)],fr.prototype,"highlight",2);y([x(ae)],fr.prototype,"highlightStyle",2);var wl={x:["xKey"],y:["yKey"]},Il={x:["xName"],y:["yName"]},eD=class extends Bh{constructor(t,e,i,n){super(t,e,i,n),this.xKey=n.properties.xKey,this.yKey=n.properties.yKey}},os=class extends fr{constructor(){super(...arguments),this.pickOutsideVisibleMinorAxis=!1}};y([x(Q,{optional:!0})],os.prototype,"legendItemName",2);y([x(ve,{optional:!0})],os.prototype,"pickOutsideVisibleMinorAxis",2);var ca=class extends QM{constructor(u){var h=u,{pathsPerSeries:t=["path"],hasMarkers:e=!1,hasHighlightedLabels:i=!1,pathsZIndexSubOrderOffset:n=[],datumSelectionGarbageCollection:r=!0,markerSelectionGarbageCollection:o=!0,animationAlwaysUpdateSelections:s=!1,animationResetFns:a,directionKeys:l,directionNames:c}=h,d=pt(h,["pathsPerSeries","hasMarkers","hasHighlightedLabels","pathsZIndexSubOrderOffset","datumSelectionGarbageCollection","markerSelectionGarbageCollection","animationAlwaysUpdateSelections","animationResetFns","directionKeys","directionNames"]);if(super(C({directionKeys:l,directionNames:c,canHaveAxes:!0},d)),this.NodeEvent=eD,this.dataNodeGroup=this.contentGroup.appendChild(new fe({name:`${this.id}-series-dataNodes`,zIndex:4,zIndexSubOrder:this.getGroupZIndexSubOrder("data")})),this.markerGroup=this.contentGroup.appendChild(new fe({name:`${this.id}-series-markers`,zIndex:4,zIndexSubOrder:this.getGroupZIndexSubOrder("marker")})),this.labelGroup=this.contentGroup.appendChild(new fe({name:`${this.id}-series-labels`,zIndex:8,zIndexSubOrder:this.getGroupZIndexSubOrder("labels")})),this.labelSelection=At.select(this.labelGroup,_t),this.highlightSelection=At.select(this.highlightNode,()=>this.opts.hasMarkers?this.markerFactory():this.nodeFactory()),this.highlightLabelSelection=At.select(this.highlightLabel,_t),this.annotationSelections=new Set,this.minRectsCache={dirtyNodeData:!0},this.debug=gt.create(),!l||!c)throw new Error(`Unable to initialise series type ${this.type}`);this.opts={pathsPerSeries:t,hasMarkers:e,hasHighlightedLabels:i,pathsZIndexSubOrderOffset:n,directionKeys:l,directionNames:c,animationResetFns:a,animationAlwaysUpdateSelections:s,datumSelectionGarbageCollection:r,markerSelectionGarbageCollection:o},this.paths=[];for(let f=0;f<t.length;f++)this.paths[f]=new ki({name:`${this.id}-${t[f]}`}),this.paths[f].zIndex=4,this.paths[f].zIndexSubOrder=this.getGroupZIndexSubOrder("paths",f),this.contentGroup.appendChild(this.paths[f]);this.datumSelection=At.select(this.dataNodeGroup,()=>this.nodeFactory(),r),this.markerSelection=At.select(this.markerGroup,()=>this.markerFactory(),o),this.animationState=new Rh("empty",{empty:{update:{target:"ready",action:f=>this.animateEmptyUpdateReady(f)},reset:"empty",skip:"ready",disable:"disabled"},ready:{updateData:"waiting",clear:"clearing",highlight:f=>this.animateReadyHighlight(f),highlightMarkers:f=>this.animateReadyHighlightMarkers(f),resize:f=>this.animateReadyResize(f),reset:"empty",skip:"ready",disable:"disabled"},waiting:{update:{target:"ready",action:f=>this.animateWaitingUpdateReady(f)},reset:"empty",skip:"ready",disable:"disabled"},disabled:{update:f=>this.resetAllAnimation(f),reset:"empty"},clearing:{update:{target:"empty",action:f=>this.animateClearingUpdateEmpty(f)},reset:"empty",skip:"ready"}},()=>this.checkProcessedDataAnimatable())}get contextNodeData(){return this._contextNodeData}getNodeData(){return this.contextNodeData?.nodeData}resetAnimation(t){t==="initial"?this.animationState.transition("reset"):t==="ready"?this.animationState.transition("skip"):t==="disabled"&&this.animationState.transition("disable")}addChartEventListeners(){this.destroyFns.push(this.ctx.chartEventManager.addListener("legend-item-click",t=>this.onLegendItemClick(t)),this.ctx.chartEventManager.addListener("legend-item-double-click",t=>this.onLegendItemDoubleClick(t)))}destroy(){super.destroy(),this._contextNodeData=void 0}update(e){return j(this,arguments,function*({seriesRect:t}){let{visible:i,_contextNodeData:n}=this,o=this.ctx.highlightManager?.getActiveHighlight()?.series===this,s=this.checkResize(t),a=yield this.updateHighlightSelection(o);yield this.updateSelections(i),yield this.updateNodes(a,o,i);let l=this.getAnimationData(t,n);l&&(s&&this.animationState.transition("resize",l),this.animationState.transition("update",l))})}updateSelections(t){return j(this,null,function*(){var e;let i=!this.opts.animationAlwaysUpdateSelections&&this.ctx.animationManager.isSkipped();if(!(!t&&i)&&!(!this.nodeDataRefresh&&!this.isPathOrSelectionDirty())){if(this.nodeDataRefresh){this.nodeDataRefresh=!1,this.debug("CartesianSeries.updateSelections() - calling createNodeData() for",this.id),this.markQuadtreeDirty(),this._contextNodeData=yield this.createNodeData();let n=this.isProcessedDataAnimatable();this._contextNodeData&&((e=this._contextNodeData).animationValid??(e.animationValid=n)),this.minRectsCache.dirtyNodeData=!0;let{dataModel:r,processedData:o}=this;r!==void 0&&o!==void 0&&this.dispatch("data-update",{dataModel:r,processedData:o})}yield this.updateSeriesSelections()}})}updateSeriesSelections(t){return j(this,null,function*(){let{datumSelection:e,labelSelection:i,markerSelection:n,paths:r}=this,o=this._contextNodeData;if(!o)return;let{nodeData:s,labelData:a,itemId:l}=o;yield this.updatePaths({seriesHighlighted:t,itemId:l,contextData:o,paths:r}),this.datumSelection=yield this.updateDatumSelection({nodeData:s,datumSelection:e}),this.labelSelection=yield this.updateLabelSelection({labelData:a,labelSelection:i}),this.opts.hasMarkers&&(this.markerSelection=yield this.updateMarkerSelection({nodeData:s,markerSelection:n}))})}markerFactory(){let t=mo();return new t}getGroupZIndexSubOrder(t,e=0){let i=super.getGroupZIndexSubOrder(t,e);if(t==="paths"){let[n]=i,r=this.opts.pathsZIndexSubOrderOffset[e]??0;i[0]=Qo(n)?()=>Number(n())+r:Number(n)+r}return i}updateNodes(t,e,i){return j(this,null,function*(){let{highlightSelection:n,highlightLabelSelection:r,opts:{hasMarkers:o,hasHighlightedLabels:s}}=this,a=!this.ctx.animationManager.isSkipped(),l=this.visible&&this._contextNodeData!=null&&i;this.rootGroup.visible=a||l,this.contentGroup.visible=a||l,this.highlightGroup.visible=(a||l)&&e;let c=this.getOpacity();o?(yield this.updateMarkerNodes({markerSelection:n,isHighlight:!0}),this.animationState.transition("highlightMarkers",n)):(yield this.updateDatumNodes({datumSelection:n,isHighlight:!0}),this.animationState.transition("highlight",n)),s&&(yield this.updateLabelNodes({labelSelection:r}));let{dataNodeGroup:d,markerGroup:u,datumSelection:h,labelSelection:f,markerSelection:p,paths:m,labelGroup:b}=this,{itemId:g}=this.contextNodeData??{};d.opacity=c,d.visible=a||l,b.visible=l,o&&(u.opacity=c,u.zIndex=d.zIndex>=4?d.zIndex:d.zIndex+1,u.visible=l),b&&(b.opacity=c),yield this.updatePathNodes({seriesHighlighted:e,itemId:g,paths:m,opacity:c,visible:l,animationEnabled:a}),d.visible&&(yield this.updateDatumNodes({datumSelection:h,highlightedItems:t,isHighlight:!1}),yield this.updateLabelNodes({labelSelection:f}),o&&(yield this.updateMarkerNodes({markerSelection:p,isHighlight:!1})))})}getHighlightLabelData(t,e){let i=t.filter(n=>n.datum===e.datum&&n.itemId===e.itemId);return i.length===0?void 0:i}getHighlightData(t,e){return e?[e]:void 0}updateHighlightSelection(t){return j(this,null,function*(){let{highlightSelection:e,highlightLabelSelection:i,_contextNodeData:n}=this;if(!n)return;let r=this.ctx.highlightManager?.getActiveHighlight(),o=t&&r?.datum?r:void 0,s,a;if(o!=null){let l=this.isLabelEnabled(),{labelData:c,nodeData:d}=n;a=this.getHighlightData(d,o),s=l?this.getHighlightLabelData(c,o):void 0}return this.highlightSelection=yield this.updateHighlightSelectionItem({items:a,highlightSelection:e}),this.highlightLabelSelection=yield this.updateHighlightSelectionLabel({items:s,highlightLabelSelection:i}),a})}markQuadtreeDirty(){this.quadtree=void 0}*datumNodesIter(){for(let{node:t}of this.datumSelection)t.datum.missing!==!0&&(yield t)}getQuadTree(){if(this.quadtree===void 0){let{width:t,height:e}=this.ctx.scene.canvas,i=new se(0,0,t,e);this.quadtree=new U8(100,10,i),this.initQuadTree(this.quadtree)}return this.quadtree}initQuadTree(t){}pickNodeExactShape(t){let e=super.pickNodeExactShape(t);if(e)return e;let{x:i,y:n}=t,{opts:{hasMarkers:r}}=this,o,{dataNodeGroup:s,markerGroup:a}=this;if(o=s.pickNode(i,n),!o&&r&&(o=a?.pickNode(i,n)),o&&o.datum.missing!==!0)return{datum:o.datum,distance:0};for(let l of this.moduleMap.modules()){let{datum:c}=l.pickNodeExact(t)??{};if(c!=null&&c?.missing!==!0)return{datum:c,distance:0}}}pickNodeClosestDatum(t){let{x:e,y:i}=t,{axes:n,rootGroup:r,_contextNodeData:o}=this;if(!o)return;let s=n.x,a=n.y,l=r.transformPoint(e,i),c=1/0,d;for(let u of o.nodeData){let{point:{x:h=NaN,y:f=NaN}={}}=u;if(isNaN(h)||isNaN(f)||!(s?.inRange(h)&&a?.inRange(f)))continue;let m=Math.max((l.x-h)**2+(l.y-f)**2,0);m<c&&(c=m,d=u)}for(let u of this.moduleMap.modules()){let h=u.pickNodeNearest(t);if(h!==void 0&&h.distanceSquared<c){c=h.distanceSquared,d=h.datum;break}}if(d){let u=Math.max(Math.sqrt(c)-(d.point?.size??0),0);return{datum:d,distance:u}}}pickNodeMainAxisFirst(t,e){let{x:i,y:n}=t,{axes:r,rootGroup:o,_contextNodeData:s}=this,{pickOutsideVisibleMinorAxis:a}=this.properties;if(!s)return;let l=r.x,c=r.y,d=[l,c].filter(b=>b instanceof sa).map(b=>b.direction);if(e&&d.length===0)return;let[u="x"]=d,h=o.transformPoint(i,n),f=[h.x,h.y];u!=="x"&&f.reverse();let p=[1/0,1/0],m;for(let b of s.nodeData){let{x:g=NaN,y:v=NaN}=b.point??b.midPoint??{};if(isNaN(g)||isNaN(v)||b.missing===!0)continue;let M=[l?.inRange(g),c?.inRange(v)];if(u!=="x"&&M.reverse(),!M[0]||!a&&!M[1])continue;let w=[g,v];u!=="x"&&w.reverse();let I=!0;for(let D=0;D<w.length;D++){let _=Math.abs(w[D]-f[D]);if(_>p[D]){I=!1;break}_<p[D]&&(p[D]=_,p.fill(1/0,D+1,p.length))}I&&(m=b)}if(m){let b=Math.max(p[0]**2+p[1]**2-(m.point?.size??0),0);for(let g of this.moduleMap.modules()){let v=g.pickNodeMainAxisFirst(t);if(v!==void 0&&v.distanceSquared<b){m=v.datum,b=v.distanceSquared;break}}return{datum:m,distance:Math.sqrt(b)}}}onLegendItemClick(t){let{legendItemName:e}=this.properties,{enabled:i,itemId:n,series:r}=t,o=e!=null&&e===t.legendItemName;(r.id===this.id||o)&&this.toggleSeriesItem(n,i)}onLegendItemDoubleClick(t){let{enabled:e,itemId:i,series:n,numVisibleItems:r}=t,{legendItemName:o}=this.properties,s=o!=null&&o===t.legendItemName;n.id===this.id||s?this.toggleSeriesItem(i,!0):e&&r===1?this.toggleSeriesItem(i,!0):this.toggleSeriesItem(i,!1)}isPathOrSelectionDirty(){return!1}getLabelData(){return[]}shouldFlipXY(){return!1}getMinRects(t,e){let{dirtyNodeData:i,sizeCache:n,minRect:r,minVisibleRect:o}=this.minRectsCache,s=JSON.stringify({width:t,height:e});if(!(s!==n)&&!i&&r&&o)return{minRect:r,minVisibleRect:o};let l=this.computeMinRects(t,e);return this.minRectsCache={dirtyNodeData:!1,sizeCache:s,minRect:l?.minRect,minVisibleRect:l?.minVisibleRect},l}computeMinRects(t,e){let i=this._contextNodeData;if(!i?.nodeData.length)return;let{nodeData:n}=i,r=Array(n.length),o=Array(n.length);for(let[v,{midPoint:M}]of n.entries())r[v]=M?.x??0,o[v]=M?.y??0;r.sort((v,M)=>v-M),o.sort((v,M)=>v-M);let s,a,l,c,d=0,u=0;for(let v=1;v<n.length;v++)r[v]>=0&&(s??(s=v)),r[v]>t&&(a??(a=v)),o[v]>=0&&(l??(l=v)),o[v]>e&&(c??(c=v)),d=Math.max(d,r[v]-r[v-1]),u=Math.max(u,o[v]-o[v-1]);a??(a=n.length),c??(c=n.length);let h=s!=null&&a!=null?r.slice(s,a):[],f=l!=null&&c!=null?o.slice(l,c):[],p=0,m=0;for(let v=1;v<Math.max(h.length,f.length);v++){let M=h[v],w=h[v-1],I=f[v],D=f[v-1];M!=null&&w!=null&&(p=Math.max(p,M-w)),I!=null&&D!=null&&(m=Math.max(m,I-D))}let b=new se(0,0,d,u),g=new se(0,0,p,m);return{minRect:b,minVisibleRect:g}}updateHighlightSelectionItem(t){let{opts:{hasMarkers:e}}=this,{items:i,highlightSelection:n}=t,r=i??[];if(e){let o=n;return this.updateMarkerSelection({nodeData:r,markerSelection:o})}else return this.updateDatumSelection({nodeData:r,datumSelection:n})}updateHighlightSelectionLabel(t){return this.updateLabelSelection({labelData:t.items??[],labelSelection:t.highlightLabelSelection})}updateDatumSelection(t){return j(this,null,function*(){return t.datumSelection})}updateDatumNodes(t){return j(this,null,function*(){})}updateMarkerSelection(t){return j(this,null,function*(){return t.markerSelection})}updateMarkerNodes(t){return j(this,null,function*(){})}updatePaths(t){return j(this,null,function*(){t.paths.forEach(e=>e.visible=!1)})}updatePathNodes(t){return j(this,null,function*(){let{paths:e,opacity:i,visible:n}=t;for(let r of e)r.opacity=i,r.visible=n})}resetPathAnimation(t){let{path:e}=this.opts?.animationResetFns??{};e&&t.paths.forEach(i=>{Kt([i],e)})}resetDatumAnimation(t){let{datum:e}=this.opts?.animationResetFns??{};e&&Kt([t.datumSelection],e)}resetLabelAnimation(t){let{label:e}=this.opts?.animationResetFns??{};e&&Kt([t.labelSelection],e)}resetMarkerAnimation(t){let{marker:e}=this.opts?.animationResetFns??{};e&&this.opts.hasMarkers&&Kt([t.markerSelection],e)}resetAllAnimation(t){this.ctx.animationManager.stopByAnimationGroupId(this.id),this.resetPathAnimation(t),this.resetDatumAnimation(t),this.resetLabelAnimation(t),this.resetMarkerAnimation(t),t.contextData?.animationValid===!1&&this.ctx.animationManager.skipCurrentBatch()}animateEmptyUpdateReady(t){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(t)}animateWaitingUpdateReady(t){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(t)}animateReadyHighlight(t){let{datum:e}=this.opts?.animationResetFns??{};e&&Kt([t],e)}animateReadyHighlightMarkers(t){let{marker:e}=this.opts?.animationResetFns??{};e&&Kt([t],e)}animateReadyResize(t){this.resetAllAnimation(t)}animateClearingUpdateEmpty(t){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(t)}animationTransitionClear(){let t=this.getAnimationData();t&&this.animationState.transition("clear",t)}getAnimationData(t,e){let{_contextNodeData:i}=this;return i?{datumSelection:this.datumSelection,markerSelection:this.markerSelection,labelSelection:this.labelSelection,annotationSelections:[...this.annotationSelections],contextData:i,previousContextData:e,paths:this.paths,seriesRect:t}:void 0}calculateScaling(){let t={};for(let e of Object.values(vM)){let i=this.axes[e];if(i){if(i.scale instanceof MM){let{range:n,domain:r}=i.scale;t[e]={type:"log",convert:o=>i.scale.convert(o),domain:[r[0],r[1]],range:[n[0],n[1]]}}else if(i.scale instanceof ct){let{range:n}=i.scale,r=i.scale.getDomain();t[e]={type:"continuous",domain:[r[0],r[1]],range:[n[0],n[1]]}}else if(i.scale){let{domain:n}=i.scale;t[e]={type:"category",domain:n,range:n.map(r=>i.scale.convert(r))}}}}return t}},q8=["top","right","bottom","left"],tD=class t extends hd{constructor(e,i){super(e,i),this.paired=!0,this.firstSeriesTranslation=!0,this._lastCrossLineIds=void 0,this._lastAxisAreaWidths=new Map,this._lastClipSeries=!1,this._lastVisibility={crossLines:!0,series:!0}}onAxisChange(e,i){super.onAxisChange(e,i),this.zoomManager.updateAxes(e)}destroySeries(e){super.destroySeries(e),this.firstSeriesTranslation=!0}getChartType(){return"cartesian"}performLayout(){return j(this,null,function*(){let e=yield fs(t.prototype,this,"performLayout").call(this),{firstSeriesTranslation:i,seriesRoot:n,annotationRoot:r,highlightRoot:o}=this,{animationRect:s,seriesRect:a,visibility:l,clipSeries:c}=this.updateAxes(e);this.seriesRoot.visible=l.series,this.seriesRect=a,this.animationRect=s;let{x:d,y:u}=a;if(i){for(let m of[n,r,o])m.translationX=Math.floor(d),m.translationY=Math.floor(u);this.firstSeriesTranslation=!1}else{let{translationX:m,translationY:b}=n;yo(this.id,"seriesRect",this.ctx.animationManager,[n,o,r],{translationX:m,translationY:b},{translationX:Math.floor(d),translationY:Math.floor(u)},{phase:"update"})}let h=a.clone().grow(this.seriesArea.padding),f=this.seriesArea.clip||c?h:void 0;n.setClipRectInGroupCoordinateSpace(f),o.setClipRectInGroupCoordinateSpace(f),r.setClipRectInGroupCoordinateSpace(f),this.ctx.layoutService.dispatchLayoutComplete({type:"layout-complete",chart:{width:this.ctx.scene.width,height:this.ctx.scene.height},clipSeries:c,series:{rect:a,paddedRect:h,visible:l.series,shouldFlipXY:this.shouldFlipXY()},axes:this.axes.map(m=>m.getLayoutState())});let p=this.modulesManager.mapModules(m=>m.performCartesianLayout?.({seriesRect:a}));return yield Promise.all(p),e})}updateAxes(e){let i=this.axes.flatMap(g=>g.crossLines??[]).map(g=>g.id),n=this._lastCrossLineIds!=null&&this._lastCrossLineIds.length===i.length&&this._lastCrossLineIds.every((g,v)=>i[v]===g),r,o,s;n?(r=new Map(this._lastAxisAreaWidths.entries()),o=this._lastClipSeries,s=C({},this._lastVisibility)):(r=new Map,o=!1,s={crossLines:!0,series:!0},this._lastCrossLineIds=i);let a=new Set(this.axes.map(g=>g.position));for(let g of r.keys())a.has(g)||r.delete(g);let l=(g,v,M)=>[...g.keys()].some(w=>!r.has(w))||s.crossLines!==M.crossLines||s.series!==M.series||o!==v?!1:[...r.entries()].every(([w,I])=>{let D=g.get(w);return I!=null||D!=null?I===D:!0}),c=g=>{for(let[v,M]of g.entries()){if(M&&Math.abs(M)===1/0){g.set(v,0);continue}g.set(v,M!=null?Math.ceil(M):M)}return g},d=new Map,u={},h=!1,f=this.seriesRect?.clone(),p=0,m={};do{r=new Map(d.entries()),o=h,Object.assign(s,u);let g=this.updateAxesPass(r,e.clone(),f);if(d=c(g.axisAreaWidths),u=g.visibility,h=g.clipSeries,{seriesRect:f,primaryTickCounts:m}=g,p++>10){Y.warn("unable to find stable axis layout.");break}}while(!l(d,h,u));this.axes.forEach(g=>{g.update(m[g.direction])});let b=5;return this.axes.forEach(g=>{if(g.setCrossLinesVisible(s.crossLines),!!f)switch(g.clipGrid(f.x,f.y,f.width+b,f.height+b),g.position){case"left":case"right":g.clipTickLines(e.x,f.y,e.width+b,f.height+b);break;case"top":case"bottom":g.clipTickLines(f.x,e.y,f.width+b,e.height+b);break}}),this._lastAxisAreaWidths=r,this._lastVisibility=s,this._lastClipSeries=o,{seriesRect:f,animationRect:e,visibility:s,clipSeries:o}}updateAxesPass(e,i,n){let r=new Map,o=new Map,s={series:!0,crossLines:!0},a=!1,l={},c=this.applySeriesPadding(i),d=n?this.buildCrossLinePadding(e):{},u=this.buildAxisBound(c,e,d,s),h=this.buildSeriesRect(u,e);for(let m of this.axes){let{position:b="left"}=m,{clipSeries:g,axisThickness:v}=this.calculateAxisDimensions({axis:m,seriesRect:h,paddedBounds:c,primaryTickCounts:l,clipSeries:a});r.set(m.id,v),o.has(b)||o.set(b,[]),o.get(b)?.push(m),a=a||g}let f=new Map,p=new Map;for(let[m,b]of o.entries())f.set(m,this.calculateAxisArea(b,r,p));for(let[m,b]of o.entries())this.positionAxes({axes:b,position:m,axisWidths:r,axisOffsets:p,axisAreaWidths:f,axisBound:u,seriesRect:h});return{clipSeries:a,seriesRect:h,axisAreaWidths:f,visibility:s,primaryTickCounts:l}}buildCrossLinePadding(e){let i={};this.axes.forEach(n=>{n.crossLines?.forEach(r=>{r.calculatePadding?.(i)})});for(let[n,r=0]of Object.entries(i))i[n]=Math.max(r-(e.get(n)??0),0);return i}applySeriesPadding(e){let i=e.clone(),n=this.axes.slice().reverse();return q8.forEach(r=>{let o=this.seriesArea.padding[r],s=n.find(a=>a.position===r);s?s.seriesAreaPadding=o:i.shrink(o,r)}),i}buildAxisBound(e,i,n,r){let o=e.clone(),{top:s=0,right:a=0,bottom:l=0,left:c=0}=n,d=c+a,u=s+l,h=(i.get("left")??0)+(i.get("right")??0)+d,f=(i.get("top")??0)+(i.get("bottom")??0)+u;return o.width<=h||o.height<=f?(r.crossLines=!1,r.series=!1,o):(o.x+=c,o.y+=s,o.width-=d,o.height-=u,o)}buildSeriesRect(e,i){let n=e.clone();return n.x+=i.get("left")??0,n.y+=i.get("top")??0,n.width-=(i.get("left")??0)+(i.get("right")??0),n.height-=(i.get("top")??0)+(i.get("bottom")??0),n.width=Math.max(0,n.width),n.height=Math.max(0,n.height),n}clampToOutsideSeriesRect(e,i,n,r){let{x:o,y:s,width:a,height:l}=e,d=[o,s,o+a,s+l][(n==="x"?0:1)+(r===1?0:2)];return(r===1?Math.min:Math.max)(i,d)}calculateAxisDimensions(e){let{axis:i,seriesRect:n,paddedBounds:r,primaryTickCounts:o}=e,{clipSeries:s}=e,{position:a="left",direction:l}=i;this.sizeAxis(i,n,a);let c=i.nice?o[l]:void 0,d=l==="y",u=.3;i.thickness?i.maxThickness=i.thickness:i.maxThickness=(d?r.width:r.height)*u;let h=i.calculateLayout(c);c=h.primaryTickCount,o[l]??(o[l]=c),s||(s=i.dataDomain.clipped||i.visibleRange[0]>0||i.visibleRange[1]<1);let f;return i.thickness!=null&&i.thickness>0?f=i.thickness:f=d?h.bbox.width:h.bbox.height,f=Math.ceil(f),{clipSeries:s,axisThickness:f,primaryTickCount:c}}sizeAxis(e,i,n){let r=e instanceof sa||e instanceof ea,o=n==="left"||n==="right",{min:s,max:a}=this.ctx.zoomManager.getAxisZoom(e.id),{width:l,height:c}=i,d=0,u=o?c:l,h=d,f=u,{width:p,unit:m,align:b}=e.layoutConstraints;m==="px"?f=h+p:f=f*p/100,b==="end"&&(h=u-(f-h),f=u),r&&o?[s,a]=[1-a,1-s]:o&&([h,f]=[f,h]),e.range=[h,f],e.visibleRange=[s,a],e.gridLength=o?l:c}calculateAxisArea(e,i,n){let r=0,o=0;for(let s of e){n.set(s.id,o);let a=i.get(s.id)??0;r=Math.max(r,o+a),s.layoutConstraints.stacked&&(o+=a+15)}return r}positionAxes(e){let{axes:i,axisBound:n,axisWidths:r,axisOffsets:o,axisAreaWidths:s,seriesRect:a,position:l}=e,c=s.get(l)??0,d="x",u="y",h=1,f=0;(l==="top"||l==="bottom")&&(d="y",u="x",f+=1),f+=n[d],(l==="right"||l==="bottom")&&(h=-1,f+=d==="x"?n.width:n.height);for(let p of i){let m=s.get(u==="x"?"left":"top")??0;p.translation[u]=n[u]+m;let b=r.get(p.id)??0,g=o.get(p.id)??0;p.translation[d]=this.clampToOutsideSeriesRect(a,f+h*(g+b),d,h),p.gridPadding=c-g-b,p.updatePosition()}}shouldFlipXY(){return!this.series.some(e=>!(e instanceof ca&&e.shouldFlipXY()))}};tD.className="CartesianChart";tD.type="cartesian";var nh=class yO{constructor(e,i,n){this.factoryApi=i,this.licenseManager=n,this.chart=e,e.publicApi=this}static isInstance(e){return e instanceof yO||e.constructor?.name==="AgChartInstanceProxy"&&e.chart!=null?!0:e.chart!=null&&this.validateImplementation(e)}static validateImplementation(e){let i=["getOptions","destroy"],n=Object.keys(Object.getPrototypeOf(e)??{});return i.every(r=>n.includes(r))}update(e){return j(this,null,function*(){this.factoryApi.createOrUpdate(e,this),yield this.chart.waitForUpdate()})}updateDelta(e){return j(this,null,function*(){this.factoryApi.updateUserDelta(this,e),yield this.chart.waitForUpdate()})}getOptions(){let e=vi(this.chart.getOptions());for(let i in e)i.startsWith("_")&&delete e[i];return e}waitForUpdate(){return this.chart.waitForUpdate()}download(e){return j(this,null,function*(){let i=yield this.prepareResizedChart(this,e);try{i.chart.download(e?.fileName,e?.fileFormat)}finally{i.destroy()}})}getImageDataURL(e){return j(this,null,function*(){let i=yield this.prepareResizedChart(this,e);try{return i.chart.getCanvasDataURL(e?.fileFormat)}finally{i.destroy()}})}getState(){return this.factoryApi.caretaker.save(this.chart.ctx.annotationManager)}setState(e){return j(this,null,function*(){this.factoryApi.caretaker.restore(e,this.chart.ctx.annotationManager),yield this.chart.waitForUpdate()})}resetAnimations(){this.chart.resetAnimations()}skipAnimations(){this.chart.skipAnimations()}destroy(){this.chart.publicApi=void 0,this.chart.destroy()}prepareResizedChart(n){return j(this,arguments,function*(e,i={}){let{chart:r}=e,o=i.width??r.width??r.ctx.scene.canvas.width,s=i.height??r.height??r.ctx.scene.canvas.height,a=e.getState(),l=Zs.hasEnterpriseModules(),c={},d=r.chartOptions.getOptions();l&&(c.animation={enabled:!1},hl(d)&&(c.toolbar={enabled:!1}),this.licenseManager?.isDisplayWatermark()&&(c.foreground={text:this.licenseManager.getWatermarkMessage(),image:{url:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjU4IiBoZWlnaHQ9IjQwIiB2aWV3Qm94PSIwIDAgMjU4IDQwIiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8cGF0aCBkPSJNMjUuNzc5IDI4LjY1N0gxMy4zNTlMMTEuMTczIDM0LjAxMkg1LjY3Mjk3TDE3LjE4MiA3LjA1OTk5SDIxLjk1M0wzMy40NjIgMzQuMDEySDI3Ljk2MkwyNS43NzYgMjguNjU3SDI1Ljc3OVpNMjQuMDY4IDI0LjM5N0wxOS41ODggMTMuNDM0TDE1LjEwNyAyNC4zOTdIMjQuMDY4Wk02Mi4wOTIgMTguODIzSDQ5LjgxN1YyMy4wODZINTYuNzc1QzU2LjU1NSAyNS4yMjIgNTUuNzU1IDI2LjkyNyA1NC4zNzIgMjguMjAyQzUyLjk4OSAyOS40NzYgNTEuMTY2IDMwLjExNSA0OC45MDkgMzAuMTE1QzQ3LjYyMiAzMC4xMTUgNDYuNDUgMjkuODg1IDQ1LjM5MyAyOS40MjNDNDQuMzU4MyAyOC45NzgxIDQzLjQzMjYgMjguMzEzOCA0Mi42OCAyNy40NzZDNDEuOTI3IDI2LjYzOSA0MS4zNDQgMjUuNjMxIDQwLjkzMSAyNC40NTNDNDAuNTE5IDIzLjI3NSA0MC4zMTEgMjEuOTcgNDAuMzExIDIwLjUzN0M0MC4zMTEgMTkuMTA1IDQwLjUxNiAxNy44IDQwLjkzMSAxNi42MjFDNDEuMzQ0IDE1LjQ0MyA0MS45MjcgMTQuNDM2IDQyLjY4IDEzLjU5OEM0My40Mzc2IDEyLjc1NzcgNDQuMzY5NiAxMi4wOTMyIDQ1LjQxMSAxMS42NTFDNDYuNDc4IDExLjE4OSA0Ny42NTYgMTAuOTYgNDguOTQ2IDEwLjk2QzUxLjYxMiAxMC45NiA1My42MzcgMTEuNjAyIDU1LjAyIDEyLjg4NUw1OC4zIDkuNjA0OTlDNTUuODE3IDcuNjY5OTkgNTIuNjc2IDYuNjk5OTkgNDguODcyIDYuNjk5OTlDNDYuNzYgNi42OTk5OSA0NC44NTMgNy4wMzQ5OSA0My4xNTQgNy43MDA5OUM0MS40NTUgOC4zNjc5OSAzOS45OTggOS4zMDM5OSAzOC43ODMgMTAuNTA0QzM3LjU2NyAxMS43MDcgMzYuNjM0IDEzLjE1OCAzNS45NzcgMTQuODU3QzM1LjMxOSAxNi41NTYgMzQuOTk0IDE4LjQ1MSAzNC45OTQgMjAuNTRDMzQuOTk0IDIyLjYzIDM1LjMyOSAyNC40OTQgMzUuOTk1IDI2LjIwNUMzNi42NjIgMjcuOTE2IDM3LjYwNSAyOS4zNzQgMzguODE3IDMwLjU3N0M0MC4wMzIgMzEuNzggNDEuNDg2IDMyLjcxMyA0My4xODggMzMuMzgzQzQ0Ljg4OCAzNC4wNDkgNDYuNzgyIDM0LjM4NCA0OC44NzIgMzQuMzg0QzUwLjk2MSAzNC4zODQgNTIuNzUgMzQuMDQ5IDU0LjM5IDMzLjM4M0M1Ni4wMzEgMzIuNzE2IDU3LjQyNiAzMS43OCA1OC41NzkgMzAuNTc3QzU5LjczMyAyOS4zNzQgNjAuNjE5IDI3LjkxNiA2MS4yMzkgMjYuMjA1QzYxLjg2IDI0LjQ5NCA2Mi4xNyAyMi42MDUgNjIuMTcgMjAuNTRDNjIuMTY5NiAxOS45Njg4IDYyLjE0NDUgMTkuMzk4IDYyLjA5NSAxOC44MjlMNjIuMDkyIDE4LjgyM1pNMTUxLjgxIDE2Ljk4MUMxNTMuNDEgMTQuNjA5IDE1Ny40MTkgMTQuMzU4IDE1OS4wMjIgMTQuMzU4VjE4LjkxQzE1Ni45NTcgMTguOTEgMTU0Ljk4NSAxOC45OTYgMTUzLjc1NyAxOS44OTJDMTUyLjUyOSAyMC43OTIgMTUxLjkxOSAyMS45ODIgMTUxLjkxOSAyMy40NjRWMzMuOTlIMTQ2Ljk2NFYxNC4zNThIMTUxLjczNkwxNTEuODEgMTYuOTgxWk0xNDMuMDExIDE0LjM2MVYzNC4wMzFIMTM4LjI0TDEzOC4xMzEgMzEuMDQ1QzEzNy40NjYgMzIuMDc2IDEzNi41NTEgMzIuOTIxOSAxMzUuNDcxIDMzLjUwNEMxMzQuMzc2IDM0LjA5OSAxMzMuMDY4IDM0LjM5NiAxMzEuNTM2IDM0LjM5NkMxMzAuMiAzNC4zOTYgMTI4Ljk2MyAzNC4xNTIgMTI3LjgyMiAzMy42NjhDMTI2LjcgMzMuMTk2NCAxMjUuNjg5IDMyLjQ5NSAxMjQuODU1IDMxLjYwOUMxMjQuMDE4IDMwLjcyMiAxMjMuMzU0IDI5LjY2MiAxMjIuODcxIDI4LjQyMkMxMjIuMzg0IDI3LjE4NSAxMjIuMTQyIDI1LjgxMSAxMjIuMTQyIDI0LjMwNEMxMjIuMTQyIDIyLjc5OCAxMjIuMzg0IDIxLjM3OCAxMjIuODcxIDIwLjExNkMxMjMuMzU3IDE4Ljg1NCAxMjQuMDE4IDE3Ljc3MiAxMjQuODU1IDE2Ljg3M0MxMjUuNjg4IDE1Ljk3NjQgMTI2LjY5OCAxNS4yNjM2IDEyNy44MjIgMTQuNzhDMTI4Ljk2MyAxNC4yODEgMTMwLjIwMyAxNC4wMzMgMTMxLjUzNiAxNC4wMzNDMTMzLjA0MyAxNC4wMzMgMTM0LjMzIDE0LjMxOCAxMzUuMzk3IDE0Ljg4OEMxMzYuNDYyIDE1LjQ1ODkgMTM3LjM3NSAxNi4yNzggMTM4LjA1NyAxNy4yNzZWMTQuMzYxSDE0My4wMTFaTTEzMi42MzEgMzAuMTMzQzEzNC4yNTYgMzAuMTMzIDEzNS41NjcgMjkuNTk0IDEzNi41NjUgMjguNTEyQzEzNy41NjEgMjcuNDMgMTM4LjA2IDI1Ljk5MSAxMzguMDYgMjQuMTk2QzEzOC4wNiAyMi40MDEgMTM3LjU2MSAyMC45OSAxMzYuNTY1IDE5Ljg5OUMxMzUuNTcgMTguODA3IDEzNC4yNTkgMTguMjU4IDEzMi42MzEgMTguMjU4QzEzMS4wMDMgMTguMjU4IDEyOS43MjkgMTguODA0IDEyOC43MzQgMTkuODk5QzEyNy43MzggMjAuOTkzIDEyNy4yMzkgMjIuNDM4IDEyNy4yMzkgMjQuMjMzQzEyNy4yMzkgMjYuMDI4IDEyNy43MzUgMjcuNDMzIDEyOC43MzQgMjguNTE1QzEyOS43MjkgMjkuNTk0IDEzMS4wMjggMzAuMTM2IDEzMi42MzEgMzAuMTM2VjMwLjEzM1pNOTMuNjk4IDI3Ljg3NkM5My41Nzk1IDI4LjAwMjUgOTMuNDU2NCAyOC4xMjQ2IDkzLjMyOSAyOC4yNDJDOTEuOTQ3IDI5LjUxNiA5MC4xMjMgMzAuMTU1IDg3Ljg2NiAzMC4xNTVDODYuNTggMzAuMTU1IDg1LjQwOCAyOS45MjYgODQuMzUgMjkuNDY0QzgzLjMxNTUgMjkuMDE4OSA4Mi4zODk4IDI4LjM1NDYgODEuNjM3IDI3LjUxN0M4MC44ODQgMjYuNjc5IDgwLjMwMSAyNS42NzIgNzkuODg5IDI0LjQ5NEM3OS40NzYgMjMuMzE1IDc5LjI2OSAyMi4wMSA3OS4yNjkgMjAuNTc4Qzc5LjI2OSAxOS4xNDUgNzkuNDczIDE3Ljg0IDc5Ljg4OSAxNi42NjJDODAuMzAxIDE1LjQ4NCA4MC44ODQgMTQuNDc2IDgxLjYzNyAxMy42MzlDODIuMzk0OSAxMi43OTg3IDgzLjMyNzMgMTIuMTM0MiA4NC4zNjkgMTEuNjkyQzg1LjQzNiAxMS4yMyA4Ni42MTQgMTEgODcuOTAzIDExQzkwLjU3IDExIDkyLjU5NSAxMS42NDIgOTMuOTc3IDEyLjkyNkw5Ny4yNTggOS42NDQ5OUM5NC43NzQgNy43MTA5OSA5MS42MzMgNi43Mzk5OSA4Ny44MjkgNi43Mzk5OUM4NS43MTggNi43Mzk5OSA4My44MTEgNy4wNzQ5OSA4Mi4xMTIgNy43NDE5OUM4MC40MTMgOC40MDc5OSA3OC45NTYgOS4zNDQ5OSA3Ny43NCAxMC41NDVDNzYuNTI1IDExLjc0NyA3NS41OTIgMTMuMTk5IDc0LjkzNCAxNC44OThDNzQuMjc3IDE2LjU5NyA3My45NTEgMTguNDkxIDczLjk1MSAyMC41ODFDNzMuOTUxIDIyLjY3IDc0LjI4NiAyNC41MzQgNzQuOTUzIDI2LjI0NUM3NS42MTkgMjcuOTU3IDc2LjU2MiAyOS40MTQgNzcuNzc0IDMwLjYxN0M3OC45OSAzMS44MiA4MC40NDQgMzIuNzUzIDgyLjE0NiAzMy40MjNDODMuODQ1IDM0LjA5IDg1LjczOSAzNC40MjQgODcuODI5IDM0LjQyNEM4OS45MTkgMzQuNDI0IDkxLjcwOCAzNC4wOSA5My4zNDggMzMuNDIzQzk0LjcxOCAzMi44NjUgOTUuOTE4IDMyLjEyMSA5Ni45NDggMzEuMTkxQzk3LjE0OSAzMS4wMDggOTcuMzQ4IDMwLjgxNSA5Ny41MzcgMzAuNjJMOTMuNzAxIDI3Ljg4NUw5My42OTggMjcuODc2Wk0xMTAuODAyIDE0LjAxNUMxMDkuMTk5IDE0LjAxNSAxMDYuODM2IDE0LjQ3MSAxMDUuNjExIDE2LjE1OEwxMDUuNTM3IDYuMDE1OTlIMTAwLjc2NVYzMy45MzlIMTA1LjcyVjIyLjY0MUMxMDUuNzcxIDIxLjQ2MDcgMTA2LjI4OCAyMC4zNDg4IDEwNy4xNTcgMTkuNTQ4OUMxMDguMDI3IDE4Ljc0OTEgMTA5LjE3OCAxOC4zMjY2IDExMC4zNTggMTguMzc0QzExMy4zOTcgMTguMzc0IDExNC4yNjggMjEuMTU5IDExNC4yNjggMjIuNjQxVjMzLjkzOUgxMTkuMjIzVjIxLjA1OUMxMTkuMjIzIDIxLjA1OSAxMTkuMTQyIDE0LjAxNSAxMTAuODAyIDE0LjAxNVpNMTczLjc2MyAxNC4zNThIMTY5Ljk5OVY4LjcxNDk5SDE2NS4wNDhWMTQuMzU4SDE2MS4yODRWMTguOTE2SDE2NS4wNDhWMzQuMDAzSDE2OS45OTlWMTguOTE2SDE3My43NjNWMTQuMzU4Wk0xOTAuNzg3IDI1LjI2MkMxOTAuMTI5IDI0LjUwMTQgMTg5LjMwNyAyMy44OTk0IDE4OC4zODQgMjMuNTAxQzE4Ny40ODggMjMuMTE3IDE4Ni4zMzEgMjIuNzMyIDE4NC45NDggMjIuMzY0QzE4NC4xNjUgMjIuMTQzOSAxODMuMzkgMjEuODk3OCAxODIuNjIzIDIxLjYyNkMxODIuMTYzIDIxLjQ2MjEgMTgxLjc0MSAyMS4yMDY2IDE4MS4zODMgMjAuODc1QzE4MS4yMzUgMjAuNzQyMSAxODEuMTE4IDIwLjU3ODkgMTgxLjAzOSAyMC4zOTY0QzE4MC45NjEgMjAuMjE0IDE4MC45MjIgMjAuMDE2NiAxODAuOTI3IDE5LjgxOEMxODAuOTI3IDE5LjI3MiAxODEuMTU2IDE4Ljg0NCAxODEuNjI1IDE4LjUxQzE4Mi4xMjEgMTguMTU2IDE4Mi44NjIgMTcuOTc2IDE4My44MjYgMTcuOTc2QzE4NC43OSAxNy45NzYgMTg1LjU4NyAxOC4yMDkgMTg2LjE0OCAxOC42NjhDMTg2LjcwNiAxOS4xMjQgMTg3LjAwNyAxOS43MjUgMTg3LjA3MiAyMC41TDE4Ny4wOTQgMjAuNzgySDE5MS42MzNMMTkxLjYxNyAyMC40NkMxOTEuNTIxIDE4LjQ4NSAxOTAuNzcxIDE2LjkgMTg5LjM4NSAxNS43NUMxODguMDEyIDE0LjYxMiAxODYuMTg1IDE0LjAzMyAxODMuOTYyIDE0LjAzM0MxODIuNDc3IDE0LjAzMyAxODEuMTQxIDE0LjI4NyAxNzkuOTk0IDE0Ljc4NkMxNzguODMxIDE1LjI5MSAxNzcuOTI2IDE1Ljk5NSAxNzcuMjk2IDE2Ljg4MkMxNzYuNjczIDE3Ljc0NTUgMTc2LjMzOCAxOC43ODQgMTc2LjM0MSAxOS44NDlDMTc2LjM0MSAyMS4xNjcgMTc2LjY5OCAyMi4yNDkgMTc3LjM5OSAyMy4wNjRDMTc4LjA2IDIzLjg0MzIgMTc4Ljg5OCAyNC40NTM0IDE3OS44NDIgMjQuODQ0QzE4MC43NDQgMjUuMjE2IDE4MS45MjggMjUuNjA3IDE4My4zNjEgMjZDMTg0LjgwNiAyNi40MSAxODUuODcyIDI2Ljc4NSAxODYuNTMgMjcuMTIzQzE4Ny4xIDI3LjQxNCAxODcuMzc5IDI3Ljg0NSAxODcuMzc5IDI4LjQ0NEMxODcuMzc5IDI5LjA0MiAxODcuMTIyIDI5LjQ2NyAxODYuNTk1IDI5LjgzOUMxODYuMDQzIDMwLjIyNiAxODUuMjM3IDMwLjQyNSAxODQuMjAxIDMwLjQyNUMxODMuMTY2IDMwLjQyNSAxODIuMzk0IDMwLjE3NCAxODEuNzQ5IDI5LjY3NEMxODEuMTEzIDI5LjE4MSAxODAuNzcyIDI4LjU4OSAxODAuNzEgMjcuODY0TDE4MC42ODUgMjcuNTgySDE3Ni4wMTNMMTc2LjAyNSAyNy45MDFDMTc2LjA2NyAyOS4wOTU1IDE3Ni40NzIgMzAuMjQ4NyAxNzcuMTg4IDMxLjIwNkMxNzcuOTA3IDMyLjE4IDE3OC44OTMgMzIuOTU4IDE4MC4xMTggMzMuNTE5QzE4MS4zMzYgMzQuMDc3IDE4Mi43MzIgMzQuMzYyIDE4NC4yNjYgMzQuMzYyQzE4NS44MDEgMzQuMzYyIDE4Ny4xMDkgMzQuMTA4IDE4OC4yMzggMzMuNjA5QzE4OS4zNzYgMzMuMTA0IDE5MC4yNzIgMzIuMzk0IDE5MC45MDEgMzEuNDk0QzE5MS41MzQgMzAuNTkyIDE5MS44NTMgMjkuNTU0IDE5MS44NTMgMjguNDAzQzE5MS44MjggMjcuMTEgMTkxLjQ2NiAyNi4wNTMgMTkwLjc3NyAyNS4yNjJIMTkwLjc4N1oiIGZpbGw9IiM5QjlCOUIiLz4KPHBhdGggZD0iTTI0MS45ODIgMjUuNjU4MlYxNy43MTE3SDIyOC40NDFMMjIwLjQ5NCAyNS42NTgySDI0MS45ODJaIiBmaWxsPSIjOUI5QjlCIi8+CjxwYXRoIGQ9Ik0yNTcuMjM5IDUuOTUwODFIMjQwLjI2NUwyMzIuMjU1IDEzLjg5NzNIMjU3LjIzOVY1Ljk1MDgxWiIgZmlsbD0iIzlCOUI5QiIvPgo8cGF0aCBkPSJNMjEyLjYxMSAzMy42MDQ4TDIxNi42OCAyOS41MzYxSDIzMC40MTJWMzcuNDgyN0gyMTIuNjExVjMzLjYwNDhaIiBmaWxsPSIjOUI5QjlCIi8+CjxwYXRoIGQ9Ik0yMTUuNTk5IDIxLjc4MDNIMjI0LjM3MkwyMzIuMzgyIDEzLjgzMzdIMjE1LjU5OVYyMS43ODAzWiIgZmlsbD0iIzlCOUI5QiIvPgo8cGF0aCBkPSJNMjA2IDMzLjYwNDdIMjEyLjYxMUwyMjAuNDk0IDI1LjY1ODJIMjA2VjMzLjYwNDdaIiBmaWxsPSIjOUI5QjlCIi8+CjxwYXRoIGQ9Ik0yNDAuMjY1IDUuOTUwODFMMjM2LjE5NyAxMC4wMTk0SDIxMC4yNTlWMi4wNzI4OEgyNDAuMjY1VjUuOTUwODFaIiBmaWxsPSIjOUI5QjlCIi8+Cjwvc3ZnPgo=",width:170,height:25,right:25,bottom:50,opacity:.7}}));let u=Be({container:document.createElement("div"),width:o,height:s},c,d),h=yield this.factoryApi.createOrUpdate(u);return yield h.setState(a),h.chart.ctx.zoomManager.updateZoom("agChartV2",r.ctx.zoomManager.getZoom()),r.series.forEach((f,p)=>{f.visible||(h.chart.series[p].visible=!1)}),r.update(0,{forceNodeDataRefresh:!0}),yield h.waitForUpdate(),h})}};nh.chartInstances=new WeakMap;y([Yi({oldValue(t){nh.chartInstances.delete(t)},newValue(t){nh.chartInstances.set(t,this)}})],nh.prototype,"chart",2);var zk=nh,jr=class extends ct{constructor(){super([0,1],[0,1]),this.type="number"}toDomain(t){return t}ticks(){let t=this.tickCount??ct.defaultTickCount;if(!this.domain||this.domain.length<2||t<1||!this.domain.every(isFinite))return[];this.refresh();let[e,i]=this.getDomain();if(this.interval){let n=Math.abs(this.interval);if(!ph((i-e)/n,this.getPixelRange()))return fh(e,i,n)}return Vg(e,i,t,this.minTickCount,this.maxTickCount)}update(){!this.domain||this.domain.length<2||this.nice&&this.updateNiceDomain()}getTickStep(t,e){return this.interval??Zc(t,e,this.tickCount,this.minTickCount,this.maxTickCount)}updateNiceDomain(){let t=this.tickCount;if(t<1){this.niceDomain=[...this.domain];return}let[e,i]=this.domain;if(t===1)[e,i]=_W(e,i);else{let n=e>i?Math.ceil:Math.floor,r=i<e?Math.floor:Math.ceil,o=4;for(let s=0;s<o;s++){let a=e,l=i,c=this.getTickStep(e,i),[d,u]=this.domain;if(c>=1)e=n(d/c)*c,i=r(u/c)*c;else{let h=1/c;e=n(d*h)/h,i=r(u*h)/h}if(e===a&&i===l)break}}this.niceDomain=[e,i]}tickFormat({ticks:t,specifier:e}){return MR(t??this.ticks(),e)}};function K8(t,e,i){let[n,r]=En(t);n=X8(Math.floor(n),r,e);let o=J8(n,r,e),s=e-1;r=n+s*o;let a=i?[r,n]:[n,r],l=Q8(n,o,e);return{domain:a,ticks:l}}function X8(t,e,i){let n=Math.abs(e-t)/(i-1),r=Math.floor(Math.log10(n)),o=Math.pow(10,r);return Math.floor(t/o)*o}function Q8(t,e,i){let n=Math.floor(Math.log10(e)),r=e>0&&e<1?Math.abs(n):0,o=Math.pow(10,r),s=[];for(let a=0;a<i;a++){let l=t+e*a;s[a]=Math.round(l*o)/o}return s}function J8(t,e,i){let n=i-1,r=(e-t)/n;return e6(r)}function e6(t){let e=Math.floor(Math.log10(t)),i=Math.pow(10,e),n=t/i*10;return n>0&&n<=1?i/10:n>1&&n<=2?2*i/10:n>1&&n<=5?5*i/10:n>5&&n<=10?10*i/10:n>10&&n<=20?20*i/10:n>20&&n<=40?40*i/10:n>40&&n<=50?50*i/10:n>50&&n<=100?100*i/10:n}var ta=class extends ld{constructor(t,e=new jr){super(t,e),this.min=NaN,this.max=NaN}normaliseDataDomain(t){let{min:e,max:i}=this,{extent:n,clipped:r}=Nh(t,e,i);return{domain:n,clipped:r}}updateSecondaryAxisTicks(t){if(this.dataDomain==null)throw new Error("AG Charts - dataDomain not calculated, cannot perform tick calculation.");if(this.dataDomain.domain.length===0)return[];let{domain:e,ticks:i}=K8(this.dataDomain.domain,t??0,this.reverse);return this.scale.nice=!1,this.scale.domain=e,this.scale.update(),i}};ta.className="NumberAxis";ta.type="number";y([x(cr(id,rd("max"))),oa(NaN)],ta.prototype,"min",2);y([x(cr(id,od("min"))),oa(NaN)],ta.prototype,"max",2);var bO=ht(t=>Cn(t)&&t!==0,"a non-zero number"),Sl=class extends ta{constructor(t){super(t,new MM),this.min=NaN,this.max=NaN}normaliseDataDomain(t){let{min:e,max:i}=this,{extent:n,clipped:r}=Nh(t,e,i),o=n[0]>n[1],s=n[0]<0&&n[1]>0,a=n[0]===0&&n[1]===0;return(o||s||a)&&(s?Y.warn("the data domain crosses zero, the chart data cannot be rendered. See log axis documentation for more information."):a&&Y.warn("the data domain has 0 extent, no data is rendered.")),n[0]===0&&(n[0]=1),n[1]===0&&(n[1]=-1),{domain:n,clipped:r}}set base(t){this.scale.base=t}get base(){return this.scale.base}};Sl.className="LogAxis";Sl.type="log";y([x(cr(id,bO,rd("max"))),oa(NaN)],Sl.prototype,"min",2);y([x(cr(id,bO,od("min"))),oa(NaN)],Sl.prototype,"max",2);var fd=class extends ld{constructor(t){super(t,new Ug),this.min=void 0,this.max=void 0}normaliseDataDomain(t){let{min:e,max:i}=this,n=!1;return typeof e=="number"&&(e=new Date(e)),typeof i=="number"&&(i=new Date(i)),t.length>2&&(t=(vo(t)??[0,1e3]).map(r=>new Date(r))),e instanceof Date&&(n||(n=e>t[0]),t=[e,t[1]]),i instanceof Date&&(n||(n=i<t[1]),t=[t[0],i]),t[0]>t[1]&&(t=[]),{domain:t,clipped:n}}onFormatChange(t,e,i,n){n?super.onFormatChange(t,e,i,n):(this.labelFormatter=this.scale.tickFormat({ticks:t,domain:i}),this.datumFormatter=this.scale.tickFormat({ticks:t,domain:i,formatOffset:1}))}calculatePadding(){return[0,0]}};fd.className="TimeAxis";fd.type="time";y([x(cr(gM,rd("max")),{optional:!0})],fd.prototype,"min",2);y([x(cr(gM,od("min")),{optional:!0})],fd.prototype,"max",2);var Ku=(t,{x0:e,y0:i,x1:n,y1:r,cx:o,cy:s},a,l)=>{if(l&&t.moveTo(e,i),e!==n||i!==r){let c=Math.atan2(i-s,e-o),d=Math.atan2(r-s,n-o);t.arc(o,s,a,c,d)}else t.lineTo(e,i)},Vk=1e-6,$m=(t,e,i,n,r)=>{let o=!1,s=!1,a=n-Math.sqrt(Math.max(r**2-i**2,0)),l=0,c=0,d=i-Math.sqrt(Math.max(r**2-n**2,0));return a>t?(o=!0,a=t,l=i-Math.sqrt(Math.max(r**2-(n-t)**2))):a<Vk&&(a=0),d>e?(s=!0,c=n-Math.sqrt(Math.max(r**2-(i-e)**2)),d=e):d<Vk&&(d=0),{leading0:a,leading1:l,trailing0:c,trailing1:d,leadingClipped:o,trailingClipped:s}},o_=(t,e,i,n,r,o,s)=>{let{topLeft:a,topRight:l,bottomRight:c,bottomLeft:d}=o,u=Math.max(a+d,l+c),h=Math.max(a+l,d+c);if(u<=0&&h<=0){s==null?t.rect(e,i,n,r):t.rect(s.x,s.y,s.width,s.height);return}else if(s==null&&a===l&&a===c&&a===d){t.roundRect(e,i,n,r,a);return}if(n<0&&(e+=n,n=Math.abs(n)),r<0&&(i+=r,r=Math.abs(r)),n<=0||r<=0)return;if(s==null)s=new se(e,i,n,r);else{let _=Math.max(e,s.x),S=Math.min(e+n,s.x+s.width),E=Math.max(i,s.y),T=Math.min(i+r,s.y+s.height);s=new se(_,E,S-_,T-E)}let f=Math.max(u/r,h/n,1);f>1&&(a/=f,l/=f,c/=f,d/=f);let p=!0,m=!0,b=!0,g=!0,v,M,w,I;if(p){let _=$m(s.height,s.width,Math.max(e+a-s.x,0),Math.max(i+a-s.y,0),a);_.leadingClipped&&(g=!1),_.trailingClipped&&(m=!1);let S=Math.max(s.x+_.leading1,s.x),E=Math.max(s.y+_.leading0,s.y),T=Math.max(s.x+_.trailing1,s.x),k=Math.max(s.y+_.trailing0,s.y),P=e+a,Z=i+a;v={x0:S,y0:E,x1:T,y1:k,cx:P,cy:Z}}if(m){let _=$m(s.width,s.height,Math.max(i+l-s.y,0),Math.max(s.x+s.width-(e+n-l),0),l);_.leadingClipped&&(p=!1),_.trailingClipped&&(b=!1);let S=Math.min(s.x+s.width-_.leading0,s.x+s.width),E=Math.max(s.y+_.leading1,s.y),T=Math.min(s.x+s.width-_.trailing0,s.x+s.width),k=Math.max(s.y+_.trailing1,s.y),P=e+n-l,Z=i+l;M={x0:S,y0:E,x1:T,y1:k,cx:P,cy:Z}}if(b){let _=$m(s.height,s.width,Math.max(s.x+s.width-(e+n-c),0),Math.max(s.y+s.height-(i+r-c),0),c);_.leadingClipped&&(m=!1),_.trailingClipped&&(g=!1);let S=Math.min(s.x+s.width-_.leading1,s.x+s.width),E=Math.min(s.y+s.height-_.leading0,s.y+s.height),T=Math.min(s.x+s.width-_.trailing1,s.x+s.width),k=Math.min(s.y+s.height-_.trailing0,s.y+s.height),P=e+n-c,Z=i+r-c;w={x0:S,y0:E,x1:T,y1:k,cx:P,cy:Z}}if(g){let _=$m(s.width,s.height,Math.max(s.y+s.height-(i+r-d),0),Math.max(e+d-s.x,0),d);_.leadingClipped&&(b=!1),_.trailingClipped&&(p=!1);let S=Math.max(s.x+_.leading0,s.x),E=Math.min(s.y+s.height-_.leading1,s.y+s.height),T=Math.max(s.x+_.trailing0,s.x),k=Math.min(s.y+s.height-_.trailing1,s.y+s.height),P=e+d,Z=i+r-d;I={x0:S,y0:E,x1:T,y1:k,cx:P,cy:Z}}let D=!1;p&&v!=null&&(Ku(t,v,a,!D),D||(D=!0)),m&&M!=null&&(Ku(t,M,l,!D),D||(D=!0)),b&&w!=null&&(Ku(t,w,c,!D),D||(D=!0)),g&&I!=null&&(Ku(t,I,d,!D),D||(D=!0)),t.closePath()},qi=class extends ki{constructor(){super(...arguments),this.borderPath=new gh,this.x=0,this.y=0,this.width=10,this.height=10,this.topLeftCornerRadius=0,this.topRightCornerRadius=0,this.bottomRightCornerRadius=0,this.bottomLeftCornerRadius=0,this.clipBBox=void 0,this.crisp=!1,this.lastUpdatePathStrokeWidth=ar.defaultStyles.strokeWidth,this.effectiveStrokeWidth=ar.defaultStyles.strokeWidth,this.hittester=super.isPointInPath,this.distanceCalculator=super.distanceSquaredTransformedPoint,this.microPixelEffectOpacity=1}set cornerRadius(t){this.topLeftCornerRadius=t,this.topRightCornerRadius=t,this.bottomRightCornerRadius=t,this.bottomLeftCornerRadius=t}isDirtyPath(){return this.lastUpdatePathStrokeWidth!==this.strokeWidth||!!(this.path.isDirty()||this.borderPath.isDirty())}updatePath(){let{path:t,borderPath:e,crisp:i,topLeftCornerRadius:n,topRightCornerRadius:r,bottomRightCornerRadius:o,bottomLeftCornerRadius:s}=this,{x:a,y:l,width:c,height:d,strokeWidth:u,clipBBox:h}=this,p=1/(this.layerManager?.canvas.pixelRatio??1),m=1;if(t.clear(!0),e.clear(!0),i&&(c<=p&&(m*=c/p),d<=p&&(m*=d/p),c=this.align(a,c),d=this.align(l,d),a=this.align(a),l=this.align(l),h=h!=null?new se(this.align(h.x),this.align(h.y),this.align(h.x,h.width),this.align(h.y,h.height)):void 0),u)if(c<p){let b=a+p/2;e.moveTo(b,l),e.lineTo(b,l+d),u=p,this.borderClipPath=void 0}else if(d<p){let b=l+p/2;e.moveTo(a,b),e.lineTo(a+c,b),u=p,this.borderClipPath=void 0}else if(u<c&&u<d){let b=u/2;a+=b,l+=b,c-=u,d-=u;let g=h?.clone().shrink(b),v={topLeft:n>0?n-u:0,topRight:r>0?r-u:0,bottomRight:o>0?o-u:0,bottomLeft:s>0?s-u:0};this.borderClipPath=void 0,c>0&&d>0&&(g==null||g?.width>0&&g?.height>0)&&(o_(t,a,l,c,d,v,g),o_(e,a,l,c,d,v,g))}else this.borderClipPath=this.borderClipPath??new gh,this.borderClipPath.clear(!0),this.borderClipPath.rect(a,l,c,d),e.rect(a,l,c,d);else{let b={topLeft:n,topRight:r,bottomRight:o,bottomLeft:s};this.borderClipPath=void 0,o_(t,a,l,c,d,b,h)}[n,r,o,s].every(b=>b===0)?(this.hittester=(b,g)=>{let v=this.transformPoint(b,g);return this.getBBox().containsPoint(v.x,v.y)},this.distanceSquared=(b,g)=>this.getBBox().distanceSquared(b,g)):(this.hittester=super.isPointInPath,this.distanceCalculator=super.distanceSquaredTransformedPoint),this.effectiveStrokeWidth=u,this.lastUpdatePathStrokeWidth=u,this.microPixelEffectOpacity=m}computeBBox(){let{x:t,y:e,width:i,height:n,clipBBox:r}=this;return r?.clone()??new se(t,e,i,n)}isPointInPath(t,e){return this.hittester(t,e)}get midPoint(){return{x:this.x+this.width/2,y:this.y+this.height/2}}distanceSquared(t,e){return this.distanceCalculator(t,e)}applyFillAlpha(t){let{fillOpacity:e,microPixelEffectOpacity:i,opacity:n}=this;t.globalAlpha*=n*e*i}renderStroke(t){let{stroke:e,effectiveStrokeWidth:i}=this;if(e&&i){let{globalAlpha:n}=t,{strokeOpacity:r,lineDash:o,lineDashOffset:s,lineCap:a,lineJoin:l,borderPath:c,borderClipPath:d,opacity:u,microPixelEffectOpacity:h}=this;d&&t.clip(d.getPath2D()),t.strokeStyle=e,t.globalAlpha*=u*r*h,t.lineWidth=i,o&&t.setLineDash(o),s&&(t.lineDashOffset=s),a&&(t.lineCap=a),l&&(t.lineJoin=l),t.stroke(c.getPath2D()),t.globalAlpha=n}}};qi.className="Rect";y([Me()],qi.prototype,"x",2);y([Me()],qi.prototype,"y",2);y([Me()],qi.prototype,"width",2);y([Me()],qi.prototype,"height",2);y([Me()],qi.prototype,"topLeftCornerRadius",2);y([Me()],qi.prototype,"topRightCornerRadius",2);y([Me()],qi.prototype,"bottomRightCornerRadius",2);y([Me()],qi.prototype,"bottomLeftCornerRadius",2);y([Me()],qi.prototype,"clipBBox",2);y([Me()],qi.prototype,"crisp",2);var pd=class extends Oh{constructor(t,e=0,i=!1){super(),this.zIndex=e,this.layer=i,this.rectNode=new qi,this.textNode=new _t,this.fill="white",this.node=new fe({name:"background",zIndex:this.zIndex,layer:this.layer}),this.node.append([this.rectNode,this.textNode]),this.visible=!0,this.destroyFns.push(t.scene.attachNode(this.node),t.layoutService.addListener("layout-complete",n=>this.onLayoutComplete(n)))}onLayoutComplete(t){let{width:e,height:i}=t.chart;this.rectNode.width=e,this.rectNode.height=i}};y([x(ve),Mi("node","visible")],pd.prototype,"visible",2);y([x(nt,{optional:!0}),Mi("rectNode","fill")],pd.prototype,"fill",2);y([x(ae,{optional:!0})],pd.prototype,"image",2);y([x(Q,{optional:!0}),Mi("textNode")],pd.prototype,"text",2);var vO={type:"root",optionsKey:"background",packageType:"community",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion"],moduleFactory:t=>new pd(t)},t6=class{constructor(){this.offscreenCanvas=new OffscreenCanvas(1,1);let t=this.offscreenCanvas.getContext("2d");if(t==null)throw new TypeError("AG Charts - invalid 2d context");this.renderCtx={ctx:t,devicePixelRatio:1,forceRender:!0,resized:!1,debugNodes:{}}}resize({spritePixelRatio:t,spriteWidth:e,spriteHeight:i}){this.offscreenCanvas.width=Math.max(e,0)*t,this.offscreenCanvas.height=Math.max(i,0)*t}renderSprite(t,e){t=L1(t);let{renderCtx:i,renderCtx:{ctx:n},offscreenCanvas:r}=this,{scale:o=1,translateX:s=0,translateY:a=0}=e??{};n.resetTransform(),n.clearRect(0,0,r.width,r.height),n.save(),n.beginPath(),n.setTransform(o,0,0,o,s,a);for(let l of t)l.render(i);return n.closePath(),n.restore(),r.transferToImageBitmap()}};function pl(t,e,i,n){e.addEventListener(i,n),t.push(()=>e.removeEventListener(i,n))}function U_(t,e,i){pl(t,e,"keydown",n=>{n.key==="Escape"&&i(n)})}function xO(t,e,...i){return!(t.shiftKey||t.altKey||t.ctrlKey||t.metaKey)&&(t.key===e||i.some(n=>t.key===n))}function Uk(t,e,i,n){i&&pl(t,e,"keydown",r=>{xO(r,n)&&i.focus()})}function _O(t,e,i,n,r,o){Uk(t,e,r,o),Uk(t,e,i,n),pl(t,e,"keydown",s=>{xO(s,n,o)&&s.preventDefault()})}var MO={horizontal:{nextKey:"ArrowRight",prevKey:"ArrowLeft"},vertical:{nextKey:"ArrowDown",prevKey:"ArrowUp"}};function Jg(t){let{orientation:e,toolbar:i,buttons:n,onEscape:r,onFocus:o,onBlur:s}=t,{nextKey:a,prevKey:l}=MO[e],c=n.length===0;i.role="toolbar",i.ariaOrientation=e,i.ariaHidden=c.toString();let d=h=>{h.target&&"tabIndex"in h.target&&(n.forEach(f=>f.tabIndex=-1),h.target.tabIndex=0)},u=[];for(let h=0;h<n.length;h++){let f=n[h-1],p=n[h],m=n[h+1];pl(u,p,"focus",d),o&&pl(u,p,"focus",o),s&&pl(u,p,"blur",s),r&&U_(u,p,r),_O(u,p,f,l,m,a),p.tabIndex=h===0?0:-1}return u}function i6(t){let{orientation:e,menu:i,buttons:n,onEscape:r}=t,{nextKey:o,prevKey:s}=MO[e];i.role="menu",i.ariaOrientation=e;let a=[];for(let l=0;l<n.length;l++){let c=n[(n.length+l-1)%n.length],d=n[l],u=n[(n.length+l+1)%n.length];r&&U_(a,d,r),_O(a,d,c,s,u,o),d.tabIndex=-1}return i.tabIndex=-1,r&&U_(a,i,r),pl(a,i,"keydown",l=>{l.target===i&&(l.key===o||l.key===s)&&(l.preventDefault(),n[0]?.focus())}),a}function DO(t,e){return i=>{if(t.ariaDisabled==="true")return i.preventDefault();e(i)}}function n6({orientation:t,bboxes:e,maxHeight:i,maxWidth:n,itemPaddingY:r=0,itemPaddingX:o=0,forceResult:s=!1}){let a=t==="horizontal",l={max:a?n:i,fn:a?h=>h.width:h=>h.height,padding:a?o:r},c={max:a?i:n,fn:a?h=>h.height:h=>h.width,padding:a?r:o},d=0,u=[];for(;d<e.length;){let h=e.slice(d),f=r6(h,d,l,c,s);if(!f)return;d+=f.processedBBoxCount,u.push(f.pageIndices)}return s6(u,t,e,r,o)}function r6(t,e,i,n,r){let s=l6(t,i);if(s<1){if(!r)return;s=1}let a=s;for(;a>=1;){let l=o6(t,e,a,i,n,r);if(l==null&&a<=1)return;if(l==null){a--;continue}if(typeof l=="number"){if(l<=1)return;a=l<a&&l>1?l:a,a--;continue}return{processedBBoxCount:l.length*l[0].length,pageIndices:l}}}function o6(t,e,i,n,r,o){let s=[],a=0,l=0,c=[],d=[];for(let u=0;u<t.length;u++){let h=(u+i)%i;h===0&&(a+=l,l=0,c.length>0&&s.push(c),c=[]);let f=n.fn(t[u])+n.padding;d[h]=Math.max(d[h]??0,f),l=Math.max(l,r.fn(t[u])+r.padding);let p=a+l,m=!o||s.length>0;if(p>r.max&&m){c=[];break}if(d.reduce((g,v)=>g+v,0)>n.max&&!o)return d.length<i?d.length:void 0;c.push(u+e)}return c.length>0&&s.push(c),s.length>0?s:void 0}function s6(t,e,i,n,r){let o=0,s=0;return{pages:t.map(l=>{e==="horizontal"&&(l=a6(l));let c=0,d=l.map(f=>{let p=f.map(g=>(c=Math.max(g,c),i[g])),m=0,b=0;return p.forEach(g=>{m+=g.height+n,b=Math.max(b,g.width+r)}),{indices:f,bboxes:p,columnHeight:Math.ceil(m),columnWidth:Math.ceil(b)}}),u=0,h=0;return d.forEach(f=>{u+=f.columnWidth,h=Math.max(h,f.columnHeight)}),o=Math.max(u,o),s=Math.max(h,s),{columns:d,startIndex:l[0][0],endIndex:c,pageWidth:u,pageHeight:h}}),maxPageWidth:o,maxPageHeight:s}}function a6(t){let e=[];for(let i of t[0])e.push([]);return t.forEach((i,n)=>{i.forEach((r,o)=>{e[o][n]=r})}),e}function l6(t,e){let i=t.length,n=0;for(let r=0;r<i;r++)if(n+=e.fn(t[r])+e.padding,n>e.max)return i/r<2?Math.ceil(i/2):r;return i}var Cl=class extends td{constructor(t){super(),this.sourceImage=t,this.x=0,this.y=0,this.width=0,this.height=0,this.opacity=1}updateBitmap(t,e,i,n){this.sourceImage=t,this.width=t.width/e,this.height=t.height/e,this.x=i/e,this.y=n/e,this.markDirty(this,3)}render(t){let{ctx:e,forceRender:i,stats:n}=t;if(this.dirty===0&&!i){n&&n.nodesSkipped++;return}let r=this.sourceImage;r&&(this.transformRenderContext(t),e.globalAlpha=this.opacity,e.drawImage(r,0,0,r.width,r.height,this.x,this.y,this.width,this.height),super.render(t))}};y([re({redraw:3})],Cl.prototype,"x",2);y([re({redraw:3})],Cl.prototype,"y",2);y([re({redraw:3})],Cl.prototype,"width",2);y([re({redraw:3})],Cl.prototype,"height",2);y([re({redraw:3})],Cl.prototype,"opacity",2);var Xo=class extends fe{constructor(){super({name:"markerLabelGroup"}),this.label=new _t,this.symbolsGroup=new fe({name:"legend-markerLabel-symbols"}),this.bitmap=new Cl,this.bitmapDirty=!0,this.enabled=!0,this.pageIndex=NaN,this._markers=[],this._lines=[];let{markers:t,label:e,lines:i}=this;e.textBaseline="middle",e.fontSize=12,e.fontFamily="Verdana, sans-serif",e.fill="black",e.y=1,this.updateSymbols(t,i),this.append(P1(this.symbolsGroup,e))}destroy(){super.destroy(),this.proxyButton?.remove()}get markers(){return this._markers}get lines(){return this._lines}updateSymbols(t,e){ul(this._markers,t)&&ul(this._lines,e)||(this.bitmapDirty=!0,this._markers=t,this._lines=e,this.symbolsGroup.clear(),this.symbolsGroup.append([this.bitmap,...t,...e]))}setEnabled(t){this.enabled=t,this.refreshVisibilities()}refreshVisibilities(){let t=this.enabled?1:.5;this.label.opacity=t,this.opacity=t,this.bitmap.opacity=t,this.setBitmapVisibility(!this.enabled)}setBitmapVisibility(t){let{lines:e,markers:i}=this;[e,i].forEach(n=>n.forEach(r=>r.visible=!t)),this.bitmap.visible=t}update(t,{spriteAAPadding:e,spritePixelRatio:i},n){let{markers:r,lines:o}=this,s=0,a=0,l=0;for(let g=0;g<Math.max(r.length,o.length);g++){let{length:v,spacing:M}=n[g]??0,w=r[g],I=o[g],D=w?.size??0,_=1/0,S=1/0,E=1/0;if(w){let T=w.constructor.center,k=(D+w.strokeWidth)/2;w.x=(T.x-.5)*D+v/2+l,w.y=(T.y-.5)*D,S=w.y-k,E=w.x-k}I&&(I.x1=l,I.x2=l+v,I.y1=0,I.y2=0,I.markDirtyTransform(),_=-I.strokeWidth/2),l+=M+Math.max(v,D),s=Math.min(s,I.x1,I.x2,E),a=Math.min(a,_,S)}let c=n.at(-1),d=this.lines.at(-1),u=this.markers.at(-1),h=d?d.x2:-1/0,f=(u?.x??0)+(u?.size??0)/2;if(this.label.x=Math.max(h,f)+(c?.spacing??0),this.bitmapDirty){this.setBitmapVisibility(!1);let g=(e+s)*i,v=(e-a)*i,M=t.renderSprite(this.symbolsGroup,{scale:i,translateX:Math.floor(g),translateY:Math.floor(v)});this.bitmap.updateBitmap(M,i,Math.ceil(-g),Math.ceil(-v)),this.bitmapDirty=!1,this.refreshVisibilities()}if(n.length<2)return;let p=this.symbolsGroup.getBBox(),m=Math.max(u?.size??0,c?.length??0),b=new se(p.x+m/2,p.y,m,p.height);this.symbolsGroup.setClipRectInGroupCoordinateSpace(b)}computeBBox(){let{label:t,lines:e,markers:i}=this;return fe.computeBBox(O1([t],e,i),{skipInvisible:!1})}};Xo.className="MarkerLabel";y([Mi("label")],Xo.prototype,"text",2);y([Mi("label")],Xo.prototype,"fontStyle",2);y([Mi("label")],Xo.prototype,"fontWeight",2);y([Mi("label")],Xo.prototype,"fontSize",2);y([Mi("label")],Xo.prototype,"fontFamily",2);y([Mi("label","fill")],Xo.prototype,"color",2);var md=class extends Ne{constructor(){super(...arguments),this.color="black",this.fontStyle=void 0,this.fontWeight=void 0,this.fontSize=12,this.fontFamily="Verdana, sans-serif"}};y([x(nt)],md.prototype,"color",2);y([x(na,{optional:!0})],md.prototype,"fontStyle",2);y([x(ra,{optional:!0})],md.prototype,"fontWeight",2);y([x(K)],md.prototype,"fontSize",2);y([x(Q)],md.prototype,"fontFamily",2);var qo=class extends Ne{constructor(){super(...arguments),this.size=15,this.fill=void 0,this.fillOpacity=void 0,this.stroke=void 0,this.strokeWidth=1,this.strokeOpacity=1}};y([x(K)],qo.prototype,"size",2);y([x(nt,{optional:!0})],qo.prototype,"fill",2);y([x(Je,{optional:!0})],qo.prototype,"fillOpacity",2);y([x(nt,{optional:!0})],qo.prototype,"stroke",2);y([x(K)],qo.prototype,"strokeWidth",2);y([x(Je)],qo.prototype,"strokeOpacity",2);var ey=class extends Ne{constructor(t){super(),this.parent=t,this.shape=Gc,this.size=15,this.padding=8}};y([Yi({changeValue(){this.parent.marker===this&&this.parent.onMarkerShapeChange()}})],ey.prototype,"shape",2);y([x(K)],ey.prototype,"size",2);y([x(K)],ey.prototype,"padding",2);var El=class extends Ne{constructor(t,e,i,n){super(),this.chartUpdateCallback=t,this.pageUpdateCallback=e,this.regionManager=i,this.cursorManager=n,this.id=lr(this),this.marker=new ey(this),this.activeStyle=new qo,this.inactiveStyle=new qo,this.highlightStyle=new qo,this.label=new md,this.group=new fe({name:"pagination"}),this.labelNode=new _t,this.destroyFns=[],this.totalPages=0,this.currentPage=0,this.translationX=0,this.translationY=0,this.nextButtonDisabled=!1,this.previousButtonDisabled=!1,this._visible=!0,this._enabled=!0,this._orientation="vertical",this._nextButton=new Gc,this._previousButton=new Gc,this.labelNode.setProperties({textBaseline:"middle",fontSize:12,fontFamily:"Verdana, sans-serif",fill:"black",y:1}),this.group.append([this.nextButton,this.previousButton,this.labelNode]);let r=this.regionManager.addRegion("pagination",this.group);this.destroyFns.push(r.addListener("click",o=>this.onPaginationClick(o)),r.addListener("hover",o=>this.onPaginationMouseMove(o))),this.update(),this.updateMarkers()}destroy(){this.destroyFns.forEach(t=>t())}set visible(t){this._visible=t,this.updateGroupVisibility()}get visible(){return this._visible}set enabled(t){this._enabled=t,this.updateGroupVisibility()}get enabled(){return this._enabled}updateGroupVisibility(){this.group.visible=this.enabled&&this.visible}set orientation(t){switch(this._orientation=t,t){case"horizontal":{this.previousButton.rotation=-Math.PI/2,this.nextButton.rotation=Math.PI/2;break}case"vertical":default:this.previousButton.rotation=0,this.nextButton.rotation=Math.PI}}get orientation(){return this._orientation}set nextButton(t){this._nextButton!==t&&(this.group.removeChild(this._nextButton),this._nextButton=t,this.group.appendChild(t))}get nextButton(){return this._nextButton}set previousButton(t){this._previousButton!==t&&(this.group.removeChild(this._previousButton),this._previousButton=t,this.group.appendChild(t))}get previousButton(){return this._previousButton}update(){this.updateLabel(),this.updatePositions(),this.enableOrDisableButtons()}updatePositions(){this.group.translationX=this.translationX,this.group.translationY=this.translationY,this.updateLabelPosition(),this.updateNextButtonPosition()}updateLabelPosition(){let{size:t,padding:e}=this.marker;this.nextButton.size=t,this.previousButton.size=t,this.labelNode.x=t/2+e}updateNextButtonPosition(){let t=this.labelNode.getBBox();this.nextButton.translationX=t.x+t.width+this.marker.size/2+this.marker.padding}updateLabel(){let{currentPage:t,totalPages:e,labelNode:i,label:{color:n,fontStyle:r,fontWeight:o,fontSize:s,fontFamily:a}}=this;i.text=`${t+1} / ${e}`,i.fill=n,i.fontStyle=r,i.fontWeight=o,i.fontSize=s,i.fontFamily=a}updateMarkers(){let{nextButton:t,previousButton:e,nextButtonDisabled:i,previousButtonDisabled:n,activeStyle:r,inactiveStyle:o,highlightStyle:s,highlightActive:a}=this,l=(c,d)=>d?o:c===a?s:r;this.updateMarker(t,l("next",i)),this.updateMarker(e,l("previous",n))}updateMarker(t,e){let{size:i}=this.marker;t.size=i,t.fill=e.fill,t.fillOpacity=e.fillOpacity??1,t.stroke=e.stroke,t.strokeWidth=e.strokeWidth,t.strokeOpacity=e.strokeOpacity}enableOrDisableButtons(){let{currentPage:t,totalPages:e}=this,i=e===0,n=t===e-1,r=t===0;this.nextButtonDisabled=n||i,this.previousButtonDisabled=r||i}nextButtonContainsPoint(t,e){return!this.nextButtonDisabled&&this.nextButton.containsPoint(t,e)}previousButtonContainsPoint(t,e){return!this.previousButtonDisabled&&this.previousButton.containsPoint(t,e)}clickNext(){this.incrementPage(),this.onPaginationChanged()}clickPrevious(){this.decrementPage(),this.onPaginationChanged()}setPage(t){t=Ce(0,t,this.totalPages-1),this.currentPage!==t&&(this.currentPage=t,this.onPaginationChanged())}onPaginationClick(t){let{offsetX:e,offsetY:i}=t;t.preventDefault(),this.nextButtonContainsPoint(e,i)?this.clickNext():this.previousButtonContainsPoint(e,i)&&this.clickPrevious()}onPaginationMouseMove(t){let{offsetX:e,offsetY:i}=t;this.nextButtonContainsPoint(e,i)?(this.cursorManager.updateCursor(this.id,"pointer"),this.highlightActive="next"):this.previousButtonContainsPoint(e,i)?(this.cursorManager.updateCursor(this.id,"pointer"),this.highlightActive="previous"):(this.cursorManager.updateCursor(this.id),this.highlightActive=void 0),this.updateMarkers(),this.chartUpdateCallback(6)}onPaginationChanged(){this.pageUpdateCallback(this.currentPage)}incrementPage(){this.currentPage=Math.min(this.currentPage+1,this.totalPages-1)}decrementPage(){this.currentPage=Math.max(this.currentPage-1,0)}onMarkerShapeChange(){let t=mo(this.marker.shape||Gc);this.previousButton=new t,this.nextButton=new t,this.updatePositions(),this.updateMarkers(),this.chartUpdateCallback(6)}attachPagination(t){t.append(this.group)}getBBox(){return this.group.getBBox(!0)}computeCSSBounds(){let t=this._previousButton.computeTransformedBBox(),e=this._nextButton.computeTransformedBBox();return{prev:t,next:e}}};El.className="Pagination";y([x(ae)],El.prototype,"marker",2);y([x(ae)],El.prototype,"activeStyle",2);y([x(ae)],El.prototype,"inactiveStyle",2);y([x(ae)],El.prototype,"highlightStyle",2);y([x(ae)],El.prototype,"label",2);var da=class extends Ne{constructor(){super(...arguments),this.maxLength=void 0,this.color="black",this.fontStyle=void 0,this.fontWeight=void 0,this.fontSize=12,this.fontFamily="Verdana, sans-serif"}};y([x(K,{optional:!0})],da.prototype,"maxLength",2);y([x(nt)],da.prototype,"color",2);y([x(na,{optional:!0})],da.prototype,"fontStyle",2);y([x(ra,{optional:!0})],da.prototype,"fontWeight",2);y([x(K)],da.prototype,"fontSize",2);y([x(Q)],da.prototype,"fontFamily",2);y([x(hn,{optional:!0})],da.prototype,"formatter",2);var gd=class extends Ne{constructor(){super(...arguments),this.size=15,this.padding=8}};y([Zi(t=>t.parent?.onMarkerShapeChange())],gd.prototype,"shape",2);y([x(K)],gd.prototype,"size",2);y([x(K)],gd.prototype,"padding",2);y([x(K,{optional:!0})],gd.prototype,"strokeWidth",2);y([x(ve)],gd.prototype,"enabled",2);var iD=class extends Ne{};y([x(K,{optional:!0})],iD.prototype,"strokeWidth",2);y([x(K,{optional:!0})],iD.prototype,"length",2);var ua=class extends Ne{constructor(){super(...arguments),this.paddingX=16,this.paddingY=8,this.showSeriesStroke=!1,this.marker=new gd,this.label=new da,this.line=new iD}};y([x(K,{optional:!0})],ua.prototype,"maxWidth",2);y([x(K)],ua.prototype,"paddingX",2);y([x(K)],ua.prototype,"paddingY",2);y([x(ve)],ua.prototype,"showSeriesStroke",2);y([x(ae)],ua.prototype,"marker",2);y([x(ae)],ua.prototype,"label",2);y([x(ae)],ua.prototype,"line",2);var nD=class extends Ne{};y([x(hn,{optional:!0})],nD.prototype,"legendItemClick",2);y([x(hn,{optional:!0})],nD.prototype,"legendItemDoubleClick",2);var Wm="legend-visibility",Gk="legend-other-series",mn=class extends Ne{constructor(t){super(),this.ctx=t,this.id=lr(this),this.group=new fe({name:"legend",layer:!0,zIndex:13}),this.itemSelection=At.select(this.group,Xo),this.spriteRenderer=new t6,this.oldSize=[0,0],this.pages=[],this.maxPageSize=[0,0],this.paginationTrackingIndex=0,this.truncatedItems=new Set,this._data=[],this.toggleSeries=!0,this.item=new ua,this.listeners=new nD,this.enabled=!0,this.position="bottom",this.spacing=20,this.destroyFns=[],this.size=[0,0],this._visible=!0,this.item.marker.parent=this,this.pagination=new El(a=>t.updateService.update(a),a=>this.updatePageNumber(a),t.regionManager,t.cursorManager),this.pagination.attachPagination(this.group),t.contextMenuRegistry.registerDefaultAction({id:Wm,type:"legend",label:"contextMenuToggleSeriesVisibility",action:a=>this.contextToggleVisibility(a)}),t.contextMenuRegistry.registerDefaultAction({id:Gk,type:"legend",label:"contextMenuToggleOtherSeries",action:a=>this.contextToggleOtherSeries(a)});let{Default:e,Animation:i,ContextMenu:n}=Ph,r=e|i,o=e|i|n,s=t.regionManager.addRegion("legend",this.group);this.destroyFns.push(s.addListener("contextmenu",a=>this.checkContextClick(a),o),s.addListener("click",a=>this.checkLegendClick(a),r),s.addListener("dblclick",a=>this.checkLegendDoubleClick(a),r),s.addListener("hover",a=>this.handleLegendMouseMove(a),r),s.addListener("leave",()=>this.handleLegendMouseExit(),r),s.addListener("enter",a=>this.handleLegendMouseEnter(a),r),t.layoutService.addListener("start-layout",a=>this.positionLegend(a)),t.localeManager.addListener("locale-changed",()=>this.onLocaleChanged()),()=>this.group.parent?.removeChild(this.group)),this.proxyLegendToolbar=this.ctx.proxyInteractionService.createProxyContainer({type:"toolbar",id:`${this.id}-toolbar`,classList:["ag-charts-proxy-legend-toolbar"],ariaLabel:{id:"ariaLabelLegend"},ariaOrientation:"horizontal",ariaHidden:!0}),this.proxyLegendPagination=this.ctx.proxyInteractionService.createProxyContainer({type:"group",id:`${this.id}-pagination`,classList:["ag-charts-proxy-legend-pagination"],ariaLabel:{id:"ariaLabelLegendPagination"},ariaOrientation:"horizontal",ariaHidden:!0})}set data(t){this._data=t,this.updateGroupVisibility()}get data(){return this._data}destroy(){this.ctx.domManager.removeChild("canvas-overlay",`${this.id}-toolbar`),this.ctx.domManager.removeChild("canvas-overlay",`${this.id}-pagination`),this.destroyFns.forEach(t=>t()),this.pagination.destroy(),this.itemSelection.clear()}initLegendItemToolbar(){this.itemSelection.each((e,i,n)=>{e.proxyButton??(e.proxyButton=this.ctx.proxyInteractionService.createProxyElement({type:"button",id:`ag-charts-legend-item-${n}`,textContent:this.getItemAriaText(n),parent:this.proxyLegendToolbar,focusable:e,onclick:()=>{this.doClick(e.datum),e.proxyButton.textContent=this.getItemAriaText(n,!e.datum.enabled)},onblur:()=>this.handleLegendMouseExit(),onfocus:()=>{let r=e?.computeTransformedBBox(),o=rO(this.ctx.focusIndicator,{bounds:r,showFocusBox:!0});this.doHover(o,e.datum),this.pagination.setPage(e.pageIndex)}}))});let t=this.itemSelection.nodes().map(e=>e.proxyButton).filter(e=>!!e);Jg({orientation:this.getOrientation(),buttons:t,toolbar:this.proxyLegendToolbar})}onMarkerShapeChange(){this.itemSelection.clear(),this.group.markDirty(this.group,2)}getOrientation(){if(this.orientation!==void 0)return this.orientation;switch(this.position){case"right":case"left":return"vertical";case"bottom":case"top":return"horizontal"}}set visible(t){this._visible=t,this.updateGroupVisibility()}get visible(){return this._visible}updateGroupVisibility(){this.group.visible=this.enabled&&this.visible&&this.data.length>0}attachLegend(t){t.appendChild(this.group)}getItemLabel(t){let{ctx:{callbackCache:e}}=this,{formatter:i}=this.item.label;return i?e.call(i,{itemId:t.itemId,value:t.label.text,seriesId:t.seriesId}):t.label.text}calcLayout(t,e){let{paddingX:i,paddingY:n,label:r,maxWidth:o,label:{maxLength:s=1/0,fontStyle:a,fontWeight:l,fontSize:c,fontFamily:d}}=this.item,u=[...this.data];this.reverseOrder&&u.reverse();let h=this.itemSelection.nodes().length===0;this.itemSelection.update(u),h&&this.initLegendItemToolbar();let f=[],p=Ft.toFontString(r),b=o??t*.8,g=this.calculateSpriteDimensions();if(this.spriteRenderer.resize(g),this.itemSelection.each((T,k)=>{T.fontStyle=a,T.fontWeight=l,T.fontSize=c,T.fontFamily=d;let P=this.updateMarkerLabel(T,k,g),Z=k.itemId??k.id,z=(this.getItemLabel(k)??"<unknown>").replace(/\r?\n/g," ");T.text=this.truncate(z,s,b,P,p,Z),f.push(T.getBBox())}),t=Math.max(1,t),e=Math.max(1,e),!isFinite(t))return{};let v=this.size,M=this.oldSize;v[0]=t,v[1]=e,(v[0]!==M[0]||v[1]!==M[1])&&(M[0]=v[0],M[1]=v[1]);let{pages:w,maxPageHeight:I,maxPageWidth:D}=this.updatePagination(f,t,e),_=this.pages;this.pages=w,this.maxPageSize=[D-i,I-n];let S=this.pagination.currentPage,E=this.pages[S];return this.pages.length<1||!E?(this.visible=!1,{oldPages:_}):(this.visible=!0,this.updatePositions(S),this.update(),{oldPages:_})}calcSymbolsEnabled(t){let{showSeriesStroke:e,marker:i}=this.item,n=!!i.enabled||!e||(t.marker.enabled??!0),r=!!(t.line&&e);return{markerEnabled:n,lineEnabled:r}}calcSymbolsLengths(t){let{marker:e,line:i}=this.item,{markerEnabled:n,lineEnabled:r}=this.calcSymbolsEnabled(t),{strokeWidth:o}=this.getMarkerStyles(t),{strokeWidth:s}=r?this.getLineStyles(t):{strokeWidth:0},a=n?e.size:0,l=r?i.length??25:0;return{markerLength:a,markerStrokeWidth:o,lineLength:l,lineStrokeWidth:s}}calculateSpriteDimensions(){let t=0,e=0,i=0,n=0;return this.itemSelection.each((o,s)=>{s.symbols.forEach(a=>{let{markerLength:l,markerStrokeWidth:c,lineLength:d,lineStrokeWidth:u}=this.calcSymbolsLengths(a),h=l+c;n=Math.max(n,d,l),e=Math.max(e,d,h),i=Math.max(i,u,h),t=Math.max(t,c+.5)})}),e+=t*2,i+=t*2,{spritePixelRatio:Br().devicePixelRatio,spriteAAPadding:t,spriteWidth:e,spriteHeight:i,markerWidth:n}}updateMarkerLabel(t,e,i){let{marker:n,paddingX:r}=this.item,{markerWidth:o}=i,s=[],a=r;if(t.markers.length!==e.symbols.length&&t.lines.length!==e.symbols.length){let l=[],c=[];e.symbols.forEach(d=>{let{shape:u=d.marker.shape}=n,h=mo(u);c.push(new di),l.push(new h)}),t.updateSymbols(l,c)}return e.symbols.forEach((l,c)=>{let d=l.marker.padding??n.padding,{markerEnabled:u,lineEnabled:h}=this.calcSymbolsEnabled(l);t.markers[c].size=u||!h?n.size:0,s.push({length:o,spacing:d}),(u||h)&&(a+=d+o);let f=t.markers[c],p=t.lines[c];if(f){let{strokeWidth:m,fill:b,stroke:g,fillOpacity:v,strokeOpacity:M}=this.getMarkerStyles(l);f.fill=b,f.stroke=g,f.strokeWidth=m,f.fillOpacity=v,f.strokeOpacity=M}if(p){let m=this.getLineStyles(l);p.stroke=m.stroke,p.strokeOpacity=m.strokeOpacity,p.strokeWidth=m.strokeWidth,p.lineDash=m.lineDash}}),t.update(this.spriteRenderer,i,s),a}truncate(t,e,i,n,r,o){let s=!1;t.length>e&&(t=t.substring(0,e),s=!0);let a=ts.getMeasurer({font:r}),l=CM.truncateLine(t,a,i-n,s);return l.endsWith(Ft.EllipsisChar)?this.truncatedItems.add(o):this.truncatedItems.delete(o),l}updatePagination(t,e,i){let n=this.getOrientation(),r=Math.min(this.paginationTrackingIndex,t.length);this.pagination.orientation=n,this.pagination.translationX=0,this.pagination.translationY=0;let{pages:o,maxPageHeight:s,maxPageWidth:a,paginationBBox:l,paginationVertical:c}=this.calculatePagination(t,e,i),d=o.findIndex(M=>M.endIndex>=r);this.pagination.currentPage=Ce(0,d,o.length-1);let{paddingX:u,paddingY:h}=this.item,f=8,p=a-u,m=s-h,b=0,g=-l.y-this.item.marker.size/2;c?g+=m+f:(b+=-l.x+p+f,g+=(m-l.height)/2),this.pagination.translationX=b,this.pagination.translationY=g,this.pagination.update(),this.pagination.updateMarkers();let v=0;return this.itemSelection.each((M,w,I)=>{I>(o[v]?.endIndex??1/0)&&v++,M.pageIndex=v}),{maxPageHeight:s,maxPageWidth:a,pages:o}}updateItemProxyButtons(){this.itemSelection.each(t=>{let e=t.computeTransformedBBox()?.clone();e.translate(this.group.translationX,this.group.translationY),Ys(t.proxyButton,e)})}updatePaginationProxyButtons(t){this.proxyLegendPagination.style.display=this.pagination.visible?"absolute":"none";let e=(t?.length??this.pages.length)>1,i=this.pages.length>1;e!==i&&(i?(this.proxyPrevButton=this.ctx.proxyInteractionService.createProxyElement({type:"button",id:`${this.id}-prev-page`,textContent:{id:"ariaLabelLegendPagePrevious"},tabIndex:0,parent:this.proxyLegendPagination,focusable:this.pagination.previousButton,onclick:()=>this.pagination.clickPrevious()}),this.proxyNextButton??(this.proxyNextButton=this.ctx.proxyInteractionService.createProxyElement({type:"button",id:`${this.id}-next-page`,textContent:{id:"ariaLabelLegendPageNext"},tabIndex:0,parent:this.proxyLegendPagination,focusable:this.pagination.nextButton,onclick:()=>this.pagination.clickNext()}))):(this.proxyNextButton?.remove(),this.proxyPrevButton?.remove(),[this.proxyNextButton,this.proxyPrevButton]=[void 0,void 0]));let{prev:n,next:r}=this.pagination.computeCSSBounds();Ys(this.proxyPrevButton,n),Ys(this.proxyNextButton,r)}calculatePagination(t,e,i){let{paddingX:n,paddingY:r}=this.item,o=this.getOrientation(),s=["left","right"].includes(this.position),a=this.pagination.getBBox(),l=new se(0,0,0,0),c=[],d=0,u=0,h=0,f=m=>m.width===a.width&&m.height===a.height,p=this.maxWidth!==void 0&&this.maxHeight!==void 0;do{if(h++>10){Y.warn("unable to find stable legend layout.");break}a=l;let m=e-(s?0:a.width),b=i-(s?a.height:0),g=n6({orientation:o,bboxes:t,maxHeight:b,maxWidth:m,itemPaddingY:r,itemPaddingX:n,forceResult:p});c=g?.pages??[],d=g?.maxPageWidth??0,u=g?.maxPageHeight??0;let v=c.length;if(this.pagination.visible=v>1,this.pagination.totalPages=v,this.pagination.update(),l=this.pagination.getBBox(),!this.pagination.visible)break}while(!f(l));return{maxPageWidth:d,maxPageHeight:u,pages:c,paginationBBox:a,paginationVertical:s}}updatePositions(t=0){let{item:{paddingY:e},itemSelection:i,pages:n}=this;if(n.length<1||!n[t])return;let{columns:r,startIndex:o,endIndex:s}=n[t],a=0,l=0,c=r.length,d=r[0].indices.length,u=this.getOrientation()==="horizontal",h=r[0].bboxes[0].height+e,f=[];i.each((p,m,b)=>{if(b<o||b>s){p.visible=!1;return}let g=b-o,v,M;u?(v=g%c,M=Math.floor(g/c)):(v=Math.floor(g/d),M=g%d),p.visible=!0;let w=r[v];w&&(l=Math.floor(h*M),a=Math.floor(f[M]??0),f[M]=(f[M]??0)+w.columnWidth,p.translationX=a,p.translationY=l)})}updatePageNumber(t){let{pages:e}=this,{startIndex:i,endIndex:n}=e[t];i===0?this.paginationTrackingIndex=0:t===e.length-1?this.paginationTrackingIndex=n:this.paginationTrackingIndex=Math.floor((i+n)/2),this.pagination.update(),this.pagination.updateMarkers(),this.updatePositions(t),this.ctx.updateService.update(6)}update(){let{label:{color:t}}=this.item;this.itemSelection.each((e,i)=>{e.setEnabled(i.enabled),e.color=t}),this.updateContextMenu()}updateContextMenu(){let{toggleSeries:t}=this;this.ctx.contextMenuRegistry.setActionVisiblity(Wm,t),this.ctx.contextMenuRegistry.setActionVisiblity(Gk,t)}getLineStyles(t){let{stroke:e,strokeOpacity:i=1,strokeWidth:n,lineDash:r}=t.line??{},o=Math.min(2,n??1);return{stroke:e,strokeOpacity:i,strokeWidth:this.item.line.strokeWidth??o,lineDash:r}}getMarkerStyles(t){let{fill:e,stroke:i,strokeOpacity:n=1,fillOpacity:r=1,strokeWidth:o}=t.marker,s=Math.min(2,o??1);return{fill:e,stroke:i,strokeOpacity:n,fillOpacity:r,strokeWidth:this.item.marker.strokeWidth??s}}getDatumForPoint(t,e){let i=[],n={dist:1/0,datum:void 0};for(let o of this.group.children){if(!o.visible||!(o instanceof Xo))continue;let s=o.getBBox().clone();if(s.grow(this.item.paddingX/2,"horizontal"),s.grow(this.item.paddingY/2,"vertical"),s.containsPoint(t,e))return o.datum;let a=t-s.x-this.item.paddingX/2,l=e-s.y-this.item.paddingY/2,c=a**2+l**2;a>=0&&l>=0&&c<n.dist&&(n.dist=c,n.datum=o.datum),i.push(s)}if(se.merge(i).containsPoint(t,e))return n.datum}computePagedBBox(){let t=this.group.getBBox();if(this.pages.length<=1)return t;let[e,i]=this.maxPageSize;return t=t.clone(),t.height=Math.max(i,t.height),t.width=Math.max(e,t.width),t}contextToggleVisibility(t){let e=this.data.find(i=>i.itemId===t.itemId);this.doClick(e)}contextToggleOtherSeries(t){let e=this.data.find(i=>i.itemId===t.itemId);this.doDoubleClick(e)}checkContextClick(t){let e=this.getDatumForPoint(t.offsetX,t.offsetY);this.preventHidingAll&&this.contextMenuDatum?.enabled&&this.getVisibleItemCount()<=1?this.ctx.contextMenuRegistry.disableAction(Wm):this.ctx.contextMenuRegistry.enableAction(Wm),this.ctx.contextMenuRegistry.dispatchContext("legend",t,{legendItem:e})}checkLegendClick(t){let e=this.getDatumForPoint(t.offsetX,t.offsetY);this.doClick(e)&&t.preventDefault()}getVisibleItemCount(){return this.ctx.chartService.series.flatMap(t=>t.getLegendData("category")).filter(t=>t.enabled).length}doClick(t){let{listeners:{legendItemClick:e},ctx:{chartService:i,highlightManager:n},preventHidingAll:r,toggleSeries:o}=this;if(!t)return!1;let{id:s,itemId:a,enabled:l}=t,c=i.series.find(u=>u.id===s);if(!c)return!1;let d=l;if(o){d=!l,r&&!d&&this.getVisibleItemCount()<2&&(d=!0);let u=d?"ariaAnnounceVisible":"ariaAnnounceHidden";this.ctx.ariaAnnouncementService.announceValue(u),this.ctx.chartEventManager.legendItemClick(c,a,d,t.legendItemName)}return d?n.updateHighlight(this.id,{series:c,itemId:a,datum:void 0}):n.updateHighlight(this.id),this.ctx.updateService.update(2,{forceNodeDataRefresh:!0}),e?.({type:"click",enabled:d,itemId:a,seriesId:c.id}),!0}checkLegendDoubleClick(t){let e=this.getDatumForPoint(t.offsetX,t.offsetY);this.doDoubleClick(e)&&t.preventDefault()}doDoubleClick(t){let{listeners:{legendItemDoubleClick:e},ctx:{chartService:i},toggleSeries:n}=this;if(i.mode==="integrated"||!t)return!1;let{id:r,itemId:o,seriesId:s}=t,a=i.series.find(l=>l.id===r);if(!a)return!1;if(n){let l=i.series.flatMap(u=>u.getLegendData("category")),c=l.filter(u=>u.enabled).length,d=l.find(u=>u.itemId===o&&u.seriesId===s);this.ctx.chartEventManager.legendItemDoubleClick(a,o,d?.enabled??!1,c,d?.legendItemName)}return this.ctx.updateService.update(2,{forceNodeDataRefresh:!0}),e?.({type:"dblclick",enabled:!0,itemId:o,seriesId:a.id}),!0}handleLegendMouseMove(t){if(!this.enabled)return;let{offsetX:e,offsetY:i}=t;t.preventDefault();let n=this.getDatumForPoint(e,i);this.doHover(t,n)}doHover(t,e){let{toggleSeries:i,listeners:n}=this;if(t===void 0||e===void 0){this.ctx.cursorManager.updateCursor(this.id),this.updateHighlight();return}let r=e?this.ctx.chartService.series.find(o=>o.id===e?.id):void 0;if(e&&this.truncatedItems.has(e.itemId??e.id)){let{offsetX:o,offsetY:s}=t;this.ctx.tooltipManager.updateTooltip(this.id,{offsetX:o,offsetY:s,lastPointerEvent:t,showArrow:!1},qc({content:this.getItemLabel(e)}))}else this.ctx.tooltipManager.removeTooltip(this.id);(i||n.legendItemClick!=null||n.legendItemDoubleClick!=null)&&this.ctx.cursorManager.updateCursor(this.id,"pointer"),e?.enabled&&r?this.updateHighlight({series:r,itemId:e?.itemId,datum:void 0}):this.updateHighlight()}handleLegendMouseExit(){this.ctx.cursorManager.updateCursor(this.id),this.ctx.tooltipManager.removeTooltip(this.id),this.updateHighlight()}updateHighlight(t){let e=this.ctx.interactionManager.getState();e===16?this.ctx.highlightManager.updateHighlight(this.id,t):e===1&&(this.pendingHighlightDatum=t,this.ctx.animationManager.onBatchStop(()=>{this.ctx.highlightManager.updateHighlight(this.id,this.pendingHighlightDatum)}))}handleLegendMouseEnter(t){let{enabled:e,toggleSeries:i,listeners:{legendItemClick:n,legendItemDoubleClick:r}}=this,o=this.getDatumForPoint(t.offsetX,t.offsetY);e&&o!==void 0&&(i||n!=null||r!=null)&&this.ctx.cursorManager.updateCursor(this.id,"pointer")}onLocaleChanged(){this.itemSelection.each(({proxyButton:t},e,i)=>{t!=null&&(t.textContent=this.getItemAriaText(i))})}getItemAriaText(t,e){let i=this.data[t],n=i&&this.getItemLabel(i);e??(e=i.enabled);let r=this.ctx.localeManager;if(t>=0&&n){let o=t+1,s=this.data.length,a=r.t("ariaLabelLegendItem",{label:n,index:o,count:s}),l=r.t(e?"ariaAnnounceVisible":"ariaAnnounceHidden");return[a,l].join("")}return r.t("ariaLabelLegendItemUnknown")}positionLegend(t){let{shrinkRect:e}=t,i=e.clone();if(!this.enabled||!this.data.length)return L(C({},t),{shrinkRect:i});let[n,r]=this.calculateLegendDimensions(e);this.group.translationX=0,this.group.translationY=0;let{oldPages:o}=this.calcLayout(n,r),s=this.computePagedBBox(),a=()=>{switch(this.position){case"top":case"left":return 0;case"bottom":return e.height-s.height;case"right":default:return e.width-s.width}};if(this.visible){let l=this.spacing,c,d;switch(this.position){case"top":case"bottom":c=(e.width-s.width)/2,d=a(),i.shrink(s.height+l,this.position);break;case"left":case"right":default:c=a(),d=(e.height-s.height)/2,i.shrink(s.width+l,this.position)}this.group.translationX=Math.floor(-s.x+e.x+c),this.group.translationY=Math.floor(-s.y+e.y+d),this.proxyLegendToolbar.style.removeProperty("display"),this.proxyLegendToolbar.ariaOrientation=this.getOrientation()}else this.proxyLegendToolbar.style.display="none";return this.updateItemProxyButtons(),this.updatePaginationProxyButtons(o),L(C({},t),{shrinkRect:i})}calculateLegendDimensions(t){let{width:e,height:i}=t,n=e/i,r=.5,o=.2,s=.25,a,l;switch(this.position){case"top":case"bottom":let c=n<1?Math.min(r,o*(1/n)):o;a=this.maxWidth?Math.min(this.maxWidth,e):e,l=this.maxHeight?Math.min(this.maxHeight,i):Math.round(i*c);break;case"left":case"right":default:let d=n>1?Math.min(r,s*n):s;a=this.maxWidth?Math.min(this.maxWidth,e):Math.round(e*d),l=this.maxHeight?Math.min(this.maxHeight,i):i}return[a,l]}};mn.className="Legend";y([x(ve)],mn.prototype,"toggleSeries",2);y([x(ae)],mn.prototype,"pagination",2);y([x(ae)],mn.prototype,"item",2);y([x(ae)],mn.prototype,"listeners",2);y([Zi(t=>t.updateGroupVisibility()),x(ve)],mn.prototype,"enabled",2);y([x(yM)],mn.prototype,"position",2);y([x(K,{optional:!0})],mn.prototype,"maxWidth",2);y([x(K,{optional:!0})],mn.prototype,"maxHeight",2);y([x(ve,{optional:!0})],mn.prototype,"reverseOrder",2);y([x(bt(["horizontal","vertical"],"an orientation"),{optional:!0})],mn.prototype,"orientation",2);y([x(ve,{optional:!0})],mn.prototype,"preventHidingAll",2);y([x(K)],mn.prototype,"spacing",2);var c6={type:"legend",optionsKey:"legend",identifier:"category",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion"],moduleFactory:t=>new mn(t),packageType:"community"},rD=class extends Oh{constructor(t){super(),this.ctx=t,this.localeText=void 0}};y([Zi(t=>{t.ctx.localeManager.setLocaleText(t.localeText)}),x(iR,{optional:!0})],rD.prototype,"localeText",2);y([Zi(t=>{t.ctx.localeManager.setLocaleTextFormatter(t.getLocaleText)}),x(hn,{optional:!0})],rD.prototype,"getLocaleText",2);var d6={type:"root",optionsKey:"locale",packageType:"community",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion"],moduleFactory:t=>new rD(t)},Xs=class extends ki{constructor(){super(...arguments),this.zIndex=3,this.centerX=0,this.centerY=0,this.width=8,this.height=16,this.gripLineGap=2,this.gripLineLength=8}setCenter(t,e){this.dirtyPath=!0,this.centerX=t,this.centerY=e}static align(t,e,i,n,r,o,s,a){let l=t.strokeWidth/2,c=t.align(i+r*s)+l,d=c+t.align(i+r*s,r*(a-s))-2*l,u=t.align(n+o/2)+l;t.setCenter(c,u),e.setCenter(d,u)}computeBBox(){let{centerX:t,centerY:e,width:i,height:n}=this,r=t-i/2,o=e-n/2;return new se(r,o,i,n)}computeTransformedBBox(){return super.computeTransformedBBox()}isPointInPath(t,e){let i=this.transformPoint(t,e);return this.getBBox().containsPoint(i.x,i.y)}updatePath(){let{centerX:t,centerY:e,path:i,strokeWidth:n,gripLineGap:r,gripLineLength:o}=this,s=this.layerManager?.canvas?.pixelRatio??1;i.clear();let a=Math.floor(this.width/2*s)/s,l=Math.floor(this.height/2*s)/s;i.moveTo(t-a,e-l),i.lineTo(t+a,e-l),i.lineTo(t+a,e+l),i.lineTo(t-a,e+l),i.closePath();let c=Math.floor((r+n)/2*s)/s,d=Math.floor(o/2*s)/s;i.moveTo(t-c,e-d),i.lineTo(t-c,e+d),i.moveTo(t+c,e-d),i.lineTo(t+c,e+d)}};Xs.className="RangeHandle";y([x(K),re({redraw:3,type:"path"})],Xs.prototype,"width",2);y([x(K),re({redraw:3,type:"path"})],Xs.prototype,"height",2);y([x(K),re({redraw:3,type:"path"})],Xs.prototype,"gripLineGap",2);y([x(K),re({redraw:3,type:"path"})],Xs.prototype,"gripLineLength",2);var wO=class extends ki{constructor(){super(...arguments),this.zIndex=2,this.x=0,this.y=0,this.width=200,this.height=30,this.min=0,this.max=1}layout(t,e,i,n){this.x=t,this.y=e,this.width=i,this.height=n,this.dirtyPath=!0}update(t,e){this.min=isNaN(t)?this.min:t,this.max=isNaN(e)?this.max:e,this.dirtyPath=!0}computeBBox(){let{x:t,y:e,width:i,height:n}=this;return new se(t,e,i,n)}computeVisibleRangeBBox(){let{x:t,y:e,width:i,height:n,min:r,max:o}=this,s=t+i*r,a=t+i*o;return new se(s,e,a-s,n)}updatePath(){let{path:t,x:e,y:i,width:n,height:r,min:o,max:s,strokeWidth:a}=this,l=a/2;t.clear();let c=this.align(e)+l,d=this.align(i)+l,u=c+this.align(e,n)-2*l,h=d+this.align(i,r)-2*l;t.moveTo(c,d),t.lineTo(u,d),t.lineTo(u,h),t.lineTo(c,h),t.closePath();let f=this.align(e+n*o)+l,p=f+this.align(e+n*o,n*(s-o))-2*l;t.moveTo(f,d),t.lineTo(f,h),t.lineTo(p,h),t.lineTo(p,d),t.closePath()}};wO.className="RangeMask";var u6=class extends fe{constructor(t){super({name:"rangeSelectorGroup",layer:!0,zIndex:14}),this.x=0,this.y=0,this.width=200,this.height=30,this.lOffset=0,this.rOffset=0,this.isContainerNode=!0,this.background=new fe({name:"navigator-background"}),this.background.zIndex=1,this.appendChild(this.background),this.append(t)}layout(t,e,i,n,r,o){this.x=t,this.y=e,this.width=i,this.height=n,this.lOffset=r,this.rOffset=o,this.background.translationX=t,this.background.translationY=e}updateBackground(t,e){t!=null&&this.background.removeChild(t),e!=null&&this.background.appendChild(e)}computeBBox(){let{x:t,y:e,width:i,height:n,lOffset:r,rOffset:o}=this;return new se(t-r,e,i+(r+o),n)}},ha=class extends Oh{constructor(t){super(),this.ctx=t,this.miniChart=void 0,this.enabled=!1,this.mask=new wO,this.minHandle=new Xs,this.maxHandle=new Xs,this.maskVisibleRange={id:"navigator-mask-visible-range",getBBox:()=>this.mask.computeVisibleRangeBBox(),computeTransformedBBox:()=>this.mask.computeVisibleRangeBBox()},this.height=30,this.spacing=10,this.x=0,this.y=0,this.width=0,this.rangeSelector=new u6([this.mask,this.minHandle,this.maxHandle]),this._min=0,this._max=1,this.minRange=.001;let e=t.regionManager.addRegion("navigator",this.rangeSelector),i=25;this.destroyFns.push(t.scene.attachNode(this.rangeSelector),e.addListener("hover",n=>this.onHover(n),i),e.addListener("drag-start",n=>this.onDragStart(n),i),e.addListener("drag",n=>this.onDrag(n),i),e.addListener("drag-end",()=>this.onDragEnd(),i),e.addListener("leave",n=>this.onLeave(n),i),this.ctx.localeManager.addListener("locale-changed",()=>this.updateZoom()),t.zoomManager.addListener("zoom-change",n=>this.onZoomChange(n))),this.proxyNavigatorToolbar=this.ctx.proxyInteractionService.createProxyContainer({type:"toolbar",id:"navigator-toolbar",classList:["ag-charts-proxy-navigator-toolbar"],ariaOrientation:"vertical",ariaLabel:{id:"ariaLabelNavigator"}}),this.updateGroupVisibility(),this.proxyNavigatorElements=[this.ctx.proxyInteractionService.createProxyElement({type:"slider",id:"ag-charts-navigator-min",ariaLabel:{id:"ariaLabelNavigatorMinimum"},ariaOrientation:"horizontal",parent:this.proxyNavigatorToolbar,focusable:this.minHandle,onchange:n=>this.onMinSliderChange(n)}),this.ctx.proxyInteractionService.createProxyElement({type:"slider",id:"ag-charts-navigator-pan",ariaLabel:{id:"ariaLabelNavigatorRange"},ariaOrientation:"horizontal",parent:this.proxyNavigatorToolbar,focusable:this.maskVisibleRange,onchange:n=>this.onPanSliderChange(n)}),this.ctx.proxyInteractionService.createProxyElement({type:"slider",id:"ag-charts-navigator-max",ariaLabel:{id:"ariaLabelNavigatorMaximum"},ariaOrientation:"horizontal",parent:this.proxyNavigatorToolbar,focusable:this.maxHandle,onchange:n=>this.onMaxSliderChange(n)})],Jg({orientation:"vertical",toolbar:this.proxyNavigatorToolbar,buttons:this.proxyNavigatorElements}),this.destroyFns.push(()=>{this.proxyNavigatorElements.forEach(n=>n.remove()),this.proxyNavigatorToolbar.remove()})}updateBackground(t,e){this.rangeSelector?.updateBackground(t,e)}updateGroupVisibility(){let{enabled:t}=this;this.rangeSelector==null||t===this.rangeSelector.visible||(this.rangeSelector.visible=t,this.proxyNavigatorToolbar.ariaHidden=(!t).toString(),t?this.updateZoom():this.ctx.zoomManager.updateZoom("navigator"))}performLayout(t){return j(this,null,function*(){let{shrinkRect:e}=t;if(this.enabled){let i=this.height+this.spacing;e.shrink(i,"bottom"),this.y=e.y+e.height+this.spacing}else this.y=0;return L(C({},t),{shrinkRect:e})})}performCartesianLayout(t){return j(this,null,function*(){let{x:e,width:i}=t.seriesRect;if(this.enabled){let{y:n,height:r}=this;this.layoutNodes(e,n,i,r),Ys(this.proxyNavigatorToolbar,{x:e,y:n,width:i,height:r}),this.proxyNavigatorToolbar.style.removeProperty("display")}else this.proxyNavigatorToolbar.style.display="none";this.x=e,this.width=i})}onHover(t){if(!this.enabled)return;let{mask:e,minHandle:i,maxHandle:n}=this,{offsetX:r,offsetY:o}=t;i.containsPoint(r,o)||n.containsPoint(r,o)?this.ctx.cursorManager.updateCursor("navigator","ew-resize"):e.computeVisibleRangeBBox().containsPoint(r,o)?this.ctx.cursorManager.updateCursor("navigator","grab"):this.ctx.cursorManager.updateCursor("navigator")}onDragStart(t){if(!this.enabled)return;let{mask:e,minHandle:i,maxHandle:n,x:r,width:o,_min:s}=this,{offsetX:a,offsetY:l}=t;i.zIndex<n.zIndex?n.containsPoint(a,l)?this.dragging="max":i.containsPoint(a,l)&&(this.dragging="min"):i.containsPoint(a,l)?this.dragging="min":n.containsPoint(a,l)&&(this.dragging="max"),this.dragging==null&&e.computeVisibleRangeBBox().containsPoint(a,l)&&(this.dragging="pan",this.panStart=(a-r)/o-s),this.dragging!=null&&this.ctx.zoomManager.fireZoomPanStartEvent("navigator")}onDrag(t){if(!this.enabled||this.dragging==null)return;let{dragging:e,minRange:i,panStart:n,x:r,width:o}=this,{_min:s,_max:a}=this,{offsetX:l}=t,c=(l-r)/o;if(e==="min")s=Ce(0,c,a-i);else if(e==="max")a=Ce(s+i,c,1);else if(e==="pan"&&n!=null){let d=a-s;s=Ce(0,c-n,1-d),a=s+d}this._min=s,this._max=a,this.updateZoom()}onDragEnd(){this.dragging=void 0}onLeave(t){this.ctx.cursorManager.updateCursor("navigator")}onZoomChange(t){let{x:e}=t;e&&(this._min=e.min,this._max=e.max,this.updateNodes(e.min,e.max),this.setPanSliderValue(e.min,e.max),this.setSliderRatio(this.proxyNavigatorElements[0],e.min),this.setSliderRatio(this.proxyNavigatorElements[2],e.max))}onPanSliderChange(t){let e=this.getSliderRatio(this.proxyNavigatorElements[1]),i=this._max-this._min;this._min=Ce(0,e,1-i),this._max=this._min+i,this.updateZoom()}onMinSliderChange(t){let e=this.proxyNavigatorElements[0];this._min=this.setSliderRatioClamped(e,0,this._max-this.minRange),this.updateZoom()}onMaxSliderChange(t){let e=this.proxyNavigatorElements[2];this._max=this.setSliderRatioClamped(e,this._min+this.minRange,1),this.updateZoom()}setPanSliderValue(t,e){this.proxyNavigatorElements[1].value=`${Math.round(t*100)}`,this.proxyNavigatorElements[1].ariaValueText=this.ctx.localeManager.t("ariaValuePanRange",{min:t,max:e})}setSliderRatioClamped(t,e,i){let n=this.getSliderRatio(t),r=Ce(e,n,i);return r!==n&&this.setSliderRatio(t,r),r}setSliderRatio(t,e){let i=Math.round(e*100);t.value=`${i}`,t.ariaValueText=sM(i)}getSliderRatio(t){return parseFloat(t.value)/100}layoutNodes(t,e,i,n){let{rangeSelector:r,mask:o,minHandle:s,maxHandle:a,_min:l,_max:c}=this;r.layout(t,e,i,n,s.width/2,a.width/2),o.layout(t,e,i,n),Xs.align(s,a,t,e,i,n,l,c),l+(c-l)/2<.5?(s.zIndex=3,a.zIndex=4):(s.zIndex=4,a.zIndex=3),[s,this.maskVisibleRange,a].forEach((d,u)=>{let h=d.getBBox(),f={x:h.x-t,y:h.y-e,height:h.height,width:h.width};Ys(this.proxyNavigatorElements[u],f)})}updateNodes(t,e){this.mask.update(t,e)}updateZoom(){if(!this.enabled)return;let{_min:t,_max:e}=this;if(t==null||e==null)return;let i=n=>{this.min==null&&this.max==null||Y.warnOnce(`Could not apply [navigator.min] or [navigator.max] as [${n}] has modified the initial zoom state.`)};return this.ctx.zoomManager.updateZoom("navigator",{x:{min:t,max:e}},!1,i)}};y([x(ae,{optional:!0})],ha.prototype,"miniChart",2);y([x(ve),Zi(t=>t.updateGroupVisibility())],ha.prototype,"enabled",2);y([x(K)],ha.prototype,"height",2);y([x(K)],ha.prototype,"spacing",2);y([Yi({newValue(t){this._min=t,this.updateZoom()}}),x(cr(Je,rd("max")),{optional:!0})],ha.prototype,"min",2);y([Yi({newValue(t){this._max=t,this.updateZoom()}}),x(cr(Je,od("min")),{optional:!0})],ha.prototype,"max",2);var IO={type:"root",optionsKey:"navigator",packageType:"community",chartTypes:["cartesian"],moduleFactory:t=>new ha(t),themeTemplate:{navigator:{enabled:!1,height:30,mask:{fill:"#999999",stroke:"#999999",strokeWidth:1,fillOpacity:.2},minHandle:{fill:"#f2f2f2",stroke:"#999999",strokeWidth:1,width:9,height:16,gripLineGap:1,gripLineLength:8},maxHandle:{fill:"#f2f2f2",stroke:"#999999",strokeWidth:1,width:9,height:16,gripLineGap:1,gripLineLength:8}}}};function yd({takeColors:t}){let{fills:[e],strokes:[i]}=t(1);return{fill:e,stroke:i}}function ty(t){return{marker:yd(t)}}var SO=(t=>(t[t.SMALL=12]="SMALL",t[t.MEDIUM=13]="MEDIUM",t[t.LARGE=17]="LARGE",t))(SO||{}),CO=(t=>(t.NORMAL="normal",t.BOLD="bold",t.BOLDER="bolder",t.LIGHTER="lighter",t))(CO||{}),EO=(t=>(t.TOP="top",t.RIGHT="right",t.BOTTOM="bottom",t.LEFT="left",t))(EO||{}),TO=(t=>(t.CATEGORY="category",t.ORDINAL_TIME="ordinal-time",t.NUMBER="number",t.TIME="time",t.LOG="log",t))(TO||{}),AO=(t=>(t.ANGLE_CATEGORY="angle-category",t.ANGLE_NUMBER="angle-number",t.RADIUS_CATEGORY="radius-category",t.RADIUS_NUMBER="radius-number",t))(AO||{}),NO=(t=>(t.CIRCLE="circle",t.POLYGON="polygon",t))(NO||{}),rh=Symbol("is-dark-theme"),zt=Symbol("default-font"),ci=Symbol("default-label-colour"),kO=Symbol("default-inverted-label-colour"),Tl=Symbol("default-inside-series-label-colour"),ml=Symbol("default-muted-label-colour"),Qc=Symbol("default-axis-grid-colour"),ug=Symbol("default-axis-line-colour"),oh=Symbol("default-cross-lines-colour"),_g=Symbol("default-background-colour"),Al=Symbol("default-shadow-colour"),h6=Symbol("default-colours"),zs=Symbol("default-padding"),al=Symbol("default-caption-layout-style"),ll=Symbol("default-caption-alignment"),oD=Symbol("palette-up-stroke"),sD=Symbol("palette-down-stroke"),aD=Symbol("palette-up-fill"),lD=Symbol("palette-down-fill"),sh=Symbol("palette-neutral-stroke"),cD=Symbol("palette-neutral-fill"),RO=Symbol("palette-alt-up-stroke"),LO=Symbol("palette-alt-down-stroke"),OO=Symbol("palette-alt-up-fill"),PO=Symbol("palette-alt-down-fill"),FO=Symbol("palette-gray-fill"),dD=Symbol("palette-gray-stroke"),uD=Symbol("default-polar-series-stroke"),Nn=Symbol("default-diverging-series-colour-range"),hD=Symbol("default-hierarchy-fills"),fD=Symbol("default-hierarchy-strokes"),kn=Symbol("default-annotation-stroke"),pD=Symbol("default-text-annotation-color"),Rn=Symbol("default-annotation-background-fill"),mD=Symbol("default-annotation-handle-fill"),gD=Symbol("default-textbox-fill"),yD=Symbol("default-textbox-stroke"),bD=Symbol("default-textbox-color"),Vh=Symbol("default-toolbar-position"),$o=Symbol("default-gridline-enabled");function jO(t,e,i,n,r){let{addPhaseFn:o,updatePhaseFn:s,removePhaseFn:a}=r,l=(c,d,u)=>{i.animate({id:`${t}_${e}_${d.id}_${c}`,groupId:t,from:0,to:1,ease:uh,collapsable:!1,onUpdate(h,f){f&&c!=="removed"||(d.path.clear(!0),u(h,d),d.checkPathDirty())},onStop(){c==="added"&&(d.path.clear(!0),u(1,d),d.checkPathDirty())},phase:$i[c]})};for(let c of n)i.isSkipped()||(l("removed",c,a),l("updated",c,s)),l("added",c,o)}var Ym=null;function Tt(t){if(t!=null)return t===""?"":(Ym??(Ym=Zt("div")),Ym.textContent=String(t),Ym.innerHTML)}function Ke({id:t},e,i,...n){yo(t,e,i,n,{opacity:0},{opacity:1},{phase:"trailing"})}function $s({id:t},e,i,...n){yo(t,e,i,n,{opacity:1},{opacity:0},{phase:"remove"})}function ss(t){return{opacity:1}}var vD=class extends Ne{constructor(){super(...arguments),this._dirty=3}markDirty(t,e=1){this._dirty<e&&(this._dirty=e)}markClean(t){this._dirty=0}isDirty(){return this._dirty>0}},Vr=class extends vD{constructor(){super(...arguments),this.enabled=!0,this.color="rgba(0, 0, 0, 0.5)",this.xOffset=0,this.yOffset=0,this.blur=5}};y([x(ve),re({redraw:3})],Vr.prototype,"enabled",2);y([x(nt),re({redraw:3})],Vr.prototype,"color",2);y([x(yt),re({redraw:3})],Vr.prototype,"xOffset",2);y([x(yt),re({redraw:3})],Vr.prototype,"yOffset",2);y([x(K),re({redraw:3})],Vr.prototype,"blur",2);var BO=ht(t=>mO(t)||typeof t=="function"&&Object.create(t.prototype)instanceof Ri,"a marker shape keyword such as 'circle', 'diamond' or 'square' or an object extending the Marker class"),gn=class extends vD{constructor(){super(...arguments),this.enabled=!0,this.shape=Ks,this.size=6,this.fillOpacity=1,this.strokeWidth=1,this.strokeOpacity=1}getStyle(){let{size:t,shape:e,fill:i,fillOpacity:n,stroke:r,strokeWidth:o,strokeOpacity:s}=this;return{size:t,shape:e,fill:i,fillOpacity:n,stroke:r,strokeWidth:o,strokeOpacity:s}}getDiameter(){return this.size+this.strokeWidth}};y([x(ve),re({redraw:3})],gn.prototype,"enabled",2);y([x(BO),re({redraw:3})],gn.prototype,"shape",2);y([x(K),re({redraw:3})],gn.prototype,"size",2);y([x(nt,{optional:!0}),re({redraw:3})],gn.prototype,"fill",2);y([x(Je),re({redraw:3})],gn.prototype,"fillOpacity",2);y([x(nt,{optional:!0}),re({redraw:3})],gn.prototype,"stroke",2);y([x(K),re({redraw:3})],gn.prototype,"strokeWidth",2);y([x(Je),re({redraw:3})],gn.prototype,"strokeOpacity",2);y([x(hn,{optional:!0}),re({redraw:3})],gn.prototype,"itemStyler",2);var zO=class extends Ne{constructor(){super(...arguments),this.enabled=!1}};y([x(ve)],zO.prototype,"enabled",2);var Ki=class extends Ne{constructor(){super(...arguments),this.enabled=!0,this.interaction=new zO,this.position=new sd,this.range=void 0}toTooltipHtml(t,e){return this.renderer?qc(this.renderer(e),t):qc(t)}};y([x(ve)],Ki.prototype,"enabled",2);y([x(ve,{optional:!0})],Ki.prototype,"showArrow",2);y([x(hn,{optional:!0})],Ki.prototype,"renderer",2);y([x(ae)],Ki.prototype,"interaction",2);y([x(ae)],Ki.prototype,"position",2);y([x(Bg,{optional:!0})],Ki.prototype,"range",2);var VO=bt(["linear","smooth","step"],"a line style"),UO=bt(["start","middle","end"]),bd=class extends Ne{constructor(){super(...arguments),this.type="linear",this.tension=1,this.position="end"}};y([x(VO)],bd.prototype,"type",2);y([x(Je)],bd.prototype,"tension",2);y([x(UO)],bd.prototype,"position",2);var oi=class extends os{constructor(){super(...arguments),this.xName=void 0,this.fill="#c16068",this.fillOpacity=1,this.stroke="#874349",this.strokeWidth=2,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.interpolation=new bd,this.shadow=new Vr,this.marker=new gn,this.label=new ni,this.tooltip=new Ki,this.connectMissingData=!1}};y([x(Q)],oi.prototype,"xKey",2);y([x(Q,{optional:!0})],oi.prototype,"xName",2);y([x(Q)],oi.prototype,"yKey",2);y([x(Q,{optional:!0})],oi.prototype,"yName",2);y([x(K,{optional:!0})],oi.prototype,"normalizedTo",2);y([x(nt)],oi.prototype,"fill",2);y([x(Je)],oi.prototype,"fillOpacity",2);y([x(nt)],oi.prototype,"stroke",2);y([x(K)],oi.prototype,"strokeWidth",2);y([x(Je)],oi.prototype,"strokeOpacity",2);y([x(es)],oi.prototype,"lineDash",2);y([x(K)],oi.prototype,"lineDashOffset",2);y([x(ae)],oi.prototype,"interpolation",2);y([x(ae)],oi.prototype,"shadow",2);y([x(ae)],oi.prototype,"marker",2);y([x(ae)],oi.prototype,"label",2);y([x(ae)],oi.prototype,"tooltip",2);y([x(ve)],oi.prototype,"connectMissingData",2);function f6(t,e,i,n,r){return(1-r)**3*t+3*(1-r)**2*r*e+3*(1-r)+r**2*i+r**3*n}function Mg(t,e,i,n,r){if(r<=Math.min(t,n))return t<n?0:1;if(r>=Math.max(t,n))return t<n?1:0;let o=0,s=1,a=NaN;for(let l=0;l<8;l+=1)a=(o+s)/2,(1-a)**3*t+3*(1-a)**2*a*e+3*(1-a)*a**2*i+a**3*n<r?o=a:s=a;return a}function Dg(t,e,i,n,r,o,s,a,l){let c=(1-l)*t+l*i,d=(1-l)*e+l*n,u=(1-l)*i+l*r,h=(1-l)*n+l*o,f=(1-l)*r+l*s,p=(1-l)*o+l*a,m=(1-l)*c+l*u,b=(1-l)*d+l*h,g=(1-l)*u+l*f,v=(1-l)*h+l*p,M=(1-l)*m+l*g,w=(1-l)*b+l*v;return[[{x:t,y:e},{x:c,y:d},{x:m,y:b},{x:M,y:w}],[{x:M,y:w},{x:g,y:v},{x:f,y:p},{x:s,y:a}]]}function nr(t){switch(t.type){case"linear":case"step":return[{x:t.x0,y:t.y0},{x:t.x1,y:t.y1}];case"cubic":return[{x:t.cp0x,y:t.cp0y},{x:t.cp3x,y:t.cp3y}]}}function GO(t){switch(t.type){case"linear":return{type:"linear",moveTo:t.moveTo,x0:t.x1,y0:t.y1,x1:t.x0,y1:t.y0};case"cubic":return{type:"cubic",moveTo:t.moveTo,cp0x:t.cp3x,cp0y:t.cp3y,cp1x:t.cp2x,cp1y:t.cp2y,cp2x:t.cp1x,cp2y:t.cp1y,cp3x:t.cp0x,cp3y:t.cp0y};case"step":return{type:"step",moveTo:t.moveTo,x0:t.x1,y0:t.y1,x1:t.x0,y1:t.y0,stepX:t.stepX}}}function Zm(t,e){let{x:i,y:n}=e;switch(t.type){case"linear":return{type:"linear",moveTo:t.moveTo,x0:i,y0:n,x1:i,y1:n};case"step":return{type:"step",moveTo:t.moveTo,x0:i,y0:n,x1:i,y1:n,stepX:i};case"cubic":return{type:"cubic",moveTo:t.moveTo,cp0x:i,cp0y:n,cp1x:i,cp1y:n,cp2x:i,cp2y:n,cp3x:i,cp3y:n}}}function an(t,e,i){let[n,r]=nr(t),o=r.x!==n.x?(i.x-e.x)/(r.x-n.x):0,s=r.y!==n.y?(i.y-e.y)/(r.y-n.y):0;switch(t.type){case"linear":return{type:"linear",moveTo:t.moveTo,x0:e.x,y0:e.y,x1:i.x,y1:i.y};case"cubic":return{type:"cubic",moveTo:t.moveTo,cp0x:e.x,cp0y:e.y,cp1x:i.x-(t.cp2x-n.x)*o,cp1y:i.y-(t.cp2y-n.y)*s,cp2x:i.x-(t.cp1x-n.x)*o,cp2y:i.y-(t.cp1y-n.y)*s,cp3x:i.x,cp3y:i.y};case"step":return{type:"step",moveTo:t.moveTo,x0:e.x,y0:e.y,x1:i.x,y1:i.y,stepX:i.x-(t.stepX-n.x)*o}}}function Hk(t,e){return t.moveTo!==e?L(C({},t),{moveTo:e}):t}function $k(t,e){let[i,n]=nr(t),r,o,s,a;if(i.x<n.x?(r=i.x,o=i.y,s=n.x,a=n.y):(r=n.x,o=n.y,s=i.x,a=i.y),e<r)return[an(t,i,i),Hk(t,!1)];if(e>s)return[t,Hk(an(t,n,n),!1)];switch(t.type){case"linear":{let l=o===a?o:(a-o)/(s-r)*(e-r)+o;return[{type:"linear",moveTo:t.moveTo,x0:r,y0:o,x1:e,y1:l},{type:"linear",moveTo:!1,x0:e,y0:l,x1:s,y1:a}]}case"step":return e<t.stepX?[{type:"step",moveTo:t.moveTo,x0:r,y0:o,x1:e,y1:o,stepX:e},{type:"step",moveTo:!1,x0:e,y0:o,x1:s,y1:a,stepX:t.stepX}]:[{type:"step",moveTo:t.moveTo,x0:r,y0:o,x1:e,y1:a,stepX:t.stepX},{type:"step",moveTo:!1,x0:e,y0:a,x1:s,y1:a,stepX:e}];case"cubic":{let l=Mg(t.cp0x,t.cp1x,t.cp2x,t.cp3x,e),[c,d]=Dg(t.cp0x,t.cp0y,t.cp1x,t.cp1y,t.cp2x,t.cp2y,t.cp3x,t.cp3y,l);return[{type:"cubic",moveTo:t.moveTo,cp0x:c[0].x,cp0y:c[0].y,cp1x:c[1].x,cp1y:c[1].y,cp2x:c[2].x,cp2y:c[2].y,cp3x:c[3].x,cp3y:c[3].y},{type:"cubic",moveTo:!1,cp0x:d[0].x,cp0y:d[0].y,cp1x:d[1].x,cp1y:d[1].y,cp2x:d[2].x,cp2y:d[2].y,cp3x:d[3].x,cp3y:d[3].y}]}}}function qm(t,e,i){let{moveTo:n}=t,[r,o]=nr(t),s,a,l,c;if(r.x<o.x?(s=r.x,a=r.y,l=o.x,c=o.y):(s=o.x,a=o.y,l=r.x,c=r.y),i<s)return an(t,r,r);if(e>l)return an(t,o,o);switch(t.type){case"linear":{let d=a===c?void 0:(c-a)/(l-s),u=d==null?a:d*(e-s)+a,h=d==null?a:d*(i-s)+a;return{type:"linear",moveTo:n,x0:e,y0:u,x1:i,y1:h}}case"step":if(i<=t.stepX){let d=t.y0;return{type:"step",moveTo:n,x0:e,y0:d,x1:i,y1:d,stepX:i}}else if(e>=t.stepX){let d=t.y1;return{type:"step",moveTo:n,x0:e,y0:d,x1:i,y1:d,stepX:e}}else{let{y0:d,y1:u,stepX:h}=t;return{type:"step",moveTo:n,x0:e,y0:d,x1:i,y1:u,stepX:h}}case"cubic":{let d=Mg(t.cp0x,t.cp1x,t.cp2x,t.cp3x,e),[u,h]=Dg(t.cp0x,t.cp0y,t.cp1x,t.cp1y,t.cp2x,t.cp2y,t.cp3x,t.cp3y,d),f=Mg(h[0].x,h[1].x,h[2].x,h[3].x,i);return[h,u]=Dg(h[0].x,h[0].y,h[1].x,h[1].y,h[2].x,h[2].y,h[3].x,h[3].y,f),{type:"cubic",moveTo:n,cp0x:h[0].x,cp0y:h[0].y,cp1x:h[1].x,cp1y:h[1].y,cp2x:h[2].x,cp2y:h[2].y,cp3x:h[3].x,cp3y:h[3].y}}}}function Wk(t,e,i){if(t.type==="cubic"&&e.type==="cubic")return{type:"cubic",moveTo:t.moveTo,cp0x:(e.cp0x-t.cp0x)*i+t.cp0x,cp0y:(e.cp0y-t.cp0y)*i+t.cp0y,cp1x:(e.cp1x-t.cp1x)*i+t.cp1x,cp1y:(e.cp1y-t.cp1y)*i+t.cp1y,cp2x:(e.cp2x-t.cp2x)*i+t.cp2x,cp2y:(e.cp2y-t.cp2y)*i+t.cp2y,cp3x:(e.cp3x-t.cp3x)*i+t.cp3x,cp3y:(e.cp3y-t.cp3y)*i+t.cp3y};if(t.type==="step"&&e.type==="step")return{type:"step",moveTo:t.moveTo,x0:(e.x0-t.x0)*i+t.x0,y0:(e.y0-t.y0)*i+t.y0,x1:(e.x1-t.x1)*i+t.x1,y1:(e.y1-t.y1)*i+t.y1,stepX:(e.stepX-t.stepX)*i+t.stepX};let[n,r]=nr(t),[o,s]=nr(e);return{type:"linear",moveTo:t.moveTo,x0:(o.x-n.x)*i+n.x,y0:(o.y-n.y)*i+n.y,x1:(s.x-r.x)*i+r.x,y1:(s.y-r.y)*i+r.y}}function ah(t,e,i=e.moveTo?1:0){let[n]=nr(e);switch(i){case 1:t.moveTo(n.x,n.y);break;case 2:t.lineTo(n.x,n.y);break}switch(e.type){case"linear":t.lineTo(e.x1,e.y1);break;case"cubic":t.cubicCurveTo(e.cp1x,e.cp1y,e.cp2x,e.cp2y,e.cp3x,e.cp3y);break;case"step":t.lineTo(e.stepX,e.y0),t.lineTo(e.stepX,e.y1),t.lineTo(e.x1,e.y1);break}}function p6(t){let e=[],i=0,n=NaN,r=NaN;for(let{x:o,y:s}of t){if(i>0){let a=i===1;e.push({type:"linear",moveTo:a,x0:n,y0:r,x1:o,y1:s})}i+=1,n=o,r=s}return e}var m6={start:0,middle:.5,end:1};function g6(t,e){let i=[],n=0,r=NaN,o=NaN,s=typeof e=="number"?e:m6[e];for(let{x:a,y:l}of t){if(n>0){let c=n===1,d=r+(a-r)*s;i.push({type:"step",moveTo:c,x0:r,y0:o,x1:a,y1:l,stepX:d})}n+=1,r=a,o=l}return i}var Km=.05;function y6(t,e){let i=Array.isArray(t)?t:Array.from(t);if(i.length<=1)return[];let n=i.map((o,s)=>{let a=s===0?o:i[s-1],l=s===i.length-1?o:i[s+1],c=s===0||s===i.length-1;if(Math.sign(a.y-o.y)===Math.sign(l.y-o.y))return 0;if(!c){let d=Math.abs(a.y-l.y),u=Math.abs(o.y-a.y)/d,h=Math.abs(o.y-l.y)/d;if(u<=Km||1-u<=Km||h<=Km||1-h<=Km)return 0}return(l.y-a.y)/(l.x-a.x)});n[1]===0&&(n[0]*=2),n[n.length-2]===0&&(n[n.length-1]*=2);let r=[];for(let o=1;o<i.length;o+=1){let s=i[o-1],a=n[o-1],l=i[o],c=n[o],d=l.x-s.x,u=l.y-s.y,h=d*e/3,f=d*a*e/3,p=d*e/3,m=d*c*e/3;c===0&&Math.abs(f)>Math.abs(u)&&(h*=Math.abs(u/f),f=Math.sign(f)*Math.abs(u)),a===0&&Math.abs(m)>Math.abs(u)&&(p*=Math.abs(u/m),m=Math.sign(m)*Math.abs(u)),r.push({type:"cubic",moveTo:o===1,cp0x:s.x,cp0y:s.y,cp1x:s.x+h,cp1y:s.y+f,cp2x:l.x-p,cp2y:l.y-m,cp3x:l.x,cp3y:l.y})}return r}function xh({id:t},e,i,...n){let r={phase:i?$i[i]:"trailing"};yo(t,"markers",e,n,{opacity:0},{opacity:1},r),n.forEach(o=>o.cleanup())}function xD({id:t},e,...i){yo(t,"markers",e,i,{scalingX:0,scalingY:0},{scalingX:1,scalingY:1},{phase:"initial"}),i.forEach(n=>n.cleanup())}function _D({id:t,nodeDataDependencies:e},i,...n){let r=e.seriesRectWidth;Vt(t,"markers",i,n,{fromFn:(a,l)=>{let c=l.midPoint?.x??r,d=Ce(0,q1(c/r),1);return isNaN(d)&&(d=0),{scalingX:0,scalingY:0,delay:d,duration:gg,phase:"initial"}},toFn:()=>({scalingX:1,scalingY:1})})}function Uh(t){return{opacity:1,scalingX:1,scalingY:1}}function _h(t,e){return{translationX:e.point?.x??NaN,translationY:e.point?.y??NaN}}function MD(t,e){let i=(s,a)=>{let l=t[a][s];return Array.isArray(l)?l[0]:l},n=s=>{let{xValue:a}=s;return t.moved[a]?{point:i(a,"moved"),status:"updated"}:t.removed[a]?{point:i(a,"removed"),status:"removed"}:t.added[a]?{point:i(a,"added"),status:"added"}:{status:"unknown"}};return{fromFn:(s,a)=>{let{status:l,point:c}=n(a);if(l==="unknown")return{opacity:0};let d={translationX:c?.from?.x??s.translationX,translationY:c?.from?.y??s.translationY,opacity:s.opacity,phase:$i[l]};return e==="added"?L(C({},d),{opacity:0,translationX:c?.to?.x,translationY:c?.to?.y,phase:$i.added}):(l==="added"&&(d.opacity=0),d)},toFn:(s,a)=>{let{status:l,point:c}=n(a);if(l==="unknown")return{opacity:0};let d={translationX:a.point.x,translationY:a.point.y,opacity:1,phase:$i[l]};return l==="removed"||e==="removed"?L(C({},d),{translationX:c?.to?.x,translationY:c?.to?.y,opacity:0,phase:$i.removed}):d}}}function Gh(t,{datumIndex:e}){let i=t.getNodeData();if(i===void 0)return;let n=i[e];if(n===void 0||n.point===void 0)return;let r=t.getFormattedMarkerStyle(n).size,o=r/2,{x:s,y:a}=t.contentGroup.inverseTransformPoint(n.point.x-o,n.point.y-o);return new se(s,a,r,r)}function b6(t,e,i){let n=i;for(let{x:r,y:o}of e)n?t.lineTo(r,o):(t.moveTo(r,o),n=!0)}var Xm=.05;function v6(t,e,i,n){let r=Array.isArray(e)?e:Array.from(e);if(r.length===0||(n?t.lineTo(r[0].x,r[0].y):t.moveTo(r[0].x,r[0].y),r.length<=1))return;let o=r.map((s,a)=>{let l=a===0?s:r[a-1],c=a===r.length-1?s:r[a+1],d=a===0||a===r.length-1;if(Math.sign(l.y-s.y)===Math.sign(c.y-s.y))return 0;if(!d){let u=Math.abs(l.y-c.y),h=Math.abs(s.y-l.y)/u,f=Math.abs(s.y-c.y)/u;if(h<=Xm||1-h<=Xm||f<=Xm||1-f<=Xm)return 0}return(c.y-l.y)/(c.x-l.x)});o[1]===0&&(o[0]*=2),o[o.length-2]===0&&(o[o.length-1]*=2);for(let s=1;s<r.length;s+=1){let a=r[s-1],l=o[s-1],c=r[s],d=o[s],u=c.x-a.x,h=c.y-a.y,f=u*i/3,p=u*l*i/3,m=u*i/3,b=u*d*i/3;d===0&&Math.abs(p)>Math.abs(h)&&(f*=Math.abs(h/p),p=Math.sign(p)*Math.abs(h)),l===0&&Math.abs(b)>Math.abs(h)&&(m*=Math.abs(h/b),b=Math.sign(b)*Math.abs(h)),t.cubicCurveTo(a.x+f,a.y+p,c.x-m,c.y-b,c.x,c.y)}}function x6(t,e,i,n){let r;for(let o of e){if(r!=null){let s=r.x<o.x?i:1-i,a=(o.x-r.x)*s+r.x;t.lineTo(a,r?.y??o.y),t.lineTo(a,o.y),t.lineTo(o.x,o.y)}else n?t.lineTo(o.x,o.y):t.moveTo(o.x,o.y);r=o}}function G_(t){return t.reduce(({min:e,max:i},n)=>((e==null||e.point.x>n.point.x)&&(e=n),(i==null||i.point.x<n.point.x)&&(i=n),{min:e,max:i}),{})}function Yk(t,e,i){let n=(e.y-t.y)/(e.x-t.x),r=(i-t.x)*n+t.y;return{x:i,y:r}}function Zk(t,e,i,n){let r=-1,o=0,s=[];for(;o<t.length;){if(t[o].change===e){s.push(t[o]),o++;continue}if(t[o].change===i){o++;continue}s.length>0&&(n(s,r,o),s.length=0),r=o,o++}s.length>0&&n(s,r,o)}function DD(t,e){Zk(t,"out","in",(i,n,r)=>{n===-1&&t[r]?i.forEach(o=>o.to=t[r].from):r===t.length&&t[n]?i.forEach(o=>o.to=t[n].from):e==="intersect"&&t[n]?.from&&t[r]?.from?i.forEach(o=>o.to=Yk(t[n].from,t[r].from,o.from.x)):i.forEach(o=>o.to=o.from)}),Zk(t,"in","out",(i,n,r)=>{n===-1&&t[r]?i.forEach(o=>o.from=t[r].to):r===t.length&&t[n]?i.forEach(o=>o.from=t[n].to):e==="intersect"&&t[n]?.to&&t[r]?.to?i.forEach(o=>o.from=Yk(t[n].to,t[r].to,o.to.x)):i.forEach(o=>o.from=o.to)})}function qk(t,e,i){let n=isNaN(t.x)?e.x:t.x,r=isNaN(t.y)?e.y:t.y,o=e.x-t.x,s=e.y-t.y,a=isNaN(o)?0:o*i,l=isNaN(s)?0:s*i;return{x:n+a,y:r+l}}var _6={start:0,middle:.5,end:1};function wD(t,e,i,n=!1){let{path:r}=e;i?.type==="smooth"?v6(r,t,i.tension??1,n):i?.type==="step"?x6(r,t,_6[i.position??"end"],n):b6(r,t,n)}function HO(t,e){let i,n,r=[],o=()=>{n!=null&&(r.push(n),n=void 0)};for(let s of t){let{from:a,to:l}=s,c=e[s.change];if(c==null||a==null||l==null)continue;let d=qk(a,l,c);if(s.moveTo===!1)n??(n=[]),n.push(d);else if(s.moveTo===!0||!i)o(),n=[d];else if(i){let u=s.moveTo==="in"?c:1-c,{x:h,y:f}=qk(i,d,u);n??(n=[]),n.push({x:h,y:f}),o(),n=[d]}i=d}return o(),r}function $O(t,e,i,n){HO(t,e).forEach(r=>{wD(r,i,n)})}function ID({id:t,visible:e,nodeDataDependencies:i},n,...r){let{seriesRectWidth:o,seriesRectHeight:s}=i;yo(t,"path_properties",n,r,{clipX:0},{clipX:o},{phase:"initial",start:{clipMode:"normal",clipY:s,visible:e},finish:{clipMode:void 0,visible:e}})}function lh({id:t},e,i,n="add",...r){yo(t,e,i,r,{opacity:0},{opacity:1},{phase:n})}function M6({id:t},e,i,...n){yo(t,e,i,n,{opacity:1},{opacity:0},{phase:"remove"})}function SD(t){return e=>({visible:t.getVisible(),opacity:t.getOpacity(),clipScalingX:1,clipMode:void 0})}function wg({nodeDataDependencies:t},e){let i=n=>isFinite(n)?n:0;e.clipX=i(t.seriesRectWidth),e.clipY=i(t.seriesRectHeight)}function Kk(t){return t.type==="continuous"||t.type==="log"}function Xk(t){return t.type==="category"}function Qk(t,e){return t.domain.length===e.domain.length&&t.range.length===e.range.length&&t.domain.every((i,n)=>i===e.domain[n])&&t.range.every((i,n)=>i===e.range[n])}function Jk(t,e){return t===void 0||e===void 0?t!==void 0||e!==void 0:Kk(t)&&Kk(e)?t.type===e.type&&Qk(t,e):Xk(t)&&Xk(e)?Qk(t,e):!1}function Ig(t){return t==null||!t.range.every(e=>Number.isFinite(e))?!1:t.type==="category"?t.domain.every(e=>e!=null):t.domain.every(e=>Number.isFinite(e)||e instanceof Date)}function*WO(t){let e=-1,i=0;for(let{point:n}of t){if(n.moveTo){let r=e>=0?{start:e,end:i}:void 0;e=i,i=e,r!==void 0&&(yield r)}i+=1}e!==-1&&(yield{start:e,end:i})}function*YO(t,{start:e,end:i}){for(let n=e;n<i;n+=1)yield t[n].point}function*D6(t,{start:e,end:i}){for(let n=i-1;n>=e;n-=1)yield t[n].point}function w6(t,e){return t==null||e==null||typeof t!="object"||typeof e!="object"?!1:"id"in t&&"id"in e?t.id===e.id:t.toString()===e.toString()}function li(t,e){if(!e)return NaN;if(t instanceof Date&&(t=t.getTime()),e.type==="continuous"&&typeof t=="number")return(t-e.domain[0])/(e.domain[1]-e.domain[0])*(e.range[1]-e.range[0])+e.range[0];if(e.type==="log"&&typeof t=="number")return e.convert(t);let i=e.domain.findIndex(r=>r===t);if(i>=0)return e.range[i];let n=e.domain.findIndex(r=>w6(t,r));return n>=0?e.range[n]:NaN}function I6(t,e){return!Jk(t.scales.x,e.scales.x)||!Jk(t.scales.y,e.scales.y)}function S6(t,e){let i=Number(t),n=Number(e);return!isNaN(i)&&!isNaN(n)?Math.abs(n-i)<.25:t===e}function ZO(t=!1,e=!1){return t===e?!!t:t?"in":"out"}function CD(t,e,i={}){let{backfillSplitMode:n="intersect"}=i,r=[],o={added:{},moved:{},removed:{}},s=(f,p,m,b="move")=>{f&&(isNaN(f.point.x)||isNaN(f.point.y))&&(f=p);let g={from:f?.point,to:p?.point,moveTo:ZO(f?.point.moveTo,p?.point.moveTo),change:b};b==="move"?(o.moved[m]=g,u++,h++):b==="in"?(o.added[m]=g,h++):b==="out"&&(o.removed[m]=g,u++),r.push(g)},{min:a,max:l}=G_(e.nodeData),{min:c,max:d}=G_(t.nodeData),u=0,h=0;for(;u<e.nodeData.length||h<t.nodeData.length;){let f=e.nodeData[u],p=t.nodeData[h],m=f?li(f.xValue??NaN,t.scales.x):void 0,b=p?li(p.xValue??NaN,e.scales.x):void 0,g=void 0;if(m!=null&&S6(m,p?.point.x))s(f,p,p.xValue,"move");else if(m!=null&&m<(c?.point.x??-1/0))s(f,g,f.xValue,"out");else if(m!=null&&m>(d?.point.x??1/0))s(f,g,f.xValue,"out");else if(b!=null&&b<(a?.point.x??-1/0))s(g,p,p.xValue,"in");else if(b!=null&&b>(l?.point.x??1/0))s(g,p,p.xValue,"in");else if(m!=null&&m<p?.point.x)s(f,g,f.xValue,"out");else if(b!=null&&b<f?.point.x)s(g,p,p.xValue,"in");else if(f)s(f,g,f.xValue,"out");else if(p)s(g,p,p.xValue,"in");else throw new Error("Unable to process points")}return DD(r,n),{result:r,resultMap:o}}function ED(t,e,i,n={}){let{backfillSplitMode:r="intersect",multiDatum:o=!1}=n,s=[],a={added:{},moved:{},removed:{}},l={added:{},moved:{},removed:{}},c={in:"added",move:"moved",out:"removed"},d,u,h=(g,v)=>{var M;let w=c[v.change];o?((M=l[w])[g]??(M[g]=[]),l[w][g].push(v)):a[w][g]=v,d=v,u=Uc(g)},f=0,p=0,m=!1;for(;f<e.nodeData.length||p<t.nodeData.length;){let g=e.nodeData[f],v=t.nodeData[p],M=Uc(g?.xValue),w=Uc(v?.xValue),I;if(M===w)I={change:"move",moveTo:ZO(g.point.moveTo??!1,v.point.moveTo),from:g.point,to:v.point},h(g?.xValue,I),f++,p++;else if(i?.removed.has(String(M)))I={change:"out",moveTo:g.point.moveTo??!1,from:g.point},h(g?.xValue,I),f++;else if(i?.added.has(String(w)))I={change:"in",moveTo:v.point.moveTo??!1,to:v.point},h(v?.xValue,I),p++;else if(o&&d&&u===M)I=C({},d),h(g?.xValue,I),f++;else if(o&&d&&u===w)I=C({},d),h(v?.xValue,I),p++;else{m=!0;break}s.push(I)}let b=-1/0;return m||(m=s.some(g=>{let{change:v,to:{x:M=-1/0}={}}=g;if(v==="out")return;let w=M<b;return b=M,w})),m?{result:void 0,resultMap:void 0}:(DD(s,r),{result:s,resultMap:o?l:a})}function qO(t,e,i){let n="updated",r=o=>o.visible;if(!r(e)&&r(t))n="added";else if(r(e)&&!r(t))n="removed";else for(let o=0;o<i.length&&!(i[o].change!=="move"||i[o].from?.x!==i[o].to?.x||i[o].from?.y!==i[o].to?.y);o++)if(o===i.length-1)return"no-op";return n}function TD(t,e){let i=e==="none"?"updated":t,n={fromFn:r=>{let o;return t==="removed"?o={finish:{visible:!1}}:t==="added"?o={start:{visible:!0}}:o={},C({phase:$i[i]},o)},toFn:r=>({phase:$i[i]})};return e==="fade"?{fromFn:r=>{let o=t==="added"?0:r.opacity;return C({opacity:o},n.fromFn(r))},toFn:r=>C({opacity:t==="removed"?0:1},n.toFn(r))}:n}function KO(t,e,i,n,r,o){let s=qO(t,e,i),a=(u,h)=>{o(i,{move:0,out:u},h,r)},l=(u,h)=>{o(i,{move:u},h,r)},c=(u,h)=>{o(i,{move:1,in:u},h,r)},d=TD(s,n);return{status:s,path:{addPhaseFn:c,updatePhaseFn:l,removePhaseFn:a},pathProperties:d}}function XO(t,e,i,n){let r=t.scales.x?.type==="category",o=e.scales.x?.type==="category";if(r!==o||!Ig(t.scales.x)||!Ig(e.scales.x))return;let{result:s,resultMap:a}=r?ED(t,e,i):CD(t,e),l="updated";if(e.visible&&!t.visible?l="removed":!e.visible&&t.visible&&(l="added"),s===void 0||a===void 0)return;let c=(i?.changed??!0)||I6(t,e)||l!=="updated",d=KO(t,e,s,"fade",n,$O),u=MD(a,l);return L(C({},d),{marker:u,hasMotion:c})}function Ho(t,e,i=1e-6){return t===e||1-Math.min(t,e)/Math.max(t,e)<i?0:t<e?-1:1}function Qm(t,e,i){if(t===e)return!0;let n=Number(t),r=Number(e);return Number.isFinite(n)&&Number.isFinite(r)&&Ho(n,r,i)===0}function e1(t,{x:e,y:i}){let n,r=[],o=1/0,s=-1/0;for(let l of t){let c=li(l.xValue0,e),d=li(l.yValue0,i),u=li(l.xValue1,e),h=li(l.yValue1,i),f=Number.isFinite(c),p=Number.isFinite(u);if(f&&p&&n==null){let m=l.span,b=an(m,{x:c,y:d},{x:u,y:h}),g={unshifted:m,shifted:b};o=Math.min(o,c),s=Math.max(s,u),r.push(g)}else if(f&&!p&&n==null)n=[l];else if(!f&&!p&&n!=null)n?.push(l);else if(!f&&p&&n!=null){n.push(l);let m=n.at(0),b=n.at(-1),g={x:li(m.xValue0,e),y:li(m.yValue0,i)},v={x:li(b.xValue1,e),y:li(b.yValue1,i)},M=(v.x-g.x)/(n.length-1);for(let w=0;w<n.length;w+=1){let{span:I,yValue0:D,yValue1:_}=n[w],S=an(I,{x:g.x+M*(w+0),y:li(D,i)},{x:g.x+M*(w+1),y:li(_,i)});r.push({unshifted:I,shifted:S})}o=Math.min(o,g.x),s=Math.max(s,v.x),n=void 0}else if(!f&&p&&n==null){let m=l.span,b=an(m,{x:u,y:d},{x:u,y:h});r.push({unshifted:m,shifted:b})}else n=void 0}if(n!=null){let l=n.at(0),c=li(l.xValue0,e);for(let{span:d,yValue0:u,yValue1:h}of n){let f=an(d,{x:c,y:li(u,i)},{x:c,y:li(h,i)});r.push({unshifted:d,shifted:f})}}return{interpolatingInvalidSpans:r,shiftedXRange:[o,s]}}function t1(t,e,i){let n=e1(e.data,t.scales),r=e1(t.data,e.scales),[o,s]=n.shiftedXRange,[a,l]=r.shiftedXRange,c=[],d=[];for(let h of n.interpolatingInvalidSpans){let f=h.unshifted,p=h.shifted,[{x:m,y:b},{x:g,y:v}]=nr(f),M=!1;for(let w of r.interpolatingInvalidSpans){let I=w.shifted,D=w.unshifted,[{x:_},{x:S}]=nr(I);if(!(Ho(m,S)!==-1||Ho(g,_)!==1)){if(Qm(m,_)&&Qm(g,S))c.push({from:f,to:f}),d.push({from:f,to:D});else if(m<=_&&g>=S)c.push({from:f,to:f}),d.push({from:f,to:p});else{let[{x:E},{x:T}]=nr(p),[{x:k},{x:P}]=nr(D),Z=Math.max(m,_),ne=Math.min(g,S),z=qm(f,Z,ne),R=qm(I,Z,ne),A=Math.max(E,k),B=Math.min(T,P),ee=qm(D,A,B);c.push({from:z,to:R}),d.push({from:R,to:ee})}M=!0}}if(!M){if(Ho(g,a)!==1)c.push({from:f,to:an(f,{x:a,y:b},{x:a,y:v})});else if(Ho(m,l)!==-1)c.push({from:f,to:an(f,{x:l,y:b},{x:l,y:v})});else if(i===0){let w=li(0,e.scales.y);c.push({from:f,to:an(f,{x:m,y:w},{x:g,y:w})})}else if(i===1){let[w,I]=$k(f,(m+g)/2);c.push({from:w,to:Zm(w,{x:m,y:b})},{from:I,to:Zm(I,{x:g,y:v})})}}}let u=[];for(let h of t.data){let f=h.span,[{x:p,y:m},{x:b,y:g}]=nr(f),v=!1;for(let M of n.interpolatingInvalidSpans){let w=M.shifted,[{x:I},{x:D}]=nr(w);if(!(Ho(I,b)!==-1||Ho(D,p)!==1)){if(Qm(I,p)&&Qm(D,b))u.push({from:f,to:f});else if(I<=p&&D>=b){let _=qm(w,p,b);u.push({from:_,to:f})}else u.push({from:f,to:f});v=!0}}if(!v){if(Ho(b,o)!==1)u.push({from:an(f,{x:o,y:m},{x:o,y:g}),to:f});else if(Ho(p,s)!==-1)u.push({from:an(f,{x:s,y:m},{x:s,y:g}),to:f});else if(i===0){let M=li(0,t.scales.y);u.push({from:an(f,{x:p,y:M},{x:b,y:M}),to:f})}else if(i===1){let[M,w]=$k(f,(p+b)/2);u.push({from:Zm(M,{x:p,y:m}),to:f},{from:Zm(w,{x:b,y:g}),to:f})}}}return{added:u,moved:d,removed:c}}var QO=(t=>(t[t.Fill=0]="Fill",t[t.Stroke=1]="Stroke",t[t.Marker=2]="Marker",t[t.Label=3]="Label",t))(QO||{});function s_(t,e,i,n){for(let r=0;r<i.length;r+=1){let o=i[r],s=n[r];ah(e.path,Wk(o.from,o.to,t),1),ah(e.path,GO(Wk(s.from,s.to,t)),2),e.path.closePath()}}function C6(t,e,i,n){let r=(l,c)=>s_(l,c,e.removed,i.removed),o=(l,c)=>s_(l,c,e.moved,i.moved),s=(l,c)=>s_(l,c,e.added,i.added),a=TD(t,n);return{status:t,path:{addPhaseFn:s,updatePhaseFn:o,removePhaseFn:r},pathProperties:a}}function JO(t,e,i){let n=t.scales.x?.type==="category",r=e.scales.x?.type==="category";if(n!==r||!Ig(t.scales.x)||!Ig(e.scales.x))return;let o="updated";e.visible&&!t.visible?o="removed":!e.visible&&t.visible&&(o="added");let s=t1({scales:t.scales,data:t.fillData.spans,visible:t.visible},{scales:e.scales,data:e.fillData.spans,visible:e.visible},0),a=t1({scales:t.scales,data:t.fillData.phantomSpans,visible:t.visible},{scales:e.scales,data:e.fillData.phantomSpans,visible:e.visible},0),l=()=>n?ED(t,e,i,{backfillSplitMode:"static",multiDatum:!0}):CD(t,e,{backfillSplitMode:"static"}),{resultMap:c}=l();if(c===void 0)return;let h=C6(o,s,a,!0?"none":"fade"),f=MD(c,o);return{status:o,fill:h,marker:f}}var AD=class extends ca{constructor(t){super({moduleCtx:t,directionKeys:wl,directionNames:Il,pathsPerSeries:["fill","stroke"],pathsZIndexSubOrderOffset:[0,1e3],hasMarkers:!0,markerSelectionGarbageCollection:!1,pickModes:[1,0],animationResetFns:{path:SD({getVisible:()=>this.visible,getOpacity:()=>this.getOpacity()}),label:ss,marker:(e,i)=>C(C({},Uh(e)),_h(e,i))}}),this.properties=new oi}processData(t){return j(this,null,function*(){if(this.data==null||!this.properties.isValid())return;let{data:e,visible:i,seriesGrouping:{groupIndex:n=this.id,stackCount:r=1}={}}=this,{xKey:o,yKey:s,connectMissingData:a,normalizedTo:l}=this.properties,c=!this.ctx.animationManager.isSkipped(),d=this.axes.x?.scale,u=this.axes.y?.scale,{isContinuousX:h,xScaleType:f,yScaleType:p}=this.getScaleInformation({xScale:d,yScale:u}),m={value:`area-stack-${n}-yValue`,values:`area-stack-${n}-yValues`,stack:`area-stack-${n}-yValue-stack`,marker:`area-stack-${n}-yValues-marker`},b=[];dh(l)&&b.push(Xg(Object.values(m),l,"range")),!h&&c&&this.processedData&&b.push(Dl(this.processedData)),c&&b.push(dd());let g={invalidValue:null};a&&r>1&&(g.invalidValue=0),i||(g.forceValue=0),yield this.requestDataModel(t,e,{props:[_i(o,f,{id:"xValue"}),Xe(s,p,C({id:"yValueRaw"},g)),...nO(s,p,L(C({id:"yValueStack"},g),{groupId:m.stack})),Xe(s,p,L(C({id:"yValue"},g),{groupId:m.value})),...qs(s,"window","current",L(C({id:"yValueEnd"},g),{groupId:m.values}),p),...qs(s,"normal","current",L(C({id:"yValueCumulative"},g),{groupId:m.marker}),p),...b],groupByKeys:!0,groupByData:!1}),this.animationState.transition("updateData")})}getSeriesDomain(t){let{processedData:e,dataModel:i,axes:n}=this;if(!e||!i||e.data.length===0)return[];let r=n.x,o=n.y,s=i.resolveProcessedDataDefById(this,"xValue"),a=i.getDomain(this,"xValue","key",e),l=i.getDomain(this,"yValueEnd","value",e);if(t==="x")return s?.def.type==="key"&&s.def.valueType==="category"?a:dn(vo(a),r);if(o instanceof Sl||o instanceof fd)return dn(l,o);{let c=[l[0]>0?0:l[0],l[1]<0?0:l[1]];return dn(c,o)}}createNodeData(){return j(this,null,function*(){let{axes:t,data:e,processedData:{data:i}={},dataModel:n}=this,r=t.x,o=t.y;if(!r||!o||!e||!n||!this.properties.isValid())return;let{yKey:s,xKey:a,marker:l,label:c,fill:d,stroke:u,connectMissingData:h}=this.properties,{scale:f}=r,{scale:p}=o,{isContinuousY:m}=this.getScaleInformation({xScale:f,yScale:p}),b=(f.bandwidth??0)/2,g=n.resolveProcessedDataDefsByIds(this,["yValueEnd","yValueRaw","yValueCumulative"]),v=n.resolveProcessedDataIndexById(this,"yValueStack"),M=(te,$,X)=>{let F;return(dh(this.properties.normalizedTo)?m&&$g(X):!isNaN(X))&&(F=$),{x:f.convert(te)+b,y:p.convert(F),size:l.size}},w=s,I=[],D=[],{visibleSameStackCount:_}=this.ctx.seriesStateManager.getVisiblePeerGroupIndex(this),S=-1;i?.forEach(te=>{let{keys:$,keys:[X],datum:F,values:de}=te;de.forEach((V,q)=>{S++;let ie=F[q],pe=n.resolveProcessedDataDefsValues(g,{keys:$,values:V}),{yValueRaw:he,yValueCumulative:De,yValueEnd:Le}=pe,Ee=Number.isFinite(he),Qe=M(X,+De,he);if(Ee&&l&&D.push({index:S,series:this,itemId:w,datum:ie,midPoint:{x:Qe.x,y:Qe.y},cumulativeValue:Le,yValue:he,xValue:X,yKey:s,xKey:a,point:Qe,fill:l.fill??d,stroke:l.stroke??u,strokeWidth:l.strokeWidth??this.getStrokeWidth(this.properties.strokeWidth)}),Ee&&c){let rt=this.getLabelText(c,{value:he,datum:ie,xKey:a,yKey:s,xName:this.properties.xName,yName:this.properties.yName},ft=>We(ft)?ft.toFixed(2):String(ft));I.push({index:S,series:this,itemId:s,datum:ie,x:Qe.x,y:Qe.y,label:rt?{text:rt,fontStyle:c.fontStyle,fontWeight:c.fontWeight,fontSize:c.fontSize,fontFamily:c.fontFamily,textAlign:"center",textBaseline:"bottom",fill:c.color}:void 0})}})});let{interpolation:E}=this.properties,T=te=>{let $,X=te.map(F=>F.point);switch(E.type){case"linear":$=p6(X);break;case"smooth":$=y6(X,E.tension);break;case"step":$=g6(X,E.position);break}return $.map((F,de)=>({span:F,xValue0:te[de].xDatum,yValue0:te[de].yDatum,xValue1:te[de+1].xDatum,yValue1:te[de+1].yDatum}))},k=te=>te.flatMap($=>Array.isArray($)?T($):new Array($.skip).fill(null)),P=i?.flatMap(te=>{let{keys:[$],values:X}=te;return X.map(F=>({xDatum:$,values:F}))}),Z=(te,$)=>({point:{x:f.convert(te)+b,y:p.convert($)},xDatum:te,yDatum:$}),ne=te=>{let $=[];if(P==null)return[];for(let X=0;X<P.length;X+=1){let{xDatum:F,values:de}=P[X],V=de[v],q=V[te],ie=Number.isFinite(q);if(h&&!ie)continue;let pe=P[X-1]?.values[v],he=P[X+1]?.values[v],De=0,Le=0;for(let Qe=0;Qe<=te;Qe+=1){let rt=V[Qe];if(Number.isFinite(rt)){let ft=pe==null||Number.isFinite(pe[Qe]),yn=he==null||Number.isFinite(he[Qe]);ft&&(De+=rt),yn&&(Le+=rt)}}let Ee=$[$.length-1];if(!h&&(De!==Le||!ie))if(!ie&&Array.isArray(Ee)&&Ee.length===1)$[$.length-1]={skip:1};else{let Qe=Z(F,De),rt=Z(F,Le);Array.isArray(Ee)?Ee.push(Qe):Ee!=null&&(Ee.skip+=1),$.push(ie?[rt]:{skip:0})}else{let Qe=Math.max(De,Le),rt=Z(F,Qe);Array.isArray(Ee)?Ee.push(rt):Ee!=null?(Ee.skip+=1,$.push([rt])):$.push([rt])}}return k($)},z=this.seriesGrouping?.stackIndex??0,R=()=>{if(P==null)return[];let te=P.map(({xDatum:$,values:X})=>{let de=X[v][z];if(!(h&&!Number.isFinite(de)))return Z($,0)}).filter($=>$!=null);return T(te)},A=ne(z),B=A.map(()=>null);for(let te=z-1;te>=-1;te-=1){let $;for(let X=0;X<B.length;X+=1)B[X]==null&&($??($=te!==-1?ne(te):R()),B[X]=$[X])}let ee=A.map((te,$)=>te??B[$]),O=A.filter(te=>te!=null);return{itemId:w,fillData:{itemId:w,spans:ee,phantomSpans:B},strokeData:{itemId:w,spans:O},labelData:I,nodeData:D,scales:this.calculateScaling(),visible:this.visible,stackVisible:_>0}})}isPathOrSelectionDirty(){return this.properties.marker.isDirty()}markerFactory(){let{shape:t}=this.properties.marker,e=mo(t);return new e}updatePathNodes(t){return j(this,null,function*(){let{opacity:e,visible:i,animationEnabled:n}=t,[r,o]=t.paths,s=this.getStrokeWidth(this.properties.strokeWidth);o.setProperties({tag:1,fill:void 0,lineJoin:o.lineCap="round",pointerEvents:1,stroke:this.properties.stroke,strokeWidth:s,strokeOpacity:this.properties.strokeOpacity,lineDash:this.properties.lineDash,lineDashOffset:this.properties.lineDashOffset,opacity:e,visible:i}),r.setProperties({tag:0,stroke:void 0,lineJoin:"round",pointerEvents:1,fill:this.properties.fill,fillOpacity:this.properties.fillOpacity,lineDash:this.properties.lineDash,lineDashOffset:this.properties.lineDashOffset,strokeOpacity:this.properties.strokeOpacity,fillShadow:this.properties.shadow,opacity:e,visible:i||n,strokeWidth:s}),wg(this,o),wg(this,r)})}updatePaths(t){return j(this,null,function*(){this.updateAreaPaths(t.paths,t.contextData)})}updateAreaPaths(t,e){this.updateFillPath(t,e),this.updateStrokePath(t,e)}updateFillPath(t,e){let{spans:i,phantomSpans:n}=e.fillData,[r]=t,{path:o}=r;o.clear(!0);for(let s=0;s<i.length;s+=1){let{span:a}=i[s],l=n[s].span;ah(o,a,1),ah(o,GO(l),2),o.closePath()}r.checkPathDirty()}updateStrokePath(t,e){let{spans:i}=e.strokeData,[,n]=t,{path:r}=n;r.clear(!0);for(let{span:o}of i)ah(r,o);n.checkPathDirty()}updateMarkerSelection(t){return j(this,null,function*(){let{nodeData:e,markerSelection:i}=t;return this.properties.marker.isDirty()&&(i.clear(),i.cleanup()),i.update(this.properties.marker.enabled?e:[])})}updateMarkerNodes(t){return j(this,null,function*(){let{markerSelection:e,isHighlight:i}=t,{xKey:n,yKey:r,marker:o,fill:s,stroke:a,strokeWidth:l,fillOpacity:c,strokeOpacity:d,highlightStyle:u}=this.properties,h=Be(i&&u.item,o.getStyle(),{fill:s,stroke:a,strokeWidth:l,fillOpacity:c,strokeOpacity:d});e.each((f,p)=>{this.updateMarkerStyle(f,o,{datum:p,highlighted:i,xKey:n,yKey:r},h)}),i||this.properties.marker.markClean()})}updateLabelSelection(t){return j(this,null,function*(){let{labelData:e,labelSelection:i}=t;return i.update(e,n=>{n.tag=3})})}updateLabelNodes(t){return j(this,null,function*(){let{labelSelection:e}=t,{enabled:i,fontStyle:n,fontWeight:r,fontSize:o,fontFamily:s,color:a}=this.properties.label;e.each((l,c)=>{let{x:d,y:u,label:h}=c;h&&i&&this.visible?(l.fontStyle=n,l.fontWeight=r,l.fontSize=o,l.fontFamily=s,l.textAlign=h.textAlign,l.textBaseline=h.textBaseline,l.text=h.text,l.x=d,l.y=u-10,l.fill=a,l.visible=!0):l.visible=!1})})}getTooltipHtml(t){let{id:e,axes:i,dataModel:n}=this,{xKey:r,xName:o,yName:s,tooltip:a,marker:l}=this.properties,{yKey:c,xValue:d,yValue:u,datum:h,itemId:f}=t,p=i.x,m=i.y;if(!this.properties.isValid()||!(p&&m&&We(u))||!n)return is;let b=p.formatDatum(d),g=m.formatDatum(u),v=Tt(s),M=Tt(b+": "+g),w=Be({fill:this.properties.fill},l.getStyle(),{stroke:this.properties.stroke,strokeWidth:this.properties.strokeWidth}),{fill:I}=this.getMarkerStyle(l,{datum:t,xKey:r,yKey:c,highlighted:!1},w);return a.toTooltipHtml({title:v,content:M,backgroundColor:I},{datum:h,itemId:f,xKey:r,xName:o,yKey:c,yName:s,color:I,title:v,seriesId:e})}getLegendData(t){if(!this.data?.length||!this.properties.isValid()||!this.properties.showInLegend||t!=="category")return[];let{yKey:e,yName:i,fill:n,stroke:r,fillOpacity:o,strokeOpacity:s,strokeWidth:a,lineDash:l,marker:c,visible:d,legendItemName:u}=this.properties,h=!c.enabled||c.fill===void 0;return[{legendType:t,id:this.id,itemId:e,seriesId:this.id,enabled:d,label:{text:u??i??e},symbols:[{marker:{shape:c.shape,fill:h?n:c.fill,fillOpacity:h?o:c.fillOpacity,stroke:c.stroke??r,strokeOpacity:c.strokeOpacity??s,strokeWidth:c.strokeWidth??0,enabled:c.enabled||a<=0},line:{stroke:r,strokeOpacity:s,strokeWidth:a,lineDash:l}}],legendItemName:u}]}animateEmptyUpdateReady(t){let{markerSelection:e,labelSelection:i,contextData:n,paths:r}=t,{animationManager:o}=this.ctx;this.updateAreaPaths(r,n),ID(this,o,...r),Kt([e],_h),_D(this,o,e),Ke(this,"labels",o,i)}animateReadyResize(t){let{contextData:e,paths:i}=t;this.updateAreaPaths(i,e),super.animateReadyResize(t)}animateWaitingUpdateReady(t){let{animationManager:e}=this.ctx,{markerSelection:i,labelSelection:n,contextData:r,paths:o,previousContextData:s}=t,[a,l]=o;if(a==null&&l==null)return;this.resetMarkerAnimation(t),this.resetLabelAnimation(t);let c=()=>{this.resetPathAnimation(t),this.updateAreaPaths(o,r),this.updateStrokePath(o,r)},d=()=>{e.skipCurrentBatch(),c()};if(r==null||s==null){c(),xh(this,e,"added",i),lh(this,"fill_path_properties",e,"add",a),lh(this,"stroke",e,"trailing",l),Ke(this,"labels",e,n);return}let u=JO(r,s,this.processedData?.reduced?.diff);if(u===void 0){d();return}else if(u.status==="no-op")return;xh(this,e,void 0,i),Vt(this.id,"fill_path_properties",e,[a],u.fill.pathProperties),jO(this.id,"fill_path_update",e,[a],u.fill.path),this.updateStrokePath(o,r),lh(this,"stroke",e,"trailing",l),Ke(this,"labels",e,n)}isLabelEnabled(){return this.properties.label.enabled}nodeFactory(){return new fe}getFormattedMarkerStyle(t){let{xKey:e,yKey:i}=t;return this.getMarkerStyle(this.properties.marker,{datum:t,xKey:e,yKey:i,highlighted:!0})}computeFocusBounds(t){return Gh(this,t)}};AD.className="AreaSeries";AD.type="area";var E6={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"area",moduleFactory:t=>new AD(t),stackable:!0,tooltipDefaults:{range:"nearest"},defaultAxes:[{type:"number",position:"left"},{type:"category",position:"bottom"}],themeTemplate:{series:{nodeClickRange:"nearest",tooltip:{position:{type:"node"}},fillOpacity:.8,strokeOpacity:1,strokeWidth:0,lineDash:[0],lineDashOffset:0,shadow:{enabled:!1,color:Al,xOffset:3,yOffset:3,blur:5},interpolation:{type:"linear",tension:1,position:"end"},marker:{enabled:!1,shape:"circle",size:7,strokeWidth:0},label:{enabled:!1,fontSize:12,fontFamily:zt,color:ci}}},paletteFactory:t=>{let{marker:e}=ty(t);return{fill:e.fill,stroke:e.stroke,marker:e}}};function*eP(t){for(let e of t.children)yield e}function ND(t,e){for(let i of e){let n=i.datum;n===void 0?Y.error("undefined datum"):t.addValue(i,n)}}function kD(t,e){let{x:i,y:n}=t.contentGroup.transformPoint(e.x,e.y),{nearest:r,distanceSquared:o}=t.getQuadTree().find(i,n);if(r!==void 0)return{datum:r.value,distance:Math.sqrt(o)}}var RD=class extends os{constructor(){super(...arguments),this.direction="vertical"}};y([x(aR)],RD.prototype,"direction",2);var tP=class extends ca{constructor(){super(...arguments),this.groupScale=new Js,this.smallestDataInterval=void 0,this.largestDataInterval=void 0}getBandScalePadding(){return{inner:.3,outer:.15}}shouldFlipXY(){return!this.isVertical()}isVertical(){return this.properties.direction==="vertical"}getBarDirection(){return this.shouldFlipXY()?"x":"y"}getCategoryDirection(){return this.shouldFlipXY()?"y":"x"}getValueAxis(){let t=this.getBarDirection();return this.axes[t]}getCategoryAxis(){let t=this.getCategoryDirection();return this.axes[t]}updateGroupScale(t){let{groupScale:e,smallestDataInterval:i,ctx:{seriesStateManager:n}}=this,r=t.scale,o=ct.is(r)?r.calcBandwidth(i):r.bandwidth,s=[],{index:a,visibleGroupCount:l}=n.getVisiblePeerGroupIndex(this);for(let d=0;d<l;d++)s.push(String(d));return e.domain=s,e.range=[0,o??0],t instanceof sa?e.paddingInner=t.groupPaddingInner:t instanceof ea?e.padding=.1:e.padding=0,e.round=e.padding!==0,{barWidth:e.bandwidth>=1?e.bandwidth:e.rawBandwidth,groupIndex:a}}resolveKeyDirection(t){return this.getBarDirection()==="x"?t==="x"?"y":"x":t}initQuadTree(t){ND(t,this.datumNodesIter())}pickNodeClosestDatum(t){return kD(this,t)}},iP=class extends ni{constructor(){super(...arguments),this.placement="inside"}};y([x(lR)],iP.prototype,"placement",2);var qt=class extends RD{constructor(){super(...arguments),this.fill="#c16068",this.fillOpacity=1,this.stroke="#874349",this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.crisp=void 0,this.shadow=new Vr,this.label=new iP,this.tooltip=new Ki}};y([x(Q)],qt.prototype,"xKey",2);y([x(Q,{optional:!0})],qt.prototype,"xName",2);y([x(Q)],qt.prototype,"yKey",2);y([x(Q,{optional:!0})],qt.prototype,"yName",2);y([x(Q,{optional:!0})],qt.prototype,"yFilterKey",2);y([x(Q,{optional:!0})],qt.prototype,"stackGroup",2);y([x(yt,{optional:!0})],qt.prototype,"normalizedTo",2);y([x(nt)],qt.prototype,"fill",2);y([x(Je)],qt.prototype,"fillOpacity",2);y([x(nt)],qt.prototype,"stroke",2);y([x(K)],qt.prototype,"strokeWidth",2);y([x(Je)],qt.prototype,"strokeOpacity",2);y([x(es)],qt.prototype,"lineDash",2);y([x(K)],qt.prototype,"lineDashOffset",2);y([x(K)],qt.prototype,"cornerRadius",2);y([x(ve,{optional:!0})],qt.prototype,"crisp",2);y([x(hn,{optional:!0})],qt.prototype,"itemStyler",2);y([x(ae,{optional:!0})],qt.prototype,"shadow",2);y([x(ae)],qt.prototype,"label",2);y([x(ae)],qt.prototype,"tooltip",2);function nP(t,e){t.crisp=e.crisp??!0,t.fill=e.fill,t.stroke=e.stroke,t.strokeWidth=e.strokeWidth,t.fillOpacity=e.fillOpacity,t.strokeOpacity=e.strokeOpacity,t.lineDash=e.lineDash,t.lineDashOffset=e.lineDashOffset,t.fillShadow=e.fillShadow,t.topLeftCornerRadius=e.topLeftCornerRadius!==!1?e.cornerRadius??0:0,t.topRightCornerRadius=e.topRightCornerRadius!==!1?e.cornerRadius??0:0,t.bottomRightCornerRadius=e.bottomRightCornerRadius!==!1?e.cornerRadius??0:0,t.bottomLeftCornerRadius=e.bottomLeftCornerRadius!==!1?e.cornerRadius??0:0,t.visible=e.visible??!0}function rP(l){var c=l,{datum:t,isHighlighted:e,style:i,highlightStyle:n,itemStyler:r,seriesId:o,ctx:{callbackCache:s}}=c,a=pt(c,["datum","isHighlighted","style","highlightStyle","itemStyler","seriesId","ctx"]);let{fill:d,fillOpacity:u,stroke:h,strokeWidth:f,strokeOpacity:p,lineDash:m,lineDashOffset:b,cornerRadius:g=0}=Be(e&&n,i),v;return r&&(v=s.call(r,C({datum:t.datum,xKey:t.xKey,fill:d,fillOpacity:u,stroke:h,strokeWidth:f,strokeOpacity:p,lineDash:m,lineDashOffset:b,cornerRadius:g,highlighted:e,seriesId:o},a))),{fill:v?.fill??d,fillOpacity:v?.fillOpacity??u,stroke:v?.stroke??h,strokeWidth:v?.strokeWidth??f,strokeOpacity:v?.strokeOpacity??p,lineDash:v?.lineDash??m,lineDashOffset:v?.lineDashOffset??b,cornerRadius:v?.cornerRadius??g,topLeftCornerRadius:i.topLeftCornerRadius,topRightCornerRadius:i.topRightCornerRadius,bottomRightCornerRadius:i.bottomRightCornerRadius,bottomLeftCornerRadius:i.bottomLeftCornerRadius,fillShadow:i.fillShadow}}function oP(t,e,i,n){if(e!=null){let[r,o]=e;if(r!==0||o!==1)return!1}if(ct.is(t)){let r=t.calcBandwidth(n)-t.calcBandwidth(i);if(r>0&&r<1)return!1}return!0}var a_=t=>Ih(t.yValue??0);function Mh(t,e,i){let{startingX:n,startingY:r}=A6(t,e);return{isVertical:t,calculate:(s,a)=>{let l=t?s.x:n,c=t?r:s.y,d=t?s.width:0,u=t?0:s.height,{opacity:h}=s;a&&(isNaN(l)||isNaN(c))&&({x:l,y:c}=a,d=t?a.width:0,u=t?0:a.height,t&&!a_(a)?c+=a.height:!t&&a_(a)&&(l+=a.width));let f;return s.clipBBox==null?f=void 0:a_(s)?f=t?new se(l,c-u,d,u):new se(l-d,c,d,u):f=new se(l,c,d,u),{x:l,y:c,width:d,height:u,clipBBox:f,opacity:h}},mode:i}}function T6(t,e){return{isVertical:t,calculate:i=>({x:t?i.x:i.x+i.width/2,y:t?i.y+i.height/2:i.y,width:t?i.width:0,height:t?0:i.height,clipBBox:i.clipBBox,opacity:i.opacity}),mode:e}}function Dh(t){let e=r=>r==null||isNaN(r.x)||isNaN(r.y);return{toFn:(r,o,s)=>{let a;return s==="removed"&&r.datum==null&&t.mode==="fade"?a=L(C({},wh(r,o)),{opacity:0}):s==="removed"||e(o)?a=t.calculate(o,r.previousDatum):a={x:o.x,y:o.y,width:o.width,height:o.height,clipBBox:o.clipBBox,opacity:o.opacity},a},fromFn:(r,o,s)=>{s==="updated"&&e(o)?s="removed":s==="updated"&&e(r.previousDatum)&&(s="added");let a;s==="added"&&r.previousDatum==null&&t.mode==="fade"?a=L(C({},wh(r,o)),{opacity:0}):s==="unknown"||s==="added"?a=t.calculate(o,r.previousDatum):a={x:r.x,y:r.y,width:r.width,height:r.height,clipBBox:r.clipBBox,opacity:r.opacity};let l=$i[s];return L(C({},a),{phase:l})}}}function A6(t,e){let i=e[t?"y":"x"],n=1/0,r=0;return i?(t?r=i.scale.convert(ct.is(i.scale)?0:Math.max(...i.range)):n=i.scale.convert(ct.is(i.scale)?0:Math.min(...i.range)),{startingX:n,startingY:r}):{startingX:n,startingY:r}}function wh(t,{x:e,y:i,width:n,height:r,clipBBox:o,opacity:s}){return{x:e,y:i,width:n,height:r,clipBBox:o,opacity:s}}function LD(t,e,i){if(t===void 0)return;let{x:n,y:r,width:o,height:s}=t;return e.inverseTransformBBox(new se(n,r,o,s)).clip(i)}function sP(t,e,i){if(e.enabled&&i){let{x:n,y:r,text:o,textAlign:s,textBaseline:a}=i,{color:l,fontStyle:c,fontWeight:d,fontSize:u,fontFamily:h}=e;t.setProperties({visible:!0,x:n,y:r,text:o,fill:l,fontStyle:c,fontWeight:d,fontSize:u,fontFamily:h,textAlign:s,textBaseline:a})}else t.visible=!1}function aP({isPositive:t,isVertical:e,placement:i,padding:n=0,rect:r}){let o=r.x+r.width/2,s=r.y+r.height/2,a="center",l="middle";switch(i){case"start":{e?(s=t?r.y+r.height+n:r.y-n,l=t?"top":"bottom"):(o=t?r.x-n:r.x+r.width+n,a=t?"start":"end");break}case"outside":case"end":{e?(s=t?r.y-n:r.y+r.height+n,l=t?"bottom":"top"):(o=t?r.x+r.width+n:r.x-n,a=t?"start":"end");break}}return{x:o,y:s,textAlign:a,textBaseline:l}}var OD=class extends tP{constructor(t){super({moduleCtx:t,directionKeys:wl,directionNames:Il,pickModes:[3,0],pathsPerSeries:[],hasHighlightedLabels:!0,datumSelectionGarbageCollection:!1,animationAlwaysUpdateSelections:!0,animationResetFns:{datum:wh,label:ss}}),this.properties=new qt}crossFilteringEnabled(){return this.properties.yFilterKey!=null&&(this.seriesGrouping==null||this.seriesGrouping.stackIndex===0)}processData(t){return j(this,null,function*(){if(!this.properties.isValid()||!this.data)return;let{seriesGrouping:{groupIndex:e=this.id}={},data:i=[]}=this,{xKey:n,yKey:r,yFilterKey:o,normalizedTo:s}=this.properties,a=!this.ctx.animationManager.isSkipped(),l=this.getCategoryAxis()?.scale,c=this.getValueAxis()?.scale,{isContinuousX:d,xScaleType:u,yScaleType:h}=this.getScaleInformation({xScale:l,yScale:c}),f=`bar-stack-${e}-yValues`,p=`${f}-trailing`,m=[];We(s)&&m.push(Xg([f,p],Math.abs(s),"range")),a&&this.processedData&&m.push(Dl(this.processedData)),a&&m.push(dd());let b=this.visible?{}:{forceValue:0},{processedData:g}=yield this.requestDataModel(t,i,{props:[_i(n,u,{id:"xValue"}),Xe(r,h,C({id:"yValue-raw",invalidValue:null},b)),...this.crossFilteringEnabled()?[Xe(o,h,C({id:"yFilterValue",invalidValue:null},b))]:[],...qs(r,"normal","current",C({id:"yValue-end",rangeId:"yValue-range",invalidValue:null,missingValue:0,groupId:f,separateNegative:!0},b),h),...qs(r,"trailing","current",C({id:"yValue-start",invalidValue:null,missingValue:0,groupId:p,separateNegative:!0},b),h),...d?[qL,KL]:[],...m],groupByKeys:!0,groupByData:!1});this.smallestDataInterval=g.reduced?.smallestKeyInterval,this.largestDataInterval=g.reduced?.largestKeyInterval,this.animationState.transition("updateData")})}getSeriesDomain(t){let{processedData:e,dataModel:i,smallestDataInterval:n}=this;if(!e||!i||e.data.length===0)return[];let r=this.getCategoryAxis(),o=this.getValueAxis(),s=i.resolveProcessedDataDefById(this,"xValue"),a=i.getDomain(this,"xValue","key",e),l=i.getDomain(this,"yValue-end","value",e),c=this.crossFilteringEnabled()?i.getDomain(this,"yFilterValue","value",e):void 0;if(c!=null&&(l=[Math.min(l[0],c[0]),Math.max(l[1],c[1])]),t===this.getCategoryDirection()){if(s?.def.type==="key"&&s.def.valueType==="category")return a;let d=We(n)?n*.5:0,u=vo(a)??[NaN,NaN],h=u[0]+-d,f=u[1]+d;return dn([h,f],r)}else{if(this.getValueAxis()instanceof Sl)return dn(l,o);{let d=[Math.min(0,l[0]),Math.max(0,l[1])];return dn(d,o)}}}createNodeData(){return j(this,null,function*(){let{dataModel:t}=this,e=this.getCategoryAxis(),i=this.getValueAxis();if(!t||!e||!i||!this.properties.isValid())return;let n=e.scale,r=i.scale,{xKey:o,yKey:s,xName:a,yName:l,fill:c,stroke:d,strokeWidth:u,cornerRadius:h,legendItemName:f,label:p}=this.properties,m=i.isReversed(),{barWidth:b,groupIndex:g}=this.updateGroupScale(e),v=ct.is(n)?b*-.5:0,M=t.resolveProcessedDataIndexById(this,"xValue"),w=t.resolveProcessedDataIndexById(this,"yValue-raw"),I=this.crossFilteringEnabled()?t.resolveProcessedDataIndexById(this,"yFilterValue"):void 0,D=t.resolveProcessedDataIndexById(this,"yValue-start"),_=t.resolveProcessedDataIndexById(this,"yValue-end"),S=t.resolveProcessedDataIndexById(this,"yValue-range"),E=!this.ctx.animationManager.isSkipped(),T=({datum:R,valueIndex:A,xValue:B,yValue:ee,cumulativeValue:O,phantom:oe,currY:te,prevY:$,isPositive:X,yRange:F,labelText:de,crossScale:V=1})=>{let q=n.convert(B),ie=X!==m,pe=q+k.convert(String(g))+v,he=r.convert(te),De=r.convert($),Le=this.getBarDirection()==="x",Ee=r.convert(F),Qe=r.convert(0),rt=b*.5*(1-V),ft={x:Le?Math.min(he,De):pe+rt,y:Le?pe+rt:Math.min(he,De),width:Le?Math.abs(De-he):b*V,height:Le?b*V:Math.abs(De-he)},yn=new se(ft.x,ft.y,ft.width,ft.height),fi={x:Le?Math.min(Qe,Ee):pe+rt,y:Le?pe+rt:Math.min(Qe,Ee),width:Le?Math.abs(Qe-Ee):b*V,height:Le?b*V:Math.abs(Qe-Ee)},{fontStyle:St,fontWeight:jt,fontSize:Io,fontFamily:dt,color:cs,placement:mr}=p,Hr=this.shouldFlipXY()?ft.height:ft.width;return{series:this,itemId:oe?Zo(s,oe):s,datum:R,valueIndex:A,cumulativeValue:O,phantom:oe,xValue:B,yValue:ee,yKey:s,xKey:o,capDefaults:{lengthRatioMultiplier:Hr,lengthMax:Hr},x:fi.x,y:fi.y,width:fi.width,height:fi.height,midPoint:{x:ft.x+ft.width/2,y:ft.y+ft.height/2},fill:c,stroke:d,opacity:1,strokeWidth:u,cornerRadius:h,topLeftCornerRadius:Le!==ie,topRightCornerRadius:ie,bottomRightCornerRadius:Le===ie,bottomLeftCornerRadius:!ie,clipBBox:yn,label:de!=null?C({text:de,fill:cs,fontStyle:St,fontWeight:jt,fontSize:Io,fontFamily:dt},aP({isPositive:X,isVertical:!Le,placement:mr,rect:ft})):void 0,missing:ee==null,focusable:!oe}},{groupScale:k,processedData:P}=this,Z=[],ne=[],z=[];return P?.data.forEach(({keys:R,datum:A,values:B,aggValues:ee})=>{B.forEach((O,oe)=>{let te=R[M],$=O[w],X=Number(O[D]),F=I!=null?Number(O[I]):void 0,de=Number(O[_]),V=$>=0&&!Object.is($,-0),q=ee?.[S][V?1:0]??0;if(!Number.isFinite(de)||F!=null&&!Number.isFinite(F))return;let ie=$!=null?this.getLabelText(this.properties.label,{datum:A[oe],value:F??$,xKey:o,yKey:s,xName:a,yName:l,legendItemName:f},De=>We(De)?De.toFixed(2):String(De)):void 0,pe=F!=null&&F>$,he=T({datum:A[oe],valueIndex:oe,xValue:te,yValue:F??$,cumulativeValue:F??de,phantom:!1,currY:F!=null?X+F:de,prevY:X,isPositive:V,yRange:Math.max(X+(F??-1/0),q),labelText:ie,crossScale:pe?.6:void 0});if(ne.push(he),z.push(he),F!=null){let De=T({datum:A[oe],valueIndex:oe,xValue:te,yValue:F,cumulativeValue:F,phantom:!0,currY:de,prevY:X,isPositive:V,yRange:q,labelText:void 0,crossScale:void 0});Z.push(De)}})}),{itemId:s,nodeData:Z.length>0?[...Z,...ne]:ne,labelData:z,scales:this.calculateScaling(),visible:this.visible||E}})}nodeFactory(){return new qi}getHighlightData(t,e){let i=t.find(n=>n.datum===e.datum&&!n.phantom);return i!=null?[i]:void 0}updateDatumSelection(t){return j(this,null,function*(){return t.datumSelection.update(t.nodeData,void 0,e=>Zo(e.xValue,e.valueIndex,e.phantom))})}updateDatumNodes(t){return j(this,null,function*(){if(!this.properties.isValid())return;let{yKey:e,stackGroup:i,fill:n,fillOpacity:r,stroke:o,strokeWidth:s,strokeOpacity:a,lineDash:l,lineDashOffset:c,itemStyler:d,shadow:u,highlightStyle:{item:h}}=this.properties,f=this.axes.x,p=this.properties.crisp??oP(f?.scale,f?.visibleRange,this.smallestDataInterval,this.largestDataInterval),m=this.getCategoryDirection()==="x",b={fill:n,stroke:o,lineDash:l,lineDashOffset:c,fillShadow:u,strokeWidth:this.getStrokeWidth(s),fillOpacity:0,strokeOpacity:0},g={datum:void 0,ctx:this.ctx,seriesId:this.id,isHighlighted:t.isHighlight,highlightStyle:h,yKey:e,style:b,itemStyler:d,stackGroup:i};t.datumSelection.each((v,M)=>{b.fillOpacity=r*(M.phantom?.2:1),b.strokeOpacity=a*(M.phantom?.2:1),b.cornerRadius=M.cornerRadius,b.topLeftCornerRadius=M.topLeftCornerRadius,b.topRightCornerRadius=M.topRightCornerRadius,b.bottomRightCornerRadius=M.bottomRightCornerRadius,b.bottomLeftCornerRadius=M.bottomLeftCornerRadius;let w=m?(M.clipBBox?.width??M.width)>0:(M.clipBBox?.height??M.height)>0;g.datum=M;let I=rP(g);I.crisp=p,I.visible=w,nP(v,I)})})}updateLabelSelection(t){return j(this,null,function*(){let e=this.isLabelEnabled()?t.labelData:[];return t.labelSelection.update(e,i=>{i.pointerEvents=1})})}updateLabelNodes(t){return j(this,null,function*(){t.labelSelection.each((e,i)=>{sP(e,this.properties.label,i.label)})})}getTooltipHtml(t){let{id:e,processedData:i,ctx:{callbackCache:n}}=this,r=this.getCategoryAxis(),o=this.getValueAxis();if(!i||!this.properties.isValid()||!r||!o)return is;let{xKey:s,yKey:a,xName:l,yName:c,fill:d,stroke:u,strokeWidth:h,tooltip:f,itemStyler:p,stackGroup:m,legendItemName:b}=this.properties,{xValue:g,yValue:v,datum:M,itemId:w}=t,I=r.formatDatum(g),D=o.formatDatum(v),_=Tt(c),S=Tt(I+": "+D),E;p&&(E=n.call(p,{seriesId:e,datum:M,xKey:s,yKey:a,stackGroup:m,fill:d,stroke:u,strokeWidth:this.getStrokeWidth(h),highlighted:!1,cornerRadius:this.properties.cornerRadius,fillOpacity:this.properties.fillOpacity,strokeOpacity:this.properties.strokeOpacity,lineDash:this.properties.lineDash??[],lineDashOffset:this.properties.lineDashOffset}));let T=E?.fill??d;return f.toTooltipHtml({title:_,content:S,backgroundColor:T},C({seriesId:e,itemId:w,datum:M,xKey:s,yKey:a,xName:l,yName:c,stackGroup:m,title:_,color:T,legendItemName:b},this.getModuleTooltipParams()))}getLegendData(t){let{showInLegend:e}=this.properties;if(t!=="category"||!this.data?.length||!this.properties.isValid()||!e)return[];let{yKey:i,yName:n,fill:r,stroke:o,strokeWidth:s,fillOpacity:a,strokeOpacity:l,legendItemName:c,visible:d}=this.properties;return[{legendType:"category",id:this.id,itemId:i,seriesId:this.id,enabled:d,label:{text:c??n??i},symbols:[{marker:{fill:r,fillOpacity:a,stroke:o,strokeWidth:s,strokeOpacity:l}}],legendItemName:c}]}animateEmptyUpdateReady({datumSelection:t,labelSelection:e,annotationSelections:i}){let n=Dh(Mh(this.isVertical(),this.axes,"normal"));Vt(this.id,"nodes",this.ctx.animationManager,[t],n),Ke(this,"labels",this.ctx.animationManager,e),Ke(this,"annotations",this.ctx.animationManager,...i)}animateWaitingUpdateReady(t){let{datumSelection:e,labelSelection:i,annotationSelections:n,previousContextData:r}=t;this.ctx.animationManager.stopByAnimationGroupId(this.id);let o=this.processedData?.reduced?.diff,s=r==null?"fade":"normal",a=Dh(Mh(this.isVertical(),this.axes,s));Vt(this.id,"nodes",this.ctx.animationManager,[e],a,(c,d)=>Zo(d.xValue,d.valueIndex,d.phantom),o),(o?.changed??!0)&&(Ke(this,"labels",this.ctx.animationManager,i),Ke(this,"annotations",this.ctx.animationManager,...n))}isLabelEnabled(){return this.properties.label.enabled}computeFocusBounds({datumIndex:t,seriesRect:e}){let i=this.contextNodeData?.nodeData[t].clipBBox;return LD(i,this.contentGroup,e)}};OD.className="BarSeries";OD.type="bar";var N6={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"bar",moduleFactory:t=>new OD(t),stackable:!0,groupable:!0,tooltipDefaults:{range:"exact"},defaultAxes:[{type:"number",position:"left"},{type:"category",position:"bottom"}],swapDefaultAxesCondition:t=>t?.direction==="horizontal",themeTemplate:{series:{direction:"vertical",fillOpacity:1,strokeWidth:0,lineDash:[0],lineDashOffset:0,label:{enabled:!1,fontWeight:"normal",fontSize:12,fontFamily:zt,color:Tl,placement:"inside"},shadow:{enabled:!1,color:Al,xOffset:3,yOffset:3,blur:5},errorBar:{cap:{lengthRatio:.3}}}},paletteFactory:yd},i1=t=>{let e=co.fromString(t),[i,n,r]=co.RGBtoOKLCH(e.r,e.g,e.b);return{l:i,c:n,h:r,a:e.a}},l_=1e-6,n1=t=>t.c<l_||t.l<l_||t.l>1-l_,k6=(t,e,i)=>{i=Ce(0,i,1);let n;if(n1(t))n=e.h;else if(n1(e))n=t.h;else{let a=t.h,l=e.h,c=e.h-t.h;c>180?l-=360:c<-180&&(l+=360),n=a*(1-i)+l*i}let r=t.c*(1-i)+e.c*i,o=t.l*(1-i)+e.l*i,s=t.a*(1-i)+e.a*i;return co.fromOKLCH(o,r,n,s)},Nl=class{constructor(){this.type="color",this.invalid=!0,this.domain=[0,1],this.range=["red","blue"],this.parsedRange=this.range.map(i1)}update(){let{domain:t,range:e}=this;t.length<2&&(Y.warnOnce("`colorDomain` should have at least 2 values."),t.length===0?t.push(0,1):t.length===1&&t.push(t[0]+1));for(let i=1;i<t.length;i++){let n=t[i-1],r=t[i];if(n>=r){Y.warnOnce("`colorDomain` values should be supplied in ascending order."),t.sort((o,s)=>o-s);break}}if(e.length<t.length)for(let i=e.length;i<t.length;i++)e.push(e.length>0?e[0]:"black");this.parsedRange=this.range.map(i1)}convert(t){this.refresh();let{domain:e,range:i,parsedRange:n}=this,r=e[0],o=e.at(-1),s=i[0],a=i[i.length-1];if(t<=r)return s;if(t>=o)return a;let l,c;if(e.length===2){let h=(t-r)/(o-r),f=1/(i.length-1);l=i.length<=2?0:Math.min(Math.floor(h*(i.length-1)),i.length-2),c=(h-l*f)/f}else{for(l=0;l<e.length-2&&!(t<e[l+1]);l++);let h=e[l],f=e[l+1];c=(t-h)/(f-h)}let d=n[l],u=n[l+1];return k6(d,u,c).toRgbaString()}refresh(){this.invalid&&(this.invalid=!1,this.update(),this.invalid&&Y.warnOnce("Expected update to not invalidate scale"))}};y([ui],Nl.prototype,"domain",2);y([ui],Nl.prototype,"range",2);var PD=class extends gn{constructor(){super(...arguments),this.maxSize=30}};y([x(K),re({redraw:3})],PD.prototype,"maxSize",2);y([x(Fg,{optional:!0}),re({redraw:3})],PD.prototype,"domain",2);var lP=class extends ni{constructor(){super(...arguments),this.placement="top"}};y([x(bM)],lP.prototype,"placement",2);var wt=class extends os{constructor(){super(...arguments),this.colorRange=["#ffff00","#00ff00","#0000ff"],this.label=new lP,this.tooltip=new Ki,this.marker=new PD}};y([x(Q)],wt.prototype,"xKey",2);y([x(Q)],wt.prototype,"yKey",2);y([x(Q)],wt.prototype,"sizeKey",2);y([x(Q,{optional:!0})],wt.prototype,"labelKey",2);y([x(Q,{optional:!0})],wt.prototype,"colorKey",2);y([x(Q,{optional:!0})],wt.prototype,"xName",2);y([x(Q,{optional:!0})],wt.prototype,"yName",2);y([x(Q,{optional:!0})],wt.prototype,"sizeName",2);y([x(Q,{optional:!0})],wt.prototype,"labelName",2);y([x(Q,{optional:!0})],wt.prototype,"colorName",2);y([x(Fg,{optional:!0})],wt.prototype,"colorDomain",2);y([x(dr)],wt.prototype,"colorRange",2);y([x(Q,{optional:!0})],wt.prototype,"title",2);y([ii("marker.shape")],wt.prototype,"shape",2);y([ii("marker.size")],wt.prototype,"size",2);y([ii("marker.maxSize")],wt.prototype,"maxSize",2);y([ii("marker.domain",{optional:!0})],wt.prototype,"domain",2);y([ii("marker.fill",{optional:!0})],wt.prototype,"fill",2);y([ii("marker.fillOpacity")],wt.prototype,"fillOpacity",2);y([ii("marker.stroke",{optional:!0})],wt.prototype,"stroke",2);y([ii("marker.strokeWidth")],wt.prototype,"strokeWidth",2);y([ii("marker.strokeOpacity")],wt.prototype,"strokeOpacity",2);y([ii("marker.itemStyler",{optional:!0})],wt.prototype,"itemStyler",2);y([x(ae)],wt.prototype,"label",2);y([x(ae)],wt.prototype,"tooltip",2);var R6=class extends eD{constructor(t,e,i,n){super(t,e,i,n),this.sizeKey=n.properties.sizeKey}},FD=class extends ca{constructor(t){super({moduleCtx:t,directionKeys:wl,directionNames:Il,pickModes:[2,3,0],pathsPerSeries:[],hasMarkers:!0,markerSelectionGarbageCollection:!1,animationResetFns:{label:ss,marker:Uh}}),this.NodeEvent=R6,this.properties=new wt,this.sizeScale=new jr,this.colorScale=new Nl}processData(t){return j(this,null,function*(){if(!this.properties.isValid()||this.data==null||!this.visible)return;let e=this.axes.x?.scale,i=this.axes.y?.scale,{xScaleType:n,yScaleType:r}=this.getScaleInformation({xScale:e,yScale:i}),o=this.colorScale.type,s=this.sizeScale.type,{xKey:a,yKey:l,sizeKey:c,labelKey:d,colorDomain:u,colorRange:h,colorKey:f,marker:p}=this.properties,{dataModel:m,processedData:b}=yield this.requestDataModel(t,this.data,{props:[_i(a,n,{id:"xKey-raw"}),_i(l,r,{id:"yKey-raw"}),...d?[_i(d,"band",{id:"labelKey-raw"})]:[],Xe(a,n,{id:"xValue"}),Xe(l,r,{id:"yValue"}),Xe(c,s,{id:"sizeValue"}),...f?[Xe(f,o,{id:"colorValue"})]:[],...d?[Xe(d,"band",{id:"labelValue"})]:[]]}),g=m.resolveProcessedDataIndexById(this,"sizeValue"),v=b.domain.values[g]??[];if(this.sizeScale.domain=p.domain?p.domain:v,f){let M=m.resolveProcessedDataIndexById(this,"colorValue");this.colorScale.domain=u??b.domain.values[M]??[],this.colorScale.range=h,this.colorScale.update()}this.animationState.transition("updateData")})}getSeriesDomain(t){let{dataModel:e,processedData:i}=this;if(!i||!e)return[];let n=t==="x"?"xValue":"yValue",r=e.resolveProcessedDataDefById(this,n),o=e.getDomain(this,n,"value",i);if(r?.def.type==="value"&&r?.def.valueType==="category")return o;let s=this.axes[t];return dn(vo(o),s)}createNodeData(){return j(this,null,function*(){let{axes:t,dataModel:e,processedData:i,colorScale:n,sizeScale:r}=this,{xKey:o,yKey:s,sizeKey:a,labelKey:l,xName:c,yName:d,sizeName:u,labelName:h,label:f,colorKey:p,marker:m,visible:b}=this.properties,g=mo(m.shape),{placement:v}=f,M=t.x,w=t.y;if(!(e&&i&&b&&M&&w))return;let I=e.resolveProcessedDataIndexById(this,"xValue"),D=e.resolveProcessedDataIndexById(this,"yValue"),_=a?e.resolveProcessedDataIndexById(this,"sizeValue"):-1,S=p?e.resolveProcessedDataIndexById(this,"colorValue"):-1,E=l?e.resolveProcessedDataIndexById(this,"labelValue"):-1,T=M.scale,k=w.scale,P=(T.bandwidth??0)/2,Z=(k.bandwidth??0)/2,ne=[];r.range=[m.size,m.maxSize];let z=f.getFont(),R=ts.getMeasurer({font:z});for(let{values:A,datum:B}of i.data??[]){let ee=A[I],O=A[D],oe=T.convert(ee)+P,te=k.convert(O)+Z,$=this.getLabelText(f,{value:l?A[E]:O,datum:B,xKey:o,yKey:s,sizeKey:a,labelKey:l,xName:c,yName:d,sizeName:u,labelName:h}),X=R.measureText(String($)),F=a?r.convert(A[_]):m.size,de=p?n.convert(A[S]):void 0;ne.push({series:this,itemId:s,yKey:s,xKey:o,datum:B,xValue:ee,yValue:O,sizeValue:A[_],point:{x:oe,y:te,size:F},midPoint:{x:oe,y:te},fill:de,label:C({text:$},X),marker:g,placement:v})}return{itemId:s,nodeData:ne,labelData:ne,scales:this.calculateScaling(),visible:this.visible}})}isPathOrSelectionDirty(){return this.properties.marker.isDirty()}getLabelData(){return this.contextNodeData?.labelData??[]}markerFactory(){let{shape:t}=this.properties.marker,e=mo(t);return new e}updateMarkerSelection(t){return j(this,null,function*(){let{nodeData:e,markerSelection:i}=t;this.properties.marker.isDirty()&&(i.clear(),i.cleanup());let n=this.properties.marker.enabled?e:[];return i.update(n,void 0,r=>Zo([r.xValue,r.yValue,r.label.text]))})}updateMarkerNodes(t){return j(this,null,function*(){let{markerSelection:e,isHighlight:i}=t,{xKey:n,yKey:r,sizeKey:o,labelKey:s,marker:a}=this.properties,{size:l,shape:c,fill:d,fillOpacity:u,stroke:h,strokeWidth:f,strokeOpacity:p}=Be(i&&this.properties.highlightStyle.item,a.getStyle()),m={size:l,shape:c,fill:d,fillOpacity:u,stroke:h,strokeWidth:f,strokeOpacity:p};this.sizeScale.range=[a.size,a.maxSize],e.each((b,g)=>{this.updateMarkerStyle(b,a,{datum:g,highlighted:i,xKey:n,yKey:r,sizeKey:o,labelKey:s},m)}),i||this.properties.marker.markClean()})}updateLabelSelection(t){return j(this,null,function*(){let e=this.properties.label.enabled?this.chart?.placeLabels().get(this)??[]:[];return t.labelSelection.update(e.map(i=>L(C({},i.datum),{point:{x:i.x,y:i.y,size:i.datum.point.size}})))})}updateLabelNodes(t){return j(this,null,function*(){let{label:e}=this.properties;t.labelSelection.each((i,n)=>{i.text=n.label.text,i.fill=e.color,i.x=n.point?.x??0,i.y=n.point?.y??0,i.fontStyle=e.fontStyle,i.fontWeight=e.fontWeight,i.fontSize=e.fontSize,i.fontFamily=e.fontFamily,i.textAlign="left",i.textBaseline="top"})})}getTooltipHtml(t){let e=this.axes.x,i=this.axes.y;if(!this.properties.isValid()||!e||!i)return is;let{xKey:n,yKey:r,sizeKey:o,labelKey:s,xName:a,yName:l,sizeName:c,labelName:d,marker:u,tooltip:h}=this.properties,f=this.properties.title??l,p=Be({fill:t.fill,strokeWidth:this.getStrokeWidth(u.strokeWidth)},u.getStyle()),{fill:m="gray"}=this.getMarkerStyle(u,{datum:t,highlighted:!1,xKey:n,yKey:r,sizeKey:o,labelKey:s},p),{datum:b,xValue:g,yValue:v,sizeValue:M,label:{text:w},itemId:I}=t,D=Tt(e.formatDatum(g)),_=Tt(i.formatDatum(v)),S=`<b>${Tt(a??n)}</b>: ${D}<br><b>${Tt(l??r)}</b>: ${_}`;return o&&(S+=`<br><b>${Tt(c??o)}</b>: ${Tt(String(M))}`),s&&(S=`<b>${Tt(d??s)}</b>: ${Tt(w)}<br>`+S),h.toTooltipHtml({title:f,content:S,backgroundColor:m},{datum:b,itemId:I,xKey:n,xName:a,yKey:r,yName:l,sizeKey:o,sizeName:c,labelKey:s,labelName:d,title:f,color:m,seriesId:this.id})}getLegendData(){if(!this.data?.length||!this.properties.isValid())return[];let{yKey:t,yName:e,title:i,marker:n,visible:r}=this.properties,{shape:o,fill:s,stroke:a,fillOpacity:l,strokeOpacity:c,strokeWidth:d}=n;return[{legendType:"category",id:this.id,itemId:t,seriesId:this.id,enabled:r,label:{text:i??e??t},symbols:[{marker:{shape:o,fill:s??"rgba(0, 0, 0, 0)",stroke:a??"rgba(0, 0, 0, 0)",fillOpacity:l??1,strokeOpacity:c??1,strokeWidth:d??0}}]}]}animateEmptyUpdateReady({markerSelection:t,labelSelection:e}){xD(this,this.ctx.animationManager,t),Ke(this,"labels",this.ctx.animationManager,e)}isLabelEnabled(){return this.properties.label.enabled}nodeFactory(){return new fe}getFormattedMarkerStyle(t){let{xKey:e,yKey:i,sizeKey:n,labelKey:r}=this.properties;return this.getMarkerStyle(this.properties.marker,{datum:t,xKey:e,yKey:i,sizeKey:n,labelKey:r,highlighted:!1})}computeFocusBounds(t){return Gh(this,t)}};FD.className="BubbleSeries";FD.type="bubble";var L6={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"bubble",moduleFactory:t=>new FD(t),tooltipDefaults:{range:"nearest"},defaultAxes:[{type:"number",position:"bottom"},{type:"number",position:"left"}],themeTemplate:{series:{shape:"circle",size:7,maxSize:30,fillOpacity:.8,tooltip:{position:{type:"node"}},label:{enabled:!1,fontSize:12,fontFamily:zt,color:ci}}},paletteFactory:yd},Xt=class extends os{constructor(){super(...arguments),this.fillOpacity=1,this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.areaPlot=!1,this.aggregation="sum",this.shadow=new Vr,this.label=new ni,this.tooltip=new Ki}};y([x(Q)],Xt.prototype,"xKey",2);y([x(Q,{optional:!0})],Xt.prototype,"yKey",2);y([x(Q,{optional:!0})],Xt.prototype,"xName",2);y([x(Q,{optional:!0})],Xt.prototype,"yName",2);y([x(nt,{optional:!0})],Xt.prototype,"fill",2);y([x(Je)],Xt.prototype,"fillOpacity",2);y([x(nt,{optional:!0})],Xt.prototype,"stroke",2);y([x(K)],Xt.prototype,"strokeWidth",2);y([x(Je)],Xt.prototype,"strokeOpacity",2);y([x(es)],Xt.prototype,"lineDash",2);y([x(K)],Xt.prototype,"lineDashOffset",2);y([x(K)],Xt.prototype,"cornerRadius",2);y([x(ve)],Xt.prototype,"areaPlot",2);y([x(nd,{optional:!0})],Xt.prototype,"bins",2);y([x(bt(["count","sum","mean"],"a histogram aggregation"))],Xt.prototype,"aggregation",2);y([x(K,{optional:!0})],Xt.prototype,"binCount",2);y([x(ae)],Xt.prototype,"shadow",2);y([x(ae)],Xt.prototype,"label",2);y([x(ae)],Xt.prototype,"tooltip",2);var r1=10,jD=class extends ca{constructor(t){super({moduleCtx:t,directionKeys:wl,directionNames:Il,pickModes:[3,0],datumSelectionGarbageCollection:!1,animationResetFns:{datum:wh,label:ss}}),this.properties=new Xt,this.calculatedBins=[]}deriveBins(t){let e=Vg(t[0],t[1],r1),i=Zc(t[0],t[1],r1),[n]=e,r=o=>[o,o+i];return[[n-i,n],...e.map(r)]}calculateNiceBins(t,e){let i=Math.floor(t[0]),n=t[1],r=e||1,{start:o,binSize:s}=this.calculateNiceStart(i,n,r);return this.getBins(o,n,s,r)}getBins(t,e,i,n){let r=[],o=this.calculatePrecision(i);for(let s=0;s<n;s++){let a=Math.round((t+s*i)*o)/o,l=Math.round((t+(s+1)*i)*o)/o;s===n-1&&(l=Math.max(l,e)),r[s]=[a,l]}return r}calculatePrecision(t){let e=10;if(isFinite(t)&&t>0)for(;t<1;)e*=10,t*=10;return e}calculateNiceStart(t,e,i){let n=Math.abs(e-t)/i,r=Math.floor(Math.log10(n)),o=Math.pow(10,r);return{start:Math.floor(t/o)*o,binSize:n}}processData(t){return j(this,null,function*(){this.visible||(this.processedData=void 0,this.animationState.transition("updateData"));let{xKey:e,yKey:i,areaPlot:n,aggregation:r}=this.properties,o=this.axes.x?.scale,s=this.axes.y?.scale,{xScaleType:a,yScaleType:l}=this.getScaleInformation({yScale:s,xScale:o}),c=[_i(e,a),XL];if(i){let u=z_("groupAgg");r==="count"||(r==="sum"?u=HL("groupAgg"):r==="mean"&&(u=WL("groupAgg"))),n&&(u=V_("groupAgg",u)),c.push(Xe(i,l,{invalidValue:void 0}),u)}else{let u=z_("groupAgg");n&&(u=V_("groupAgg",u)),c.push(u)}let d=u=>{let h=dn(u.domain.keys[0]);if(h.length===0)return u.domain.groups=[],()=>[];let f=Cn(this.properties.binCount)?this.calculateNiceBins(h,this.properties.binCount):this.properties.bins??this.deriveBins(h),p=f.length;return this.calculatedBins=[...f],m=>{let b=m.keys[0];for(let g=0;g<p;g++){let v=f[g];if(b>=v[0]&&b<v[1]||g===p-1&&b<=v[1])return v}return[]}};!this.ctx.animationManager.isSkipped()&&this.processedData&&c.push(Dl(this.processedData,!1)),yield this.requestDataModel(t,this.data,{props:c,groupByFn:d}),this.animationState.transition("updateData")})}getSeriesDomain(t){let{processedData:e,dataModel:i}=this;if(!e||!i||!this.calculatedBins.length)return[];let n=i.getDomain(this,"groupAgg","aggregate",e),r=this.calculatedBins?.[0][0],o=this.calculatedBins?.[(this.calculatedBins?.length??0)-1][1];return dn(t==="x"?[r,o]:n)}createNodeData(){return j(this,null,function*(){let{id:t,axes:e,processedData:i,ctx:{callbackCache:n}}=this,r=e.x,o=e.y;if(!r||!o)return;let{scale:s}=r,{scale:a}=o,{xKey:l,yKey:c,xName:d,yName:u,fill:h,stroke:f,strokeWidth:p,cornerRadius:m}=this.properties,{formatter:b=S=>String(S.value),fontStyle:g,fontWeight:v,fontSize:M,fontFamily:w,color:I}=this.properties.label,D=[],_={itemId:this.properties.yKey??this.id,nodeData:D,labelData:D,scales:this.calculateScaling(),animationValid:!0,visible:this.visible};return!this.visible||!i||i.type!=="grouped"||(i.data.forEach(S=>{let{aggValues:[[E,T]]=[[0,0]],datum:k,datum:{length:P},keys:Z,keys:[ne,z]}=S,R=s.convert(ne),A=s.convert(z),B=E+T,ee=a.convert(0),O=a.convert(B),oe=Math.abs(A-R),te=Math.abs(O-ee),$=Math.min(R,A),X=Math.min(ee,O),F;B!==0&&(F={text:n.call(b,{value:B,datum:k,seriesId:t,xKey:l,yKey:c,xName:d,yName:u})??String(B),fontStyle:g,fontWeight:v,fontSize:M,fontFamily:w,fill:I,x:$+oe/2,y:X+te/2});let de={x:$+oe/2,y:X+te/2},V=o.isReversed();D.push({series:this,datum:k,aggregatedValue:B,frequency:P,domain:Z,yKey:c,xKey:l,x:$,y:X,xValue:R,yValue:O,width:oe,height:te,midPoint:de,fill:h,stroke:f,cornerRadius:m,topLeftCornerRadius:!V,topRightCornerRadius:!V,bottomRightCornerRadius:V,bottomLeftCornerRadius:V,opacity:1,strokeWidth:p,label:F})}),D.sort((S,E)=>S.x-E.x)),_})}nodeFactory(){return new qi}updateDatumSelection(t){return j(this,null,function*(){let{nodeData:e,datumSelection:i}=t;return i.update(e,n=>{n.tag=0,n.crisp=!0},n=>n.domain.join("_"))})}updateDatumNodes(t){return j(this,null,function*(){let{isHighlight:e}=t,{fillOpacity:i,strokeOpacity:n,lineDash:r,lineDashOffset:o,shadow:s,highlightStyle:{item:{fill:a,fillOpacity:l=i,stroke:c,strokeWidth:d}}}=this.properties;t.datumSelection.each((u,h,f)=>{let{cornerRadius:p,topLeftCornerRadius:m,topRightCornerRadius:b,bottomRightCornerRadius:g,bottomLeftCornerRadius:v}=h,M=e&&d!==void 0?d:h.strokeWidth,w=e?l:i;u.fill=(e?a:void 0)??h.fill,u.stroke=(e?c:void 0)??h.stroke,u.fillOpacity=w,u.strokeOpacity=n,u.strokeWidth=M,u.lineDash=r,u.lineDashOffset=o,u.topLeftCornerRadius=m?p:0,u.topRightCornerRadius=b?p:0,u.bottomRightCornerRadius=g?p:0,u.bottomLeftCornerRadius=v?p:0,u.fillShadow=s,u.zIndex=e?ud.highlightedZIndex:f,u.visible=h.height>0})})}updateLabelSelection(t){return j(this,null,function*(){let{labelData:e,labelSelection:i}=t;return i.update(e,n=>{n.tag=1,n.pointerEvents=1,n.textAlign="center",n.textBaseline="middle"})})}updateLabelNodes(t){return j(this,null,function*(){let e=this.isLabelEnabled();t.labelSelection.each((i,n)=>{let r=n.label;r&&e?(i.text=r.text,i.x=r.x,i.y=r.y,i.fontStyle=r.fontStyle,i.fontWeight=r.fontWeight,i.fontSize=r.fontSize,i.fontFamily=r.fontFamily,i.fill=r.fill,i.visible=!0):i.visible=!1})})}initQuadTree(t){ND(t,eP(this.contentGroup.children[0]))}pickNodeClosestDatum(t){return kD(this,t)}getTooltipHtml(t){let e=this.axes.x,i=this.axes.y;if(!this.properties.isValid()||!e||!i)return is;let{xKey:n,yKey:r,xName:o,yName:s,fill:a,aggregation:l,tooltip:c}=this.properties,{aggregatedValue:d,frequency:u,domain:[h,f],itemId:p}=t,m=`${Tt(o??n)}: ${e.formatDatum(h)} - ${e.formatDatum(f)}`,b=r?`<b>${Tt(s??r)} (${l})</b>: ${i.formatDatum(d)}<br>`:"";b+=`<b>Frequency</b>: ${u}`;let g={title:m,backgroundColor:a,content:b};return c.toTooltipHtml(g,{datum:{data:t.datum,aggregatedValue:t.aggregatedValue,domain:t.domain,frequency:t.frequency},itemId:p,xKey:n,xName:o,yKey:r,yName:s,color:a,title:m,seriesId:this.id})}getLegendData(t){if(!this.data?.length||t!=="category")return[];let{xKey:e,yName:i,fill:n,fillOpacity:r,stroke:o,strokeWidth:s,strokeOpacity:a,visible:l}=this.properties;return[{legendType:"category",id:this.id,itemId:e,seriesId:this.id,enabled:l,label:{text:i??e??"Frequency"},symbols:[{marker:{fill:n??"rgba(0, 0, 0, 0)",stroke:o??"rgba(0, 0, 0, 0)",fillOpacity:r,strokeOpacity:a,strokeWidth:s}}]}]}animateEmptyUpdateReady({datumSelection:t,labelSelection:e}){let i=Dh(Mh(!0,this.axes,"normal"));Vt(this.id,"datums",this.ctx.animationManager,[t],i),Ke(this,"labels",this.ctx.animationManager,e)}animateWaitingUpdateReady(t){let e=this.processedData?.reduced?.diff,i=Dh(Mh(!0,this.axes,"normal"));Vt(this.id,"datums",this.ctx.animationManager,[t.datumSelection],i,(n,r)=>Zo(r.domain),e),Ke(this,"labels",this.ctx.animationManager,t.labelSelection)}isLabelEnabled(){return this.properties.label.enabled}computeFocusBounds({datumIndex:t,seriesRect:e}){return LD(this.contextNodeData?.nodeData[t],this.contentGroup,e)}};jD.className="HistogramSeries";jD.type="histogram";var O6={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"histogram",moduleFactory:t=>new jD(t),tooltipDefaults:{range:"exact"},defaultAxes:[{type:"number",position:"bottom"},{type:"number",position:"left"}],themeTemplate:{series:{strokeWidth:1,fillOpacity:1,strokeOpacity:1,lineDash:[0],lineDashOffset:0,label:{enabled:!1,fontSize:12,fontFamily:zt,color:Tl},shadow:{enabled:!1,color:Al,xOffset:3,yOffset:3,blur:5}}},paletteFactory:({takeColors:t})=>{let{fills:[e],strokes:[i]}=t(1);return{fill:e,stroke:i}}},hi=class extends os{constructor(){super(...arguments),this.stroke="#874349",this.strokeWidth=2,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.interpolation=new bd,this.marker=new gn,this.label=new ni,this.tooltip=new Ki,this.connectMissingData=!1}};y([x(Q)],hi.prototype,"xKey",2);y([x(Q)],hi.prototype,"yKey",2);y([x(Q,{optional:!0})],hi.prototype,"xName",2);y([x(Q,{optional:!0})],hi.prototype,"yName",2);y([x(Q,{optional:!0})],hi.prototype,"stackGroup",2);y([x(K,{optional:!0})],hi.prototype,"normalizedTo",2);y([x(Q,{optional:!0})],hi.prototype,"title",2);y([x(nt)],hi.prototype,"stroke",2);y([x(K)],hi.prototype,"strokeWidth",2);y([x(Je)],hi.prototype,"strokeOpacity",2);y([x(es)],hi.prototype,"lineDash",2);y([x(K)],hi.prototype,"lineDashOffset",2);y([x(ae)],hi.prototype,"interpolation",2);y([x(ae)],hi.prototype,"marker",2);y([x(ae)],hi.prototype,"label",2);y([x(ae)],hi.prototype,"tooltip",2);y([x(ve)],hi.prototype,"connectMissingData",2);var BD=class extends ca{constructor(t){super({moduleCtx:t,directionKeys:wl,directionNames:Il,hasMarkers:!0,pickModes:[2,3,0],markerSelectionGarbageCollection:!1,animationResetFns:{path:SD({getVisible:()=>this.visible,getOpacity:()=>this.getOpacity()}),label:ss,marker:(e,i)=>C(C({},Uh(e)),_h(e,i))}}),this.properties=new hi}processData(t){return j(this,null,function*(){if(this.data==null||!this.properties.isValid())return;let{data:e,visible:i,seriesGrouping:{groupIndex:n=this.id,stackCount:r=1}={}}=this,{xKey:o,yKey:s,connectMissingData:a,normalizedTo:l}=this.properties,c=!this.ctx.animationManager.isSkipped(),d=this.axes.x?.scale,u=this.axes.y?.scale,{isContinuousX:h,xScaleType:f,yScaleType:p}=this.getScaleInformation({xScale:d,yScale:u}),m={invalidValue:null};a&&r>1&&(m.invalidValue=0),i||(m.forceValue=0);let b=[];if(h||b.push(_i(o,f,{id:"xKey"})),b.push(Xe(o,f,{id:"xValue"}),Xe(s,p,L(C({id:"yValueRaw"},m),{invalidValue:void 0}))),r>1){let g=[`line-stack-${n}-yValues`,`line-stack-${n}-yValues-trailing`,`line-stack-${n}-yValues-marker`];b.push(...qs(s,"window","current",L(C({id:"yValueEnd"},m),{groupId:g[0]}),p),...qs(s,"window-trailing","current",L(C({id:"yValueStart"},m),{groupId:g[1]}),p),...qs(s,"normal","current",L(C({id:"yValueCumulative"},m),{groupId:g[2]}),p)),dh(l)&&b.push(Xg([g[0],g[1],g[2]],l,"range"))}c&&(b.push(dd(h?["xValue"]:void 0)),this.processedData&&b.push(Dl(this.processedData))),yield this.requestDataModel(t,e,{props:b}),this.animationState.transition("updateData")})}getSeriesDomain(t){let{processedData:e,dataModel:i,axes:n}=this;if(!e||!i||e.data.length===0)return[];let r=n.x,o=n.y,s=i.resolveProcessedDataDefById(this,"xValue");if(t==="x"){let a=i.getDomain(this,"xValue","value",e);return s?.def.type==="value"&&s.def.valueType==="category"?a:dn(vo(a),r)}else{let l=(this.seriesGrouping?.stackCount??1)>1?i.getDomain(this,"yValueEnd","value",e):i.getDomain(this,"yValueRaw","value",e);return dn(l,o)}}createNodeData(){return j(this,null,function*(){let{processedData:t,dataModel:e,axes:i}=this,n=i.x,r=i.y;if(!t||!e||!n||!r)return;let{xKey:o,yKey:s,xName:a,yName:l,marker:c,label:d,connectMissingData:u,legendItemName:h}=this.properties,f=(this.seriesGrouping?.stackCount??1)>1,p=n.scale,m=r.scale,b=(p.bandwidth??0)/2,g=(m.bandwidth??0)/2,v=[],M=c.enabled?c.size:0,w=e.resolveProcessedDataIndexById(this,"xValue"),I=e.resolveProcessedDataIndexById(this,"yValueRaw"),D=f?e.resolveProcessedDataIndexById(this,"yValueCumulative"):I,_=f?e.resolveProcessedDataIndexById(this,"yValueEnd"):void 0,S=!0;return t.data?.forEach(({datum:E,values:T})=>{let k=T[w],P=T[I],Z=T[D],ne=_!=null?T[_]:void 0;if(P==null){S||(S=!u);return}let z=p.convert(k)+b;if(isNaN(z)){S||(S=!u);return}let R=m.convert(Z)+g,A=this.getLabelText(d,{value:P,datum:E,xKey:o,yKey:s,xName:a,yName:l,legendItemName:h},B=>We(B)?B.toFixed(2):String(B));v.push({series:this,datum:E,yKey:s,xKey:o,point:{x:z,y:R,moveTo:S,size:M},midPoint:{x:z,y:R},cumulativeValue:ne,yValue:P,xValue:k,capDefaults:{lengthRatioMultiplier:this.properties.marker.getDiameter(),lengthMax:1/0},label:A?{text:A,fontStyle:d.fontStyle,fontWeight:d.fontWeight,fontSize:d.fontSize,fontFamily:d.fontFamily,textAlign:"center",textBaseline:"bottom",fill:d.color}:void 0}),S=!1}),{itemId:s,nodeData:v,labelData:v,scales:this.calculateScaling(),visible:this.visible}})}isPathOrSelectionDirty(){return this.properties.marker.isDirty()}markerFactory(){let{shape:t}=this.properties.marker,e=mo(t);return new e}updatePathNodes(t){return j(this,null,function*(){let{paths:[e],opacity:i,visible:n,animationEnabled:r}=t;e.setProperties({fill:void 0,lineJoin:"round",pointerEvents:1,opacity:i,stroke:this.properties.stroke,strokeWidth:this.getStrokeWidth(this.properties.strokeWidth),strokeOpacity:this.properties.strokeOpacity,lineDash:this.properties.lineDash,lineDashOffset:this.properties.lineDashOffset}),r||(e.visible=n),wg(this,e)})}updateMarkerSelection(t){return j(this,null,function*(){let{nodeData:e}=t,{markerSelection:i}=t,{shape:n,enabled:r}=this.properties.marker;return e=n&&r?e:[],this.properties.marker.isDirty()&&(i.clear(),i.cleanup()),i.update(e,void 0,o=>Zo(o.xValue))})}updateMarkerNodes(t){return j(this,null,function*(){let{markerSelection:e,isHighlight:i}=t,{xKey:n,yKey:r,stroke:o,strokeWidth:s,strokeOpacity:a,marker:l,highlightStyle:c}=this.properties,d=Be(i&&c.item,l.getStyle(),{stroke:o,strokeWidth:s,strokeOpacity:a}),u=this.ctx.animationManager.isSkipped();e.each((h,f)=>{this.updateMarkerStyle(h,l,{datum:f,highlighted:i,xKey:n,yKey:r},d,{applyTranslation:u})}),i||l.markClean()})}updateLabelSelection(t){return j(this,null,function*(){return t.labelSelection.update(this.isLabelEnabled()?t.labelData:[])})}updateLabelNodes(t){return j(this,null,function*(){let{enabled:e,fontStyle:i,fontWeight:n,fontSize:r,fontFamily:o,color:s}=this.properties.label;t.labelSelection.each((a,l)=>{let{point:c,label:d}=l;l&&d&&e?(a.fontStyle=i,a.fontWeight=n,a.fontSize=r,a.fontFamily=o,a.textAlign=d.textAlign,a.textBaseline=d.textBaseline,a.text=d.text,a.x=c.x,a.y=c.y-10,a.fill=s,a.visible=!0):a.visible=!1})})}getTooltipHtml(t){let e=this.axes.x,i=this.axes.y;if(!this.properties.isValid()||!e||!i)return is;let{xKey:n,yKey:r,xName:o,yName:s,strokeWidth:a,marker:l,tooltip:c}=this.properties,{datum:d,xValue:u,yValue:h,itemId:f}=t,p=e.formatDatum(u),m=i.formatDatum(h),b=Tt(this.properties.title??s),g=Tt(p+": "+m),v=Be({fill:l.stroke},l.getStyle(),{strokeWidth:a}),{fill:M}=this.getMarkerStyle(l,{datum:t,xKey:n,yKey:r,highlighted:!1},v);return c.toTooltipHtml({title:b,content:g,backgroundColor:M},C({datum:d,itemId:f,xKey:n,xName:o,yKey:r,yName:s,title:b,color:M,seriesId:this.id},this.getModuleTooltipParams()))}getLegendData(t){if(!(this.data?.length&&this.properties.isValid()&&t==="category"))return[];let{yKey:e,yName:i,stroke:n,strokeOpacity:r,strokeWidth:o,lineDash:s,title:a,marker:l,visible:c,legendItemName:d}=this.properties,u="rgba(0, 0, 0, 0)";return[{legendType:"category",id:this.id,itemId:e,legendItemName:d,seriesId:this.id,enabled:c,label:{text:d??a??i??e},symbols:[{marker:{shape:l.shape,fill:l.fill??u,stroke:l.stroke??n??u,fillOpacity:l.fillOpacity??1,strokeOpacity:l.strokeOpacity??r??1,strokeWidth:l.strokeWidth??0,enabled:l.enabled},line:{stroke:n??u,strokeOpacity:r,strokeWidth:o,lineDash:s}}]}]}updatePaths(t){return j(this,null,function*(){this.updateLinePaths(t.paths,t.contextData)})}updateLinePaths(t,e){let{interpolation:i}=this.properties,{nodeData:n}=e,[r]=t;r.path.clear(!0);for(let o of WO(n))wD(YO(n,o),r,i);r.checkPathDirty()}animateEmptyUpdateReady(t){let{markerSelection:e,labelSelection:i,annotationSelections:n,contextData:r,paths:o}=t,{animationManager:s}=this.ctx;this.updateLinePaths(o,r),ID(this,s,...o),Kt([e],_h),_D(this,s,e),Ke(this,"labels",s,i),Ke(this,"annotations",s,...n)}animateReadyResize(t){let{contextData:e,paths:i}=t;this.updateLinePaths(i,e),super.animateReadyResize(t)}animateWaitingUpdateReady(t){let{animationManager:e}=this.ctx,{markerSelection:i,labelSelection:n,annotationSelections:r,contextData:o,paths:s,previousContextData:a}=t,[l]=s;this.resetMarkerAnimation(t),this.resetLabelAnimation(t);let c=()=>{this.resetPathAnimation(t),this.updateLinePaths(s,o)},d=()=>{e.skipCurrentBatch(),c()};if(o==null||a==null){c(),xh(this,e,"added",i),lh(this,"path_properties",e,"add",l),Ke(this,"labels",e,n),Ke(this,"annotations",e,...r);return}let u=XO(o,a,this.processedData?.reduced?.diff,this.properties.interpolation);if(u===void 0){d();return}else if(u.status==="no-op")return;xh(this,e,void 0,i),Vt(this.id,"path_properties",e,[l],u.pathProperties),jO(this.id,"path_update",e,[l],u.path),u.hasMotion&&(Ke(this,"labels",e,n),Ke(this,"annotations",e,...r))}isLabelEnabled(){return this.properties.label.enabled}getBandScalePadding(){return{inner:1,outer:.1}}nodeFactory(){return new fe}getFormattedMarkerStyle(t){let{xKey:e,yKey:i}=this.properties;return this.getMarkerStyle(this.properties.marker,{datum:t,xKey:e,yKey:i,highlighted:!0})}computeFocusBounds(t){return Gh(this,t)}};BD.className="LineSeries";BD.type="line";var P6={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"line",moduleFactory:t=>new BD(t),stackable:!0,tooltipDefaults:{range:"nearest"},defaultAxes:[{type:"number",position:"left"},{type:"category",position:"bottom"}],themeTemplate:{series:{tooltip:{position:{type:"node"}},strokeWidth:2,strokeOpacity:1,lineDash:[0],lineDashOffset:0,interpolation:{type:"linear",tension:1,position:"end"},marker:{shape:"circle",size:7,strokeWidth:0},label:{enabled:!1,fontSize:12,fontFamily:zt,color:ci},errorBar:{cap:{lengthRatio:1}}}},paletteFactory:t=>{let{marker:e}=ty(t);return{stroke:e.fill,marker:e}}},cP=class extends ni{constructor(){super(...arguments),this.placement="top"}};y([x(bM)],cP.prototype,"placement",2);var Ut=class extends os{constructor(){super(...arguments),this.colorRange=["#ffff00","#00ff00","#0000ff"],this.label=new cP,this.tooltip=new Ki,this.marker=new gn}};y([x(Q)],Ut.prototype,"xKey",2);y([x(Q)],Ut.prototype,"yKey",2);y([x(Q,{optional:!0})],Ut.prototype,"labelKey",2);y([x(Q,{optional:!0})],Ut.prototype,"colorKey",2);y([x(Q,{optional:!0})],Ut.prototype,"xName",2);y([x(Q,{optional:!0})],Ut.prototype,"yName",2);y([x(Q,{optional:!0})],Ut.prototype,"labelName",2);y([x(Q,{optional:!0})],Ut.prototype,"colorName",2);y([x(Fg,{optional:!0})],Ut.prototype,"colorDomain",2);y([x(dr)],Ut.prototype,"colorRange",2);y([x(Q,{optional:!0})],Ut.prototype,"title",2);y([ii("marker.shape")],Ut.prototype,"shape",2);y([ii("marker.size")],Ut.prototype,"size",2);y([ii("marker.fill")],Ut.prototype,"fill",2);y([ii("marker.fillOpacity")],Ut.prototype,"fillOpacity",2);y([ii("marker.stroke")],Ut.prototype,"stroke",2);y([ii("marker.strokeWidth")],Ut.prototype,"strokeWidth",2);y([ii("marker.strokeOpacity")],Ut.prototype,"strokeOpacity",2);y([ii("marker.itemStyler",{optional:!0})],Ut.prototype,"itemStyler",2);y([x(ae)],Ut.prototype,"label",2);y([x(ae)],Ut.prototype,"tooltip",2);var zD=class extends ca{constructor(t){super({moduleCtx:t,directionKeys:wl,directionNames:Il,pickModes:[2,3,0],pathsPerSeries:[],hasMarkers:!0,markerSelectionGarbageCollection:!1,animationResetFns:{marker:Uh,label:ss}}),this.properties=new Ut,this.colorScale=new Nl}processData(t){return j(this,null,function*(){if(!this.properties.isValid()||this.data==null||!this.visible)return;let e=this.axes.x?.scale,i=this.axes.y?.scale,{xScaleType:n,yScaleType:r}=this.getScaleInformation({xScale:e,yScale:i}),o=this.colorScale.type,{xKey:s,yKey:a,labelKey:l,colorKey:c,colorDomain:d,colorRange:u}=this.properties,{dataModel:h,processedData:f}=yield this.requestDataModel(t,this.data,{props:[_i(s,n,{id:"xKey-raw"}),_i(a,r,{id:"yKey-raw"}),...l?[_i(l,"band",{id:"labelKey-raw"})]:[],Xe(s,n,{id:"xValue"}),Xe(a,r,{id:"yValue"}),...c?[Xe(c,o,{id:"colorValue"})]:[],...l?[Xe(l,"band",{id:"labelValue"})]:[]]});if(c){let p=h.resolveProcessedDataIndexById(this,"colorValue");this.colorScale.domain=d??f.domain.values[p]??[],this.colorScale.range=u,this.colorScale.update()}this.animationState.transition("updateData")})}getSeriesDomain(t){let{dataModel:e,processedData:i}=this;if(!i||!e)return[];let n=t==="x"?"xValue":"yValue",r=e.resolveProcessedDataDefById(this,n),o=e.getDomain(this,n,"value",i);if(r?.def.type==="value"&&r?.def.valueType==="category")return o;let s=this.axes[t];return dn(vo(o),s)}createNodeData(){return j(this,null,function*(){let{axes:t,dataModel:e,processedData:i,colorScale:n}=this,{xKey:r,yKey:o,labelKey:s,colorKey:a,xName:l,yName:c,labelName:d,marker:u,label:h,visible:f}=this.properties,{placement:p}=h,m=mo(u.shape),b=t.x,g=t.y;if(!(e&&i&&f&&b&&g))return;let v=e.resolveProcessedDataIndexById(this,"xValue"),M=e.resolveProcessedDataIndexById(this,"yValue"),w=a?e.resolveProcessedDataIndexById(this,"colorValue"):-1,I=s?e.resolveProcessedDataIndexById(this,"labelValue"):-1,D=b.scale,_=g.scale,S=(D.bandwidth??0)/2,E=(_.bandwidth??0)/2,T=[],k=h.getFont(),P=ts.getMeasurer({font:k});for(let{values:Z,datum:ne}of i.data??[]){let z=Z[v],R=Z[M],A=D.convert(z)+S,B=_.convert(R)+E,ee=this.getLabelText(h,{value:s?Z[I]:R,datum:ne,xKey:r,yKey:o,labelKey:s,xName:l,yName:c,labelName:d}),O=P.measureText(ee),oe=a?n.convert(Z[w]):void 0;T.push({series:this,itemId:o,yKey:o,xKey:r,datum:ne,xValue:z,yValue:R,capDefaults:{lengthRatioMultiplier:u.getDiameter(),lengthMax:1/0},point:{x:A,y:B,size:u.size},midPoint:{x:A,y:B},fill:oe,label:C({text:ee},O),marker:m,placement:p})}return{itemId:o,nodeData:T,labelData:T,scales:this.calculateScaling(),visible:this.visible}})}isPathOrSelectionDirty(){return this.properties.marker.isDirty()}getLabelData(){return this.contextNodeData?.labelData??[]}markerFactory(){let{shape:t}=this.properties.marker,e=mo(t);return new e}updateMarkerSelection(t){return j(this,null,function*(){let{nodeData:e,markerSelection:i}=t;return this.properties.marker.isDirty()&&(i.clear(),i.cleanup()),i.update(this.properties.marker.enabled?e:[])})}updateMarkerNodes(t){return j(this,null,function*(){let{markerSelection:e,isHighlight:i}=t,{xKey:n,yKey:r,labelKey:o,marker:s,highlightStyle:a}=this.properties,l=Be(i&&a.item,s.getStyle());e.each((c,d)=>{this.updateMarkerStyle(c,s,{datum:d,highlighted:i,xKey:n,yKey:r,labelKey:o},l)}),i||s.markClean()})}updateLabelSelection(t){return j(this,null,function*(){let e=this.isLabelEnabled()?this.chart?.placeLabels().get(this)??[]:[];return t.labelSelection.update(e.map(({datum:i,x:n,y:r})=>L(C({},i),{point:{x:n,y:r,size:i.point.size},placement:"top"})),i=>{i.pointerEvents=1})})}updateLabelNodes(t){return j(this,null,function*(){let{label:e}=this.properties;t.labelSelection.each((i,n)=>{i.text=n.label.text,i.fill=e.color,i.x=n.point?.x??0,i.y=n.point?.y??0,i.fontStyle=e.fontStyle,i.fontWeight=e.fontWeight,i.fontSize=e.fontSize,i.fontFamily=e.fontFamily,i.textAlign="left",i.textBaseline="top"})})}getTooltipHtml(t){let e=this.axes.x,i=this.axes.y;if(!this.properties.isValid()||!e||!i)return is;let{xKey:n,yKey:r,labelKey:o,xName:s,yName:a,labelName:l,title:c=a,marker:d,tooltip:u}=this.properties,{datum:h,xValue:f,yValue:p,label:m,itemId:b}=t,g=Be({fill:t.fill,strokeWidth:this.getStrokeWidth(d.strokeWidth)},d.getStyle()),{fill:v="gray"}=this.getMarkerStyle(d,{datum:t,highlighted:!1,xKey:n,yKey:r,labelKey:o},g),M=Tt(e.formatDatum(f)),w=Tt(i.formatDatum(p)),I=`<b>${Tt(s??n)}</b>: ${M}<br><b>${Tt(a??r)}</b>: ${w}`;return o&&(I=`<b>${Tt(l??o)}</b>: ${Tt(m.text)}<br>`+I),u.toTooltipHtml({title:c,content:I,backgroundColor:v},C({datum:h,itemId:b,xKey:n,xName:s,yKey:r,yName:a,labelKey:o,labelName:l,title:c,color:v,seriesId:this.id},this.getModuleTooltipParams()))}getLegendData(t){let{yKey:e,yName:i,title:n,marker:r,visible:o}=this.properties,{fill:s,stroke:a,fillOpacity:l,strokeOpacity:c,strokeWidth:d}=r;return!this.data?.length||!this.properties.isValid()||t!=="category"?[]:[{legendType:"category",id:this.id,itemId:e,seriesId:this.id,enabled:o,label:{text:n??i??e},symbols:[{marker:{shape:r.shape,fill:r.fill??s??"rgba(0, 0, 0, 0)",stroke:r.stroke??a??"rgba(0, 0, 0, 0)",fillOpacity:l??1,strokeOpacity:c??1,strokeWidth:d??0}}]}]}animateEmptyUpdateReady(t){let{markerSelection:e,labelSelection:i,annotationSelections:n}=t;xD(this,this.ctx.animationManager,e),Ke(this,"labels",this.ctx.animationManager,i),Ke(this,"annotations",this.ctx.animationManager,...n)}isLabelEnabled(){return this.properties.label.enabled}nodeFactory(){return new fe}getFormattedMarkerStyle(t){let{xKey:e,yKey:i,labelKey:n}=this.properties;return this.getMarkerStyle(this.properties.marker,{datum:t,xKey:e,yKey:i,labelKey:n,highlighted:!0})}computeFocusBounds(t){return Gh(this,t)}};zD.className="ScatterSeries";zD.type="scatter";var F6={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"scatter",moduleFactory:t=>new zD(t),tooltipDefaults:{range:"nearest"},defaultAxes:[{type:"number",position:"bottom"},{type:"number",position:"left"}],themeTemplate:{series:{shape:"circle",size:7,fillOpacity:.8,tooltip:{position:{type:"node"}},label:{enabled:!1,fontSize:12,fontFamily:zt,color:ci},errorBar:{cap:{lengthRatio:1}}}},paletteFactory:yd},dP=class H_{constructor(e,i,n,r){this.startAngle=e,this.endAngle=i,this.innerRadius=n,this.outerRadius=r}clone(){let{startAngle:e,endAngle:i,innerRadius:n,outerRadius:r}=this;return new H_(e,i,n,r)}[Cg](e,i){return new H_(this.startAngle*(1-i)+e.startAngle*i,this.endAngle*(1-i)+e.endAngle*i,this.innerRadius*(1-i)+e.innerRadius*i,this.outerRadius*(1-i)+e.outerRadius*i)}};function uP({startAngle:t,endAngle:e,innerRadius:i,outerRadius:n}){let r=1/0,o=1/0,s=-1/0,a=-1/0,l=(c,d)=>{r=Math.min(c,r),o=Math.min(d,o),s=Math.max(c,s),a=Math.max(d,a)};return l(i*Math.cos(t),i*Math.sin(t)),l(i*Math.cos(e),i*Math.sin(e)),l(n*Math.cos(t),n*Math.sin(t)),l(n*Math.cos(e),n*Math.sin(e)),Hs(0,t,e)&&l(n,0),Hs(Math.PI*.5,t,e)&&l(0,n),Hs(Math.PI,t,e)&&l(-n,0),Hs(Math.PI*1.5,t,e)&&l(0,-n),new se(r,o,s-r,a-o)}function Sg(t,e,i){let n=Math.sqrt(Math.pow(t,2)+Math.pow(e,2)),{innerRadius:r,outerRadius:o}=i;if(i.startAngle===i.endAngle||n<Math.min(r,o)||n>Math.max(r,o))return!1;let s=mh(i.startAngle),a=mh(i.endAngle),l=Math.atan2(e,t);return s<a?l<=a&&l>=s:l<=a&&l>=-Math.PI||l>=s&&l<=Math.PI}function o1(t,e){let{startAngle:i,endAngle:n,innerRadius:r,outerRadius:o}=e,s={x:o*Math.cos(i),y:o*Math.sin(i)},a={x:o*Math.cos(n),y:o*Math.sin(n)},l=r===0?{x:0,y:0}:{x:r*Math.cos(i),y:r*Math.sin(i)},c=r===0?{x:0,y:0}:{x:r*Math.cos(n),y:r*Math.sin(n)};return Fc(t.start.x,t.start.y,t.end.x,t.end.y,s.x,s.y,l.x,l.y)||Fc(t.start.x,t.start.y,t.end.x,t.end.y,a.x,a.y,c.x,c.y)||fL(0,0,o,i,n,!0,t.start.x,t.start.y,t.end.x,t.end.y)}function hP(t,e){let i={x:t.x,y:t.y},n={x:t.x+t.width,y:t.y},r={x:t.x,y:t.y+t.height},o={x:t.x+t.width,y:t.y+t.height};return o1({start:i,end:n},e)||o1({start:r,end:o},e)}function s1(t,e,i,n){if(i===0&&n===0)return 0;if(Math.asin(Math.abs(1*i)/(t+1*i))+Math.asin(Math.abs(1*n)/(t+1*n))-e<0)return 1;let o=0,s=1;for(let a=0;a<8;a+=1){let l=(o+s)/2;Math.asin(Math.abs(l*i)/(t+l*i))+Math.asin(Math.abs(l*n)/(t+l*n))-e<0?o=l:s=l}return o}var j6=1e-6;function Qs(t,e){return Gg(t,e)<j6?e:Nt(t-e)+e}function Jm(t,e,i=0){let r=Math.abs(e-t)>=2*Math.PI?2*Math.PI:Nt(e-t);return t=Qs(t,i),e=t+r,{startAngle:t,endAngle:e}}function eg(t,e,i,n,r,o){let s=Math.sin(o),a=Math.cos(o),l=t**2+e**2-i**2,c=NaN,d=NaN,u=NaN,h=NaN;if(a>.5){let M=s/a,w=1+M**2,I=-2*(t+e*M),D=I**2-4*w*l;if(D<0)return;let _=(-I+Math.sqrt(D))/(2*w),S=(-I-Math.sqrt(D))/(2*w);c=_,d=_*M,u=S,h=S*M}else{let M=a/s,w=1+M**2,I=-2*(e+t*M),D=I**2-4*w*l;if(D<0)return;let _=(-I+Math.sqrt(D))/(2*w),S=(-I-Math.sqrt(D))/(2*w);c=_*M,d=_,u=S*M,h=S}let f=a,p=s,m=c*f+d*p,b=u*f+h*p,g=m>0?Qs(Math.atan2(d-e,c-t),n):NaN,v=b>0?Qs(Math.atan2(h-e,u-t),n):NaN;if(g>=n&&g<=r)return g;if(v>=n&&v<=r)return v}function tg(t,e,i,n,r,o){let s=Math.hypot(t,e),a=(s**2-i**2+o**2)/(2*s),l=s-a,c=Math.atan2(e,t),d=Math.acos(-l/i),u=Qs(c+d,n),h=Qs(c-d,n);if(u>=n&&u<=r)return u;if(h>=n&&h<=r)return h}var c_=class{constructor(t,e,i,n,r){this.cx=t,this.cy=e,this.r=i,this.a0=n,this.a1=r,this.a0>=this.a1&&(this.a0=NaN,this.a1=NaN)}isValid(){return Number.isFinite(this.a0)&&Number.isFinite(this.a1)}pointAt(t){return{x:this.cx+this.r*Math.cos(t),y:this.cy+this.r*Math.sin(t)}}clipStart(t){t==null||!this.isValid()||t<this.a0||(this.a0=t,(Number.isNaN(t)||this.a0>=this.a1)&&(this.a0=NaN,this.a1=NaN))}clipEnd(t){t==null||!this.isValid()||t>this.a1||(this.a1=t,(Number.isNaN(t)||this.a0>=this.a1)&&(this.a0=NaN,this.a1=NaN))}},Di=class extends ki{constructor(){super(...arguments),this.centerX=0,this.centerY=0,this.innerRadius=10,this.outerRadius=20,this.startAngle=0,this.endAngle=Math.PI*2,this.clipSector=void 0,this.concentricEdgeInset=0,this.radialEdgeInset=0,this.startOuterCornerRadius=0,this.endOuterCornerRadius=0,this.startInnerCornerRadius=0,this.endInnerCornerRadius=0}set inset(t){this.concentricEdgeInset=t,this.radialEdgeInset=t}set cornerRadius(t){this.startOuterCornerRadius=t,this.endOuterCornerRadius=t,this.startInnerCornerRadius=t,this.endInnerCornerRadius=t}computeBBox(){return uP(this).translate(this.centerX,this.centerY)}normalizedRadii(){let{concentricEdgeInset:t}=this,{innerRadius:e,outerRadius:i}=this;return e=e>0?e+t:0,i=Math.max(i-t,0),{innerRadius:e,outerRadius:i}}normalizedClipSector(){let{clipSector:t}=this;if(t==null)return;let{startAngle:e,endAngle:i}=Jm(this.startAngle,this.endAngle),{innerRadius:n,outerRadius:r}=this.normalizedRadii(),o=Jm(t.startAngle,t.endAngle,e);return new dP(Math.max(e,o.startAngle),Math.min(i,o.endAngle),Math.max(n,t.innerRadius),Math.min(r,t.outerRadius))}getAngleOffset(t){return t>0?this.radialEdgeInset/t:0}arc(t,e,i,n,r,o,s,a){if(t<=0)return;let{startAngle:l,endAngle:c}=Jm(this.startAngle,this.endAngle),{innerRadius:d,outerRadius:u}=this.normalizedRadii(),h=this.normalizedClipSector();if(a&&d<=0)return;let f=this.getAngleOffset(d),p=this.getAngleOffset(u),m=a?this.getAngleOffset(d+t):this.getAngleOffset(u-t),b=s?l+m+e:c-m-e,g=a?d+t:u-t,v=g*Math.cos(b),M=g*Math.sin(b);if(h!=null&&(!s&&!(b>=l-1e-6&&b<=h.endAngle-1e-6)||s&&!(b>=h.startAngle+1e-6&&b<=c-1e-6)||a&&!(g>=h.innerRadius-1e-6)||!a&&!(g<=h.outerRadius+1e-6)))return;let w=new c_(v,M,t,i,n);if(h!=null){a?(w.clipStart(eg(v,M,t,i,n,h.endAngle-f)),w.clipEnd(eg(v,M,t,i,n,h.startAngle+f))):(w.clipStart(eg(v,M,t,i,n,h.startAngle+p)),w.clipEnd(eg(v,M,t,i,n,h.endAngle-p)));let E,T;if(s?(E=tg(v,M,t,i,n,h.innerRadius),T=tg(v,M,t,i,n,h.outerRadius)):(E=tg(v,M,t,i,n,h.outerRadius),T=tg(v,M,t,i,n,h.innerRadius)),w.clipStart(E),w.clipEnd(T),E!=null){let{x:k,y:P}=w.pointAt(E),Z=Qs(Math.atan2(P,k),l);s?o?.clipStart(Z):r.clipEnd(Z)}if(T!=null){let{x:k,y:P}=w.pointAt(T),Z=Qs(Math.atan2(P,k),l);s?r.clipStart(Z):o?.clipEnd(Z)}}if(h!=null){let{x:E,y:T}=w.pointAt((w.a0+w.a1)/2);if(!Sg(E,T,h))return}let{x:I,y:D}=w.pointAt(s===a?w.a0:w.a1),_=Qs(Math.atan2(D,I),l),S=a?o:r;return s?S?.clipStart(_):S?.clipEnd(_),w}updatePath(){let{path:e,centerX:i,centerY:n,concentricEdgeInset:r,radialEdgeInset:o}=this,{startOuterCornerRadius:s,endOuterCornerRadius:a,startInnerCornerRadius:l,endInnerCornerRadius:c}=this,{startAngle:d,endAngle:u}=Jm(this.startAngle,this.endAngle),{innerRadius:h,outerRadius:f}=this.normalizedRadii(),p=this.normalizedClipSector(),m=u-d,b=m>=2*Math.PI-1e-6;if(e.clear(),h===0&&f===0||h>f)return;if((p?.startAngle??d)===(p?.endAngle??u))return;if(b&&this.clipSector==null&&s===0&&a===0&&l===0&&c===0){e.moveTo(i+f*Math.cos(d),n+f*Math.sin(d)),e.arc(i,n,f,d,u),h>r&&(e.moveTo(i+h*Math.cos(u),n+h*Math.sin(u)),e.arc(i,n,h,u,d,!0)),e.closePath();return}else if(this.clipSector==null&&Math.abs(h-f)<1e-6){e.arc(i,n,f,d,u,!1),e.arc(i,n,f,u,d,!0),e.closePath();return}let g=this.getAngleOffset(h),v=this.getAngleOffset(f);if(m<2*v)return;let w=(p?.innerRadius??h)>r,I=h<r||m<2*g,D=f-h,_=Math.max(s,l,a,c),S=_>0?Math.min(D/_,1):1;s*=S,a*=S,l*=S,c*=S;let E=s1(f,m-2*v,-s,-a);if(s*=E,a*=E,!I&&w){let q=s1(h,m-2*g,l,c);l*=q,c*=q}else l=0,c=0;let T=Math.max(s+l,a+c),k=T>0?Math.min(D/T,1):1;s*=k,a*=k,l*=k,c*=k;let P=0,Z=0,ne=s/(f-s),z=a/(f-a);if(ne>=0&&ne<1-1e-6)P=Math.asin(ne);else{P=m/2;let q=f/(1/Math.sin(P)+1);s=Math.min(q,s)}if(z>=0&&z<1-1e-6)Z=Math.asin(z);else{Z=m/2;let q=f/(1/Math.sin(Z)+1);a=Math.min(q,a)}let R=Math.asin(l/(h+l)),A=Math.asin(c/(h+c)),B=p?.outerRadius??f,ee=this.getAngleOffset(B),O=new c_(0,0,B,d+ee,u-ee),oe=p?.innerRadius??h,te=this.getAngleOffset(oe),$=w?new c_(0,0,oe,d+te,u-te):void 0;p!=null&&(O.clipStart(p.startAngle),O.clipEnd(p.endAngle),$?.clipStart(p.startAngle),$?.clipEnd(p.endAngle));let X=this.arc(s,P,d-Math.PI*.5,d+P,O,$,!0,!1),F=this.arc(a,Z,u-Z,u+Math.PI*.5,O,$,!1,!1),de=this.arc(c,A,u+Math.PI*.5,u+Math.PI-A,O,$,!1,!0),V=this.arc(l,R,d+Math.PI+R,d+Math.PI*1.5,O,$,!0,!0);if(I){let q=m<Math.PI*.5?o*(1+Math.cos(m))/Math.sin(m):NaN,ie;q>0&&q<f?ie=Math.max(Math.hypot(o,q),h):ie=o,ie=Math.max(ie,h);let pe=d+m*.5;e.moveTo(i+ie*Math.cos(pe),n+ie*Math.sin(pe))}else if(!(V?.isValid()===!0||$?.isValid()===!0)){let q=d+m/2,ie=h*Math.cos(q),pe=h*Math.sin(q);e.moveTo(i+ie,n+pe)}if(X?.isValid()===!0){let{cx:q,cy:ie,r:pe,a0:he,a1:De}=X;e.arc(i+q,n+ie,pe,he,De)}if(O.isValid()){let{r:q,a0:ie,a1:pe}=O;e.arc(i,n,q,ie,pe)}if(F?.isValid()===!0){let{cx:q,cy:ie,r:pe,a0:he,a1:De}=F;e.arc(i+q,n+ie,pe,he,De)}if(!I){if(de?.isValid()===!0){let{cx:q,cy:ie,r:pe,a0:he,a1:De}=de;e.arc(i+q,n+ie,pe,he,De)}if($?.isValid()===!0){let{r:q,a0:ie,a1:pe}=$;e.arc(i,n,q,pe,ie,!0)}if(V?.isValid()===!0){let{cx:q,cy:ie,r:pe,a0:he,a1:De}=V;e.arc(i+q,n+ie,pe,he,De)}}e.closePath()}isPointInPath(t,e){let i=this.transformPoint(t,e),{startAngle:n,endAngle:r,innerRadius:o,outerRadius:s}=this.clipSector??this;return Sg(i.x-this.centerX,i.y-this.centerY,{startAngle:n,endAngle:r,innerRadius:Math.min(o,s),outerRadius:Math.max(o,s)})}};Di.className="Sector";y([Me()],Di.prototype,"centerX",2);y([Me()],Di.prototype,"centerY",2);y([Me()],Di.prototype,"innerRadius",2);y([Me()],Di.prototype,"outerRadius",2);y([Me()],Di.prototype,"startAngle",2);y([Me()],Di.prototype,"endAngle",2);y([Me()],Di.prototype,"clipSector",2);y([Me()],Di.prototype,"concentricEdgeInset",2);y([Me()],Di.prototype,"radialEdgeInset",2);y([Me()],Di.prototype,"startOuterCornerRadius",2);y([Me()],Di.prototype,"endOuterCornerRadius",2);y([Me()],Di.prototype,"startInnerCornerRadius",2);y([Me()],Di.prototype,"endInnerCornerRadius",2);var Ti={BLUE:"#5090dc",ORANGE:"#ffa03a",GREEN:"#459d55",CYAN:"#34bfe1",YELLOW:"#e1cc00",VIOLET:"#9669cb",GRAY:"#b5b5b5",MAGENTA:"#bd5aa7",BROWN:"#8a6224",RED:"#ef5452"},ao={BLUE:"#2b5c95",ORANGE:"#cc6f10",GREEN:"#1e652e",CYAN:"#18859e",YELLOW:"#a69400",VIOLET:"#603c88",GRAY:"#575757",MAGENTA:"#7d2f6d",BROWN:"#4f3508",RED:"#a82529"},fP=class extends Mt{constructor(){super(...arguments),this.showInLegend=!1}};y([x(ve)],fP.prototype,"showInLegend",2);var VD=class extends ni{constructor(){super(...arguments),this.spacing=2}set(t,e){return super.set(t)}};y([x(Q)],VD.prototype,"text",2);y([x(yt)],VD.prototype,"spacing",2);var UD=class extends Ne{constructor(){super(...arguments),this.fill="transparent",this.fillOpacity=1}};y([x(nt)],UD.prototype,"fill",2);y([x(Je)],UD.prototype,"fillOpacity",2);var vd=class extends ni{constructor(){super(...arguments),this.offset=3,this.minAngle=0,this.minSpacing=4,this.maxCollisionOffset=50,this.avoidCollisions=!0}};y([x(K)],vd.prototype,"offset",2);y([x(ia)],vd.prototype,"minAngle",2);y([x(K)],vd.prototype,"minSpacing",2);y([x(K)],vd.prototype,"maxCollisionOffset",2);y([x(ve)],vd.prototype,"avoidCollisions",2);var GD=class extends ni{constructor(){super(...arguments),this.positionOffset=0,this.positionRatio=.5}};y([x(yt)],GD.prototype,"positionOffset",2);y([x(Je)],GD.prototype,"positionRatio",2);var iy=class extends Ne{constructor(){super(...arguments),this.length=10,this.strokeWidth=1}};y([x(dr,{optional:!0})],iy.prototype,"colors",2);y([x(K)],iy.prototype,"length",2);y([x(K)],iy.prototype,"strokeWidth",2);var Ge=class extends fr{constructor(){super(...arguments),this.fills=Object.values(Ti),this.strokes=Object.values(ao),this.fillOpacity=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.rotation=0,this.outerRadiusOffset=0,this.outerRadiusRatio=1,this.strokeWidth=1,this.sectorSpacing=0,this.innerLabels=new Rg(VD),this.title=new fP,this.innerCircle=new UD,this.shadow=new Vr,this.calloutLabel=new vd,this.sectorLabel=new GD,this.calloutLine=new iy,this.tooltip=new Ki}isValid(){let t=super.isValid();return this.innerRadiusRatio==null&&this.innerRadiusOffset==null?(Y.warnOnce("Either an [innerRadiusRatio] or an [innerRadiusOffset] must be set to render a donut series."),!1):t}};y([x(Q)],Ge.prototype,"angleKey",2);y([x(Q,{optional:!0})],Ge.prototype,"angleName",2);y([x(Q,{optional:!0})],Ge.prototype,"angleFilterKey",2);y([x(Q,{optional:!0})],Ge.prototype,"radiusKey",2);y([x(Q,{optional:!0})],Ge.prototype,"radiusName",2);y([x(K,{optional:!0})],Ge.prototype,"radiusMin",2);y([x(K,{optional:!0})],Ge.prototype,"radiusMax",2);y([x(Q,{optional:!0})],Ge.prototype,"calloutLabelKey",2);y([x(Q,{optional:!0})],Ge.prototype,"calloutLabelName",2);y([x(Q,{optional:!0})],Ge.prototype,"sectorLabelKey",2);y([x(Q,{optional:!0})],Ge.prototype,"sectorLabelName",2);y([x(Q,{optional:!0})],Ge.prototype,"legendItemKey",2);y([x(dr)],Ge.prototype,"fills",2);y([x(dr)],Ge.prototype,"strokes",2);y([x(Je)],Ge.prototype,"fillOpacity",2);y([x(Je)],Ge.prototype,"strokeOpacity",2);y([x(es)],Ge.prototype,"lineDash",2);y([x(K)],Ge.prototype,"lineDashOffset",2);y([x(K)],Ge.prototype,"cornerRadius",2);y([x(hn,{optional:!0})],Ge.prototype,"itemStyler",2);y([x(ia)],Ge.prototype,"rotation",2);y([x(yt)],Ge.prototype,"outerRadiusOffset",2);y([x(Je)],Ge.prototype,"outerRadiusRatio",2);y([x(yt,{optional:!0})],Ge.prototype,"innerRadiusOffset",2);y([x(Je,{optional:!0})],Ge.prototype,"innerRadiusRatio",2);y([x(K)],Ge.prototype,"strokeWidth",2);y([x(yt)],Ge.prototype,"sectorSpacing",2);y([x(oR)],Ge.prototype,"innerLabels",2);y([x(ae)],Ge.prototype,"title",2);y([x(ae)],Ge.prototype,"innerCircle",2);y([x(ae)],Ge.prototype,"shadow",2);y([x(ae)],Ge.prototype,"calloutLabel",2);y([x(ae)],Ge.prototype,"sectorLabel",2);y([x(ae)],Ge.prototype,"calloutLine",2);y([x(ae)],Ge.prototype,"tooltip",2);function gl(t,e,i,n){let r=[i.convert(0),i.convert(1)],o=[n.convert(0),n.convert(1)],s=Math.PI/-2+Wi(e),a=t?"initial":"update",l=({radius:p})=>({innerRadius:r[0],outerRadius:r[0]+(r[1]-r[0])*p}),c=({radius:p})=>({innerRadius:o[0],outerRadius:o[0]+(o[1]-o[0])*p});return{nodes:{toFn:(p,m,b,{prevLive:g})=>{let{startAngle:v,endAngle:M,innerRadius:w,outerRadius:I}=m,{stroke:D,fill:_}=m.sectorFormat;if(b==="removed"&&g?(v=g.datum?.endAngle,M=g.datum?.endAngle):b==="removed"&&!g&&(v=s,M=s),b==="removed"){let S=l(m);w=S.innerRadius,I=S.outerRadius}return{startAngle:v,endAngle:M,outerRadius:I,innerRadius:w,stroke:D,fill:_}},fromFn:(p,m,b,{prevFromProps:g})=>{let{startAngle:v,endAngle:M,innerRadius:w,outerRadius:I}=p,{fill:D,stroke:_}=m.sectorFormat;if(b==="unknown"||b==="added"&&!g?(v=s,M=s,w=m.innerRadius,I=m.outerRadius):b==="added"&&g&&(v=g.endAngle??s,M=g.endAngle??s,w=g.innerRadius??m.innerRadius,I=g.outerRadius??m.outerRadius),b==="added"&&!t){let S=c(m);w=S.innerRadius,I=S.outerRadius}return b==="updated"&&(D=p.fill??D,_=p.stroke??_),{startAngle:v,endAngle:M,innerRadius:w,outerRadius:I,fill:D,stroke:_,phase:a}}},innerCircle:{fromFn:(p,m)=>({size:p.previousDatum?.radius??p.size??0,phase:a}),toFn:(p,m)=>({size:m.radius??0})}}}function HD(t,e){return{startAngle:e.startAngle,endAngle:e.endAngle,innerRadius:e.innerRadius,outerRadius:e.outerRadius,fill:e.sectorFormat.fill,stroke:e.sectorFormat.stroke}}function $D(t,e){let i=e.y-t.centerY,n=e.x-t.centerX,r=Math.atan2(i,n),o=t.getItemNodes();for(let s of o)if(s.datum.missing!==!0&&Hs(r,s.startAngle,s.endAngle)){let a=Math.sqrt(n*n+i*i),l=0;return a<s.innerRadius?l=s.innerRadius-a:a>s.outerRadius&&(l=a-s.outerRadius),{datum:s.datum,distance:l}}}var ny=class extends QM{constructor(o){var s=o,{useLabelLayer:t=!1,pickModes:e=[3,0],canHaveAxes:i=!1,animationResetFns:n}=s,r=pt(s,["useLabelLayer","pickModes","canHaveAxes","animationResetFns"]);super(L(C({},r),{useLabelLayer:t,pickModes:e,contentGroupVirtual:!1,directionKeys:{x:["angleKey"],y:["radiusKey"]},directionNames:{x:["angleName"],y:["radiusName"]},canHaveAxes:i})),this.itemGroup=this.contentGroup.appendChild(new fe),this.nodeData=[],this.itemSelection=At.select(this.itemGroup,()=>this.nodeFactory(),!1),this.labelSelection=At.select(this.labelGroup,()=>this.labelFactory(),!1),this.highlightSelection=At.select(this.highlightGroup,()=>this.nodeFactory()),this.highlightLabelSelection=At.select(this.highlightLabel,()=>this.labelFactory()),this.centerX=0,this.centerY=0,this.radius=0,this.itemGroup.zIndexSubOrder=[()=>this._declarationOrder,1],this.animationResetFns=n,this.animationState=new Rh("empty",{empty:{update:{target:"ready",action:a=>this.animateEmptyUpdateReady(a)},reset:"empty",skip:"ready"},ready:{updateData:"waiting",clear:"clearing",highlight:a=>this.animateReadyHighlight(a),highlightMarkers:a=>this.animateReadyHighlightMarkers(a),resize:a=>this.animateReadyResize(a),reset:"empty",skip:"ready"},waiting:{update:{target:"ready",action:a=>this.animateWaitingUpdateReady(a)},reset:"empty",skip:"ready"},clearing:{update:{target:"empty",action:a=>this.animateClearingUpdateEmpty(a)},reset:"empty",skip:"ready"}},()=>this.checkProcessedDataAnimatable())}getItemNodes(){return this.itemGroup.children}getNodeData(){return this.nodeData}resetAnimation(t){t==="initial"?this.animationState.transition("reset"):t==="ready"&&this.animationState.transition("skip")}labelFactory(){let t=new _t;return t.pointerEvents=1,t}getInnerRadius(){return 0}getLabelData(){return[]}computeLabelsBBox(t,e){return null}resetAllAnimation(){let{item:t,label:e}=this.animationResetFns??{};this.ctx.animationManager.stopByAnimationGroupId(this.id),t&&Kt([this.itemSelection,this.highlightSelection],t),e&&Kt([this.labelSelection,this.highlightLabelSelection],e),this.itemSelection.cleanup(),this.labelSelection.cleanup(),this.highlightSelection.cleanup(),this.highlightLabelSelection.cleanup()}animateEmptyUpdateReady(t){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation()}animateWaitingUpdateReady(t){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation()}animateReadyHighlight(t){let{item:e,label:i}=this.animationResetFns??{};e&&Kt([this.highlightSelection],e),i&&Kt([this.highlightLabelSelection],i)}animateReadyHighlightMarkers(t){}animateReadyResize(t){this.resetAllAnimation()}animateClearingUpdateEmpty(t){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation()}animationTransitionClear(){this.animationState.transition("clear",this.getAnimationData())}getAnimationData(t){return{seriesRect:t}}computeFocusBounds(t){let e=this.getNodeData()?.[t.datumIndex];if(e!==void 0)return this.itemSelection.select(i=>i instanceof ki&&i.datum===e)[0]}},B6=class extends Bh{constructor(t,e,i,n){super(t,e,i,n),this.angleKey=n.properties.angleKey,this.radiusKey=n.properties.radiusKey,this.calloutLabelKey=n.properties.calloutLabelKey,this.sectorLabelKey=n.properties.sectorLabelKey}},WD=class extends ny{constructor(t){super({moduleCtx:t,pickModes:[3,0],useLabelLayer:!0,animationResetFns:{item:HD,label:ss}}),this.properties=new Ge,this.phantomNodeData=void 0,this.previousRadiusScale=new jr,this.radiusScale=new jr,this.phantomGroup=this.contentGroup.appendChild(new fe),this.phantomSelection=At.select(this.phantomGroup,()=>this.nodeFactory(),!1),this.calloutLabelGroup=this.contentGroup.appendChild(new fe({name:"pieCalloutLabels"})),this.calloutLabelSelection=new At(this.calloutLabelGroup,fe),this.backgroundGroup=this.rootGroup.appendChild(new fe({name:`${this.id}-background`,layer:!0,zIndex:0})),this.zerosumRingsGroup=this.backgroundGroup.appendChild(new fe({name:`${this.id}-zerosumRings`})),this.zerosumOuterRing=this.zerosumRingsGroup.appendChild(new Ks),this.zerosumInnerRing=this.zerosumRingsGroup.appendChild(new Ks),this.innerLabelsGroup=this.contentGroup.appendChild(new fe({name:"innerLabels"})),this.innerCircleGroup=this.backgroundGroup.appendChild(new fe({name:`${this.id}-innerCircle`})),this.innerLabelsSelection=At.select(this.innerLabelsGroup,_t),this.innerCircleSelection=At.select(this.innerCircleGroup,Ks),this.seriesItemEnabled=[],this.surroundingRadius=void 0,this.NodeEvent=B6,this.angleScale=new jr,this.angleScale.domain=[0,1],this.angleScale.range=[-Math.PI,Math.PI].map(e=>e+Math.PI/2),this.phantomGroup.opacity=.2,this.phantomGroup.zIndexSubOrder=[()=>this._declarationOrder,0]}get calloutNodeData(){return this.phantomNodeData??this.nodeData}addChartEventListeners(){this.destroyFns.push(this.ctx.chartEventManager?.addListener("legend-item-click",t=>this.onLegendItemClick(t)))}get visible(){return super.visible&&(this.seriesItemEnabled.length===0||this.seriesItemEnabled.some(t=>t))}nodeFactory(){return new Di}getSeriesDomain(t){return t==="x"?this.angleScale.domain:this.radiusScale.domain}processData(t){return j(this,null,function*(){if(this.data==null||!this.properties.isValid())return;let{data:e}=this,{visible:i,seriesItemEnabled:n}=this,{angleKey:r,angleFilterKey:o,radiusKey:s,calloutLabelKey:a,sectorLabelKey:l,legendItemKey:c}=this.properties,d=!this.ctx.animationManager.isSkipped(),u=[],h=[];c?u.push(_i(c,"band",{id:"legendItemKey"})):a?u.push(_i(a,"band",{id:"calloutLabelKey"})):l&&u.push(_i(l,"band",{id:"sectorLabelKey"}));let f=this.radiusScale.type,p=this.radiusScale.type;s&&h.push(HM(s,{id:"radiusValue",min:this.properties.radiusMin??0,max:this.properties.radiusMax}),Xe(s,f,{id:"radiusRaw"}),fl("radiusValue",[0,1],1,this.properties.radiusMin??0,this.properties.radiusMax)),a&&h.push(Xe(a,"band",{id:"calloutLabelValue"})),l&&h.push(Xe(l,"band",{id:"sectorLabelValue"})),c&&h.push(Xe(c,"band",{id:"legendItemValue"})),o&&h.push(bh(o,p,{id:"angleFilterValue",onlyPositive:!0}),Xe(o,p,{id:"angleFilterRaw"}),fl("angleFilterValue",[0,1],0,0)),d&&this.processedData&&u.length>0&&h.push(Dl(this.processedData)),h.push(dd()),e=e.map((m,b)=>i&&n[b]?m:L(C({},m),{[r]:0})),yield this.requestDataModel(t,e,{props:[...u,bh(r,p,{id:"angleValue",onlyPositive:!0}),Xe(r,p,{id:"angleRaw"}),fl("angleValue",[0,1],0,0),...h]});for(let m of this.processedData?.defs?.values??[]){let{id:b,missing:g,property:v}=m,M=PM(this,g);b!=="angleRaw"&&M>0&&Y.warnOnce(`no value was found for the key '${String(v)}' on ${M} data element${M>1?"s":""}`)}this.animationState.transition("updateData")})}maybeRefreshNodeData(){return j(this,null,function*(){if(!this.nodeDataRefresh)return;let{nodeData:t=[],phantomNodeData:e}=(yield this.createNodeData())??{};this.nodeData=t,this.phantomNodeData=e,this.nodeDataRefresh=!1})}getProcessedDataIndexes(t){let e=t.resolveProcessedDataIndexById(this,"angleValue"),i=t.resolveProcessedDataIndexById(this,"angleRaw"),n=this.properties.angleFilterKey!=null?t.resolveProcessedDataIndexById(this,"angleFilterValue"):void 0,r=this.properties.angleFilterKey!=null?t.resolveProcessedDataIndexById(this,"angleFilterRaw"):void 0,o=this.properties.radiusKey?t.resolveProcessedDataIndexById(this,"radiusValue"):void 0,s=this.properties.radiusKey?t.resolveProcessedDataIndexById(this,"radiusRaw"):void 0,a=this.properties.calloutLabelKey?t.resolveProcessedDataIndexById(this,"calloutLabelValue"):void 0,l=this.properties.sectorLabelKey?t.resolveProcessedDataIndexById(this,"sectorLabelValue"):void 0,c=this.properties.legendItemKey?t.resolveProcessedDataIndexById(this,"legendItemValue"):void 0;return{angleIdx:e,angleRawIdx:i,angleFilterIdx:n,angleFilterRawIdx:r,radiusIdx:o,radiusRawIdx:s,calloutLabelIdx:a,sectorLabelIdx:l,legendItemIdx:c}}createNodeData(){return j(this,null,function*(){let{id:t,processedData:e,dataModel:i,angleScale:n}=this,{rotation:r,innerRadiusRatio:o}=this.properties;if(!this.properties.isValid())return this.zerosumOuterRing.visible=!0,this.zerosumInnerRing.visible=!0,{itemId:t,nodeData:[],labelData:[]};if(!e||!i||e.type!=="ungrouped")return;let{angleIdx:s,angleRawIdx:a,angleFilterIdx:l,angleFilterRawIdx:c,radiusIdx:d,radiusRawIdx:u,calloutLabelIdx:h,sectorLabelIdx:f,legendItemIdx:p}=this.getProcessedDataIndexes(i),m=c!=null&&e.data.some(({values:w})=>w[c]>w[a]),b=0,g=0,v=[],M=c!=null?[]:void 0;return e.data.forEach((w,I)=>{let{datum:D,values:_}=w,S=m?_[l]:_[s],E=c!=null&&!m?Math.sqrt(_[c]/_[a]):1,T=n.convert(b)+Wi(r);b=S,g+=S;let k=n.convert(b)+Wi(r),P=Math.abs(k-T),Z=T+P/2,ne=_[a],R=(d!=null?_[d]??1:1)*E,A=u!=null?_[u]:void 0,B=p!=null?_[p]:void 0,ee=this.getLabels(D,Z,P,!0,h!=null?_[h]:void 0,f!=null?_[f]:void 0,B),O=this.getSectorFormat(D,I,!1),oe=C({itemId:I,series:this,datum:D,index:I,angleValue:ne,midAngle:Z,midCos:Math.cos(Z),midSin:Math.sin(Z),startAngle:T,endAngle:k,radius:R,innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(R),0),sectorFormat:O,radiusValue:A,legendItemValue:B,enabled:this.seriesItemEnabled[I],focusable:!0},ee);v.push(oe),M?.push(L(C({},oe),{radius:1,innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(1),0),focusable:!1}))}),this.zerosumOuterRing.visible=g===0,this.zerosumInnerRing.visible=g===0&&o!=null&&o!==1&&o>0,{itemId:t,nodeData:v,labelData:v,phantomNodeData:M}})}getLabels(t,e,i,n,r,o,s){let{calloutLabel:a,sectorLabel:l,legendItemKey:c}=this.properties,d=!n||a.enabled?this.properties.calloutLabelKey:void 0,u=!n||l.enabled?this.properties.sectorLabelKey:void 0;if(!d&&!u&&!c)return{};let h={datum:t,angleKey:this.properties.angleKey,angleName:this.properties.angleName,radiusKey:this.properties.radiusKey,radiusName:this.properties.radiusName,calloutLabelKey:this.properties.calloutLabelKey,calloutLabelName:this.properties.calloutLabelName,sectorLabelKey:this.properties.sectorLabelKey,sectorLabelName:this.properties.sectorLabelName,legendItemKey:this.properties.legendItemKey},f={};return d&&i>Wi(a.minAngle)&&(f.calloutLabel=L(C({},this.getTextAlignment(e)),{text:this.getLabelText(a,L(C({},h),{value:r})),hidden:!1,collisionTextAlign:void 0,collisionOffsetY:0,box:void 0})),u&&(f.sectorLabel={text:this.getLabelText(l,L(C({},h),{value:o}))}),c!=null&&s!=null&&(f.legendItem={key:c,text:s}),f}getTextAlignment(t){let e=[{textAlign:"center",textBaseline:"bottom"},{textAlign:"left",textBaseline:"middle"},{textAlign:"center",textBaseline:"hanging"},{textAlign:"right",textBaseline:"middle"}],i=mh(t),n=-.75*Math.PI,r=i-n,o=Math.floor(r/(Math.PI/2)),s=Ng(o,e.length);return e[s]}getSectorFormat(t,e,i){let{callbackCache:n}=this.ctx,{angleKey:r,radiusKey:o,calloutLabelKey:s,sectorLabelKey:a,legendItemKey:l,fills:c,strokes:d,itemStyler:u}=this.properties,h=d[e%d.length],{fill:f,fillOpacity:p,stroke:m,strokeWidth:b,strokeOpacity:g,lineDash:v,lineDashOffset:M,cornerRadius:w}=Be(i&&this.properties.highlightStyle.item,{fill:c.length>0?c[e%c.length]:void 0,stroke:h,strokeWidth:this.getStrokeWidth(this.properties.strokeWidth),strokeOpacity:this.getOpacity()},this.properties),I;return u&&(I=n.call(u,{datum:t,angleKey:r,radiusKey:o,calloutLabelKey:s,sectorLabelKey:a,legendItemKey:l,fill:f,fillOpacity:p,stroke:m,strokeWidth:b,strokeOpacity:g,lineDash:v,lineDashOffset:M,cornerRadius:w,highlighted:i,seriesId:this.id})),{fill:I?.fill??f,fillOpacity:I?.fillOpacity??p,stroke:I?.stroke??m,strokeWidth:I?.strokeWidth??b,strokeOpacity:I?.strokeOpacity??g,lineDash:I?.lineDash??v,lineDashOffset:I?.lineDashOffset??M,cornerRadius:I?.cornerRadius??w}}getInnerRadius(){let{radius:t}=this,{innerRadiusRatio:e=1,innerRadiusOffset:i=0}=this.properties,n=t*e+i;return n===t||n<0?0:n}getOuterRadius(){let{outerRadiusRatio:t,outerRadiusOffset:e}=this.properties;return Math.max(this.radius*t+e,0)}updateRadiusScale(t){let e=[this.getInnerRadius(),this.getOuterRadius()];this.radiusScale.range=e,t&&(this.previousRadiusScale.range=e);let i=n=>L(C({},n),{innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(n.radius),0)});this.nodeData=this.nodeData.map(i),this.phantomNodeData=this.phantomNodeData?.map(i)}getTitleTranslationY(){let t=Math.max(0,this.radiusScale.range[1]);if(t===0)return NaN;let i=2+(this.properties.title?.spacing??0),n=Math.max(0,-t);return-t-i-n}update(e){return j(this,arguments,function*({seriesRect:t}){let{title:i}=this.properties,n={seriesRectWidth:t?.width,seriesRectHeight:t?.height},r=Tn(this.nodeDataDependencies,n)!=null;if(r&&(this._nodeDataDependencies=n),yield this.maybeRefreshNodeData(),this.updateTitleNodes(),this.updateRadiusScale(r),this.contentGroup.translationX=this.centerX,this.contentGroup.translationY=this.centerY,this.highlightGroup.translationX=this.centerX,this.highlightGroup.translationY=this.centerY,this.backgroundGroup.translationX=this.centerX,this.backgroundGroup.translationY=this.centerY,this.labelGroup&&(this.labelGroup.translationX=this.centerX,this.labelGroup.translationY=this.centerY),i){let o=this.getTitleTranslationY(),s=i.node.getBBox();i.node.visible=i.enabled&&isFinite(o)&&!this.bboxIntersectsSurroundingSeries(s,0,o),i.node.translationY=isFinite(o)?o:0}for(let o of[this.zerosumInnerRing,this.zerosumOuterRing])o.fillOpacity=0,o.stroke=this.properties.calloutLabel.color,o.strokeWidth=1,o.strokeOpacity=1;this.updateNodeMidPoint(),yield this.updateSelections(),yield this.updateNodes(t)})}updateTitleNodes(){let{oldTitle:t}=this,{title:e}=this.properties;t!==e&&(t&&this.labelGroup?.removeChild(t.node),e&&(e.node.textBaseline="bottom",this.labelGroup?.appendChild(e.node)),this.oldTitle=e)}updateNodeMidPoint(){let t=e=>{let i=e.innerRadius+(e.outerRadius-e.innerRadius)/2;e.midPoint={x:e.midCos*Math.max(0,i),y:e.midSin*Math.max(0,i)}};this.nodeData.forEach(t),this.phantomNodeData?.forEach(t)}updateSelections(){return j(this,null,function*(){yield this.updateGroupSelection(),this.updateInnerCircleSelection()})}updateGroupSelection(){return j(this,null,function*(){let{itemSelection:t,highlightSelection:e,phantomSelection:i,highlightLabelSelection:n,calloutLabelSelection:r,labelSelection:o,innerLabelsSelection:s}=this,a=this.nodeData.map(c=>L(C({},c),{sectorFormat:C({},c.sectorFormat)})),l=(c,d)=>{c.update(d,void 0,u=>this.getDatumId(u)),this.ctx.animationManager.isSkipped()&&c.cleanup()};l(t,this.nodeData),l(e,a),l(i,this.phantomNodeData??[]),r.update(this.calloutNodeData,c=>{let d=new di;d.tag=0,d.pointerEvents=1,c.appendChild(d);let u=new _t;u.tag=1,u.pointerEvents=1,c.appendChild(u)}),o.update(this.nodeData),n.update(a),s.update(this.properties.innerLabels,c=>{c.pointerEvents=1})})}updateInnerCircleSelection(){let{innerCircle:t}=this.properties,e=0,i=this.getInnerRadius();if(i>0){let r=Math.min(i,this.getOuterRadius());e=Math.ceil(r*2+1)}let n=t?[{radius:e}]:[];this.innerCircleSelection.update(n)}updateNodes(t){return j(this,null,function*(){let e=this.ctx.highlightManager.getActiveHighlight(),i=this.visible&&this.seriesItemEnabled.indexOf(!0)>=0;this.rootGroup.visible=i,this.backgroundGroup.visible=i,this.contentGroup.visible=i,this.highlightGroup.visible=i&&e?.series===this,this.highlightLabel.visible=i&&e?.series===this,this.labelGroup&&(this.labelGroup.visible=i),this.contentGroup.opacity=this.getOpacity(),this.innerCircleSelection.each((o,{radius:s})=>{o.setProperties({fill:this.properties.innerCircle?.fill,opacity:this.properties.innerCircle?.fillOpacity,size:s})});let n=this.ctx.animationManager.isSkipped(),r=(o,s,a,l)=>{let c=this.getSectorFormat(s.datum,s.itemId,l);s.sectorFormat.fill=c.fill,s.sectorFormat.stroke=c.stroke,n&&(o.startAngle=s.startAngle,o.endAngle=s.endAngle,o.innerRadius=s.innerRadius,o.outerRadius=s.outerRadius),(l||n)&&(o.fill=c.fill,o.stroke=c.stroke),o.strokeWidth=c.strokeWidth,o.fillOpacity=c.fillOpacity,o.strokeOpacity=c.strokeOpacity,o.lineDash=c.lineDash,o.lineDashOffset=c.lineDashOffset,o.cornerRadius=c.cornerRadius,o.fillShadow=this.properties.shadow;let d=Math.max((this.properties.sectorSpacing+(c.stroke!=null?c.strokeWidth:0))/2,0);o.inset=d,o.lineJoin=this.properties.sectorSpacing>=0||d>0?"miter":"round"};this.itemSelection.each((o,s,a)=>r(o,s,a,!1)),this.highlightSelection.each((o,s,a)=>{s.itemId===e?.itemId?(o.visible=!0,r(o,s,a,!0)):o.visible=!1}),this.phantomSelection.each((o,s,a)=>r(o,s,a,!1)),this.updateCalloutLineNodes(),this.updateCalloutLabelNodes(t),this.updateSectorLabelNodes(),this.updateInnerLabelNodes(),this.updateZerosumRings(),this.animationState.transition("update")})}updateCalloutLineNodes(){let{calloutLine:t}=this.properties,e=t.length,i=t.strokeWidth,n=t.colors??this.properties.strokes,{offset:r}=this.properties.calloutLabel;this.calloutLabelSelection.selectByTag(0).forEach((o,s)=>{let a=o.datum,{calloutLabel:l,outerRadius:c}=a;if(l?.text&&!l.hidden&&c!==0){o.visible=!0,o.strokeWidth=i,o.stroke=n[s%n.length],o.fill=void 0;let d=a.midCos*c,u=a.midSin*c,h=a.midCos*(c+e),f=a.midSin*(c+e);if((l.collisionTextAlign??l.collisionOffsetY!==0)&&l.box!=null){let m=l.box,b=h,g=f;h<m.x?b=m.x:h>m.x+m.width&&(b=m.x+m.width),f<m.y?g=m.y:f>m.y+m.height&&(g=m.y+m.height);let v=b-h,M=g-f,w=Math.sqrt(Math.pow(v,2)+Math.pow(M,2)),I=w-r;I>0&&(h=h+v*I/w,f=f+M*I/w)}o.x1=d,o.y1=u,o.x2=h,o.y2=f}else o.visible=!1})}getLabelOverflow(t,e,i){let n=i.x-this.centerX,r=i.x+i.width-this.centerX,o=i.y-this.centerY,s=i.y+i.height-this.centerY,a=1,l=1;e.x+a<n?l=(e.x+e.width-n)/e.width:e.x+e.width-a>r&&(l=(r-e.x)/e.width);let c=e.y+a<o||e.y+e.height-a>s,d=l===1?t.length:Math.floor(t.length*l)-1,u=this.bboxIntersectsSurroundingSeries(e);return{textLength:d,hasVerticalOverflow:c,hasSurroundingSeriesOverflow:u}}bboxIntersectsSurroundingSeries(t,e=0,i=0){let{surroundingRadius:n}=this;if(n==null)return!1;let r=[{x:t.x+e,y:t.y+i},{x:t.x+t.width+e,y:t.y+i},{x:t.x+t.width+e,y:t.y+t.height+i},{x:t.x+e,y:t.y+t.height+i}],o=n**2;return r.some(s=>s.x**2+s.y**2>o)}computeCalloutLabelCollisionOffsets(){let{radiusScale:t}=this,{calloutLabel:e,calloutLine:i}=this.properties,{offset:n,minSpacing:r}=e,o=t.convert(0),s=g=>!g.calloutLabel||g.outerRadius===0,a=this.calloutNodeData,l=a.filter(g=>!s(g));if(l.forEach(g=>{let v=g.calloutLabel;v!=null&&(v.hidden=!1,v.collisionTextAlign=void 0,v.collisionOffsetY=0)}),l.length<=1)return;let c=l.filter(g=>g.midCos<0).sort((g,v)=>g.midSin-v.midSin),d=l.filter(g=>g.midCos>=0).sort((g,v)=>g.midSin-v.midSin),u=l.filter(g=>g.midSin<0&&g.calloutLabel?.textAlign==="center").sort((g,v)=>g.midCos-v.midCos),h=l.filter(g=>g.midSin>=0&&g.calloutLabel?.textAlign==="center").sort((g,v)=>g.midCos-v.midCos),f=g=>{let v=g.calloutLabel;if(v==null)return se.zero.clone();let M=g.outerRadius+i.length+n,w=g.midCos*M,I=g.midSin*M+v.collisionOffsetY,D=v.collisionTextAlign??v.textAlign,_=v.textBaseline;return _t.computeBBox(v.text,w,I,{font:this.properties.calloutLabel,textAlign:D,textBaseline:_})},p=(g,v,M)=>{let w=f(g).grow(r/2),I=f(v).grow(r/2);if(w.x<I.x+I.width&&w.x+w.width>I.x&&(M==="to-top"?w.y<I.y+I.height:w.y+w.height>I.y)){let _=M==="to-top"?w.y-I.y-I.height:w.y+w.height-I.y;v.calloutLabel.collisionOffsetY=_}},m=g=>{let v=g.slice().sort((w,I)=>Math.abs(w.midSin)-Math.abs(I.midSin))[0],M=g.indexOf(v);for(let w=M-1;w>=0;w--){let I=g[w+1],D=g[w];p(I,D,"to-top")}for(let w=M+1;w<g.length;w++){let I=g[w-1],D=g[w];p(I,D,"to-bottom")}},b=g=>{let v=l.some(S=>S.calloutLabel.collisionOffsetY!==0),M=g.map(S=>f(S)),w=M.map(S=>S.clone().grow(r/2)),I=!1;for(let S=0;S<w.length&&!I;S++){let E=w[S];for(let T=S+1;T<g.length;T++){let k=w[T];if(E.collidesBBox(k)){I=!0;break}}}let D=a.map(S=>{let{startAngle:E,endAngle:T,outerRadius:k}=S;return{startAngle:E,endAngle:T,innerRadius:o,outerRadius:k}}),_=M.some(S=>D.some(E=>hP(S,E)));!I&&!v&&!_||g.filter(S=>S.calloutLabel.textAlign==="center").forEach(S=>{let E=S.calloutLabel;S.midCos<0?E.collisionTextAlign="right":S.midCos>0?E.collisionTextAlign="left":E.collisionTextAlign="center"})};m(c),m(d),b(u),b(h)}updateCalloutLabelNodes(t){let{radiusScale:e}=this,{calloutLabel:i,calloutLine:n}=this.properties,r=n.length,{offset:o,color:s}=i,a=new _t;this.calloutLabelSelection.selectByTag(1).forEach(l=>{let{datum:c}=l,d=c.calloutLabel,u=e.convert(c.radius),h=Math.max(0,u);if(!d?.text||h===0||d.hidden){l.visible=!1;return}let f=h+r+o,p=c.midCos*f,m=c.midSin*f+d.collisionOffsetY,b={textAlign:d.collisionTextAlign??d.textAlign,textBaseline:d.textBaseline};a.text=d.text,a.x=p,a.y=m,a.setFont(this.properties.calloutLabel),a.setAlign(b);let g=a.getBBox(),v=d.text,M=!0;if(i.avoidCollisions){let{textLength:w,hasVerticalOverflow:I}=this.getLabelOverflow(d.text,g,t);v=d.text.length===w?d.text:`${d.text.substring(0,w)}\u2026`,M=!I}l.text=v,l.x=p,l.y=m,l.setFont(this.properties.calloutLabel),l.setAlign(b),l.fill=s,l.visible=M})}computeLabelsBBox(t,e){return j(this,null,function*(){let{calloutLabel:i,calloutLine:n}=this.properties,r=n.length,{offset:o,maxCollisionOffset:s,minSpacing:a}=i;if(!i.avoidCollisions)return null;yield this.maybeRefreshNodeData(),this.updateRadiusScale(!1),this.computeCalloutLabelCollisionOffsets();let l=[],c=new _t,d,{title:u}=this.properties;if(u?.text&&u.enabled){let h=this.getTitleTranslationY();isFinite(h)&&(c.text=u.text,c.x=0,c.y=h,c.setFont(u),c.setAlign({textBaseline:"bottom",textAlign:"center"}),d=c.getBBox(),l.push(d))}return this.calloutNodeData.forEach(h=>{let f=h.calloutLabel;if(!f||h.outerRadius===0)return null;let p=h.outerRadius+r+o,m=h.midCos*p,b=h.midSin*p+f.collisionOffsetY;c.text=f.text,c.x=m,c.y=b,c.setFont(this.properties.calloutLabel),c.setAlign({textAlign:f.collisionTextAlign??f.textAlign,textBaseline:f.textBaseline});let g=c.getBBox();if(f.box=g,Math.abs(f.collisionOffsetY)>s){f.hidden=!0;return}if(d){let v=e.y-this.centerY,M=new se(d.x-a,v,d.width+2*a,d.y+d.height+a-v);if(g.collidesBBox(M)){f.hidden=!0;return}}if(t.hideWhenNecessary){let{textLength:v,hasVerticalOverflow:M,hasSurroundingSeriesOverflow:w}=this.getLabelOverflow(f.text,g,e),I=f.text.length>2&&v<2;if(M||I||w){f.hidden=!0;return}}f.hidden=!1,l.push(g)}),l.length===0?null:se.merge(l)})}updateSectorLabelNodes(){let{radiusScale:t}=this,e=t.convert(0),{fontSize:i,fontStyle:n,fontWeight:r,fontFamily:o,positionOffset:s,positionRatio:a,color:l}=this.properties.sectorLabel,c=(d,u)=>{let{sectorLabel:h,outerRadius:f}=u,p=!1;if(h&&f!==0){let m=e*(1-a)+f*a+s;d.fill=l,d.fontStyle=n,d.fontWeight=r,d.fontSize=i,d.fontFamily=o,d.text=h.text,d.x=u.midCos*m,d.y=u.midSin*m,d.textAlign="center",d.textBaseline="middle";let b=d.getBBox(),g=[[b.x,b.y],[b.x+b.width,b.y],[b.x+b.width,b.y+b.height],[b.x,b.y+b.height]],{startAngle:v,endAngle:M}=u,w={startAngle:v,endAngle:M,innerRadius:e,outerRadius:f};g.every(([I,D])=>Sg(I,D,w))&&(p=!0)}d.visible=p};this.labelSelection.each(c),this.highlightLabelSelection.each(c)}updateInnerLabelNodes(){let t=[],e=[];this.innerLabelsSelection.each((d,u)=>{let{fontStyle:h,fontWeight:f,fontSize:p,fontFamily:m,color:b}=u;d.fontStyle=h,d.fontWeight=f,d.fontSize=p,d.fontFamily=m,d.text=u.text,d.x=0,d.y=0,d.fill=b,d.textAlign="center",d.textBaseline="alphabetic",t.push(d.getBBox()),e.push(u.spacing)});let i=d=>d===0?0:e[d],n=d=>d===e.length-1?0:e[d],r=t.reduce((d,u,h)=>d+u.height+i(h)+n(h),0),o=Math.max(...t.map(d=>d.width)),s=this.getInnerRadius(),l=Math.sqrt(Math.pow(o/2,2)+Math.pow(r/2,2))<=(s>0?s:this.getOuterRadius()),c=[];for(let d=0,u=-r/2;d<t.length;d++){let f=t[d].height+u+i(d);c.push(f),u=f+n(d)}this.innerLabelsSelection.each((d,u,h)=>{d.y=c[h],d.visible=l})}updateZerosumRings(){this.zerosumOuterRing.size=this.getOuterRadius()*2,this.zerosumInnerRing.size=this.getInnerRadius()*2}getDatumLegendName(t){let{angleKey:e,calloutLabelKey:i,sectorLabelKey:n,legendItemKey:r}=this.properties,{sectorLabel:o,calloutLabel:s,legendItem:a}=t;if(r&&a!==void 0)return a.text;if(i&&i!==e&&s?.text!==void 0)return s.text;if(n&&n!==e&&o?.text!==void 0)return o.text}pickNodeClosestDatum(t){return $D(this,t)}getTooltipHtml(t){if(!this.properties.isValid())return is;let{datum:e,angleValue:i,sectorFormat:{fill:n},itemId:r}=t,o=Tt(this.properties.title?.text),s=We(i)?Ag(i):String(i),a=this.getDatumLegendName(t);return this.properties.tooltip.toTooltipHtml({title:o??a,content:o&&a?`${a}: ${s}`:s,backgroundColor:n},{datum:e,itemId:r,title:o,color:n,seriesId:this.id,angleKey:this.properties.angleKey,angleName:this.properties.angleName,radiusKey:this.properties.radiusKey,radiusName:this.properties.radiusName,calloutLabelKey:this.properties.calloutLabelKey,calloutLabelName:this.properties.calloutLabelName,sectorLabelKey:this.properties.sectorLabelKey,sectorLabelName:this.properties.sectorLabelName,legendItemKey:this.properties.legendItemKey})}getLegendData(t){let{visible:e,processedData:i,dataModel:n}=this;if(!n||!i?.data.length||!this.properties.isValid()||t!=="category")return[];let{angleKey:r,calloutLabelKey:o,sectorLabelKey:s,legendItemKey:a}=this.properties;if(!a&&(!o||o===r)&&(!s||s===r))return[];let{calloutLabelIdx:l,sectorLabelIdx:c,legendItemIdx:d}=this.getProcessedDataIndexes(n),u=this.properties.title?.showInLegend&&this.properties.title.text,h=[];for(let f=0;f<i.data.length;f++){let{datum:p,values:m}=i.data[f],b=[];u&&b.push(u);let g=this.getLabels(p,2*Math.PI,2*Math.PI,!1,l!=null?m[l]:void 0,c!=null?m[c]:void 0,d!=null?m[d]:void 0);if(a&&g.legendItem!==void 0?b.push(g.legendItem.text):o&&o!==r&&g.calloutLabel?.text!==void 0?b.push(g.calloutLabel?.text):s&&s!==r&&g.sectorLabel?.text!==void 0&&b.push(g.sectorLabel?.text),b.length===0)continue;let v=this.getSectorFormat(p,f,!1);h.push({legendType:"category",id:this.id,itemId:f,seriesId:this.id,enabled:e&&this.seriesItemEnabled[f],label:{text:b.join(" - ")},symbols:[{marker:{fill:v.fill,stroke:v.stroke,fillOpacity:this.properties.fillOpacity,strokeOpacity:this.properties.strokeOpacity,strokeWidth:this.properties.strokeWidth}}],legendItemName:a!=null?p[a]:void 0})}return h}onLegendItemClick(t){let{enabled:e,itemId:i,series:n,legendItemName:r}=t;n.id===this.id?this.toggleSeriesItem(i,e):r!=null&&this.toggleOtherSeriesItems(r,e)}toggleSeriesItem(t,e){this.seriesItemEnabled[t]=e,this.nodeData[t]&&(this.nodeData[t].enabled=e),this.nodeDataRefresh=!0}toggleOtherSeriesItems(t,e){if(!this.properties.legendItemKey||!this.dataModel)return;let i=this.dataModel.resolveProcessedDataIndexById(this,"legendItemValue");this.processedData?.data.forEach(({values:n},r)=>{n[i]===t&&this.toggleSeriesItem(r,e)})}animateEmptyUpdateReady(t){let{animationManager:e}=this.ctx,i=gl(!0,this.properties.rotation,this.radiusScale,this.previousRadiusScale);Vt(this.id,"nodes",e,[this.itemSelection,this.highlightSelection,this.phantomSelection],i.nodes,(n,r)=>this.getDatumId(r)),Vt(this.id,"innerCircle",e,[this.innerCircleSelection],i.innerCircle),Ke(this,"callout",e,this.calloutLabelSelection),Ke(this,"sector",e,this.labelSelection),Ke(this,"highlight",e,this.highlightLabelSelection),Ke(this,"inner",e,this.innerLabelsSelection),this.previousRadiusScale.range=this.radiusScale.range}animateWaitingUpdateReady(){let{itemSelection:t,highlightSelection:e,phantomSelection:i,processedData:n,radiusScale:r,previousRadiusScale:o}=this,{animationManager:s}=this.ctx,a=n?.reduced?.diff;this.ctx.animationManager.stopByAnimationGroupId(this.id);let l=(a?.moved.size??0)===0,c=(n?.defs.keys.length??0)>0,d=n?.reduced?.animationValidation?.uniqueKeys??!0;(!l||!c||!d)&&this.ctx.animationManager.skipCurrentBatch();let u=gl(!1,this.properties.rotation,r,o);Vt(this.id,"nodes",s,[t,e,i],u.nodes,(h,f)=>this.getDatumId(f),a),Vt(this.id,"innerCircle",s,[this.innerCircleSelection],u.innerCircle),Ke(this,"callout",this.ctx.animationManager,this.calloutLabelSelection),Ke(this,"sector",this.ctx.animationManager,this.labelSelection),Ke(this,"highlight",this.ctx.animationManager,this.highlightLabelSelection),Ke(this,"inner",this.ctx.animationManager,this.innerLabelsSelection),this.previousRadiusScale.range=this.radiusScale.range}animateClearingUpdateEmpty(){let{itemSelection:t,highlightSelection:e,phantomSelection:i,radiusScale:n,previousRadiusScale:r}=this,{animationManager:o}=this.ctx,s=gl(!1,this.properties.rotation,n,r);Vt(this.id,"nodes",o,[t,e,i],s.nodes,(a,l)=>this.getDatumId(l)),Vt(this.id,"innerCircle",o,[this.innerCircleSelection],s.innerCircle),$s(this,"callout",this.ctx.animationManager,this.calloutLabelSelection),$s(this,"sector",this.ctx.animationManager,this.labelSelection),$s(this,"highlight",this.ctx.animationManager,this.highlightLabelSelection),$s(this,"inner",this.ctx.animationManager,this.innerLabelsSelection),this.previousRadiusScale.range=this.radiusScale.range}getDatumIdFromData(t){let{calloutLabelKey:e,sectorLabelKey:i,legendItemKey:n}=this.properties;if(this.processedData?.reduced?.animationValidation?.uniqueKeys){if(n)return t[n];if(e)return t[e];if(i)return t[i]}}getDatumId(t){let{index:e}=t,i=this.getDatumIdFromData(t.datum);return i!=null?String(i):`${e}`}onDataChange(){let{data:t,seriesItemEnabled:e}=this;this.seriesItemEnabled=t?.map((i,n)=>e[n]??!0)??[]}};WD.className="DonutSeries";WD.type="donut";var z6={series:{title:{enabled:!0,fontWeight:"normal",fontSize:14,fontFamily:zt,color:ml,spacing:5},calloutLabel:{enabled:!0,fontSize:12,fontFamily:zt,color:ci,offset:3,minAngle:0},sectorLabel:{enabled:!0,fontWeight:"normal",fontSize:12,fontFamily:zt,color:Tl,positionOffset:0,positionRatio:.5},calloutLine:{length:10,strokeWidth:2},fillOpacity:1,strokeOpacity:1,strokeWidth:0,lineDash:[0],lineDashOffset:0,rotation:0,sectorSpacing:1,shadow:{enabled:!1,color:Al,xOffset:3,yOffset:3,blur:5},innerLabels:{fontSize:12,fontFamily:zt,color:ci,spacing:2}}},V6={series:{title:{enabled:!0,fontWeight:"normal",fontSize:14,fontFamily:zt,color:ml,spacing:5},calloutLabel:{enabled:!0,fontSize:12,fontFamily:zt,color:ci,offset:3,minAngle:0},sectorLabel:{enabled:!0,fontWeight:"normal",fontSize:12,fontFamily:zt,color:Tl,positionOffset:0,positionRatio:.5},calloutLine:{length:10,strokeWidth:2},fillOpacity:1,strokeOpacity:1,strokeWidth:0,lineDash:[0],lineDashOffset:0,rotation:0,sectorSpacing:1,shadow:{enabled:!1,color:Al,xOffset:3,yOffset:3,blur:5}}},pP=({takeColors:t,colorsCount:e})=>{let{fills:i,strokes:n}=t(e);return{fills:i,strokes:n,calloutLine:{colors:n}}},U6={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["polar"],identifier:"donut",moduleFactory:t=>new WD(t),tooltipDefaults:{range:"exact"},themeTemplate:z6,paletteFactory:pP},mP=class extends Mt{constructor(){super(...arguments),this.showInLegend=!1}};y([x(ve)],mP.prototype,"showInLegend",2);var xd=class extends ni{constructor(){super(...arguments),this.offset=3,this.minAngle=0,this.minSpacing=4,this.maxCollisionOffset=50,this.avoidCollisions=!0}};y([x(K)],xd.prototype,"offset",2);y([x(ia)],xd.prototype,"minAngle",2);y([x(K)],xd.prototype,"minSpacing",2);y([x(K)],xd.prototype,"maxCollisionOffset",2);y([x(ve)],xd.prototype,"avoidCollisions",2);var YD=class extends ni{constructor(){super(...arguments),this.positionOffset=0,this.positionRatio=.5}};y([x(yt)],YD.prototype,"positionOffset",2);y([x(Je)],YD.prototype,"positionRatio",2);var ry=class extends Ne{constructor(){super(...arguments),this.length=10,this.strokeWidth=1}};y([x(dr,{optional:!0})],ry.prototype,"colors",2);y([x(K)],ry.prototype,"length",2);y([x(K)],ry.prototype,"strokeWidth",2);var et=class extends fr{constructor(){super(...arguments),this.fills=Object.values(Ti),this.strokes=Object.values(ao),this.fillOpacity=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.rotation=0,this.outerRadiusOffset=0,this.outerRadiusRatio=1,this.strokeWidth=1,this.sectorSpacing=0,this.title=new mP,this.shadow=new Vr,this.calloutLabel=new xd,this.sectorLabel=new YD,this.calloutLine=new ry,this.tooltip=new Ki}};y([x(Q)],et.prototype,"angleKey",2);y([x(Q,{optional:!0})],et.prototype,"angleName",2);y([x(Q,{optional:!0})],et.prototype,"angleFilterKey",2);y([x(Q,{optional:!0})],et.prototype,"radiusKey",2);y([x(Q,{optional:!0})],et.prototype,"radiusName",2);y([x(K,{optional:!0})],et.prototype,"radiusMin",2);y([x(K,{optional:!0})],et.prototype,"radiusMax",2);y([x(Q,{optional:!0})],et.prototype,"calloutLabelKey",2);y([x(Q,{optional:!0})],et.prototype,"calloutLabelName",2);y([x(Q,{optional:!0})],et.prototype,"sectorLabelKey",2);y([x(Q,{optional:!0})],et.prototype,"sectorLabelName",2);y([x(Q,{optional:!0})],et.prototype,"legendItemKey",2);y([x(dr)],et.prototype,"fills",2);y([x(dr)],et.prototype,"strokes",2);y([x(Je)],et.prototype,"fillOpacity",2);y([x(Je)],et.prototype,"strokeOpacity",2);y([x(es)],et.prototype,"lineDash",2);y([x(K)],et.prototype,"lineDashOffset",2);y([x(K)],et.prototype,"cornerRadius",2);y([x(hn,{optional:!0})],et.prototype,"itemStyler",2);y([x(ia)],et.prototype,"rotation",2);y([x(yt)],et.prototype,"outerRadiusOffset",2);y([x(Je)],et.prototype,"outerRadiusRatio",2);y([x(K)],et.prototype,"strokeWidth",2);y([x(yt)],et.prototype,"sectorSpacing",2);y([x(ae)],et.prototype,"title",2);y([x(ae)],et.prototype,"shadow",2);y([x(ae)],et.prototype,"calloutLabel",2);y([x(ae)],et.prototype,"sectorLabel",2);y([x(ae)],et.prototype,"calloutLine",2);y([x(ae)],et.prototype,"tooltip",2);var G6=class extends Bh{constructor(t,e,i,n){super(t,e,i,n),this.angleKey=n.properties.angleKey,this.radiusKey=n.properties.radiusKey,this.calloutLabelKey=n.properties.calloutLabelKey,this.sectorLabelKey=n.properties.sectorLabelKey}},ZD=class extends ny{constructor(t){super({moduleCtx:t,pickModes:[3,0],useLabelLayer:!0,animationResetFns:{item:HD,label:ss}}),this.properties=new et,this.phantomNodeData=void 0,this.previousRadiusScale=new jr,this.radiusScale=new jr,this.phantomGroup=this.contentGroup.appendChild(new fe),this.phantomSelection=At.select(this.phantomGroup,()=>this.nodeFactory(),!1),this.calloutLabelGroup=this.contentGroup.appendChild(new fe({name:"pieCalloutLabels"})),this.calloutLabelSelection=new At(this.calloutLabelGroup,fe),this.backgroundGroup=this.rootGroup.appendChild(new fe({name:`${this.id}-background`,layer:!0,zIndex:0})),this.zerosumRingsGroup=this.backgroundGroup.appendChild(new fe({name:`${this.id}-zerosumRings`})),this.zerosumOuterRing=this.zerosumRingsGroup.appendChild(new Ks),this.seriesItemEnabled=[],this.surroundingRadius=void 0,this.NodeEvent=G6,this.angleScale=new jr,this.angleScale.domain=[0,1],this.angleScale.range=[-Math.PI,Math.PI].map(e=>e+Math.PI/2),this.phantomGroup.opacity=.2,this.phantomGroup.zIndexSubOrder=[()=>this._declarationOrder,0]}get calloutNodeData(){return this.phantomNodeData??this.nodeData}addChartEventListeners(){this.destroyFns.push(this.ctx.chartEventManager?.addListener("legend-item-click",t=>this.onLegendItemClick(t)))}get visible(){return super.visible&&(this.seriesItemEnabled.length===0||this.seriesItemEnabled.some(t=>t))}nodeFactory(){let t=new Di;return t.miterLimit=1e9,t}getSeriesDomain(t){return t==="x"?this.angleScale.domain:this.radiusScale.domain}processData(t){return j(this,null,function*(){if(this.data==null||!this.properties.isValid())return;let{data:e}=this,{visible:i,seriesItemEnabled:n}=this,{angleKey:r,angleFilterKey:o,radiusKey:s,calloutLabelKey:a,sectorLabelKey:l,legendItemKey:c}=this.properties,d=!this.ctx.animationManager.isSkipped(),u=[],h=[];c?u.push(_i(c,"band",{id:"legendItemKey"})):a?u.push(_i(a,"band",{id:"calloutLabelKey"})):l&&u.push(_i(l,"band",{id:"sectorLabelKey"}));let f=this.radiusScale.type,p=this.radiusScale.type;s&&h.push(HM(s,{id:"radiusValue",min:this.properties.radiusMin??0,max:this.properties.radiusMax}),Xe(s,f,{id:"radiusRaw"}),fl("radiusValue",[0,1],1,this.properties.radiusMin??0,this.properties.radiusMax)),a&&h.push(Xe(a,"band",{id:"calloutLabelValue"})),l&&h.push(Xe(l,"band",{id:"sectorLabelValue"})),c&&h.push(Xe(c,"band",{id:"legendItemValue"})),o&&h.push(bh(o,p,{id:"angleFilterValue",onlyPositive:!0}),Xe(o,p,{id:"angleFilterRaw"}),fl("angleFilterValue",[0,1],0,0)),d&&this.processedData?.reduced?.animationValidation?.uniqueKeys&&u.length>0&&h.push(Dl(this.processedData)),h.push(dd()),e=e.map((m,b)=>i&&n[b]?m:L(C({},m),{[r]:0})),yield this.requestDataModel(t,e,{props:[...u,bh(r,p,{id:"angleValue",onlyPositive:!0}),Xe(r,p,{id:"angleRaw"}),fl("angleValue",[0,1],0,0),...h]});for(let m of this.processedData?.defs?.values??[]){let{id:b,missing:g,property:v}=m,M=PM(this,g);b!=="angleRaw"&&M>0&&Y.warnOnce(`no value was found for the key '${String(v)}' on ${M} data element${M>1?"s":""}`)}this.animationState.transition("updateData")})}maybeRefreshNodeData(){return j(this,null,function*(){if(!this.nodeDataRefresh)return;let{nodeData:t=[],phantomNodeData:e}=(yield this.createNodeData())??{};this.nodeData=t,this.phantomNodeData=e,this.nodeDataRefresh=!1})}getProcessedDataIndexes(t){let e=t.resolveProcessedDataIndexById(this,"angleValue"),i=t.resolveProcessedDataIndexById(this,"angleRaw"),n=this.properties.angleFilterKey!=null?t.resolveProcessedDataIndexById(this,"angleFilterValue"):void 0,r=this.properties.angleFilterKey!=null?t.resolveProcessedDataIndexById(this,"angleFilterRaw"):void 0,o=this.properties.radiusKey?t.resolveProcessedDataIndexById(this,"radiusValue"):void 0,s=this.properties.radiusKey?t.resolveProcessedDataIndexById(this,"radiusRaw"):void 0,a=this.properties.calloutLabelKey?t.resolveProcessedDataIndexById(this,"calloutLabelValue"):void 0,l=this.properties.sectorLabelKey?t.resolveProcessedDataIndexById(this,"sectorLabelValue"):void 0,c=this.properties.legendItemKey?t.resolveProcessedDataIndexById(this,"legendItemValue"):void 0;return{angleIdx:e,angleRawIdx:i,angleFilterIdx:n,angleFilterRawIdx:r,radiusIdx:o,radiusRawIdx:s,calloutLabelIdx:a,sectorLabelIdx:l,legendItemIdx:c}}createNodeData(){return j(this,null,function*(){let{id:t,processedData:e,dataModel:i,angleScale:n}=this,{rotation:r}=this.properties;if(!e||!i||e.type!=="ungrouped")return;let{angleIdx:o,angleRawIdx:s,angleFilterIdx:a,angleFilterRawIdx:l,radiusIdx:c,radiusRawIdx:d,calloutLabelIdx:u,sectorLabelIdx:h,legendItemIdx:f}=this.getProcessedDataIndexes(i),p=l!=null&&e.data.some(({values:M})=>M[l]>M[s]),m=0,b=0,g=[],v=l!=null?[]:void 0;return e.data.forEach((M,w)=>{let{datum:I,values:D}=M,_=p?D[a]:D[o],S=l!=null&&!p?Math.sqrt(D[l]/D[s]):1,E=n.convert(m)+Wi(r);m=_,b+=_;let T=n.convert(m)+Wi(r),k=Math.abs(T-E),P=E+k/2,Z=D[s],z=(c!=null?D[c]??1:1)*S,R=d!=null?D[d]:void 0,A=f!=null?D[f]:void 0,B=this.getLabels(I,P,k,!0,u!=null?D[u]:void 0,h!=null?D[h]:void 0,A),ee=this.getSectorFormat(I,w,!1),O=C({itemId:w,series:this,datum:I,index:w,angleValue:Z,midAngle:P,midCos:Math.cos(P),midSin:Math.sin(P),startAngle:E,endAngle:T,radius:z,innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(z),0),sectorFormat:ee,radiusValue:R,legendItemValue:A,enabled:this.seriesItemEnabled[w]},B);g.push(O),v?.push(L(C({},O),{radius:1,innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(1),0)}))}),this.zerosumOuterRing.visible=b===0,{itemId:t,nodeData:g,labelData:g,phantomNodeData:v}})}getLabels(t,e,i,n,r,o,s){let{calloutLabel:a,sectorLabel:l,legendItemKey:c}=this.properties,d=!n||a.enabled?this.properties.calloutLabelKey:void 0,u=!n||l.enabled?this.properties.sectorLabelKey:void 0;if(!d&&!u&&!c)return{};let h={datum:t,angleKey:this.properties.angleKey,angleName:this.properties.angleName,radiusKey:this.properties.radiusKey,radiusName:this.properties.radiusName,calloutLabelKey:this.properties.calloutLabelKey,calloutLabelName:this.properties.calloutLabelName,sectorLabelKey:this.properties.sectorLabelKey,sectorLabelName:this.properties.sectorLabelName,legendItemKey:this.properties.legendItemKey},f={};return d&&i>Wi(a.minAngle)&&(f.calloutLabel=L(C({},this.getTextAlignment(e)),{text:this.getLabelText(a,L(C({},h),{value:r})),hidden:!1,collisionTextAlign:void 0,collisionOffsetY:0,box:void 0})),u&&(f.sectorLabel={text:this.getLabelText(l,L(C({},h),{value:o}))}),c!=null&&s!=null&&(f.legendItem={key:c,text:s}),f}getTextAlignment(t){let e=[{textAlign:"center",textBaseline:"bottom"},{textAlign:"left",textBaseline:"middle"},{textAlign:"center",textBaseline:"hanging"},{textAlign:"right",textBaseline:"middle"}],i=mh(t),n=-.75*Math.PI,r=i-n,o=Math.floor(r/(Math.PI/2)),s=Ng(o,e.length);return e[s]}getSectorFormat(t,e,i){let{callbackCache:n}=this.ctx,{angleKey:r,radiusKey:o,calloutLabelKey:s,sectorLabelKey:a,legendItemKey:l,fills:c,strokes:d,itemStyler:u}=this.properties,h=d[e%d.length],{fill:f,fillOpacity:p,stroke:m,strokeWidth:b,strokeOpacity:g,lineDash:v,lineDashOffset:M,cornerRadius:w}=Be(i&&this.properties.highlightStyle.item,{fill:c.length>0?c[e%c.length]:void 0,stroke:h,strokeWidth:this.getStrokeWidth(this.properties.strokeWidth),strokeOpacity:this.getOpacity()},this.properties),I;return u&&(I=n.call(u,{datum:t,angleKey:r,radiusKey:o,calloutLabelKey:s,sectorLabelKey:a,legendItemKey:l,fill:f,strokeOpacity:g,stroke:m,strokeWidth:b,fillOpacity:p,lineDash:v,lineDashOffset:M,cornerRadius:w,highlighted:i,seriesId:this.id})),{fill:I?.fill??f,fillOpacity:I?.fillOpacity??p,stroke:I?.stroke??m,strokeWidth:I?.strokeWidth??b,strokeOpacity:I?.strokeOpacity??g,lineDash:I?.lineDash??v,lineDashOffset:I?.lineDashOffset??M,cornerRadius:I?.cornerRadius??w}}getOuterRadius(){return Math.max(this.radius*this.properties.outerRadiusRatio+this.properties.outerRadiusOffset,0)}updateRadiusScale(t){let e=[0,this.getOuterRadius()];this.radiusScale.range=e,t&&(this.previousRadiusScale.range=e);let i=n=>L(C({},n),{innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(n.radius),0)});this.nodeData=this.nodeData.map(i),this.phantomNodeData=this.phantomNodeData?.map(i)}getTitleTranslationY(){let t=Math.max(0,this.radiusScale.range[1]);if(t===0)return NaN;let i=2+(this.properties.title?.spacing??0),n=Math.max(0,-t);return-t-i-n}update(e){return j(this,arguments,function*({seriesRect:t}){let{title:i}=this.properties,n={seriesRectWidth:t?.width,seriesRectHeight:t?.height},r=Tn(this.nodeDataDependencies,n)!=null;if(r&&(this._nodeDataDependencies=n),yield this.maybeRefreshNodeData(),this.updateTitleNodes(),this.updateRadiusScale(r),this.contentGroup.translationX=this.centerX,this.contentGroup.translationY=this.centerY,this.highlightGroup.translationX=this.centerX,this.highlightGroup.translationY=this.centerY,this.backgroundGroup.translationX=this.centerX,this.backgroundGroup.translationY=this.centerY,this.labelGroup&&(this.labelGroup.translationX=this.centerX,this.labelGroup.translationY=this.centerY),i){let o=this.getTitleTranslationY(),s=i.node.getBBox();i.node.visible=i.enabled&&isFinite(o)&&!this.bboxIntersectsSurroundingSeries(s,0,o),i.node.translationY=isFinite(o)?o:0}this.zerosumOuterRing.fillOpacity=0,this.zerosumOuterRing.stroke=this.properties.calloutLabel.color,this.zerosumOuterRing.strokeWidth=1,this.zerosumOuterRing.strokeOpacity=1,this.updateNodeMidPoint(),yield this.updateSelections(),yield this.updateNodes(t)})}updateTitleNodes(){let{oldTitle:t}=this,{title:e}=this.properties;t!==e&&(t&&this.labelGroup?.removeChild(t.node),e&&(e.node.textBaseline="bottom",this.labelGroup?.appendChild(e.node)),this.oldTitle=e)}updateNodeMidPoint(){let t=e=>{let i=e.innerRadius+(e.outerRadius-e.innerRadius)/2;e.midPoint={x:e.midCos*Math.max(0,i),y:e.midSin*Math.max(0,i)}};this.nodeData.forEach(t),this.phantomNodeData?.forEach(t)}updateSelections(){return j(this,null,function*(){yield this.updateGroupSelection()})}updateGroupSelection(){return j(this,null,function*(){let{itemSelection:t,highlightSelection:e,phantomSelection:i,highlightLabelSelection:n,calloutLabelSelection:r,labelSelection:o}=this,s=this.nodeData.map(l=>L(C({},l),{sectorFormat:C({},l.sectorFormat)})),a=(l,c)=>{l.update(c,void 0,d=>this.getDatumId(d)),this.ctx.animationManager.isSkipped()&&l.cleanup()};a(t,this.nodeData),a(e,s),a(i,this.phantomNodeData??[]),r.update(this.calloutNodeData,l=>{let c=new di;c.tag=0,c.pointerEvents=1,l.appendChild(c);let d=new _t;d.tag=1,d.pointerEvents=1,l.appendChild(d)}),o.update(this.nodeData),n.update(s)})}updateNodes(t){return j(this,null,function*(){let e=this.ctx.highlightManager.getActiveHighlight(),i=this.visible&&this.seriesItemEnabled.indexOf(!0)>=0;this.rootGroup.visible=i,this.backgroundGroup.visible=i,this.contentGroup.visible=i,this.highlightGroup.visible=i&&e?.series===this,this.highlightLabel.visible=i&&e?.series===this,this.labelGroup&&(this.labelGroup.visible=i),this.contentGroup.opacity=this.getOpacity();let n=this.ctx.animationManager.isSkipped(),r=(o,s,a,l)=>{let c=this.getSectorFormat(s.datum,s.itemId,l);s.sectorFormat.fill=c.fill,s.sectorFormat.stroke=c.stroke,n&&(o.startAngle=s.startAngle,o.endAngle=s.endAngle,o.innerRadius=s.innerRadius,o.outerRadius=s.outerRadius),(l||n)&&(o.fill=c.fill,o.stroke=c.stroke),o.strokeWidth=c.strokeWidth,o.fillOpacity=c.fillOpacity,o.strokeOpacity=c.strokeOpacity,o.lineDash=c.lineDash,o.lineDashOffset=c.lineDashOffset,o.cornerRadius=c.cornerRadius,o.fillShadow=this.properties.shadow;let d=Math.max((this.properties.sectorSpacing+(c.stroke!=null?c.strokeWidth:0))/2,0);o.inset=d,o.lineJoin=this.properties.sectorSpacing>=0||d>0?"miter":"round"};this.itemSelection.each((o,s,a)=>r(o,s,a,!1)),this.highlightSelection.each((o,s,a)=>{r(o,s,a,!0),s.itemId===e?.itemId?(o.visible=!0,r(o,s,a,!0)):o.visible=!1}),this.phantomSelection.each((o,s,a)=>r(o,s,a,!1)),this.updateCalloutLineNodes(),this.updateCalloutLabelNodes(t),this.updateSectorLabelNodes(),this.updateZerosumRings(),this.animationState.transition("update")})}updateCalloutLineNodes(){let{calloutLine:t}=this.properties,e=t.length,i=t.strokeWidth,n=t.colors??this.properties.strokes,{offset:r}=this.properties.calloutLabel;this.calloutLabelSelection.selectByTag(0).forEach((o,s)=>{let a=o.datum,{calloutLabel:l,outerRadius:c}=a;if(l?.text&&!l.hidden&&c!==0){o.visible=!0,o.strokeWidth=i,o.stroke=n[s%n.length],o.fill=void 0;let d=a.midCos*c,u=a.midSin*c,h=a.midCos*(c+e),f=a.midSin*(c+e);if((l.collisionTextAlign??l.collisionOffsetY!==0)&&l.box!=null){let m=l.box,b=h,g=f;h<m.x?b=m.x:h>m.x+m.width&&(b=m.x+m.width),f<m.y?g=m.y:f>m.y+m.height&&(g=m.y+m.height);let v=b-h,M=g-f,w=Math.sqrt(Math.pow(v,2)+Math.pow(M,2)),I=w-r;I>0&&(h=h+v*I/w,f=f+M*I/w)}o.x1=d,o.y1=u,o.x2=h,o.y2=f}else o.visible=!1})}getLabelOverflow(t,e,i){let n=i.x-this.centerX,r=i.x+i.width-this.centerX,o=i.y-this.centerY,s=i.y+i.height-this.centerY,a=1,l=1;e.x+a<n?l=(e.x+e.width-n)/e.width:e.x+e.width-a>r&&(l=(r-e.x)/e.width);let c=e.y+a<o||e.y+e.height-a>s,d=l===1?t.length:Math.floor(t.length*l)-1,u=this.bboxIntersectsSurroundingSeries(e);return{textLength:d,hasVerticalOverflow:c,hasSurroundingSeriesOverflow:u}}bboxIntersectsSurroundingSeries(t,e=0,i=0){let{surroundingRadius:n}=this;if(n==null)return!1;let r=[{x:t.x+e,y:t.y+i},{x:t.x+t.width+e,y:t.y+i},{x:t.x+t.width+e,y:t.y+t.height+i},{x:t.x+e,y:t.y+t.height+i}],o=n**2;return r.some(s=>s.x**2+s.y**2>o)}computeCalloutLabelCollisionOffsets(){let{radiusScale:t}=this,{calloutLabel:e,calloutLine:i}=this.properties,{offset:n,minSpacing:r}=e,o=t.convert(0),s=g=>!g.calloutLabel||g.outerRadius===0,a=this.calloutNodeData,l=a.filter(g=>!s(g));if(l.forEach(g=>{let v=g.calloutLabel;v!=null&&(v.hidden=!1,v.collisionTextAlign=void 0,v.collisionOffsetY=0)}),l.length<=1)return;let c=l.filter(g=>g.midCos<0).sort((g,v)=>g.midSin-v.midSin),d=l.filter(g=>g.midCos>=0).sort((g,v)=>g.midSin-v.midSin),u=l.filter(g=>g.midSin<0&&g.calloutLabel?.textAlign==="center").sort((g,v)=>g.midCos-v.midCos),h=l.filter(g=>g.midSin>=0&&g.calloutLabel?.textAlign==="center").sort((g,v)=>g.midCos-v.midCos),f=g=>{let v=g.calloutLabel;if(v==null)return se.zero.clone();let M=g.outerRadius+i.length+n,w=g.midCos*M,I=g.midSin*M+v.collisionOffsetY,D=v.collisionTextAlign??v.textAlign,_=v.textBaseline;return _t.computeBBox(v.text,w,I,{font:this.properties.calloutLabel,textAlign:D,textBaseline:_})},p=(g,v,M)=>{let w=f(g).grow(r/2),I=f(v).grow(r/2);if(w.x<I.x+I.width&&w.x+w.width>I.x&&(M==="to-top"?w.y<I.y+I.height:w.y+w.height>I.y)){let _=M==="to-top"?w.y-I.y-I.height:w.y+w.height-I.y;v.calloutLabel.collisionOffsetY=_}},m=g=>{let v=g.slice().sort((w,I)=>Math.abs(w.midSin)-Math.abs(I.midSin))[0],M=g.indexOf(v);for(let w=M-1;w>=0;w--){let I=g[w+1],D=g[w];p(I,D,"to-top")}for(let w=M+1;w<g.length;w++){let I=g[w-1],D=g[w];p(I,D,"to-bottom")}},b=g=>{let v=l.some(S=>S.calloutLabel.collisionOffsetY!==0),M=g.map(S=>f(S)),w=M.map(S=>S.clone().grow(r/2)),I=!1;for(let S=0;S<w.length&&!I;S++){let E=w[S];for(let T=S+1;T<g.length;T++){let k=w[T];if(E.collidesBBox(k)){I=!0;break}}}let D=a.map(S=>{let{startAngle:E,endAngle:T,outerRadius:k}=S;return{startAngle:E,endAngle:T,innerRadius:o,outerRadius:k}}),_=M.some(S=>D.some(E=>hP(S,E)));!I&&!v&&!_||g.filter(S=>S.calloutLabel.textAlign==="center").forEach(S=>{let E=S.calloutLabel;S.midCos<0?E.collisionTextAlign="right":S.midCos>0?E.collisionTextAlign="left":E.collisionTextAlign="center"})};m(c),m(d),b(u),b(h)}updateCalloutLabelNodes(t){let{radiusScale:e}=this,{calloutLabel:i,calloutLine:n}=this.properties,r=n.length,{offset:o,color:s}=i,a=new _t;this.calloutLabelSelection.selectByTag(1).forEach(l=>{let{datum:c}=l,d=c.calloutLabel,u=e.convert(c.radius),h=Math.max(0,u);if(!d?.text||h===0||d.hidden){l.visible=!1;return}let f=h+r+o,p=c.midCos*f,m=c.midSin*f+d.collisionOffsetY,b={textAlign:d.collisionTextAlign??d.textAlign,textBaseline:d.textBaseline};a.text=d.text,a.x=p,a.y=m,a.setFont(this.properties.calloutLabel),a.setAlign(b);let g=a.getBBox(),v=d.text,M=!0;if(i.avoidCollisions){let{textLength:w,hasVerticalOverflow:I}=this.getLabelOverflow(d.text,g,t);v=d.text.length===w?d.text:`${d.text.substring(0,w)}\u2026`,M=!I}l.text=v,l.x=p,l.y=m,l.setFont(this.properties.calloutLabel),l.setAlign(b),l.fill=s,l.visible=M})}computeLabelsBBox(t,e){return j(this,null,function*(){let{calloutLabel:i,calloutLine:n}=this.properties,r=n.length,{offset:o,maxCollisionOffset:s,minSpacing:a}=i;if(!i.avoidCollisions)return null;yield this.maybeRefreshNodeData(),this.updateRadiusScale(!1),this.computeCalloutLabelCollisionOffsets();let l=[],c=new _t,d,{title:u}=this.properties;if(u?.text&&u.enabled){let h=this.getTitleTranslationY();isFinite(h)&&(c.text=u.text,c.x=0,c.y=h,c.setFont(u),c.setAlign({textBaseline:"bottom",textAlign:"center"}),d=c.getBBox(),l.push(d))}return this.calloutNodeData.forEach(h=>{let f=h.calloutLabel;if(!f||h.outerRadius===0)return null;let p=h.outerRadius+r+o,m=h.midCos*p,b=h.midSin*p+f.collisionOffsetY;c.text=f.text,c.x=m,c.y=b,c.setFont(this.properties.calloutLabel),c.setAlign({textAlign:f.collisionTextAlign??f.textAlign,textBaseline:f.textBaseline});let g=c.getBBox();if(f.box=g,Math.abs(f.collisionOffsetY)>s){f.hidden=!0;return}if(d){let v=e.y-this.centerY,M=new se(d.x-a,v,d.width+2*a,d.y+d.height+a-v);if(g.collidesBBox(M)){f.hidden=!0;return}}if(t.hideWhenNecessary){let{textLength:v,hasVerticalOverflow:M,hasSurroundingSeriesOverflow:w}=this.getLabelOverflow(f.text,g,e),I=f.text.length>2&&v<2;if(M||I||w){f.hidden=!0;return}}f.hidden=!1,l.push(g)}),l.length===0?null:se.merge(l)})}updateSectorLabelNodes(){let{radiusScale:t}=this,e=t.convert(0),{fontSize:i,fontStyle:n,fontWeight:r,fontFamily:o,positionOffset:s,positionRatio:a,color:l}=this.properties.sectorLabel,c=e>0,d=this.seriesItemEnabled.filter(Boolean).length===1,u=(h,f)=>{let{sectorLabel:p,outerRadius:m,startAngle:b,endAngle:g}=f,v=!1;if(p&&m!==0){let M=e*(1-a)+m*a+s;h.fill=l,h.fontStyle=n,h.fontWeight=r,h.fontSize=i,h.fontFamily=o,h.text=p.text,!c&&d?(h.x=0,h.y=0):(h.x=f.midCos*M,h.y=f.midSin*M),h.textAlign="center",h.textBaseline="middle";let I=h.getBBox(),D=[[I.x,I.y],[I.x+I.width,I.y],[I.x+I.width,I.y+I.height],[I.x,I.y+I.height]],_={startAngle:b,endAngle:g,innerRadius:e,outerRadius:m};D.every(([S,E])=>Sg(S,E,_))&&(v=!0)}h.visible=v};this.labelSelection.each(u),this.highlightLabelSelection.each(u)}updateZerosumRings(){this.zerosumOuterRing.size=this.getOuterRadius()*2}getDatumLegendName(t){let{angleKey:e,calloutLabelKey:i,sectorLabelKey:n,legendItemKey:r}=this.properties,{sectorLabel:o,calloutLabel:s,legendItem:a}=t;if(r&&a!==void 0)return a.text;if(i&&i!==e&&s?.text!==void 0)return s.text;if(n&&n!==e&&o?.text!==void 0)return o.text}pickNodeClosestDatum(t){return $D(this,t)}getTooltipHtml(t){if(!this.properties.isValid())return is;let{datum:e,angleValue:i,sectorFormat:{fill:n},itemId:r}=t,o=Tt(this.properties.title?.text),s=We(i)?Ag(i):String(i),a=this.getDatumLegendName(t);return this.properties.tooltip.toTooltipHtml({title:o??a,content:o&&a?`${a}: ${s}`:s,backgroundColor:n},{datum:e,itemId:r,title:o,color:n,seriesId:this.id,angleKey:this.properties.angleKey,angleName:this.properties.angleName,radiusKey:this.properties.radiusKey,radiusName:this.properties.radiusName,calloutLabelKey:this.properties.calloutLabelKey,calloutLabelName:this.properties.calloutLabelName,sectorLabelKey:this.properties.sectorLabelKey,sectorLabelName:this.properties.sectorLabelName,legendItemKey:this.properties.legendItemKey})}getLegendData(t){let{visible:e,processedData:i,dataModel:n}=this;if(!n||!i?.data.length||t!=="category")return[];let{angleKey:r,calloutLabelKey:o,sectorLabelKey:s,legendItemKey:a}=this.properties;if(!a&&(!o||o===r)&&(!s||s===r))return[];let{calloutLabelIdx:l,sectorLabelIdx:c,legendItemIdx:d}=this.getProcessedDataIndexes(n),u=this.properties.title?.showInLegend&&this.properties.title.text,h=[];for(let f=0;f<i.data.length;f++){let{datum:p,values:m}=i.data[f],b=[];u&&b.push(u);let g=this.getLabels(p,2*Math.PI,2*Math.PI,!1,l!=null?m[l]:void 0,c!=null?m[c]:void 0,d!=null?m[d]:void 0);if(a&&g.legendItem!==void 0?b.push(g.legendItem.text):o&&o!==r&&g.calloutLabel?.text!==void 0?b.push(g.calloutLabel?.text):s&&s!==r&&g.sectorLabel?.text!==void 0&&b.push(g.sectorLabel?.text),b.length===0)continue;let v=this.getSectorFormat(p,f,!1);h.push({legendType:"category",id:this.id,itemId:f,seriesId:this.id,enabled:e&&this.seriesItemEnabled[f],label:{text:b.join(" - ")},symbols:[{marker:{fill:v.fill,stroke:v.stroke,fillOpacity:this.properties.fillOpacity,strokeOpacity:this.properties.strokeOpacity,strokeWidth:this.properties.strokeWidth}}],legendItemName:a!=null?p[a]:void 0})}return h}onLegendItemClick(t){let{enabled:e,itemId:i,series:n,legendItemName:r}=t;n.id===this.id?this.toggleSeriesItem(i,e):r!=null&&this.toggleOtherSeriesItems(r,e)}toggleSeriesItem(t,e){this.seriesItemEnabled[t]=e,this.nodeData[t]&&(this.nodeData[t].enabled=e),this.nodeDataRefresh=!0}toggleOtherSeriesItems(t,e){if(!this.properties.legendItemKey||!this.dataModel)return;let i=this.dataModel.resolveProcessedDataIndexById(this,"legendItemValue");this.processedData?.data.forEach(({values:n},r)=>{n[i]===t&&this.toggleSeriesItem(r,e)})}animateEmptyUpdateReady(t){let{animationManager:e}=this.ctx,i=gl(!0,this.properties.rotation,this.radiusScale,this.previousRadiusScale);Vt(this.id,"nodes",e,[this.itemSelection,this.highlightSelection,this.phantomSelection],i.nodes,(n,r)=>this.getDatumId(r)),Ke(this,"callout",e,this.calloutLabelSelection),Ke(this,"sector",e,this.labelSelection),Ke(this,"highlight",e,this.highlightLabelSelection),this.previousRadiusScale.range=this.radiusScale.range}animateWaitingUpdateReady(){let{itemSelection:t,highlightSelection:e,phantomSelection:i,processedData:n,radiusScale:r,previousRadiusScale:o}=this,{animationManager:s}=this.ctx,a=n?.reduced?.diff;this.ctx.animationManager.stopByAnimationGroupId(this.id);let l=(a?.moved.size??0)===0,c=(n?.defs.keys.length??0)>0,d=n?.reduced?.animationValidation?.uniqueKeys??!0;(!l||!c||!d)&&this.ctx.animationManager.skipCurrentBatch();let u=gl(!1,this.properties.rotation,r,o);Vt(this.id,"nodes",s,[t,e,i],u.nodes,(h,f)=>this.getDatumId(f),a),Ke(this,"callout",this.ctx.animationManager,this.calloutLabelSelection),Ke(this,"sector",this.ctx.animationManager,this.labelSelection),Ke(this,"highlight",this.ctx.animationManager,this.highlightLabelSelection),this.previousRadiusScale.range=this.radiusScale.range}animateClearingUpdateEmpty(){let{itemSelection:t,highlightSelection:e,phantomSelection:i,radiusScale:n,previousRadiusScale:r}=this,{animationManager:o}=this.ctx,s=gl(!1,this.properties.rotation,n,r);Vt(this.id,"nodes",o,[t,e,i],s.nodes,(a,l)=>this.getDatumId(l)),$s(this,"callout",this.ctx.animationManager,this.calloutLabelSelection),$s(this,"sector",this.ctx.animationManager,this.labelSelection),$s(this,"highlight",this.ctx.animationManager,this.highlightLabelSelection),this.previousRadiusScale.range=this.radiusScale.range}getDatumIdFromData(t){let{calloutLabelKey:e,sectorLabelKey:i,legendItemKey:n}=this.properties;if(this.processedData?.reduced?.animationValidation?.uniqueKeys){if(n)return t[n];if(e)return t[e];if(i)return t[i]}}getDatumId(t){let{index:e}=t,i=this.getDatumIdFromData(t.datum);return i!=null?String(i):`${e}`}onDataChange(){let{data:t,seriesItemEnabled:e}=this;this.seriesItemEnabled=t?.map((i,n)=>e[n]??!0)??[]}};ZD.className="PieSeries";ZD.type="pie";var H6={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["polar"],identifier:"pie",moduleFactory:t=>new ZD(t),tooltipDefaults:{range:"exact"},themeTemplate:V6,paletteFactory:pP},uo=class extends Ne{constructor(t,e){super(),this.onChange=t,this.onButtonsChange=e,this.align="start",this.position="top",this.size="normal",this.buttonOverrides=new Map}buttonConfigurations(){return this.buttons?.map(t=>{let e=t.id??t.value,i=this.buttonOverrides.get(e);return i!=null?C(C({},t),i):t})??[]}buttonsChanged(t){this.onButtonsChange(this.buttonConfigurations(),t)}overrideButtonConfiguration(t,e){let i=this.buttonOverrides.get(t);i==null&&(i=Object.create(null),this.buttonOverrides.set(t,i));for(let n in e){let r=e[n];r==null?delete i[n]:i[n]=r}this.buttonsChanged(!0)}};y([Zi(t=>{t.onChange(t.enabled)}),x(ve)],uo.prototype,"enabled",2);y([Zi(t=>{t.onChange(t.enabled)}),x(bt([...TL]),{optional:!0})],uo.prototype,"align",2);y([Zi(t=>{t.onChange(t.enabled)}),x(bt(jc),{optional:!0})],uo.prototype,"position",2);y([Zi(t=>{t.onChange(t.enabled)}),x(bt(["small","normal"]),{optional:!0})],uo.prototype,"size",2);y([Zi(t=>{for(let e of t.buttons??[])e.icon!=null&&H5.includes(e.icon)&&Y.warnOnce(`Icon '${e.icon}' is deprecated, use another icon instead.`),e.ariaLabel==="toolbarAnnotationsColor"&&Y.warnOnce(`Aria label '${e.ariaLabel}' is deprecated, use 'toolbarAnnotationsLineColor' instead.`);t.buttonsChanged(!1)}),x(nd,{optional:!0})],uo.prototype,"buttons",2);var a1="ag-charts-toolbar",zu={align:"ag-charts-toolbar__align",section:"ag-charts-toolbar__section",button:"ag-charts-toolbar__button",icon:"ag-charts-toolbar__icon",label:"ag-charts-toolbar__label"},ai={top:"ag-charts-toolbar--top",right:"ag-charts-toolbar--right",bottom:"ag-charts-toolbar--bottom",left:"ag-charts-toolbar--left",floating:"ag-charts-toolbar--floating","floating-top":"ag-charts-toolbar--floating-top","floating-bottom":"ag-charts-toolbar--floating-bottom",small:"ag-charts-toolbar--small",normal:"ag-charts-toolbar--normal",hidden:"ag-charts-toolbar--hidden",preventFlash:"ag-charts-toolbar--prevent-flash",floatingHidden:"ag-charts-toolbar--floating-hidden",align:{start:"ag-charts-toolbar__align--start",center:"ag-charts-toolbar__align--center",end:"ag-charts-toolbar__align--end"},button:{active:"ag-charts-toolbar__button--active",hiddenValue:"ag-charts-toolbar__button--hidden-value",hiddenToggled:"ag-charts-toolbar__button--hidden-toggled",fillVisible:"ag-charts-toolbar__button--fill-visible"}},gP=class extends Oh{constructor(t){super(),this.ctx=t,this.enabled=!0,this.seriesType=new uo(this.onGroupChanged.bind(this,"seriesType"),this.onGroupButtonsChanged.bind(this,"seriesType")),this.annotations=new uo(this.onGroupChanged.bind(this,"annotations"),this.onGroupButtonsChanged.bind(this,"annotations")),this.annotationOptions=new uo(this.onGroupChanged.bind(this,"annotationOptions"),this.onGroupButtonsChanged.bind(this,"annotationOptions")),this.ranges=new uo(this.onGroupChanged.bind(this,"ranges"),this.onGroupButtonsChanged.bind(this,"ranges")),this.zoom=new uo(this.onGroupChanged.bind(this,"zoom"),this.onGroupButtonsChanged.bind(this,"zoom")),this.horizontalSpacing=10,this.verticalSpacing=10,this.floatingDetectionRange=38,this.positions={top:new Set,right:new Set,bottom:new Set,left:new Set,floating:new Set,"floating-top":new Set,"floating-bottom":new Set},this.positionAlignments={top:{},right:{},bottom:{},left:{},floating:{},"floating-top":{},"floating-bottom":{}},this.groupCallers={seriesType:new Set,annotations:new Set,annotationOptions:new Set,ranges:new Set,zoom:new Set},this.groupButtons={seriesType:[],annotations:[],annotationOptions:[],ranges:[],zoom:[]},this.ariaToolbars=[{groups:["seriesType","annotations"],destroyFns:[]},{groups:["annotationOptions"],destroyFns:[]},{groups:["ranges"],destroyFns:[]},{groups:["zoom"],destroyFns:[]}],this.pendingButtonToggledEvents=[],this.groupProxied=new Map,this.hasNewLocale=!0,this.elements={};for(let e of jc)this.elements[e]=t.domManager.addChild("canvas-overlay",`toolbar-${e}`),this.elements[e].role="presentation",this.renderToolbar(e);this.toggleVisibilities(),this.destroyFns.push(t.interactionManager.addListener("hover",this.onHover.bind(this),31),t.interactionManager.addListener("leave",this.onLeave.bind(this),31),t.toolbarManager.addListener("button-toggled",this.onButtonToggled.bind(this)),t.toolbarManager.addListener("button-updated",this.onButtonUpdated.bind(this)),t.toolbarManager.addListener("group-toggled",this.onGroupToggled.bind(this)),t.toolbarManager.addListener("floating-anchor-changed",this.onFloatingAnchorChanged.bind(this)),t.toolbarManager.addListener("proxy-group-options",this.onProxyGroupOptions.bind(this)),t.layoutService.addListener("layout-complete",this.onLayoutComplete.bind(this)),t.localeManager.addListener("locale-changed",()=>{this.hasNewLocale=!0}),()=>this.destroyElements())}destroyElements(){this.ctx.domManager.removeStyles(a1);for(let t of Object.keys(this.elements))this.ctx.domManager.removeChild("canvas-overlay",`toolbar-${t}`)}onHover(t){let{enabled:e,elements:i,floatingDetectionRange:n,ctx:{scene:r}}=this,{offsetY:o,sourceEvent:{target:s}}=t,{FloatingBottom:a,FloatingTop:l}=eh;if(!e)return;let c=i[a],d=i[l],u=c.offsetTop-n,h=o>u&&o<r.canvas.element.offsetHeight||s===c,f=d.offsetTop+d.offsetHeight+n,p=o>0&&o<f||s===d;this.translateFloatingElements(a,h),this.translateFloatingElements(l,p)}onLeave(t){let{enabled:e,ctx:{scene:i}}=this,{relatedElement:n,targetElement:r}=t,{FloatingBottom:o,FloatingTop:s}=eh;!e||r!==i.canvas.element||n_.some(l=>this.groupButtons[l].some(c=>c===n))||(this.translateFloatingElements(o,!1),this.translateFloatingElements(s,!1))}onGroupChanged(t){this[t]==null||this.groupProxied.has(t)||(this.createGroup(t),this.toggleVisibilities())}onGroupButtonsChanged(t,e,i){if(!(!this.enabled||this.groupProxied.has(t))){if(i)for(let n of this[t].buttonConfigurations())this.refreshButtonContent(t,n);else this.createGroupButtons(t,e);this.toggleVisibilities()}}onLayoutComplete(){for(let t of jc)this.elements[t].classList.remove(ai.preventFlash)}onButtonUpdated(t){let o=t,{type:e,group:i,id:n}=o,r=pt(o,["type","group","id"]);this[i].overrideButtonConfiguration(n,C({},r))}setButtonActive(t,e){t.classList.toggle(ai.button.active,e)}onButtonToggled(t){let{group:e,id:i,active:n,enabled:r,visible:o}=t;if(this.groupButtons[e].length===0){this.pendingButtonToggledEvents.push(t);return}for(let s of this.groupButtons[e])s.dataset.toolbarId===`${i}`&&(s.ariaDisabled=`${!r}`,Yu(s,ai.button.hiddenToggled,!o),this.setButtonActive(s,n))}onGroupToggled(t){let{caller:e,group:i,active:n,visible:r}=t;this.toggleGroup(e,i,n,r),this.toggleVisibilities()}onFloatingAnchorChanged(t){let{elements:e,groupButtons:i,positions:n,horizontalSpacing:r,verticalSpacing:o,ctx:{domManager:s,toolbarManager:a}}=this,{group:l,anchor:c}=t;if(!n.floating.has(l))return;let d=e.floating;if(d.classList.contains(ai.hidden))return;let u=c.position??"above",{offsetWidth:h,offsetHeight:f}=d,p=c.y-f-o,m=c.x-h/2;u==="right"?(p=c.y-f/2,m=c.x+r):u==="above-left"&&(m=c.x);let b=s.getBoundingClientRect();p=Ce(0,p,b.height-f),m=Ce(0,m,b.width-h),d.style.top=`${p}px`,d.style.left=`${m}px`;let g=new se(m,p,h,f);for(let v of i[l]){if(v.classList.contains(ai.button.hiddenToggled))continue;let M=v.offsetParent;a.buttonMoved(l,v.dataset.toolbarId,new se(v.offsetLeft+(M?.offsetLeft??0),v.offsetTop+(M?.offsetTop??0),v.offsetWidth,v.offsetHeight),g)}}buttonRect(t,e=this.ctx.domManager.getBoundingClientRect()){let i=t.getBoundingClientRect();return new se(i.left-e.left,i.top-e.top,i.width,i.height)}onProxyGroupOptions(t){if(!this.enabled)return;let{caller:e,group:i,options:n}=t;this.groupProxied.set(i,n),this[i].set(n),this.toggleGroup(e,i,void 0,n.enabled),this.createGroup(i,n.enabled,n.position),n.enabled&&this.createGroupButtons(i,n.buttons)}createGroup(t,e,i){e??(e=this[t].enabled),i??(i=this[t].position);for(let n of jc)e&&i===n?this.positions[n].add(t):this.positions[n].delete(t)}createGroupButtons(t,e=[]){for(let p of this.groupButtons[t])p.remove();let i=this.getAriaToolbar(t);if(this.groupButtons[t]=[],i.destroyFns.forEach(p=>p()),i.destroyFns=[],e.length===0)return;let{align:n,position:r}=this[t],o=this.positionAlignments[r][n];if(!o)return;let s=p=>{let m=Array.from(o.children),b="data-group",g="data-section",v=m.find(M=>M.getAttribute(b)===t&&M.getAttribute(g)===(p??""));if(!v){v=Zt("div"),v.role="presentation",v.setAttribute(b,t),v.setAttribute(g,p??"");let M=Ok[t],w=m.find(I=>{let D=I.getAttribute(b);return Ok[D]>M});w!=null?o.insertBefore(v,w):o.appendChild(v),this.destroyFns.push(()=>v.remove())}return v.classList.add(zu.section,ai[this[t].size]),v},a=e.at(0)?.section,l=s(a);for(let p of e){a!==p.section&&(l=s(p.section)),a=p.section;let m=this.createButtonElement(t,p);l.appendChild(m),this.groupButtons[t].push(m)}let c=()=>{this.ctx.toolbarManager.cancel(t)},d,u;Pk(r)&&(d=()=>this.translateFloatingElements(r,!0),u=()=>this.translateFloatingElements(r,!1));let h=this.computeAriaOrientation(this[t].position),f=i.groups.map(p=>this.groupButtons[p]).flat();i.destroyFns=Jg({orientation:h,toolbar:o,buttons:f,onEscape:c,onFocus:d,onBlur:u}),this.updateToolbarAriaLabel(t,o)}computeAriaOrientation(t){return{top:"horizontal",right:"vertical",bottom:"horizontal",left:"vertical",floating:"horizontal","floating-top":"horizontal","floating-bottom":"horizontal"}[t]}toggleGroup(t,e,i,n){if(n===!0?this.groupCallers[e].add(t):n===!1&&this.groupCallers[e].delete(t),i!=null)for(let r of this.groupButtons[e])this.setButtonActive(r,i)}processPendingEvents(){let t=(this.pendingButtonToggledEvents??[]).slice();for(let e of t)this.onButtonToggled(e);this.pendingButtonToggledEvents=[]}performLayout(t){return j(this,null,function*(){return this.enabled&&(this.refreshOuterLayout(t.shrinkRect),this.refreshLocale()),t})}performCartesianLayout(t){return j(this,null,function*(){this.enabled&&this.refreshInnerLayout(t.seriesRect)})}refreshOuterLayout(t){let{elements:e,horizontalSpacing:i,verticalSpacing:n}=this;e.top.classList.contains(ai.hidden)||t.shrink(e.top.offsetHeight+n,"top"),e.right.classList.contains(ai.hidden)||t.shrink(e.right.offsetWidth+i,"right"),e.bottom.classList.contains(ai.hidden)||(t.shrink(e.bottom.offsetHeight+n,"bottom"),e.bottom.style.top=`${t.y+t.height+n}px`),e.left.classList.contains(ai.hidden)||t.shrink(e.left.offsetWidth+i,"left")}refreshLocale(){let{hasNewLocale:t}=this;if(t){for(let e of n_){let i=this[e].buttonConfigurations();for(let n of i)this.refreshButtonContent(e,n);this.updateToolbarAriaLabel(e)}this.hasNewLocale=!1}}refreshInnerLayout(t){let{elements:e,verticalSpacing:i}=this,{FloatingBottom:n,FloatingTop:r}=eh;e.top.style.top=`${t.y-e.top.offsetHeight-i}px`,e.top.style.left=`${t.x}px`,e.top.style.width=`${t.width}px`,e.bottom.style.left=`${t.x}px`,e.bottom.style.width=`${t.width}px`,e.right.style.top=`${t.y}px`,e.right.style.right="0px",e.right.style.height=`${t.height}px`,e.left.style.top=`${t.y}px`,e.left.style.left="0px",e.left.style.height=`${t.height}px`,e[r].style.top=`${t.y}px`,e[n].style.top=`${t.y+t.height-e[n].offsetHeight}px`}refreshButtonContent(t,e){let i=this.buttonId(e),n=this.groupProxied.get(t)?.buttons?.find(o=>this.buttonId(o)===i)??e,r=this.groupButtons[t].find(o=>o.getAttribute("data-toolbar-id")===i);r!=null&&this.updateButton(r,n)}toggleVisibilities(){if(this.elements==null)return;let t=i=>this[i].enabled&&this.groupCallers[i].size>0,e=i=>n=>{let r=this.buttonId(n);return r==null||r===i.dataset.toolbarId};for(let i of jc){let n=this.enabled&&Array.from(this.positions[i].values()).some(t);Yu(this.elements[i],ai.hidden,!n)}for(let i of n_){if(this[i]==null)continue;let n=t(i);for(let r of this.groupButtons[i]){let o=n&&this[i].buttonConfigurations().some(e(r));Yu(r,ai.button.hiddenValue,!o)}}}translateFloatingElements(t,e){let{elements:i,verticalSpacing:n,positionAlignments:r}=this,o=i[t],s=Object.values(r[t]);Yu(o,ai.floatingHidden,!e);let a=t==="floating-bottom"?1:-1;for(let l of s)l.style.transform=e&&l.style.transform!==""?"translateY(0)":`translateY(${(o.offsetHeight+n)*a}px)`}renderToolbar(t="top"){let e=this.elements[t];e.classList.add(a1,ai[t],ai.preventFlash),Pk(t)&&e.classList.add(ai.floatingHidden);for(let i of TL){let n=Zt("div");n.role="presentation",n.classList.add(zu.align,ai.align[i]),n.dataset.pointerCapture="exclusive",e.appendChild(n),this.positionAlignments[t][i]=n}}createButtonElement(t,e){let i=Zt("button");return i.classList.add(zu.button),i.dataset.toolbarGroup=t,i.tabIndex=-1,i.dataset.toolbarId=this.buttonId(e),i.onclick=DO(i,this.onButtonPress.bind(this,i,t,e.id,e.value)),this.updateButton(i,e),this.destroyFns.push(()=>i.remove()),i}getAriaToolbar(t){for(let e of this.ariaToolbars)if(e.groups.includes(t))return e;throw new Error(`AG Charts - cannot find aria-toolbar of '${t}'`)}updateToolbarAriaLabel(t,e){if(!e){let{align:n,position:r}=this[t];if(e=this.positionAlignments[r][n],!e)return}let i={seriesType:"ariaLabelFinancialCharts",annotations:"ariaLabelFinancialCharts",annotationOptions:"ariaLabelAnnotationOptionsToolbar",ranges:"ariaLabelRangesToolbar",zoom:"ariaLabelZoomToolbar"};e.ariaLabel=this.ctx.localeManager.t(i[t])}updateButton(t,e){let{ctx:{domManager:i,localeManager:n}}=this;if(e.tooltip){let s=n.t(e.tooltip);t.title=s}let r="";if(e.icon!=null&&(r=`<span class="${i.getIconClassNames(e.icon)} ${zu.icon}"></span>`),e.label!=null){let s=n.t(e.label);r=`${r}<span class="${zu.label}">${s}</span>`}t.innerHTML=r,t.classList.toggle(ai.button.fillVisible,e.fill!=null),t.style.setProperty("--fill",e.fill??null);let o=e.ariaLabel?this.ctx.localeManager.t(e.ariaLabel):void 0;bl(t,"aria-label",o)}onButtonPress(t,e,i,n){this.ctx.toolbarManager.pressButton(e,this.buttonId({id:i,value:n}),n,this.buttonRect(t))}buttonId(t){let{id:e,value:i,label:n}=t;return e??(i!=null&&typeof i!="object"?String(i):n??"")}};y([Zi(t=>{t.processPendingEvents(),t.toggleVisibilities()}),x(ve)],gP.prototype,"enabled",2);var yP=1e3*60*60*24,d_=yP*30,$6=yP*365,W6={enabled:!1,position:"left",align:"start",buttons:[{tooltip:"toolbarSeriesTypeDropdown",value:"type"}]},Y6={enabled:!0,position:"left",align:"start",buttons:[{icon:"trend-line-drawing",tooltip:"toolbarAnnotationsLineAnnotations",value:"line-menu",section:"line-annotations"},{icon:"text-annotation",tooltip:"toolbarAnnotationsTextAnnotations",value:"text-menu",section:"text-annotations"},{icon:"delete",tooltip:"toolbarAnnotationsClearAll",value:"clear",section:"tools"}]},Z6={enabled:!0,position:"floating",align:"start",buttons:[{icon:"text-annotation",tooltip:"toolbarAnnotationsTextColor",value:"text-color"},{icon:"line-color",tooltip:"toolbarAnnotationsLineColor",value:"line-color"},{icon:"fill-color",tooltip:"toolbarAnnotationsFillColor",value:"fill-color"},{tooltip:"toolbarAnnotationsTextSize",value:"text-size"},{icon:"unlocked",tooltip:"toolbarAnnotationsLock",value:"lock"},{icon:"locked",tooltip:"toolbarAnnotationsUnlock",value:"unlock"},{icon:"delete",tooltip:"toolbarAnnotationsDelete",value:"delete"}]},q6={enabled:!1,position:Vh,align:"start",buttons:[{label:"toolbarRange1Month",ariaLabel:"toolbarRange1MonthAria",value:d_},{label:"toolbarRange3Months",ariaLabel:"toolbarRange3MonthsAria",value:3*d_},{label:"toolbarRange6Months",ariaLabel:"toolbarRange6MonthsAria",value:6*d_},{label:"toolbarRangeYearToDate",ariaLabel:"toolbarRangeYearToDateAria",value:(t,e)=>[new Date(`${new Date(e).getFullYear()}-01-01`).getTime(),e],id:"year-to-date"},{label:"toolbarRange1Year",ariaLabel:"toolbarRange1YearAria",value:$6},{label:"toolbarRangeAll",ariaLabel:"toolbarRangeAllAria",value:(t,e)=>[t,e],id:"all"}]},K6={enabled:!0,position:"top",align:"end",buttons:[{icon:"zoom-out",tooltip:"toolbarZoomZoomOut",value:"zoom-out"},{icon:"zoom-in",tooltip:"toolbarZoomZoomIn",value:"zoom-in"},{icon:"pan-left",tooltip:"toolbarZoomPanLeft",value:"pan-left"},{icon:"pan-right",tooltip:"toolbarZoomPanRight",value:"pan-right"},{icon:"pan-start",tooltip:"toolbarZoomPanStart",value:"pan-start"},{icon:"pan-end",tooltip:"toolbarZoomPanEnd",value:"pan-end"},{icon:"reset",tooltip:"toolbarZoomReset",value:"reset"}]},X6={type:"root",optionsKey:"toolbar",packageType:"community",chartTypes:["cartesian"],moduleFactory:t=>new gP(t),themeTemplate:{toolbar:{enabled:!0,seriesType:W6,annotations:Y6,annotationOptions:Z6,ranges:q6,zoom:K6}}};function Q6(){Zs.register(vO,c6,d6,IO,X6,E6,N6,L6,P6,F6,U6,H6,O6);for(let t of[ta,sa,fd,ea,Sl])Yo.register(t.type,{moduleFactory:e=>new t(e),hidden:t===ea})}function J6(){for(let t of Zs.modules){if(t.packageType==="enterprise"&&!s8(t)&&Y.errorOnce("Unexpected enterprise module registered: "+t.identifier),t.type==="root"&&t.themeTemplate)for(let e of t.chartTypes)j_.set(e,t.themeTemplate);if(t.type==="series"){if(t.chartTypes.length>1)throw new Error(`AG Charts - Module definition error: ${t.identifier}`);on.register(t.identifier,t)}if(t.type==="series-option"&&t.themeTemplate)for(let e of t.seriesTypes)on.setThemeTemplate(e,t.themeTemplate);if(t.type==="axis-option"&&t.themeTemplate)for(let e of t.axisTypes){let i=Yo.getThemeTemplate(e),n=Be(t.themeTemplate,i);Yo.setThemeTemplate(e,n)}t.type==="axis"&&Yo.register(t.identifier,t),t.type==="legend"&&FM.register(t.identifier,t)}if(Zs.hasEnterpriseModules()){let t=a8();t.length>0&&Y.errorOnce("Enterprise modules expected but not registered: ",t)}}function eZ(t){return t.type==="sankey"||t.type==="chord"}var qD=class t extends hd{getChartType(){return"flow-proportion"}updateData(){return j(this,null,function*(){yield fs(t.prototype,this,"updateData").call(this);let{nodes:e}=this.getOptions();this.series.forEach(i=>{eZ(i)&&i.setChartNodes(e)})})}performLayout(){return j(this,null,function*(){let e=yield fs(t.prototype,this,"performLayout").call(this),{seriesArea:{padding:i},seriesRoot:n,annotationRoot:r,highlightRoot:o}=this,s=e.clone();e.shrink(i.left,"left"),e.shrink(i.top,"top"),e.shrink(i.right,"right"),e.shrink(i.bottom,"bottom"),this.seriesRect=e,this.animationRect=e;let a=this.series.some(l=>l.visible);n.visible=a;for(let l of[n,r,o])l.translationX=Math.floor(e.x),l.translationY=Math.floor(e.y),l.setClipRectInGroupCoordinateSpace(new se(s.x,s.y,s.width,s.height));return this.ctx.layoutService.dispatchLayoutComplete({type:"layout-complete",chart:{width:this.ctx.scene.width,height:this.ctx.scene.height},clipSeries:!1,series:{rect:s,paddedRect:e,visible:a},axes:[]}),e})}};qD.className="FlowProportionChart";qD.type="flow-proportion";var KD=class t extends hd{constructor(e,i){super(e,i)}getChartType(){return"hierarchy"}performLayout(){return j(this,null,function*(){let e=yield fs(t.prototype,this,"performLayout").call(this),{seriesArea:{padding:i},seriesRoot:n,annotationRoot:r,highlightRoot:o}=this,s=e.clone();e.shrink(i.left,"left"),e.shrink(i.top,"top"),e.shrink(i.right,"right"),e.shrink(i.bottom,"bottom"),this.seriesRect=e,this.animationRect=e;for(let a of[n,r,o])a.translationX=Math.floor(e.x),a.translationY=Math.floor(e.y);return yield Promise.all(this.series.map(a=>j(this,null,function*(){yield a.update({seriesRect:e})}))),n.visible=this.series[0].visible,n.setClipRectInGroupCoordinateSpace(new se(e.x,e.y,e.width,e.height)),this.ctx.layoutService.dispatchLayoutComplete({type:"layout-complete",chart:{width:this.ctx.scene.width,height:this.ctx.scene.height},clipSeries:!1,series:{rect:s,paddedRect:e,visible:!0},axes:[]}),e})}getAriaLabel(){return`hierarchical chart, ${this.getCaptionText()}`}};KD.className="HierarchyChart";KD.type="hierarchy";var Hc=class extends TM{constructor(){super(...arguments),this.shape="polygon",this.innerRadiusRatio=0,this.defaultTickMinSpacing=20}computeLabelsBBox(t,e){return null}};y([x(bt(["polygon","circle"],"a polar axis shape"))],Hc.prototype,"shape",2);y([x(Je)],Hc.prototype,"innerRadiusRatio",2);var XD=class t extends hd{constructor(e,i){super(e,i),this.padding=new aa(40),this.ctx.axisManager.axisGroup.zIndex=6}getChartType(){return"polar"}performLayout(){return j(this,null,function*(){let e=yield fs(t.prototype,this,"performLayout").call(this),i=e.clone();return this.computeSeriesRect(e),yield this.computeCircle(e),this.axes.forEach(n=>n.update()),this.ctx.layoutService.dispatchLayoutComplete({type:"layout-complete",chart:{width:this.ctx.scene.width,height:this.ctx.scene.height},clipSeries:!1,series:{rect:i,paddedRect:e,visible:!0},axes:[]}),e})}updateAxes(e,i,n){let r=this.axes.find(c=>c.direction==="x"),o=this.axes.find(c=>c.direction==="y");if(!(r instanceof Hc)||!(o instanceof Hc))return;let s=r.scale,a=s.ticks?.().map(c=>s.convert(c)),l=o.innerRadiusRatio;r.innerRadiusRatio=l,r.computeRange?.(),r.gridLength=n,o.gridAngles=a,o.gridRange=r.range,o.range=[n,n*l],[r,o].forEach(c=>{c.translation.x=e,c.translation.y=i,c.calculateLayout()})}computeSeriesRect(e){let{seriesArea:{padding:i}}=this;e.shrink(i.left,"left"),e.shrink(i.top,"top"),e.shrink(i.right,"right"),e.shrink(i.bottom,"bottom"),this.seriesRect=e,this.animationRect=e}computeCircle(e){return j(this,null,function*(){let i=this.series.filter(d=>d instanceof ny),n=this.axes.filter(d=>d instanceof Hc),r=(d,u,h)=>{this.updateAxes(d,u,h),i.forEach(p=>{p.centerX=d,p.centerY=u,p.radius=h});let f=i.filter(p=>p.type==="donut"||p.type==="pie");if(f.length>1){let p=f.map(m=>{let b=m.getInnerRadius();return{series:m,innerRadius:b}}).sort((m,b)=>m.innerRadius-b.innerRadius);p.at(-1).series.surroundingRadius=void 0;for(let m=0;m<p.length-1;m++)p[m].series.surroundingRadius=p[m+1].innerRadius}},o=e.x+e.width/2,s=e.y+e.height/2,a=Math.max(0,Math.min(e.width,e.height)/2),l=a;r(o,s,l);let c=(...u)=>j(this,[...u],function*({hideWhenNecessary:d=!1}={}){let h=[];for(let m of[...n,...i]){let b=yield m.computeLabelsBBox({hideWhenNecessary:d},e);b&&h.push(b)}if(h.length===0){r(o,s,a);return}let f=se.merge(h),p=this.refineCircle(f,l,e);r(p.centerX,p.centerY,p.radius),p.radius!==l&&(l=p.radius)});return yield c(),yield c(),yield c(),yield c({hideWhenNecessary:!0}),yield c({hideWhenNecessary:!0}),{radius:l,centerX:o,centerY:s}})}refineCircle(e,i,n){let o=-i,s=-i,a=i,l=i,c=Math.max(0,o-e.x),d=Math.max(0,s-e.y),u=Math.max(0,e.x+e.width-a),h=Math.max(0,e.y+e.height-l);c=u=Math.max(c,u),d=h=Math.max(d,h);let f=n.width-c-u,p=n.height-d-h,m=Math.min(f,p)/2,b=.5*n.width/2,g=.5*n.height/2,v=Math.min(b,g);if(m<v){m=v;let I=c+u,D=d+h;if(2*m+D>n.height){let _=n.height-2*m;Math.min(d,h)*2>_?(d=_/2,h=_/2):d>h?d=_-h:h=_-d}if(2*m+I>n.width){let _=n.width-2*m;Math.min(c,u)*2>_?(c=_/2,u=_/2):c>u?c=_-u:u=_-c}}let M=c+2*m+u,w=d+2*m+h;return{centerX:n.x+(n.width-M)/2+c+m,centerY:n.y+(n.height-w)/2+d+m,radius:m}}};XD.className="PolarChart";XD.type="polar";var oy=Math.PI/180,u_=t=>t*oy,h_=t=>-Math.log(Math.tan(Math.PI*.25+t*oy*.5)),f_=t=>t/oy,p_=t=>(Math.atan(Math.exp(-t))-Math.PI*.25)/(oy*.5),$_=class W_{constructor(e,i){this.domain=e,this.range=i,this.type="mercator",this.bounds=W_.bounds(e)}static bounds(e){let[[i,n],[r,o]]=e,s=u_(i),a=h_(n),l=u_(r),c=h_(o);return new se(Math.min(s,l),Math.min(a,c),Math.abs(l-s),Math.abs(c-a))}static fixedScale(){return new W_([[f_(0),p_(0)],[f_(1),p_(1)]],[[0,0],[1,1]])}convert([e,i]){let[[n,r],[o,s]]=this.range,a=(o-n)/this.bounds.width,l=(s-r)/this.bounds.height;return[(u_(e)-this.bounds.x)*a+n,(h_(i)-this.bounds.y)*l+r]}invert([e,i]){let[[n,r],[o,s]]=this.range,a=(o-n)/this.bounds.width,l=(s-r)/this.bounds.height;return[f_((e-n)/a+this.bounds.x),p_((i-r)/l+this.bounds.y)]}};function l1(t){return t.type==="map-shape"||t.type==="map-line"||t.type==="map-marker"||t.type==="map-shape-background"||t.type==="map-line-background"}var QD=class t extends hd{constructor(e,i){super(e,i),this.xAxis=new ta(this.getModuleContext()),this.xAxis.position="bottom",this.yAxis=new ta(this.getModuleContext()),this.yAxis.position="left",this.ctx.zoomManager.updateAxes([this.xAxis,this.yAxis])}getChartType(){return"topology"}updateData(){return j(this,null,function*(){yield fs(t.prototype,this,"updateData").call(this);let{topology:e}=this.getOptions();this.series.forEach(i=>{l1(i)&&i.setChartTopology(e)})})}performLayout(){return j(this,null,function*(){let e=yield fs(t.prototype,this,"performLayout").call(this),{seriesArea:{padding:i},seriesRoot:n,annotationRoot:r,highlightRoot:o}=this,s=e.clone();e.shrink(i.left,"left"),e.shrink(i.top,"top"),e.shrink(i.right,"right"),e.shrink(i.bottom,"bottom"),this.seriesRect=e,this.animationRect=e;let a=this.series.filter(l1),l=a.reduce((u,h)=>{if(!h.visible)return u;let f=h.topologyBounds;return f==null?u:u==null?f:(u.merge(f),u)},void 0),c;if(l!=null){let{lon0:u,lat0:h,lon1:f,lat1:p}=l,m=[[u,h],[f,p]],b=$_.bounds(m),{width:g,height:v}=e,M=Math.min(g/b.width,v/b.height),w=b.width*M,I=b.height*M,D=(g-w)/2,_=(v-I)/2,S=D,E=_,T=D+w,k=_+I,P=this.ctx.zoomManager.getAxisZoom(this.xAxis.id),Z=this.ctx.zoomManager.getAxisZoom(this.yAxis.id),ne=(T-S)/(P.max-P.min),z=S-ne*P.min,R=(k-E)/(1-Z.min-(1-Z.max)),A=E-R*(1-Z.max);c=new $_(m,[[z,A],[z+ne,A+R]])}a.forEach(u=>{u.scale=c});let d=this.series.some(u=>u.visible);n.visible=d;for(let u of[n,r,o])u.translationX=Math.floor(e.x),u.translationY=Math.floor(e.y),u.setClipRectInGroupCoordinateSpace(new se(e.x,e.y,e.width,e.height));return this.ctx.layoutService.dispatchLayoutComplete({type:"layout-complete",chart:{width:this.ctx.scene.width,height:this.ctx.scene.height},clipSeries:!1,series:{rect:s,paddedRect:e,visible:d},axes:[]}),e})}};QD.className="TopologyChart";QD.type="topology";var Vs={isEnterprise:!1};function Jt(t,e){if(ln(t))return e(t)}var tZ=["ohlc","line","step-line","hlc","high-low","candlestick","hollow-candlestick"];function iZ(t,e){let Z=t,{xKey:i,dateKey:n=i??"date",highKey:r="high",openKey:o="open",lowKey:s="low",closeKey:a="close",volumeKey:l="volume",chartType:c="candlestick",navigator:d=!1,volume:u=!0,rangeToolbar:h,rangeButtons:f=h??!0,statusBar:p=!0,annotations:m,toolbar:b=m??!0,zoom:g=!0,theme:v,data:M}=Z,w=pt(Z,["xKey","dateKey","highKey","openKey","lowKey","closeKey","volumeKey","chartType","navigator","volume","rangeToolbar","rangeButtons","statusBar","annotations","toolbar","zoom","theme","data"]);i!=null&&Y.warnOnce("Property [xKey] is deprecated, use [dateKey] instead."),h!=null&&Y.warnOnce("Property [rangeToolbar] is deprecated, use [rangeButtons] instead."),m!=null&&Y.warnOnce("Property [annotations] is deprecated, use [toolbar] instead.");let I=rZ(v,c,n,r,s,o,a),D=nZ(v,e,o,a,u,l),S={navigator:C({enabled:d},u?{miniChart:{enabled:d,series:[{type:"line",xKey:n,yKey:l,marker:{enabled:!1}}]}}:null)},E=p?{statusBar:{enabled:!0,data:M,highKey:r,openKey:o,lowKey:s,closeKey:a,volumeKey:u?l:void 0}}:null,T={zoom:{enabled:g,enableIndependentAxes:!0}},k={chartToolbar:{enabled:!0},toolbar:{seriesType:{enabled:b},annotationOptions:{enabled:b},annotations:{enabled:b},ranges:{enabled:f}}},P=u?[{type:"number",position:"left",keys:[l],label:{enabled:!1},crosshair:{enabled:!1},gridLine:{enabled:!1},nice:!1,layoutConstraints:{stacked:!1,width:20,unit:"percentage",align:"end"}}]:[];return C(C(C(C(C({theme:typeof v=="string"?v:C({baseTheme:"ag-financial"},v??{}),animation:{enabled:!1},legend:{enabled:!1},series:[...D,...I],padding:{top:6,right:8,bottom:5},axes:[{type:"number",position:"right",keys:[o,a,r,s],interval:{maxSpacing:Jt(v,ne=>ne.overrides?.common?.axes?.number?.interval?.maxSpacing)??45},label:{format:Jt(v,ne=>ne.overrides?.common?.axes?.number?.label?.format)??".2f"},crosshair:{enabled:!0,snap:!1},layoutConstraints:{stacked:!1,width:100,unit:"percentage",align:"start"}},...P,{type:"ordinal-time",position:"bottom",line:{enabled:!1},label:{enabled:!0},crosshair:{enabled:!0}}],annotations:{enabled:b},tooltip:{enabled:!1},data:M,titlePadding:4},S),E),T),k),w)}function nZ(t,e,i,n,r,o){if(!r)return[];let s=Jt(t,l=>l.overrides?.bar?.series?.fill),a=s?{fill:s}:{itemStyler({datum:l}){let{up:c,down:d}=e().palette;return{fill:l[i]<l[n]?c?.fill:d?.fill}}};return[C({type:"bar",xKey:"date",yKey:o,tooltip:{enabled:!1},highlight:{enabled:!1},fillOpacity:Jt(t,l=>l.overrides?.bar?.series?.fillOpacity)??.5},a)]}var ig="range-area";function rZ(t,e,i,n,r,o,s){e===ig&&(Y.warnOnce(`type '${e}' is deprecated, use 'hlc' chart type instead`),e="hlc");let a={xKey:i,openKey:o,closeKey:s,highKey:n,lowKey:r},l={xKey:i,yKey:s},c={pickOutsideVisibleMinorAxis:!0};switch(e??"candlestick"){case"ohlc":return[C(C({type:"ohlc"},c),a)];case"line":return[L(C(C({type:"line"},c),l),{stroke:Jt(t,f=>f.overrides?.line?.series?.stroke)??sh,marker:Jt(t,f=>f.overrides?.line?.series?.marker)??{enabled:!1}})];case"step-line":return[L(C(C({type:"line"},c),l),{stroke:Jt(t,f=>f.overrides?.line?.series?.stroke)??sh,interpolation:Jt(t,f=>f.overrides?.line?.series?.interpolation)??{type:"step"},marker:Jt(t,f=>f.overrides?.line?.series?.marker)??{enabled:!1}})];case"hlc":let d=c1(ig,t);return[L(C({type:ig},c),{xKey:i,yHighKey:n,yLowKey:s,fill:d.fill??aD,stroke:d.stroke??oD,fillOpacity:Jt(t,f=>f.overrides?.["range-area"]?.series?.fillOpacity)??.3,strokeWidth:Jt(t,f=>f.overrides?.["range-area"]?.series?.strokeWidth)??2}),L(C({type:ig},c),{xKey:i,yHighKey:s,yLowKey:r,fill:d.fill??lD,stroke:d.stroke??sD,fillOpacity:Jt(t,f=>f.overrides?.["range-area"]?.series?.fillOpacity)??.3,strokeWidth:Jt(t,f=>f.overrides?.["range-area"]?.series?.strokeWidth)??2}),L(C(C({type:"line"},c),l),{stroke:Jt(t,f=>f.overrides?.line?.series?.stroke)??dD,strokeWidth:Jt(t,f=>f.overrides?.line?.series?.strokeWidth)??2,marker:Jt(t,f=>f.overrides?.line?.series?.marker)??{enabled:!1}})];case"high-low":let u=c1("range-bar",t);return[L(C({type:"range-bar"},c),{xKey:i,yHighKey:n,yLowKey:r,fill:u.fill??cD,stroke:u.stroke??sh,tooltip:{range:"nearest"}})];case"candlestick":return[C(C({type:"candlestick"},c),a)];case"hollow-candlestick":let h=Jt(t,f=>f.overrides?.candlestick?.series?.item);return[L(C(C({type:"candlestick"},c),a),{item:{up:{fill:h?.up?.fill??"transparent"}}})];default:return Y.warnOnce(`unknown chart type: ${e}; expected one of: ${tZ.join(", ")}`),[C(C({type:"candlestick"},c),a)]}}function c1(t,e){let i=Jt(e,r=>r.overrides?.[t]?.series?.fill),n=Jt(e,r=>r.overrides?.[t]?.series?.stroke);return{fill:i,stroke:n}}var oZ={"price-volume":iZ};function d1(t,e){let i=[],n=ei.get(Ml(t));for(let{type:r,chartTypes:o,optionsKey:s,optionsInnerKey:a,identifier:l}of cd)if(!(n!=="unknown"&&!o.includes(n))){if(r==="root"||r==="legend"){let c=t[s];if(c==null)continue;a?c[a]&&(i.push(`${s}.${a}`),delete c[a]):(i.push(s),delete t[s])}else if(r==="axis"){if(!("axes"in t)||!t.axes?.some(c=>c.type===l))continue;i.push(`axis[type=${l}]`),t.axes=t.axes.filter(c=>c.type!==l)}else if(r==="axis-option"){if(!("axes"in t)||!t.axes?.some(c=>c[s]))continue;i.push(`axis.${s}`),t.axes.forEach(c=>{c[s]&&delete c[s]})}else if(r==="series"){if(!t.series?.some(c=>c.type===l))continue;i.push(`series[type=${l}]`),t.series=t.series.filter(c=>c.type!==l)}else if(r==="series-option"){if(!t.series?.some(c=>c[s]))continue;i.push(`series.${s}`),t.series.forEach(c=>{c[s]&&delete c[s]})}}if(i.length&&!e){let r="ag-charts-enterprise",o="https://charts.ag-grid.com/javascript/installation/";t.mode==="integrated"&&(r="ag-grid-charts-enterprise' or 'ag-grid-enterprise/charts-enterprise",o="https://www.ag-grid.com/javascript-data-grid/integrated-charts-installation/"),Y.warnOnce([`unable to use these enterprise features as '${r}' has not been loaded:`,"",...i,"",`See: ${o}`].join(`
`))}}function sZ(t,e=1/0){switch(typeof t){case"undefined":return"undefined";case"number":if(isNaN(t))return"NaN";if(t===1/0)return"Infinity";if(t===-1/0)return"-Infinity";default:return t=JSON.stringify(t),t.length>e?`${t.slice(0,e)}... (+${t.length-e} characters)`:t}}var sy=Symbol("description"),aZ=Symbol("required");function lZ(t,e,i){let{errors:n}=bP(t,e,i);for(let{message:r}of n)Y.warn(r);return n.length===0}function u1(t,e,i){let n=cn(i)?i:i[sy],r=n?`; expecting ${n}`:"";return`${t?`Option \`${t}\``:"Value"} cannot be set to \`${sZ(e)}\`${r}, ignoring.`}function bP(t,e,i=""){if(!ln(t))return{valid:null,errors:[{path:i,value:t,message:u1(i,t,"an object")}]};let n=new Set(Object.keys(t)),r=[],o={};function s(a){return Rt(e)?`${i}[${a}]`:i?`${i}.${a}`:a}for(let[a,l]of Object.entries(e)){n.delete(a);let c=t[a];if(!(!l[aZ]&&typeof c>"u"))if(Qo(l))l(c)?o[a]=c:r.push({key:a,path:i,value:c,message:u1(s(a),c,l)});else{let d=bP(c,l,s(a));o[a]=d.valid,r.push(...d.errors)}}for(let a of n)r.push({key:a,path:i,unknown:!0,message:`Unknown option \`${s(a)}\`, ignoring.`});return{valid:o,errors:r}}function _o(t,e){return Object.assign(i=>t(i),{[sy]:e})}var cZ=(...t)=>_o(e=>t.some(i=>i(e)),t.map(e=>e[sy]).filter(Boolean).join(" or ")),sse=_o(Rt,"an array"),ase=_o(aM,"a boolean"),lse=_o(Qo,"a function"),cse=_o(We,"a number"),h1=_o(ln,"an object"),Vo=_o(cn,"a string"),vP=(t,e=!0)=>_o(i=>We(i)&&(i>t||e&&i===t),`a number greater than ${e?"or equal to ":""}${t}`),xP=(t,e)=>_o(i=>We(i)&&i>=t&&i<=e,`a number between ${t} and ${e} inclusive`),dse=vP(0),use=vP(1),hse=xP(0,1),fse=xP(0,360),f1=(t,e)=>_o(i=>Rt(i)&&i.every(t),e??`${t[sy]} array`);function Y_(t){return t?.up||t?.down||t?.neutral?"user-full":t?.fills||t?.strokes?"user-indexed":"inbuilt"}var ng="white",Z_={get cartesian(){return{seriesTypes:ei.cartesianTypes,commonOptions:["zoom","navigator"]}},get polar(){return{seriesTypes:ei.polarTypes,commonOptions:[]}},get hierarchy(){return{seriesTypes:ei.hierarchyTypes,commonOptions:[]}},get topology(){return{seriesTypes:ei.topologyTypes,commonOptions:[]}},get"flow-proportion"(){return{seriesTypes:ei.flowProportionTypes,commonOptions:[]}}},dZ=Object.values(Z_).reduce((t,{commonOptions:e})=>t.concat(e),[]),tr=class _P{static getAxisDefaults(e){return Be(e,{title:{enabled:!1,text:"Axis Title",spacing:25,fontWeight:"normal",fontSize:13,fontFamily:zt,color:ci},label:{fontSize:12,fontFamily:zt,padding:5,color:ci,avoidCollisions:!0},line:{enabled:!0,width:1,stroke:ug},tick:{enabled:!1,width:1,stroke:ug},gridLine:{enabled:!0,style:[{stroke:Qc,lineDash:[]}]},crossLines:{enabled:!1,fill:oh,stroke:oh,fillOpacity:.1,strokeWidth:1,label:{enabled:!1,fontSize:12,fontFamily:zt,padding:5,color:ci}},crosshair:{enabled:!0}})}getChartDefaults(){return{minHeight:300,minWidth:300,background:{visible:!0,fill:_g},padding:{top:zs,right:zs,bottom:zs,left:zs},keyboard:{enabled:!0},title:{enabled:!1,text:"Title",fontWeight:"normal",fontSize:17,fontFamily:zt,color:ci,wrapping:"hyphenate",layoutStyle:al,textAlign:ll},subtitle:{enabled:!1,text:"Subtitle",spacing:20,fontSize:13,fontFamily:zt,color:ml,wrapping:"hyphenate",layoutStyle:al,textAlign:ll},footnote:{enabled:!1,text:"Footnote",spacing:20,fontSize:13,fontFamily:zt,color:"rgb(140, 140, 140)",wrapping:"hyphenate",layoutStyle:al,textAlign:ll},legend:{position:"bottom",spacing:30,listeners:{},toggleSeries:!0,item:{paddingX:16,paddingY:8,marker:{size:15,padding:8},showSeriesStroke:!0,label:{color:ci,fontSize:12,fontFamily:zt}},reverseOrder:!1,pagination:{marker:{size:12},activeStyle:{fill:ci},inactiveStyle:{fill:ml},highlightStyle:{fill:ci},label:{color:ci}}},tooltip:{enabled:!0,darkTheme:rh,delay:0},overlays:{darkTheme:rh},listeners:{}}}constructor(e={}){let{overrides:i,palette:n}=vi(e),r=this.createChartConfigPerChartType(this.getDefaults());i&&this.mergeOverrides(r,i);let l=this.getDefaultColors(),{fills:o,strokes:s}=l,a=pt(l,["fills","strokes"]);this.palette=Be(n,C({fills:Object.values(o),strokes:Object.values(s)},a)),this.paletteType=Y_(n),this.config=Object.freeze(this.templateTheme(r))}mergeOverrides(e,i){for(let{seriesTypes:n,commonOptions:r}of Object.values(Z_)){let o=C({},i.common);for(let s of dZ)r.includes(s)||delete o[s];if(o)for(let s of n){let a=s;e[a]=Be(o,e[a])}}ei.seriesTypes.forEach(n=>{let r=n;i[r]&&(e[r]=Be(i[r],e[r]))})}createChartConfigPerChartType(e){for(let[i,{seriesTypes:n}]of Object.entries(Z_)){let r=j_.get(i);for(let o of n)e[o]||(e[o]=vi(r))}return e}getDefaults(){let e=(i,n)=>{let r={},o=C(C(C({axes:{}},FM.getThemeTemplates()),this.getChartDefaults()),j_.get(i));for(let s of n){r[s]=Be(on.getThemeTemplate(s),r[s]??vi(o));let{axes:a}=r[s];for(let l of Yo.keys())a[l]=Be(a[l],Yo.getThemeTemplate(l),_P.cartesianAxisDefault[l])}return r};return Be(e("cartesian",ei.cartesianTypes),e("polar",ei.polarTypes),e("hierarchy",ei.hierarchyTypes),e("topology",ei.topologyTypes),e("flow-proportion",ei.flowProportionTypes))}templateTheme(e){let i=vi(e),n=this.getTemplateParameters();return ho(i,r=>{if(Rt(r))for(let o=0;o<r.length;o++){let s=r[o];n.has(s)&&(r[o]=n.get(s))}else for(let[o,s]of Object.entries(r))n.has(s)&&(r[o]=n.get(s))}),vi(i)}getDefaultColors(){return{fills:Ti,strokes:ao,up:{fill:Ti.GREEN,stroke:ao.GREEN},down:{fill:Ti.RED,stroke:ao.RED},neutral:{fill:Ti.GRAY,stroke:ao.GRAY},altUp:{fill:Ti.BLUE,stroke:ao.BLUE},altDown:{fill:Ti.ORANGE,stroke:ao.ORANGE},altNeutral:{fill:Ti.GRAY,stroke:ao.GRAY}}}getTemplateParameters(){let e=new Map;e.set(rh,!1),e.set(zt,"Verdana, sans-serif"),e.set(ci,"rgb(70, 70, 70)"),e.set(kO,"white"),e.set(ml,"rgb(140, 140, 140)"),e.set(Qc,"rgb(224,234,241)"),e.set(ug,"rgb(195, 195, 195)"),e.set(oh,"rgb(70, 70, 70)"),e.set(Tl,ng),e.set(_g,ng),e.set(Al,"rgba(0, 0, 0, 0.5)"),e.set(Nn,[Ti.ORANGE,Ti.YELLOW,Ti.GREEN]),e.set(zs,20),e.set(al,"block"),e.set(ll,"center"),e.set(hD,["#ffffff","#e0e5ea","#c1ccd5","#a3b4c1","#859cad"]),e.set(fD,["#ffffff","#c5cbd1","#a4b1bd","#8498a9","#648096"]),e.set(uD,ng),e.set(kn,Ti.BLUE),e.set(pD,Ti.BLUE),e.set(Rn,Ti.BLUE),e.set(mD,ng),e.set(gD,"#fafafa"),e.set(yD,"#dddddd"),e.set(bD,"#000000"),e.set(Vh,"top"),e.set($o,!1);let i=this.getDefaultColors();return e.set(oD,this.palette.up?.stroke??i.up.stroke),e.set(aD,this.palette.up?.fill??i.up.fill),e.set(sD,this.palette.down?.stroke??i.down.stroke),e.set(lD,this.palette.down?.fill??i.down.fill),e.set(sh,this.palette.neutral?.stroke??i.neutral.stroke),e.set(cD,this.palette.neutral?.fill??i.neutral.fill),e.set(RO,this.palette.altUp?.stroke??i.up.stroke),e.set(OO,this.palette.altUp?.fill??i.up.fill),e.set(LO,this.palette.altDown?.stroke??i.down.stroke),e.set(PO,this.palette.altDown?.fill??i.down.fill),e.set(FO,this.palette.altNeutral?.fill??i.altNeutral.fill),e.set(dD,this.palette.altNeutral?.stroke??i.altNeutral.stroke),e}};tr.cartesianAxisDefault={number:tr.getAxisDefaults({line:{enabled:!1}}),log:tr.getAxisDefaults({base:10,line:{enabled:!1}}),category:tr.getAxisDefaults({groupPaddingInner:.1,label:{autoRotate:!0},gridLine:{enabled:$o},crosshair:{enabled:!1}}),time:tr.getAxisDefaults({gridLine:{enabled:$o}}),"ordinal-time":tr.getAxisDefaults({groupPaddingInner:0,label:{autoRotate:!1},gridLine:{enabled:$o}}),"angle-category":tr.getAxisDefaults({gridLine:{enabled:$o}}),"angle-number":tr.getAxisDefaults({gridLine:{enabled:$o}}),"radius-category":tr.getAxisDefaults({line:{enabled:!1}}),"radius-number":tr.getAxisDefaults({line:{enabled:!1}}),"grouped-category":tr.getAxisDefaults({tick:{enabled:!0}})};var as=tr,rg="#192232",Yn={BLUE:"#5090dc",ORANGE:"#ffa03a",GREEN:"#459d55",CYAN:"#34bfe1",YELLOW:"#e1cc00",VIOLET:"#9669cb",GRAY:"#b5b5b5",MAGENTA:"#bd5aa7",BROWN:"#8a6224",RED:"#ef5452"},qa={BLUE:"#74a8e6",ORANGE:"#ffbe70",GREEN:"#6cb176",CYAN:"#75d4ef",YELLOW:"#f6e559",VIOLET:"#aa86d8",GRAY:"#a1a1a1",MAGENTA:"#ce7ab9",BROWN:"#997b52",RED:"#ff7872"},_d=class extends as{getDefaultColors(){return{fills:Yn,strokes:qa,up:{fill:Yn.GREEN,stroke:qa.GREEN},down:{fill:Yn.RED,stroke:qa.RED},neutral:{fill:Yn.GRAY,stroke:qa.GRAY},altUp:{fill:Yn.BLUE,stroke:qa.BLUE},altDown:{fill:Yn.ORANGE,stroke:qa.ORANGE},altNeutral:{fill:Yn.GRAY,stroke:qa.GRAY}}}getTemplateParameters(){let t=super.getTemplateParameters();return t.set(rh,!0),t.set(uD,rg),t.set(ci,"white"),t.set(ml,"#7D91A0"),t.set(Qc,"#545A6E"),t.set(oh,"white"),t.set(Nn,[Yn.ORANGE,Yn.YELLOW,Yn.GREEN]),t.set(hD,["#192834","#253746","#324859","#3f596c","#4d6a80"]),t.set(fD,["#192834","#3b5164","#496275","#577287","#668399"]),t.set(_g,rg),t.set(Tl,rg),t.set(kn,Yn.BLUE),t.set(pD,"white"),t.set(Rn,Yn.BLUE),t.set(mD,rg),t.set(gD,"#28313e"),t.set(yD,"#4b525d"),t.set(bD,"#ffffff"),t}constructor(t){super(t)}},Zn={GREEN:"#089981",RED:"#F23645",BLUE:"#5090dc",GRAY:"#A9A9A9"},Ka={GREEN:"#089981",RED:"#F23645",BLUE:"#5090dc",GRAY:"#909090"},uZ=class extends _d{getDefaultColors(){return{fills:C({},Zn),strokes:C({},Ka),up:{fill:Zn.GREEN,stroke:Ka.GREEN},down:{fill:Zn.RED,stroke:Ka.RED},neutral:{fill:Zn.BLUE,stroke:Ka.BLUE},altUp:{fill:Zn.GREEN,stroke:Ka.GREEN},altDown:{fill:Zn.RED,stroke:Ka.RED},altNeutral:{fill:Zn.GRAY,stroke:Ka.GRAY}}}getTemplateParameters(){let t=super.getTemplateParameters();return t.set(Nn,[Zn.GREEN,Zn.BLUE,Zn.RED]),t.set(kn,Zn.BLUE),t.set(Rn,Zn.BLUE),t.set(Qc,"#343A4E"),t.set(zs,0),t.set(al,"overlay"),t.set(ll,"left"),t.set(Vh,"bottom"),t.set($o,!0),t}},qn={GREEN:"#089981",RED:"#F23645",BLUE:"#5090dc",GRAY:"#A9A9A9"},Xa={GREEN:"#089981",RED:"#F23645",BLUE:"#5090dc",GRAY:"#909090"},hZ=class extends as{getDefaultColors(){return{fills:C({},qn),strokes:C({},Xa),up:{fill:qn.GREEN,stroke:Xa.GREEN},down:{fill:qn.RED,stroke:Xa.RED},neutral:{fill:qn.BLUE,stroke:Xa.BLUE},altUp:{fill:qn.GREEN,stroke:Xa.GREEN},altDown:{fill:qn.RED,stroke:Xa.RED},altNeutral:{fill:qn.GRAY,stroke:Xa.GRAY}}}getTemplateParameters(){let t=super.getTemplateParameters();return t.set(Nn,[qn.GREEN,qn.BLUE,qn.RED]),t.set(kn,qn.BLUE),t.set(Rn,qn.BLUE),t.set(Qc,"#F2F3F3"),t.set(zs,0),t.set(al,"overlay"),t.set(ll,"left"),t.set(Vh,"bottom"),t.set($o,!0),t}},Kn={BLUE:"#2196F3",ORANGE:"#FF9800",GREEN:"#4CAF50",CYAN:"#00BCD4",YELLOW:"#FFEB3B",VIOLET:"#7E57C2",GRAY:"#9E9E9E",MAGENTA:"#F06292",BROWN:"#795548",RED:"#F44336"},Qa={BLUE:"#90CAF9",ORANGE:"#FFCC80",GREEN:"#A5D6A7",CYAN:"#80DEEA",YELLOW:"#FFF9C4",VIOLET:"#B39DDB",GRAY:"#E0E0E0",MAGENTA:"#F48FB1",BROWN:"#A1887F",RED:"#EF9A9A"},fZ=class extends _d{getDefaultColors(){return{fills:Kn,strokes:Qa,up:{fill:Kn.GREEN,stroke:Qa.GREEN},down:{fill:Kn.RED,stroke:Qa.RED},neutral:{fill:Kn.GRAY,stroke:Qa.GRAY},altUp:{fill:Kn.BLUE,stroke:Qa.BLUE},altDown:{fill:Kn.RED,stroke:Qa.RED},altNeutral:{fill:Kn.GRAY,stroke:Qa.GRAY}}}getTemplateParameters(){let t=super.getTemplateParameters();return t.set(Nn,[Kn.ORANGE,Kn.YELLOW,Kn.GREEN]),t.set(kn,Kn.BLUE),t.set(Rn,Kn.BLUE),t}},Xn={BLUE:"#2196F3",ORANGE:"#FF9800",GREEN:"#4CAF50",CYAN:"#00BCD4",YELLOW:"#FFEB3B",VIOLET:"#7E57C2",GRAY:"#9E9E9E",MAGENTA:"#F06292",BROWN:"#795548",RED:"#F44336"},Ja={BLUE:"#1565C0",ORANGE:"#E65100",GREEN:"#2E7D32",CYAN:"#00838F",YELLOW:"#F9A825",VIOLET:"#4527A0",GRAY:"#616161",MAGENTA:"#C2185B",BROWN:"#4E342E",RED:"#B71C1C"},pZ=class extends as{getDefaultColors(){return{fills:Xn,strokes:Ja,up:{fill:Xn.GREEN,stroke:Ja.GREEN},down:{fill:Xn.RED,stroke:Ja.RED},neutral:{fill:Xn.GRAY,stroke:Ja.GRAY},altUp:{fill:Xn.BLUE,stroke:Ja.BLUE},altDown:{fill:Xn.RED,stroke:Ja.RED},altNeutral:{fill:Xn.GRAY,stroke:Ja.GRAY}}}getTemplateParameters(){let t=super.getTemplateParameters();return t.set(Nn,[Xn.ORANGE,Xn.YELLOW,Xn.GREEN]),t.set(kn,Xn.BLUE),t.set(Rn,Xn.BLUE),t}},Lr={BLUE:"#436ff4",PURPLE:"#9a7bff",MAGENTA:"#d165d2",PINK:"#f0598b",RED:"#f47348",ORANGE:"#f2a602",YELLOW:"#e9e201",GREEN:"#21b448",CYAN:"#00b9a2",MODERATE_BLUE:"#00aee4",GRAY:"#bbbbbb"},el={BLUE:"#6698ff",PURPLE:"#c0a3ff",MAGENTA:"#fc8dfc",PINK:"#ff82b1",RED:"#ff9b70",ORANGE:"#ffcf4e",YELLOW:"#ffff58",GREEN:"#58dd70",CYAN:"#51e2c9",MODERATE_BLUE:"#4fd7ff",GRAY:"#eeeeee"},mZ=class extends _d{getDefaultColors(){return{fills:Lr,strokes:el,up:{fill:Lr.GREEN,stroke:el.GREEN},down:{fill:Lr.RED,stroke:el.RED},neutral:{fill:Lr.GRAY,stroke:el.GRAY},altUp:{fill:Lr.BLUE,stroke:el.BLUE},altDown:{fill:Lr.RED,stroke:el.RED},altNeutral:{fill:Lr.GRAY,stroke:el.GRAY}}}getTemplateParameters(){let t=super.getTemplateParameters();return t.set(Nn,[Lr.BLUE,Lr.RED]),t.set(kn,Lr.BLUE),t.set(Rn,Lr.BLUE),t}},Or={BLUE:"#436ff4",PURPLE:"#9a7bff",MAGENTA:"#d165d2",PINK:"#f0598b",RED:"#f47348",ORANGE:"#f2a602",YELLOW:"#e9e201",GREEN:"#21b448",CYAN:"#00b9a2",MODERATE_BLUE:"#00aee4",GRAY:"#bbbbbb"},tl={BLUE:"#2346c9",PURPLE:"#7653d4",MAGENTA:"#a73da9",PINK:"#c32d66",RED:"#c84b1c",ORANGE:"#c87f00",YELLOW:"#c1b900",GREEN:"#008c1c",CYAN:"#00927c",MODERATE_BLUE:"#0087bb",GRAY:"#888888"},gZ=class extends as{getDefaultColors(){return{fills:Or,strokes:tl,up:{fill:Or.GREEN,stroke:tl.GREEN},down:{fill:Or.RED,stroke:tl.RED},neutral:{fill:Or.GRAY,stroke:tl.GRAY},altUp:{fill:Or.BLUE,stroke:tl.BLUE},altDown:{fill:Or.RED,stroke:tl.RED},altNeutral:{fill:Or.GRAY,stroke:tl.GRAY}}}getTemplateParameters(){let t=super.getTemplateParameters();return t.set(Nn,[Or.BLUE,Or.RED]),t.set(kn,Or.BLUE),t.set(Rn,Or.BLUE),t}},Sn={BLUE:"#4472C4",ORANGE:"#ED7D31",GRAY:"#A5A5A5",YELLOW:"#FFC000",MODERATE_BLUE:"#5B9BD5",GREEN:"#70AD47",DARK_GRAY:"#7B7B7B",DARK_BLUE:"#264478",VERY_DARK_GRAY:"#636363",DARK_YELLOW:"#997300"},js={BLUE:"#6899ee",ORANGE:"#ffa55d",GRAY:"#cdcdcd",YELLOW:"#ffea53",MODERATE_BLUE:"#82c3ff",GREEN:"#96d56f",DARK_GRAY:"#a1a1a1",DARK_BLUE:"#47689f",VERY_DARK_GRAY:"#878787",DARK_YELLOW:"#c0993d"},yZ=class extends _d{getDefaultColors(){return{fills:L(C({},Sn),{RED:Sn.ORANGE}),strokes:L(C({},js),{RED:js.ORANGE}),up:{fill:Sn.GREEN,stroke:js.GREEN},down:{fill:Sn.ORANGE,stroke:js.ORANGE},neutral:{fill:Sn.GRAY,stroke:js.GRAY},altUp:{fill:Sn.BLUE,stroke:js.BLUE},altDown:{fill:Sn.ORANGE,stroke:js.ORANGE},altNeutral:{fill:Sn.GRAY,stroke:js.GRAY}}}getTemplateParameters(){let t=super.getTemplateParameters();return t.set(Nn,[Sn.ORANGE,Sn.YELLOW,Sn.GREEN]),t.set(kn,Sn.BLUE),t.set(Rn,Sn.BLUE),t}},Qn={BLUE:"#5281d5",ORANGE:"#ff8d44",GRAY:"#b5b5b5",YELLOW:"#ffd02f",MODERATE_BLUE:"#6aabe6",GREEN:"#7fbd57",DARK_GRAY:"#8a8a8a",DARK_BLUE:"#335287",VERY_DARK_GRAY:"#717171",DARK_YELLOW:"#a98220"},Uo={BLUE:"#214d9b",ORANGE:"#c25600",GRAY:"#7f7f7f",YELLOW:"#d59800",MODERATE_BLUE:"#3575ac",GREEN:"#4b861a",DARK_GRAY:"#575757",DARK_BLUE:"#062253",VERY_DARK_GRAY:"#414141",DARK_YELLOW:"#734f00"},bZ=class extends as{getDefaultColors(){return{fills:L(C({},Qn),{RED:Qn.ORANGE}),strokes:L(C({},Uo),{RED:Uo.ORANGE}),up:{fill:Qn.GREEN,stroke:Uo.GREEN},down:{fill:Qn.ORANGE,stroke:Uo.ORANGE},neutral:{fill:Uo.GRAY,stroke:Uo.GRAY},altUp:{fill:Qn.BLUE,stroke:Uo.BLUE},altDown:{fill:Qn.ORANGE,stroke:Uo.ORANGE},altNeutral:{fill:Qn.GRAY,stroke:Uo.GRAY}}}getTemplateParameters(){let t=super.getTemplateParameters();return t.set(Nn,[Qn.ORANGE,Qn.YELLOW,Qn.GREEN]),t.set(kn,Qn.BLUE),t.set(Rn,Qn.BLUE),t}},Jn={BLUE:"#0083ff",ORANGE:"#ff6600",GREEN:"#00af00",CYAN:"#00ccff",YELLOW:"#f7c700",VIOLET:"#ac26ff",GRAY:"#a7a7b7",MAGENTA:"#e800c5",BROWN:"#b54300",RED:"#ff0000"},il={BLUE:"#67b7ff",ORANGE:"#ffc24d",GREEN:"#5cc86f",CYAN:"#54ebff",VIOLET:"#fff653",YELLOW:"#c18aff",GRAY:"#aeaeae",MAGENTA:"#f078d4",BROWN:"#ba8438",RED:"#ff726e"},vZ=class extends _d{getDefaultColors(){return{fills:Jn,strokes:il,up:{fill:Jn.GREEN,stroke:il.GREEN},down:{fill:Jn.RED,stroke:il.RED},neutral:{fill:Jn.GRAY,stroke:il.GRAY},altUp:{fill:Jn.BLUE,stroke:il.BLUE},altDown:{fill:Jn.ORANGE,stroke:il.ORANGE},altNeutral:{fill:Jn.GRAY,stroke:il.GRAY}}}getTemplateParameters(){let t=super.getTemplateParameters();return t.set(Nn,[Jn.ORANGE,Jn.YELLOW,Jn.GREEN]),t.set(kn,Jn.BLUE),t.set(Rn,Jn.BLUE),t}},er={BLUE:"#0083ff",ORANGE:"#ff6600",GREEN:"#00af00",CYAN:"#00ccff",YELLOW:"#f7c700",VIOLET:"#ac26ff",GRAY:"#a7a7b7",MAGENTA:"#e800c5",BROWN:"#b54300",RED:"#ff0000"},nl={BLUE:"#0f68c0",ORANGE:"#d47100",GREEN:"#007922",CYAN:"#009ac2",VIOLET:"#bca400",YELLOW:"#753cac",GRAY:"#646464",MAGENTA:"#9b2685",BROWN:"#6c3b00",RED:"#cb0021"},xZ=class extends as{getDefaultColors(){return{fills:er,strokes:nl,up:{fill:er.GREEN,stroke:nl.GREEN},down:{fill:er.RED,stroke:nl.RED},neutral:{fill:er.GRAY,stroke:nl.GRAY},altUp:{fill:er.BLUE,stroke:nl.BLUE},altDown:{fill:er.ORANGE,stroke:nl.ORANGE},altNeutral:{fill:er.GRAY,stroke:nl.GRAY}}}getTemplateParameters(){let t=super.getTemplateParameters();return t.set(Nn,[er.ORANGE,er.YELLOW,er.GREEN]),t.set(kn,er.BLUE),t.set(Rn,er.BLUE),t}},$c=()=>new as,_Z=()=>new _d,MP={"ag-default-dark":_Z,"ag-sheets-dark":()=>new yZ,"ag-polychroma-dark":()=>new mZ,"ag-vivid-dark":()=>new vZ,"ag-material-dark":()=>new fZ,"ag-financial-dark":()=>new uZ,null:$c,undefined:$c,"ag-default":$c,"ag-sheets":()=>new bZ,"ag-polychroma":()=>new gZ,"ag-vivid":()=>new xZ,"ag-material":()=>new pZ,"ag-financial":()=>new hZ};function JD(t){if(t instanceof as)return t;if(t==null||typeof t=="string"){let e=MP[t];return e?e():(Y.warnOnce(`the theme [${t}] is invalid, using [ag-default] instead.`),$c())}if(lZ(t,DZ,"theme")){let e=MZ(t),i=e.baseTheme?JD(e.baseTheme):$c();return new i.constructor(e)}return $c()}function MZ(t){let e=t,i,n=[];for(;typeof e=="object";)i??(i=e.palette),e.overrides&&n.push(e.overrides),e=e.baseTheme;return{baseTheme:e,overrides:Be(...n),palette:i}}var DZ={baseTheme:cZ(Vo,h1),overrides:h1,palette:{fills:f1(Vo),strokes:f1(Vo),up:{fill:Vo,stroke:Vo},down:{fill:Vo,stroke:Vo},neutral:{fill:Vo,stroke:Vo}}},wZ=new Set(["map-shape-background","map-line-background"]),DP=class{constructor(t,e){this.debug=gt.create(!0,"opts");var i;let n={shallow:["data"]};t=vi(t,n);let r=this.optionsType(t);Vs.isEnterprise||d1(t);let o=vi(t,n);if(this.type=e?.type,this.type!=null){let m=oZ[this.type]?.(o,()=>this.activeTheme)??o;this.debug(">>> AgCharts.createOrUpdate() - applying preset",o,m),o=m}this.activeTheme=JD(o.theme),this.type&&(o=this.activeTheme.templateTheme(o)),this.sanityCheckAndCleanup(o),this.defaultAxes=this.getDefaultAxes(o),this.specialOverrides=this.specialOverridesDefaults(C({},e));let u=this.getSeriesThemeConfig(r),{axes:s={},annotations:h={}}=u,f=h,{axesButtons:a=null}=f,l=pt(f,["axesButtons"]),p=u,{series:c}=p,d=pt(p,["axes","annotations","series"]);this.userOptions=t,this.processedOptions=vi(Be(o,a!=null?{annotations:{axesButtons:a}}:{},d,this.defaultAxes),n),this.processAxesOptions(this.processedOptions,s),this.processSeriesOptions(this.processedOptions),this.processMiniChartSeriesOptions(this.processedOptions),this.annotationThemes=l,(hl(this.processedOptions)||y8(this.processedOptions))&&this.processedOptions.legend?.enabled==null&&((i=this.processedOptions).legend??(i.legend={}),this.processedOptions.legend.enabled=this.processedOptions.series.length>1),this.enableConfiguredOptions(this.processedOptions),Vs.isEnterprise||d1(this.processedOptions,!0)}getOptions(){return this.processedOptions??{}}diffOptions(t){return Tn(t,this.processedOptions)}getSeriesThemeConfig(t){let e=vi(this.activeTheme?.config[t]??{});return this.removeLeftoverSymbols(e),e}getDefaultAxes(t){let e=this.optionsType(t),i=on.cloneDefaultAxes(e);return on.isDefaultAxisSwapNeeded(t)&&this.swapAxesPosition(i),i}optionsType(t){return t.series?.[0]?.type??"line"}sanityCheckAndCleanup(t){this.deprecationWarnings(t),this.axesTypeIntegrity(t),this.seriesTypeIntegrity(t),this.soloSeriesIntegrity(t),this.removeDisabledOptions(t),this.removeLeftoverSymbols(t),t.series?.some(e=>e.type==="bullet")&&t.sync!=null&&t.sync.enabled!==!1&&(Y.warnOnce("bullet series cannot be synced, disabling synchronization."),delete t.sync)}swapAxesPosition(t){if(hl(t)){let[e,i]=t.axes??[];t.axes=[L(C({},e),{position:i.position}),L(C({},i),{position:e.position})]}}processAxesOptions(t,e){"axes"in t&&(t.axes=t.axes.map(i=>{let u=Be(e[i.type]?.[i.position],e[i.type]),{crossLines:n}=u,r=pt(u,["crossLines"]);i.crossLines&&(i.crossLines=__(i.crossLines,n));let o=r.gridLine?.style;i.gridLine?.style&&o?.length&&(i.gridLine.style=i.gridLine.style.map((f,p)=>f.stroke!=null||f.lineDash!=null?Be(f,o.at(p%o.length)):f));let h=Be(i,r),{top:s,right:a,bottom:l,left:c}=h;return pt(h,["top","right","bottom","left"])}))}processSeriesOptions(t){let e=this.getDefaultSeriesType(t),i=this.getTooltipPositionDefaults(t),n=ln(t.theme)?Y_(t.theme?.palette):"inbuilt",r={colourIndex:0,userPalette:n},o=t.series?.map(s=>{s.type??(s.type=e);let f=this.getSeriesThemeConfig(s.type).series??{},{innerLabels:a}=f,l=pt(f,["innerLabels"]),c=wZ.has(s.type)?{colourIndex:0,userPalette:n}:r,d=this.getSeriesPalette(s.type,c),u=this.getTooltipRangeDefaults(t,s.type),h=Be(this.getSeriesGroupingOptions(s),s,i,u,l,d,{visible:!0});return h.innerLabels&&(h.innerLabels=__(h.innerLabels,a)),this.activeTheme.templateTheme(h)});t.series=this.setSeriesGroupingOptions(o??[])}processMiniChartSeriesOptions(t){let e=t.navigator?.miniChart?.series;if(e==null)return;let i={colourIndex:0,userPalette:ln(t.theme)?Y_(t.theme.palette):"inbuilt"};e=e.map(n=>{n.type??(n.type="line");let a=this.getSeriesThemeConfig(n.type).series??{},{innerLabels:r}=a,o=pt(a,["innerLabels"]),s=Be(this.getSeriesGroupingOptions(n),n,o,this.getSeriesPalette(n.type,i));return this.activeTheme.templateTheme(s)}),t.navigator.miniChart.series=this.setSeriesGroupingOptions(e)}getSeriesPalette(t,e){let i=on.getPaletteFactory(t),{colourIndex:n,userPalette:r}=e,{fills:o=[],strokes:s=[]}=this.activeTheme.palette;return i?.({userPalette:r,colorsCount:Math.max(o.length,s.length),themeTemplateParameters:this.activeTheme.getTemplateParameters(),palette:this.activeTheme.palette,takeColors(a){return e.colourIndex+=a,{fills:S_(o,a,n),strokes:S_(s,a,n)}}})}getSeriesGroupingOptions(t){let e=on.isGroupable(t.type),i=on.isStackable(t.type),n=on.isStackedByDefault(t.type);t.grouped&&!e&&Y.warnOnce(`unsupported grouping of series type "${t.type}".`),(t.stacked||t.stackGroup)&&!i&&Y.warnOnce(`unsupported stacking of series type "${t.type}".`);let{grouped:r,stacked:o}=t;return o??(o=(n||t.stackGroup!=null)&&!(e&&r)),r??(r=!0),{stacked:i&&o,grouped:e&&r&&!(i&&o)}}setSeriesGroupingOptions(t){let e=this.getSeriesGrouping(t);this.debug("setSeriesGroupingOptions() - series grouping: ",e);let i={},n=e.reduce((r,o)=>{var s;return o.groupType==="default"||(r[s=o.seriesType]??(r[s]=0),r[o.seriesType]+=o.groupType==="stack"?1:o.series.length),r},{});return e.flatMap(r=>{var o;switch(i[o=r.seriesType]??(i[o]=0),r.groupType){case"stack":let s=i[r.seriesType]++;return r.series.map((a,l)=>Object.assign(a,{seriesGrouping:{groupId:r.groupId,groupIndex:s,groupCount:n[r.seriesType],stackIndex:l,stackCount:r.series.length}}));case"group":return r.series.map(a=>Object.assign(a,{seriesGrouping:{groupId:r.groupId,groupIndex:i[r.seriesType]++,groupCount:n[r.seriesType],stackIndex:0,stackCount:0}}))}return r.series}).map(a=>{var l=a,{stacked:r,grouped:o}=l,s=pt(l,["stacked","grouped"]);return s})}getSeriesGroupId(t){return[t.type,t.xKey,t.stacked?t.stackGroup??"stacked":"grouped"].filter(Boolean).join("-")}getSeriesGrouping(t){let e=new Map;return t.reduce((i,n)=>{let r=n.type;if(!n.stacked&&!n.grouped)i.push({groupType:"default",seriesType:r,series:[n],groupId:"__default__"});else{let o=this.getSeriesGroupId(n);if(!e.has(o)){let a={groupType:n.stacked?"stack":"group",seriesType:r,series:[],groupId:o};e.set(o,a),i.push(a)}e.get(o).series.push(n)}return i},[])}getDefaultSeriesType(t){if(hl(t))return"line";if(qg(t))return"pie";if(zM(t))return"treemap";if(VM(t))return"map-shape";if(UM(t))return"sankey";throw new Error("Invalid chart options type detected.")}getTooltipPositionDefaults(t){let e=t.tooltip?.position;if(!sr(e))return;let{type:i,xOffset:n,yOffset:r}=e,o={};return cn(i)&&$1(y1,i)&&(o.type=i),We(n)&&(o.xOffset=n),We(r)&&(o.yOffset=r),{tooltip:{position:o}}}getTooltipRangeDefaults(t,e){return{tooltip:{range:t.tooltip?.range??on.getTooltipDefauls(e)?.range}}}deprecationWarnings(t){Object.entries({yKeys:"yKey",yNames:"yName"}).forEach(([i,n])=>{t.series?.some(r=>r[i]!=null)&&Y.warnOnce(`Property [series.${i}] is deprecated, please use [series.${n}] and multiple series instead.`)})}axesTypeIntegrity(t){if("axes"in t){let e=t.axes??[];for(let{type:i}of e)if(!v8(i)){delete t.axes;let n=Yo.publicKeys().join(", ");Y.warnOnce(`unknown axis type: ${i}; expected one of: ${n}`)}}}seriesTypeIntegrity(t){t.series=t.series?.filter(({type:e})=>{if(e==null||b8(e)||JY(e))return!0;Y.warnOnce(`unknown series type: ${e}; expected one of: ${VL.seriesTypes.join(", ")}`)})}soloSeriesIntegrity(t){let e=t.series;if(e&&e.length>1&&e.some(i=>on.isSolo(i.type))){let i=this.optionsType(t);if(on.isSolo(i))Y.warn(`series[0] of type '${i}' is incompatible with other series types. Only processing series[0]`),t.series=e.slice(0,1);else{let{solo:n,nonSolo:r}=_M(e,s=>on.isSolo(s.type)?"solo":"nonSolo"),o=zg(n.map(s=>s.type)).join(", ");Y.warn(`Unable to mix these series types with the lead series type: ${o}`),t.series=r}}}enableConfiguredOptions(t){ho(this.userOptions,(e,i)=>{i&&"enabled"in i&&!i._enabledFromTheme&&e.enabled==null&&(i.enabled=!0)},{skip:["data","theme"]},t),ho(t,e=>{e._enabledFromTheme!=null&&delete e._enabledFromTheme},{skip:["data","theme"]})}removeDisabledOptions(t){ho(t,e=>{"enabled"in e&&e.enabled===!1&&Object.keys(e).forEach(i=>{i!=="enabled"&&delete e[i]})},{skip:["data","theme"]})}removeLeftoverSymbols(t){ho(t,e=>{if(!(!e||!ln(e)))for(let[i,n]of Object.entries(e))W1(n)&&delete e[i]},{skip:["data"]})}specialOverridesDefaults(t){if(t.window!=null?TR(t.window):typeof window<"u"?t.window=window:typeof global<"u"&&(t.window=global.window),t.document!=null?ER(t.document):typeof document<"u"?t.document=document:typeof global<"u"&&(t.document=global.document),t.window==null)throw new Error("AG Charts - unable to resolve global window");if(t.document==null)throw new Error("AG Charts - unable to resolve global document");return t}},Vu=gt.create(!0,"opts");function p1(t){if(hl(t))return"cartesian";if(qg(t))return"polar";if(zM(t))return"hierarchy";if(VM(t))return"topology";if(UM(t))return"flow-proportion";throw new Error(`AG Chart - unknown type of chart for options with type: ${t.type}`)}var Jc=class{static licenseCheck(t){this.licenseChecked||(this.licenseManager=Vs.licenseManager?.(t),this.licenseManager?.setLicenseKey(this.licenseKey,this.gridContext),this.licenseManager?.validateLicense(),this.licenseChecked=!0)}static setLicenseKey(t){this.licenseKey=t}static setGridContext(t){this.gridContext=t}static getLicenseDetails(t){return Vs.licenseManager?.({}).getLicenseDetails(t)}static getInstance(t){return m1.getInstance(t)}static create(t){this.licenseCheck(t);let e=m1.createOrUpdate(t,void 0,this.licenseManager);return Vs.styles!=null&&e.chart.ctx.domManager.addStyles("ag-charts-enterprise",Vs.styles),this.licenseManager?.isDisplayWatermark()&&this.licenseManager&&Vs.injectWatermark?.(e.chart.ctx.domManager,this.licenseManager.getWatermarkMessage()),e}static createFinancialChart(t){return this.create(C({_type:"price-volume"},t))}};Jc.licenseChecked=!1;Jc.gridContext=!1;var cl=class Bs{static getInstance(e){let i=hd.getInstance(e);return i?zk.chartInstances.get(i):void 0}static initialiseModules(){Bs.initialised||(Q6(),J6(),Bs.initialised=!0)}static createOrUpdate(e,i,n){Bs.initialiseModules(),Vu(">>> AgCharts.createOrUpdate() user options",e);let r=i?.chart.chartOptions.type,p=e,{_type:o=r}=p,a=pt(p,["_type"]);Jc.optionsMutationFn&&(a=Jc.optionsMutationFn(a,o),Vu(">>> AgCharts.createOrUpdate() MUTATED user options",e));let m=a,{overrideDevicePixelRatio:l,document:c,window:d}=m,u=pt(m,["overrideDevicePixelRatio","document","window"]),h=new DP(u,{overrideDevicePixelRatio:l,document:c,window:d,type:o}),f=i?.chart;return(f==null||p1(u)!==p1(f?.chartOptions.processedOptions))&&(f=Bs.createChartInstance(h,f)),i==null?i=new zk(f,Bs.callbackApi,n):i.chart=f,Vu.check()&&typeof window<"u"&&(window.agChartInstances??(window.agChartInstances={}),window.agChartInstances[f.id]=f),f.queuedUserOptions.push(u),f.requestFactoryUpdate(b=>{b.applyOptions(h);let g=b.queuedUserOptions.indexOf(u)+1;b.queuedUserOptions.splice(0,g)}),i}static updateUserDelta(e,i){i=vi(i,{shallow:["data"]}),ho(i,s=>{if(typeof s=="object")for(let[a,l]of Object.entries(s))typeof l>"u"&&Object.assign(s,{[a]:Symbol("UNSET")})},{skip:["data"]});let{chart:n}=e,r=n.getOptions(),o=Be(i,r);Vu(">>> AgCharts.updateUserDelta() user delta",i),Vu("AgCharts.updateUserDelta() - base options",r),Bs.createOrUpdate(o,e)}static createChartInstance(e,i){let n=i?.destroy({keepTransferableResources:!0}),r=Bs.getChartByOptions(e.processedOptions);return new r(e,n)}static getChartByOptions(e){if(hl(e))return tD;if(zM(e))return KD;if(qg(e))return XD;if(VM(e))return QD;if(UM(e))return qD;throw new Error("AG Charts - couldn't apply configuration, check options are correctly structured and series types are specified")}};cl.caretaker=new aL(sL);cl.initialised=!1;cl.callbackApi={caretaker:cl.caretaker,createOrUpdate(t,e){return cl.createOrUpdate(t,e)},updateUserDelta(t,e){return cl.updateUserDelta(t,e)}};var m1=cl,IZ={};go(IZ,{Arc:()=>Mo,BBox:()=>se,BandScale:()=>Js,Caption:()=>Mt,ChangeDetectableProperties:()=>vD,Circle:()=>Ks,ContinuousScale:()=>ct,Diamond:()=>cO,DropShadow:()=>Vr,ExtendedPath2D:()=>gh,Group:()=>fe,HdpiCanvas:()=>kM,Image:()=>Cl,Label:()=>ni,Line:()=>di,LinearGradientFill:()=>ay,LinearScale:()=>jr,Marker:()=>Ri,Node:()=>td,OrdinalTimeScale:()=>Pr,Path:()=>ki,PointerEvents:()=>F1,RadialColumnShape:()=>Ur,Rect:()=>qi,RedrawType:()=>Ws,Scene:()=>RM,SceneChangeDetection:()=>re,ScenePathChangeDetection:()=>Me,Sector:()=>Di,SectorBox:()=>dP,Selection:()=>At,Shape:()=>ar,Square:()=>vh,SvgPath:()=>ew,Text:()=>_t,Tooltip:()=>ur,Triangle:()=>Gc,drawCorner:()=>Ku,easing:()=>hM,evaluateBezier:()=>f6,getFont:()=>EZ,getMarker:()=>mo,getRadialColumnWidth:()=>SZ,motion:()=>CZ,sectorBox:()=>uP,solveBezier:()=>Mg,splitBezier:()=>Dg,toRadians:()=>Wi,toTooltipHtml:()=>qc});var Mo=class extends ki{constructor(){super(),this.centerX=0,this.centerY=0,this.radius=10,this.startAngle=0,this.endAngle=Math.PI*2,this.counterClockwise=!1,this.type=0,this.restoreOwnStyles()}get fullPie(){return dl(Nt(this.startAngle),Nt(this.endAngle))}updatePath(){let t=this.path;t.clear(),t.arc(this.centerX,this.centerY,this.radius,this.startAngle,this.endAngle,this.counterClockwise),this.type===1?t.closePath():this.type===2&&!this.fullPie&&(t.lineTo(this.centerX,this.centerY),t.closePath())}computeBBox(){return new se(this.centerX-this.radius,this.centerY-this.radius,this.radius*2,this.radius*2)}isPointInPath(t,e){let i=this.transformPoint(t,e),n=this.getBBox();return this.type!==0&&n.containsPoint(i.x,i.y)&&this.path.isPointInPath(i.x,i.y)}};Mo.className="Arc";Mo.defaultStyles=Object.assign({},ar.defaultStyles,{lineWidth:1,fillStyle:null});y([Me()],Mo.prototype,"centerX",2);y([Me()],Mo.prototype,"centerY",2);y([Me()],Mo.prototype,"radius",2);y([Me()],Mo.prototype,"startAngle",2);y([Me()],Mo.prototype,"endAngle",2);y([Me()],Mo.prototype,"counterClockwise",2);y([Me()],Mo.prototype,"type",2);var ay=class extends ar{constructor(){super(...arguments),this.direction="to-right",this.stops=void 0,this._mask=void 0}get mask(){return this._mask}set mask(t){this._mask!=null&&this.removeChild(this._mask),t!=null&&this.appendChild(t),this._mask=t}isPointInPath(t,e){return this.mask?.isPointInPath(t,e)??!1}computeBBox(){return this.mask?.getBBox()}render(t){let{mask:e,stops:i}=this,{ctx:n,devicePixelRatio:r}=t,o=1/r,s=e?.computeTransformedBBox();if(e==null||i==null||s==null)return;e.dirtyPath&&(e.updatePath(),e.dirtyPath=!1),n.save(),n.clip(e.path.getPath2D()),n.setTransform(r,0,0,r,0,0);let a=Math.floor(s.x),l=Math.ceil(s.x+s.width),c=Math.floor(s.y),d=Math.ceil(s.y+s.height),u=this.direction==="to-right"||this.direction==="to-left",h=this.direction==="to-top"||this.direction==="to-left",f=new Nl,[p,m]=u?[a,l]:[c,d];f.domain=i.map((v,M)=>p+(m-p)*M/(i.length-1)),f.range=h?i.slice().reverse():i,f.update();let b=d-c,g=l-a;switch(this.direction){case"to-right":case"to-left":for(let v=a;v<=l;v+=o)n.fillStyle=f.convert(v),n.fillRect(v,c,o,b);break;case"to-bottom":case"to-top":for(let v=c;v<=d;v+=o)n.fillStyle=f.convert(v),n.fillRect(a,v,g,o);break}n.restore()}};y([re({redraw:3})],ay.prototype,"direction",2);y([re({redraw:3})],ay.prototype,"stops",2);y([re({redraw:3})],ay.prototype,"_mask",2);function m_(t,e,i){let n=Math.sqrt(t**2+e**2),o=Math.atan2(e,t)+i;return{x:Math.cos(o)*n,y:Math.sin(o)*n}}var Ur=class extends ki{constructor(){super(...arguments),this.isBeveled=!0,this.columnWidth=0,this.startAngle=0,this.endAngle=0,this.outerRadius=0,this.innerRadius=0,this.axisInnerRadius=0,this.axisOuterRadius=0,this.isRadiusAxisReversed=!1}set cornerRadius(t){}computeBBox(){let{innerRadius:t,outerRadius:e,columnWidth:i}=this,n=this.getRotation(),r=-i/2,o=i/2,s=-e,a=-t,l=1/0,c=1/0,d=-1/0,u=-1/0;for(let h=0;h<4;h+=1){let{x:f,y:p}=m_(h%2===0?r:o,h<2?s:a,n);l=Math.min(f,l),c=Math.min(p,c),d=Math.max(f,d),u=Math.max(p,u)}return new se(l,c,d-l,u-c)}getRotation(){let{startAngle:t,endAngle:e}=this,i=Gg(t,e);return Nt(t+i/2+Math.PI/2)}updatePath(){let{isBeveled:t}=this;t?this.updateBeveledPath():this.updateRectangularPath(),this.checkPathDirty()}updateRectangularPath(){let{columnWidth:t,innerRadius:e,outerRadius:i,path:n}=this,r=-t/2,o=t/2,s=-i,a=-e,l=this.getRotation(),c=[[r,a],[r,s],[o,s],[o,a]].map(([d,u])=>m_(d,u,l));n.clear(!0),n.moveTo(c[0].x,c[0].y),n.lineTo(c[1].x,c[1].y),n.lineTo(c[2].x,c[2].y),n.lineTo(c[3].x,c[3].y),n.closePath()}updateBeveledPath(){let{columnWidth:t,path:e,outerRadius:i,innerRadius:n,axisInnerRadius:r,axisOuterRadius:o,isRadiusAxisReversed:s}=this,a=dl(n,r),l=Math.asin(t/2/n),c=this.getRotation(),d=(S,E)=>m_(S,E,c),u=(S,E)=>Math.sqrt(S**2+E**2),h=(S,E)=>E>S?0:Math.sqrt(S**2-E**2),f=(S,E,T)=>T?S<E:S>E,p=a&&!isNaN(l)&&l<Math.PI/6,m=-t/2,b=t/2,g=-i,v=-n*(p?Math.cos(l):1),M=f(o,u(n,t/2),!s);if(M){let S=h(o,n);m=-S,b=S}e.clear(!0);let w=d(m,v);e.moveTo(w.x,w.y);let I=dl(n,i),D=f(o,u(i,t/2),!s);if(I&&p)e.arc(0,0,n,Nt(-l-Math.PI/2)+c,Nt(l-Math.PI/2)+c,!1);else if(D){let S=-h(o,t/2),E=h(o,i);if(!M){let T=d(m,S);e.lineTo(T.x,T.y)}if(e.arc(0,0,o,Math.atan2(S,m)+c,Math.atan2(g,-E)+c,!1),!dl(E,0)){let T=d(E,g);e.lineTo(T.x,T.y)}e.arc(0,0,o,Math.atan2(g,E)+c,Math.atan2(S,b)+c,!1)}else{let S=d(m,g),E=d(b,g);e.lineTo(S.x,S.y),e.lineTo(E.x,E.y)}let _=d(b,v);if(e.lineTo(_.x,_.y),p)e.arc(0,0,n,Nt(l-Math.PI/2)+c,Nt(-l-Math.PI/2)+c,!0);else{let S=d(m,v);e.lineTo(S.x,S.y)}e.closePath()}};Ur.className="RadialColumnShape";y([Me()],Ur.prototype,"isBeveled",2);y([Me()],Ur.prototype,"columnWidth",2);y([Me()],Ur.prototype,"startAngle",2);y([Me()],Ur.prototype,"endAngle",2);y([Me()],Ur.prototype,"outerRadius",2);y([Me()],Ur.prototype,"innerRadius",2);y([Me()],Ur.prototype,"axisInnerRadius",2);y([Me()],Ur.prototype,"axisOuterRadius",2);y([Me()],Ur.prototype,"isRadiusAxisReversed",2);function SZ(t,e,i,n,r){let o=Gg(t,e),s=o*(1-n)/2;if(t+=s,e-=s,o<.001)return 2*i*r;if(o>=2*Math.PI){let f=t+o/2;t=f-Math.PI,e=f+Math.PI}let a=i*Math.cos(t),l=i*Math.sin(t),c=i*Math.cos(e),d=i*Math.sin(e),u=Math.floor(Math.sqrt((a-c)**2+(l-d)**2)),h=2*i*r;return Math.max(1,Math.min(h,u))}var ew=class extends ki{constructor(t){super(),this.x=0,this.y=0,this.commands=[];for(let[e,i,n]of t.matchAll(/([A-Z])([0-9. ]+)/g)){let r=n.split(" ").map(Number);this.commands.push([i,r])}}updatePath(){let{path:t,x:e,y:i}=this;t.clear();let n=e,r=i;for(let[o,s]of this.commands)switch(o){case"M":t.moveTo(e+s[0],i+s[1]),n=e+s[0];break;case"C":t.cubicCurveTo(e+s[0],i+s[1],e+s[2],i+s[3],e+s[4],i+s[5]),n=e+s[4],r=i+s[5];break;case"H":t.lineTo(e+s[0],r),n=i+s[0];break;case"L":t.lineTo(e+s[0],i+s[1]),n=e+s[0],r=i+s[1];break;case"V":t.lineTo(n,i+s[0]),r=i+s[0];break;default:throw new Error(`Could not translate command '${o}' with '${s.join(" ")}'`)}t.closePath()}};y([Me()],ew.prototype,"x",2);y([Me()],ew.prototype,"y",2);var CZ=C(C({},k1),hR),EZ=Ft.toFontString,TZ={};go(TZ,{CARTESIAN_AXIS_TYPE:()=>TO,ChartTheme:()=>as,DEFAULT_ANNOTATION_BACKGROUND_FILL:()=>Rn,DEFAULT_ANNOTATION_COLOR:()=>kn,DEFAULT_ANNOTATION_HANDLE_FILL:()=>mD,DEFAULT_AXIS_GRID_COLOUR:()=>Qc,DEFAULT_AXIS_LINE_COLOUR:()=>ug,DEFAULT_BACKGROUND_COLOUR:()=>_g,DEFAULT_CAPTION_ALIGNMENT:()=>ll,DEFAULT_CAPTION_LAYOUT_STYLE:()=>al,DEFAULT_COLOURS:()=>h6,DEFAULT_CROSS_LINES_COLOUR:()=>oh,DEFAULT_DIVERGING_SERIES_COLOUR_RANGE:()=>Nn,DEFAULT_FONT_FAMILY:()=>zt,DEFAULT_GRIDLINE_ENABLED:()=>$o,DEFAULT_HIERARCHY_FILLS:()=>hD,DEFAULT_HIERARCHY_STROKES:()=>fD,DEFAULT_INSIDE_SERIES_LABEL_COLOUR:()=>Tl,DEFAULT_INVERTED_LABEL_COLOUR:()=>kO,DEFAULT_LABEL_COLOUR:()=>ci,DEFAULT_MUTED_LABEL_COLOUR:()=>ml,DEFAULT_PADDING:()=>zs,DEFAULT_POLAR_SERIES_STROKE:()=>uD,DEFAULT_SHADOW_COLOUR:()=>Al,DEFAULT_TEXTBOX_COLOR:()=>bD,DEFAULT_TEXTBOX_FILL:()=>gD,DEFAULT_TEXTBOX_STROKE:()=>yD,DEFAULT_TEXT_ANNOTATION_COLOR:()=>pD,DEFAULT_TOOLBAR_POSITION:()=>Vh,FONT_SIZE:()=>SO,FONT_WEIGHT:()=>CO,IS_DARK_THEME:()=>rh,PALETTE_ALT_DOWN_FILL:()=>PO,PALETTE_ALT_DOWN_STROKE:()=>LO,PALETTE_ALT_NEUTRAL_FILL:()=>FO,PALETTE_ALT_NEUTRAL_STROKE:()=>dD,PALETTE_ALT_UP_FILL:()=>OO,PALETTE_ALT_UP_STROKE:()=>RO,PALETTE_DOWN_FILL:()=>lD,PALETTE_DOWN_STROKE:()=>sD,PALETTE_NEUTRAL_FILL:()=>cD,PALETTE_NEUTRAL_STROKE:()=>sh,PALETTE_UP_FILL:()=>aD,PALETTE_UP_STROKE:()=>oD,POLAR_AXIS_SHAPE:()=>NO,POLAR_AXIS_TYPE:()=>AO,POSITION:()=>EO,getChartTheme:()=>JD,markerPaletteFactory:()=>ty,singleSeriesPaletteFactory:()=>yd,themes:()=>AZ});var AZ=lM(MP,t=>t?.()),NZ={};go(NZ,{BandScale:()=>Js,ColorScale:()=>Nl,ContinuousScale:()=>ct,Invalidating:()=>ui,LinearScale:()=>jr,OrdinalTimeScale:()=>Pr,TimeScale:()=>Ug});var kZ={};go(kZ,{Color:()=>co,Debug:()=>gt,Logger:()=>Y,Padding:()=>aa,TimeInterval:()=>yl,Vec2:()=>wP,angleBetween:()=>Gg,angleDiff:()=>AR,areArrayNumbersEqual:()=>RR,bifurcate:()=>xR,checkDatum:()=>T_,clamp:()=>Ce,clampArray:()=>fg,countFractionDigits:()=>Sh,createId:()=>lr,day:()=>eM,deepClone:()=>vi,displacePointFromVector:()=>EW,extent:()=>vo,findMinMax:()=>En,findRangeExtent:()=>Yc,formatNormalizedPercentage:()=>oM,formatPercentage:()=>sM,friday:()=>I1,hour:()=>J_,interpolateColor:()=>V1,interpolateNumber:()=>z1,isBetweenAngles:()=>Hs,isContinuous:()=>$g,isDate:()=>Eh,isDenseInterval:()=>ph,isEqual:()=>dl,isNegative:()=>Ih,isNumber:()=>We,isNumberEqual:()=>dl,isNumberObject:()=>jR,isString:()=>cn,isStringObject:()=>FR,jsonApply:()=>Vc,jsonDiff:()=>Tn,jsonWalk:()=>ho,millisecond:()=>K_,minute:()=>Q_,mod:()=>Ng,monday:()=>_1,month:()=>iM,normalisedExtent:()=>vR,normalisedExtentWithMetadata:()=>Nh,normalizeAngle180:()=>mh,normalizeAngle360:()=>Nt,normalizeAngle360Inclusive:()=>SW,range:()=>fh,resetIds:()=>R1,round:()=>Tg,sanitizeHtml:()=>Tt,saturday:()=>S1,second:()=>X_,setAttribute:()=>bl,setVisibility:()=>Yu,shallowClone:()=>mg,sunday:()=>tM,thursday:()=>w1,tickFormat:()=>MR,tickStep:()=>Zc,ticks:()=>Vg,toDegrees:()=>CW,toFixed:()=>Ag,toRadians:()=>Wi,transformIntegratedCategoryValue:()=>Uc,tuesday:()=>M1,utcDay:()=>T1,utcHour:()=>E1,utcMinute:()=>C1,utcMonth:()=>A1,utcYear:()=>N1,uuid:()=>x$,wednesday:()=>D1,year:()=>nM,zipObject:()=>HZ});var wP={add:RZ,angle:jZ,apply:GZ,equal:zZ,distance:PZ,distanceSquared:FZ,from:VZ,fromOffset:UZ,length:LZ,lengthSquared:OZ,required:IP,rotate:BZ,sub:tw};function RZ(t,e){return{x:t.x+e.x,y:t.y+e.y}}function tw(t,e){return{x:t.x-e.x,y:t.y-e.y}}function LZ(t){return Math.sqrt(t.x*t.x+t.y*t.y)}function OZ(t){return t.x*t.x+t.y*t.y}function PZ(t,e){let i=tw(t,e);return Math.sqrt(i.x*i.x+i.y*i.y)}function FZ(t,e){let i=tw(t,e);return i.x*i.x+i.y*i.y}function jZ(t,e){return Math.atan2(t.y,t.x)-Math.atan2(e.y,e.x)}function BZ(t,e,i=IP()){let n=wP.length(t);return{x:i.x+n*Math.cos(e),y:i.y+n*Math.sin(e)}}function zZ(t,e){return t.x===e.x&&t.y===e.y}function VZ(t,e){return{x:t,y:e}}function UZ(t){return{x:t.offsetX,y:t.offsetY}}function GZ(t,e){return t.x=e.x,t.y=e.y,t}function IP(t){return{x:t?.x??0,y:t?.y??0}}function HZ(t,e){let i={};if(Array.isArray(e))for(let n=0;n<t.length;n++)i[`${t[n]}`]=e[n];else for(let n=0;n<t.length;n++)i[`${t[n]}`]=e;return i}var $Z={};go($Z,{AND:()=>cr,ARRAY:()=>nd,ARRAY_OF:()=>Jo,AbstractBarSeries:()=>tP,AbstractBarSeriesProperties:()=>RD,ActionOnSet:()=>Yi,Animation:()=>X1,AnimationManager:()=>bL,AreaSeriesTag:()=>QO,Axis:()=>TM,AxisInterval:()=>_l,AxisLabel:()=>ri,AxisTick:()=>ad,AxisTicks:()=>QZ,BOOLEAN:()=>ve,BOOLEAN_ARRAY:()=>Q$,Background:()=>pd,BackgroundModule:()=>vO,BaseModuleInstance:()=>Oh,BaseProperties:()=>Ne,COLOR_STRING:()=>nt,COLOR_STRING_ARRAY:()=>dr,CachedTextMeasurer:()=>NR,CachedTextMeasurerPool:()=>ts,CartesianAxis:()=>ld,CartesianSeries:()=>ca,CartesianSeriesNodeEvent:()=>eD,CartesianSeriesProperties:()=>os,CategoryAxis:()=>sa,ChartAxisDirection:()=>vM,ChartEventManager:()=>xL,ChartOptions:()=>DP,ChartUpdateType:()=>th,ContextMenuRegistry:()=>_L,Cursor:()=>DL,CursorManager:()=>wL,DATE:()=>mM,DATE_ARRAY:()=>J$,DATE_OR_DATETIME_MS:()=>gM,DEFAULT_CARTESIAN_DIRECTION_KEYS:()=>wl,DEFAULT_CARTESIAN_DIRECTION_NAMES:()=>Il,DEFAULT_TOOLTIP_CLASS:()=>lo,DEFAULT_TOOLTIP_DARK_CLASS:()=>OR,DEGREE:()=>ia,DIRECTION:()=>aR,DOMManager:()=>hL,DataController:()=>BL,DataModel:()=>FL,DataModelSeries:()=>QM,DataService:()=>Yg,Default:()=>oa,Deprecated:()=>WZ,DeprecatedAndRenamedTo:()=>YZ,EMPTY_TOOLTIP_CONTENT:()=>is,FONT_STYLE:()=>na,FONT_WEIGHT:()=>ra,FUNCTION:()=>hn,GREATER_THAN:()=>od,GestureDetector:()=>IL,GroupedCategoryAxis:()=>ea,HierarchyNode:()=>Xu,HierarchySeries:()=>qZ,HierarchySeriesProperties:()=>fa,HighlightManager:()=>SL,HighlightProperties:()=>JM,HighlightStyle:()=>zh,INTERACTION_RANGE:()=>Bg,INTERPOLATION_STEP_POSITION:()=>UO,INTERPOLATION_TYPE:()=>VO,InteractionManager:()=>yL,InteractionState:()=>Ph,InterpolationProperties:()=>bd,KeyNavManager:()=>CL,LABEL_PLACEMENT:()=>bM,LARGEST_KEY_INTERVAL:()=>KL,LESS_THAN:()=>rd,LINE_CAP:()=>eW,LINE_DASH:()=>es,LINE_JOIN:()=>tW,Layers:()=>PR,LayoutService:()=>NL,LonLatBBox:()=>KZ,MARKER_SHAPE:()=>BO,MATCHING_CROSSLINE_TYPE:()=>EM,MAX_SPACING:()=>dR,MIN_SPACING:()=>cR,MercatorScale:()=>$_,ModuleRegistry:()=>iL,Motion:()=>hM,NAN:()=>Pg,NODE_UPDATE_STATE_TO_PHASE_MAPPING:()=>$i,NUMBER:()=>yt,NUMBER_ARRAY:()=>Fg,NUMBER_OR_NAN:()=>id,Navigator:()=>ha,NavigatorModule:()=>IO,OBJECT:()=>ae,OBJECT_ARRAY:()=>oR,OR:()=>xl,OVERFLOW_STRATEGY:()=>nW,ObserveChanges:()=>Zi,PHASE_METADATA:()=>hh,PHASE_ORDER:()=>Lc,PLACEMENT:()=>lR,PLAIN_OBJECT:()=>iR,POINTER_INTERACTION_TYPES:()=>OM,POSITION:()=>yM,POSITION_TOP_COORDINATES:()=>vg,POSITIVE_NUMBER:()=>K,PolarAxis:()=>Hc,PolarSeries:()=>ny,PropertiesArray:()=>Rg,ProxyOnWrite:()=>zW,ProxyProperty:()=>ii,ProxyPropertyOnWrite:()=>Mi,QUICK_TRANSITION:()=>gg,RATIO:()=>Je,REGIONS:()=>UR,RegionManager:()=>EL,RepeatType:()=>K1,SKIP_JS_BUILTINS:()=>dM,SMALLEST_KEY_INTERVAL:()=>qL,SORT_DOMAIN_GROUPS:()=>XL,STRING:()=>Q,STRING_ARRAY:()=>rR,Series:()=>ud,SeriesGroupingChangedEvent:()=>$M,SeriesItemHighlightStyle:()=>rs,SeriesMarker:()=>gn,SeriesNodeEvent:()=>Bh,SeriesNodePickMode:()=>eO,SeriesProperties:()=>fr,SeriesTooltip:()=>Ki,SimpleTextMeasurer:()=>IM,StateMachine:()=>Rh,TEXT_ALIGN:()=>sR,TEXT_WRAP:()=>jg,TICK_INTERVAL:()=>GR,TextUtils:()=>Ft,TextWrapper:()=>CM,ToolbarManager:()=>AL,Tooltip:()=>ur,TooltipManager:()=>Zg,TooltipPosition:()=>sd,UNION:()=>bt,UpdateService:()=>kL,VERTICAL_ALIGN:()=>iW,Validate:()=>x,ZoomManager:()=>UL,__FORCE_MODULE_DETECTION:()=>JZ,accumulateGroup:()=>QL,accumulateStack:()=>JL,accumulatedValue:()=>YL,accumulativeValueProperty:()=>bh,addHitTestersToQuadtree:()=>ND,adjustLabelPlacement:()=>aP,allInStringUnion:()=>xW,animationValidation:()=>dd,area:()=>V_,arraysEqual:()=>ul,backfillPathPointData:()=>DD,basicContinuousCheckDatumValidation:()=>GM,bifurcate:()=>xR,buildFormatter:()=>Th,buildResetPathFn:()=>SD,calculateDefaultTimeTickFormat:()=>eR,calculateLabelChartPadding:()=>zR,calculateLabelTranslation:()=>A_,calculatePlacement:()=>LR,checkCrisp:()=>oP,childrenIter:()=>eP,circularSliceArray:()=>S_,clamp:()=>Ce,clampArray:()=>fg,collapsedStartingBarPosition:()=>Mh,computeBarFocusBounds:()=>LD,computeMarkerFocusBounds:()=>Gh,convertValuesToScaleByDefs:()=>A8,countFractionDigits:()=>Sh,createDatumId:()=>Zo,createDeprecationWarning:()=>iw,createElement:()=>Zt,createElementNS:()=>E_,dateToNumber:()=>sn,deconstructSelectionsOrNodes:()=>Lg,deepClone:()=>vi,deepMerge:()=>P$,defaultTimeTickFormat:()=>pM,determinePathStatus:()=>qO,diff:()=>Dl,downloadUrl:()=>CR,enterpriseModule:()=>Vs,extent:()=>vo,extractDecoratedProperties:()=>k$,findMaxValue:()=>ZZ,findMinMax:()=>En,findQuadtreeMatch:()=>kD,findRangeExtent:()=>Yc,fixNumericExtent:()=>dn,formatNormalizedPercentage:()=>oM,formatPercentage:()=>sM,fromToMotion:()=>Vt,getDocument:()=>Fr,getMissCount:()=>PM,getPath:()=>cM,getPathComponents:()=>PL,getRectConfig:()=>rP,getWindow:()=>Br,groupAccumulativeValueProperty:()=>qs,groupAverage:()=>WL,groupBy:()=>_M,groupCount:()=>z_,groupStackValueProperty:()=>nO,groupSum:()=>HL,initMenuKeyNav:()=>i6,initToolbarKeyNav:()=>Jg,isArray:()=>Rt,isBoolean:()=>aM,isDate:()=>Ch,isDecoratedObject:()=>kg,isDefined:()=>dh,isEnumKey:()=>O$,isEnumValue:()=>$1,isEqual:()=>dl,isFiniteNumber:()=>We,isFunction:()=>Qo,isHtmlElement:()=>H1,isNegative:()=>Ih,isNumber:()=>Cn,isObject:()=>ln,isObjectLike:()=>L$,isPlainObject:()=>sr,isProperties:()=>fo,isRegExp:()=>G1,isString:()=>cn,isSymbol:()=>W1,isValidDate:()=>Eh,jsonApply:()=>Vc,jsonDiff:()=>Tn,jsonWalk:()=>ho,keyProperty:()=>_i,labelDirectionHandling:()=>VR,listDecoratedProperties:()=>zc,makeAccessibleClickListener:()=>DO,mapIterable:()=>yW,mapValues:()=>lM,markerFadeInAnimation:()=>xh,markerPaletteFactory:()=>ty,markerScaleInAnimation:()=>xD,markerSwipeScaleInAnimation:()=>_D,mergeArrayDefaults:()=>__,mergeDefaults:()=>Be,midpointStartingBarPosition:()=>T6,minMax:()=>G_,mod:()=>Ng,moduleRegistry:()=>Zs,nearestSquared:()=>Eg,nearestSquaredInContainer:()=>_$,normaliseGroupTo:()=>Xg,normalisePropertyTo:()=>fl,normalisedExtent:()=>vR,normalisedExtentWithMetadata:()=>Nh,pairCategoryData:()=>ED,pairContinuousData:()=>CD,partialAssign:()=>sl,pathFadeInAnimation:()=>lh,pathFadeOutAnimation:()=>M6,pathRangePoints:()=>YO,pathRangePointsReverse:()=>D6,pathRanges:()=>WO,pathSwipeInAnimation:()=>ID,pickByMatchingAngle:()=>$D,pickNode:()=>Xc,plotPath:()=>wD,predicateWithMessage:()=>ht,prepareAreaPathAnimation:()=>JO,prepareAxisAnimationContext:()=>k_,prepareAxisAnimationFunctions:()=>HR,prepareBarAnimationFunctions:()=>Dh,prepareLinePathAnimation:()=>XO,prepareLinePathAnimationFns:()=>KO,prepareLinePathPropertyAnimation:()=>TD,prepareMarkerAnimation:()=>MD,preparePieSeriesAnimationFunctions:()=>gl,range:()=>$L,rangedValueProperty:()=>HM,renderPartialPath:()=>$O,resetAxisGroupFn:()=>$R,resetAxisLabelSelectionFn:()=>YR,resetAxisLineSelectionFn:()=>ZR,resetAxisSelectionFn:()=>WR,resetBarSelectionsFn:()=>wh,resetIds:()=>R1,resetLabelFn:()=>ss,resetMarkerFn:()=>Uh,resetMarkerPositionFn:()=>_h,resetMotion:()=>Kt,resetPieSelectionsFn:()=>HD,round:()=>Tg,scale:()=>li,seriesLabelFadeInAnimation:()=>Ke,seriesLabelFadeOutAnimation:()=>$s,setDocument:()=>ER,setElementBBox:()=>Ys,setPath:()=>uM,setWindow:()=>TR,shallowClone:()=>mg,singleSeriesPaletteFactory:()=>yd,splitPairData:()=>HO,staticFromToMotion:()=>yo,stringify:()=>Qu,sum:()=>M8,sumValues:()=>Kg,times:()=>bR,toArray:()=>I_,toFixed:()=>Ag,toTooltipHtml:()=>qc,trailingAccumulatedValue:()=>ZL,trailingAccumulatedValueProperty:()=>T8,unique:()=>zg,updateClipPath:()=>wg,updateLabelNode:()=>sP,updateRect:()=>nP,validateCrossLineValues:()=>BR,valueProperty:()=>Xe,without:()=>M_});function iw(){return(t,e)=>{let i=[`Property [${t}] is deprecated.`,e].filter(Boolean).join(" ");Y.warnOnce(i)}}function WZ(t,e){let i=iw(),n=e?.default;return Ko((r,o,s)=>(s!==n&&i(o.toString(),t),s))}function YZ(t,e){let i=iw();return Ko((n,r,o)=>(o!==n[t]&&(i(r.toString(),`Use [${t}] instead.`),uM(n,t,e?e(o):o)),pg),(n,r)=>(i(r.toString(),`Use [${t}] instead.`),cM(n,t)))}function ZZ(t,e,i){if(t>e)return;let n;for(;e>=t;){let r=Math.floor((e+t)/2),o=i(r);o==null?e=r-1:(n=o,t=r+1)}return n}var SP=class hg{constructor(e,i,n,r,o,s,a,l,c,d,u){this.series=e,this.index=i,this.datum=n,this.size=r,this.colorValue=o,this.fill=s,this.stroke=a,this.sumSize=l,this.depth=c,this.parent=d,this.children=u,this.midPoint={x:0,y:0}}contains(e){let i=e;for(;i!=null&&i.index>=this.index;){if(i===this)return!0;i=i.parent}return!1}walk(e,i=hg.Walk.PreOrder){i===hg.Walk.PreOrder&&e(this),this.children.forEach(n=>{n.walk(e,i)}),i===hg.Walk.PostOrder&&e(this)}*[Symbol.iterator](){yield this;for(let e of this.children)yield*tf(e)}};SP.Walk={PreOrder:0,PostOrder:1};var Xu=SP,qZ=class extends ud{constructor(t){super({moduleCtx:t,pickModes:[3,0],contentGroupVirtual:!1}),this.rootNode=new Xu(this,0,void 0,0,void 0,void 0,void 0,0,void 0,void 0,[]),this.colorDomain=[0,0],this.maxDepth=0,this.focusPath=[],this.animationState=new Rh("empty",{empty:{update:{target:"ready",action:e=>this.animateEmptyUpdateReady(e)},reset:"empty",skip:"ready"},ready:{updateData:"waiting",clear:"clearing",highlight:e=>this.animateReadyHighlight(e),resize:e=>this.animateReadyResize(e),reset:"empty",skip:"ready"},waiting:{update:{target:"ready",action:e=>this.animateWaitingUpdateReady(e)},reset:"empty",skip:"ready"},clearing:{update:{target:"empty",action:e=>this.animateClearingUpdateEmpty(e)},reset:"empty",skip:"ready"}},()=>this.checkProcessedDataAnimatable())}resetAnimation(t){t==="initial"?this.animationState.transition("reset"):t==="ready"&&this.animationState.transition("skip")}processData(){return j(this,null,function*(){let{childrenKey:t,sizeKey:e,colorKey:i,fills:n,strokes:r,colorRange:o}=this.properties,s=0,a=()=>(s+=1,s),l=0,c=1/0,d=-1/0,u=new Array((this.data?.length??0)+1).fill(void 0),h=(g,v)=>{let M=a(),w=v.depth!=null?v.depth+1:0,I=t!=null?g[t]:void 0,D=I==null||I.length===0,_=e!=null?g[e]:void 0;Number.isFinite(_)?_=Math.max(_,0):_=D?1:0;let S=_;l=Math.max(l,w);let E=i!=null?g[i]:void 0;return typeof E=="number"&&(u[M]=E,c=Math.min(c,E),d=Math.max(d,E)),f(new Xu(this,M,g,_,E,void 0,void 0,S,w,v,[]),I)},f=(g,v)=>(v?.forEach(M=>{let w=h(M,g);g.children.push(w),g.sumSize+=w.sumSize}),g),p=f(new Xu(this,0,void 0,0,void 0,void 0,void 0,0,void 0,void 0,[]),this.data),m=[c,d],b;o!=null&&Number.isFinite(c)&&Number.isFinite(d)&&(b=new Nl,b.domain=m,b.range=o,b.update()),p.children.forEach((g,v)=>{g.walk(M=>{let w,I=u[M.index];I!=null&&(w=b?.convert(I)),w??(w=n?.[v%n.length]),M.fill=w,M.stroke=b==null?r?.[v%r.length]:"rgba(0, 0, 0, 0.2)"})}),this.rootNode=p,this.maxDepth=l,this.colorDomain=m,this.focusPath=[{nodeDatum:this.rootNode,childIndex:0}]})}update(e){return j(this,arguments,function*({seriesRect:t}){yield this.updateSelections(),yield this.updateNodes();let i=this.getAnimationData();this.checkResize(t)&&this.animationState.transition("resize",i),this.animationState.transition("update",i)})}resetAllAnimation(t){let e=this.animationResetFns?.datum;this.ctx.animationManager.stopByAnimationGroupId(this.id),e!=null&&Kt(t.datumSelections,e)}animateEmptyUpdateReady(t){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(t)}animateWaitingUpdateReady(t){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(t)}animateReadyHighlight(t){let e=this.animationResetFns?.datum;e!=null&&Kt([t],e)}animateReadyResize(t){this.resetAllAnimation(t)}animateClearingUpdateEmpty(t){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(t)}animationTransitionClear(){this.animationState.transition("clear",this.getAnimationData())}getAnimationData(){return{datumSelections:[this.groupSelection]}}isProcessedDataAnimatable(){return!0}checkProcessedDataAnimatable(){this.isProcessedDataAnimatable()||this.ctx.animationManager.skipCurrentBatch()}getLabelData(){return[]}getSeriesDomain(){return[NaN,NaN]}getLegendData(t){let{colorKey:e,colorName:i,colorRange:n,visible:r}=this.properties;return t==="gradient"&&e!=null&&n!=null?[{legendType:"gradient",enabled:r,seriesId:this.id,colorName:i,colorRange:n,colorDomain:this.colorDomain}]:[]}getDatumIdFromData(t){return`${t.index}`}getDatumId(t){return this.getDatumIdFromData(t)}pickFocus(t){if(this.rootNode.children.length===0)return;this.focusPath.length===0&&Y.error("this.focusPath should not be empty");let{datumIndexDelta:e,otherIndexDelta:i}=t,{focusPath:n}=this,r=n.length-2;if(i!==0||n.length===1){let o=Math.max(0,r+i);if(n[o+1]!==void 0)return n.length=o+2,this.computeFocusOutputs(n[o+1]);{let s=n[n.length-1];for(;s.nodeDatum.children.length>0&&(s.nodeDatum.depth??-1)<o;){let a={nodeDatum:s.nodeDatum.children[0],childIndex:0};n.push(a),s=a}return this.computeFocusOutputs(s)}}else if(e!==0){let o=n[r+1].childIndex+e,s=n[r].nodeDatum,a=s?.children?.length;if(a!==void 0){let l=Ce(0,o,a-1),c={nodeDatum:s.children[l],childIndex:l};return n[r+1]=c,n.length=r+2,this.computeFocusOutputs(c)}}else return this.computeFocusOutputs(n[n.length-1])}getDatumAriaText(t,e){if(!(t instanceof Xu)){Y.error(`datum is not HierarchyNode: ${t}`);return}return this.ctx.localeManager.t("ariaAnnounceHierarchyDatum",{level:(t.depth??-1)+1,count:t.children.length,description:e})}computeFocusOutputs({nodeDatum:t,childIndex:e}){let i=this.computeFocusBounds(t);if(i)return{datum:t,datumIndex:e,otherIndex:t.depth,bounds:i,showFocusBox:!0}}},fa=class extends fr{constructor(){super(...arguments),this.childrenKey="children",this.fills=Object.values(Ti),this.strokes=Object.values(ao)}};y([x(Q)],fa.prototype,"childrenKey",2);y([x(Q,{optional:!0})],fa.prototype,"sizeKey",2);y([x(Q,{optional:!0})],fa.prototype,"colorKey",2);y([x(Q,{optional:!0})],fa.prototype,"colorName",2);y([x(dr)],fa.prototype,"fills",2);y([x(dr)],fa.prototype,"strokes",2);y([x(dr,{optional:!0})],fa.prototype,"colorRange",2);var KZ=class{constructor(t,e,i,n){this.lon0=t,this.lat0=e,this.lon1=i,this.lat1=n}merge(t){this.lon0=Math.min(this.lon0,t.lon0),this.lat0=Math.min(this.lat0,t.lat0),this.lon1=Math.max(this.lon1,t.lon1),this.lat1=Math.max(this.lat1,t.lat1)}};function XZ(){let t=new Map;return e=>{let i=t.get(e);return i?(t.set(e,i+1),`${e}${i}`):(t.set(e,1),e)}}var nw=class q_{constructor(){this.id=lr(this),this.axisGroup=new fe({name:`${this.id}-AxisTicks`,zIndex:2}),this.labelSelection=At.select(this.axisGroup,_t,!1),this.interval=new _l,this.label=new ri,this.scale=new jr,this.position="bottom",this.translationX=0,this.translationY=0,this.padding=0}attachAxis(e){e.appendChild(this.axisGroup)}calculateLayout(){this.scale.interval=this.interval.step;let e=[],i=this.generateTicks(),{translationX:n,translationY:r}=this;return this.labelSelection.update(i.ticks.map(o=>this.createLabelDatum(o)),o=>o.appendChild(new _t),o=>o.tickId),this.labelSelection.each((o,s)=>{o.setProperties(s),s.visible&&e.push(o.getBBox())}),this.axisGroup.setProperties({translationX:n,translationY:r}),se.merge(e)}getLabelParams(e){let{padding:i}=this,{translate:n}=e;switch(this.position){case"top":case"bottom":return{x:n,y:i,textAlign:"center",textBaseline:"top"};case"left":case"right":return{x:i,y:n,textAlign:"start",textBaseline:"middle"}}}inRange(e,i=.001){let[n,r]=En(this.scale.range);return e>=n-i&&e<=r+i}createLabelDatum(e){let{x:i,y:n,textBaseline:r,textAlign:o}=this.getLabelParams(e);return{visible:!!e.tickLabel,tickId:e.tickId,fill:this.label.color,fontFamily:this.label.fontFamily,fontSize:this.label.fontSize,fontStyle:this.label.fontStyle,fontWeight:this.label.fontWeight,rotation:0,rotationCenterX:0,text:e.tickLabel,textAlign:o,textBaseline:r,x:i,y:n}}generateTicks(){let{minSpacing:e,maxSpacing:i}=this.interval,n=Tg(Yc(this.scale.range),2),{maxTickCount:r,minTickCount:o,tickCount:s}=MW(n,e,i,q_.DefaultTickCount,q_.DefaultMinSpacing);s&&(this.scale.tickCount=s,this.scale.minTickCount=o,this.scale.maxTickCount=r);let a=this.getTicksData();if(this.position==="bottom"||this.position==="top"){let l=ts.getMeasurer({font:this.label}),c=-1/0;a.ticks=a.ticks.filter(d=>{if(c<d.translate)return c=d.translate+l.textWidth(d.tickLabel,!0),!0})}return a}getTicksData(){let e=[],i=this.scale.ticks(),n=i.reduce((s,a)=>Math.max(s,Sh(a)),0),r=XZ(),o=this.label.format?this.scale.tickFormat({ticks:i,specifier:this.label.format}):s=>Cn(s)?s.toFixed(n):String(s);for(let s=0;s<i.length;s++){let a=i[s],l=this.scale.convert(a);if(!this.inRange(l))continue;let c=this.label.formatter?.({value:a,index:s,fractionDigits:n})??o(a),d=r(c);e.push({tick:a,tickId:d,tickLabel:c,translate:l})}return{rawTicks:i,fractionDigits:n,ticks:e}}};nw.DefaultTickCount=5;nw.DefaultMinSpacing=50;var QZ=nw,JZ=0;var rw=class{chart;_nativeElement;_initialised=!1;ngZone;ngAfterViewInit(){let e=this.patchChartOptions(this.options);this.chart=this.runOutsideAngular(()=>this.createChart(e)),this._initialised=!0,this.chart.chart.waitForUpdate().then(()=>{this.onChartReady.emit(this.chart)})}ngOnChanges(e){this.runOutsideAngular(()=>{!this._initialised||!this.chart||this.chart.update(this.patchChartOptions(this.options))})}ngOnDestroy(){this._initialised&&this.chart&&(this.chart.destroy(),this.chart=void 0,this._initialised=!1)}patchChartOptions(e){let i=n=>{let r=n??{};for(let[o,s]of Object.entries(r))typeof s=="function"&&(r[o]=(...a)=>{this.runInsideAngular(()=>s(...a))})};return i(e?.legend?.listeners),i(e?.listeners),e.series?.forEach(n=>{i(n.listeners)}),e.container?e:L(C({},e),{container:this._nativeElement})}runOutsideAngular(e){return this.ngZone?this.ngZone.runOutsideAngular(e):e()}runInsideAngular(e){return this.ngZone?this.ngZone.run(e):e()}},ly=(()=>{class t extends rw{ngZone;options={};onChartReady=new Ye;constructor(i,n){super(),this.ngZone=n,this._nativeElement=i.nativeElement}createChart(i){return Jc.create(i)}static \u0275fac=function(n){return new(n||t)(G(ke),G(ge))};static \u0275cmp=$e({type:t,selectors:[["ag-charts"]],inputs:{options:"options"},outputs:{onChartReady:"onChartReady"},standalone:!0,features:[Ci,Wt],decls:0,vars:0,template:function(n,r){},encapsulation:2})}return t})();var EP=(()=>{let e=class e{constructor(){this.csvData=[],this.chartOptions={data:[],series:[{type:"line",xKey:"creationTime",yKey:"gameDuration"}]}}ngOnInit(){this.loadCSV()}loadCSV(){fetch("assets/games.csv").then(r=>r.text()).then(r=>{CP.default.parse(r,{header:!0,skipEmptyLines:!0,complete:o=>{this.csvData=o.data,console.log(this.csvData),this.prepareChartData()}})})}prepareChartData(){let n=this.csvData.map(r=>({gameId:r.gameId,creationTime:new Date(parseInt(r.creationTime)),gameDuration:parseInt(r.gameDuration),winner:parseInt(r.winner)}));console.log(n),this.chartOptions={data:n,series:[{type:"line",xKey:"creationTime",yKey:"gameDuration"}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=$e({type:e,selectors:[["app-statistique"]],decls:2,vars:1,consts:[[1,"graph"],[3,"options"]],template:function(r,o){r&1&&(ce(0,"div",0),at(1,"ag-charts",1),ue()),r&2&&(Ze(),Ct("options",o.chartOptions))},dependencies:[ly],styles:[".graph[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding:5% 20% 10%;height:500px}ag-charts[_ngcontent-%COMP%]{width:100%;height:100%}"]});let t=e;return t})();var TP=(()=>{let e=class e{constructor(n){this.http=n,this.apiUrl="/api/sorts",this.httpOptions={headers:new Dn({"Content-Type":"application/json"})}}getSorts(){return this.http.get(this.apiUrl).pipe(st(()=>console.log("fetched sorts")),pi(this.handleError("getSorts",[])))}log(n){console.table(n)}handleError(n="operation",r){return o=>(console.error(`${n} failed: ${o.message}`),le(r))}};e.\u0275fac=function(r){return new(r||e)(N(Ba))},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function i9(t,e){if(t&1&&(ce(0,"div",2)(1,"div",3)(2,"div",4)(3,"p"),Ue(4),ue()(),ce(5,"div",5)(6,"p"),Ue(7),ue()()(),ce(8,"div",6)(9,"div",7)(10,"p"),Ue(11),ue()()()()),t&2){let i=e.$implicit;Ze(4),Mn(i.summonerLevel),Ze(3),Mn(i.name),Ze(4),Mn(i.description)}}var AP=(()=>{let e=class e{constructor(n){this.sortService=n,this.sorts=[]}ngOnInit(){this.getSorts()}getSorts(){this.sortService.getSorts().subscribe(n=>{this.sorts=n})}};e.\u0275fac=function(r){return new(r||e)(G(TP))},e.\u0275cmp=$e({type:e,selectors:[["app-sort-list"]],decls:2,vars:1,consts:[[1,"content"],["class","container",4,"ngFor","ngForOf"],[1,"container"],[1,"front"],[1,"summoner-level"],[1,"name"],[1,"back"],[1,"description"]],template:function(r,o){r&1&&(ce(0,"div",0),Ui(1,i9,12,3,"div",1),ue()),r&2&&(Ze(),Ct("ngForOf",o.sorts))},dependencies:[Ts],styles:[".content[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:20px;margin-top:5%;justify-content:center;margin-left:1%;margin-right:1%}.container[_ngcontent-%COMP%]{width:180px;height:250px;perspective:1000px;cursor:pointer;margin:1%}.front[_ngcontent-%COMP%], .back[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;backface-visibility:hidden;border-radius:10px;padding:20px;display:flex;flex-direction:column;justify-content:center;align-items:center;transition:transform .4s cubic-bezier(.4,.2,.2,1);box-shadow:0 10px 15px #0000001a}.front[_ngcontent-%COMP%]{background-color:#c89b3c;color:#fff}.back[_ngcontent-%COMP%]{background-color:#0ac8b9;color:#000;transform:rotateY(180deg)}.container[_ngcontent-%COMP%]:hover   .front[_ngcontent-%COMP%]{transform:rotateY(-180deg)}.container[_ngcontent-%COMP%]:hover   .back[_ngcontent-%COMP%]{transform:rotateY(0)}.summoner-level[_ngcontent-%COMP%], .name[_ngcontent-%COMP%]{font-size:22px;font-weight:700;margin:10px 0}.description[_ngcontent-%COMP%]{font-size:16}"]});let t=e;return t})();var n9=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"accueil",component:zN},{path:"champions",component:nk},{path:"sorts",component:AP},{path:"statistique",component:EP},{path:"champions/:id",component:Hx},{path:"champions/new",component:Hx}],NP=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=be({type:e}),e.\u0275inj=ye({imports:[bx.forRoot(n9),bx]});let t=e;return t})();var r9=["*",[["mat-toolbar-row"]]],o9=["*","mat-toolbar-row"],ow=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=Ve({type:e,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"],standalone:!0});let t=e;return t})(),kP=(()=>{let e=class e{constructor(n,r,o){this._elementRef=n,this._platform=r,this._document=o}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){this._toolbarRows.length}};e.\u0275fac=function(r){return new(r||e)(G(ke),G(Ot),G(Se))},e.\u0275cmp=$e({type:e,selectors:[["mat-toolbar"]],contentQueries:function(r,o,s){if(r&1&&Pa(s,ow,5),r&2){let a;Tr(a=Ar())&&(o._toolbarRows=a)}},hostAttrs:[1,"mat-toolbar"],hostVars:6,hostBindings:function(r,o){r&2&&(Oa(o.color?"mat-"+o.color:""),Dt("mat-toolbar-multiple-rows",o._toolbarRows.length>0)("mat-toolbar-single-row",o._toolbarRows.length===0))},inputs:{color:"color"},exportAs:["matToolbar"],standalone:!0,features:[Wt],ngContentSelectors:o9,decls:2,vars:0,template:function(r,o){r&1&&(yi(r9),kt(0),kt(1,1))},styles:[".mat-toolbar{background:var(--mat-toolbar-container-background-color);color:var(--mat-toolbar-container-text-color)}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font);font-size:var(--mat-toolbar-title-text-size);line-height:var(--mat-toolbar-title-text-line-height);font-weight:var(--mat-toolbar-title-text-weight);letter-spacing:var(--mat-toolbar-title-text-tracking);margin:0}.cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color:var(--mat-toolbar-container-text-color);--mdc-outlined-button-label-text-color:var(--mat-toolbar-container-text-color)}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height)}}"],encapsulation:2,changeDetection:0});let t=e;return t})();var RP=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=be({type:e}),e.\u0275inj=ye({imports:[Et,Et]});let t=e;return t})();var LP=(()=>{let e=class e{constructor(n){this.dataService=n,this.title="test-technique-lol-app"}ngOnInit(){this.getChampions()}getChampions(){this.dataService.getChampions().subscribe({next:n=>{this.champions=n,console.log("Champions:",this.champions)},error:n=>console.error("Erreur lors de la r\xE9cup\xE9ration des champions:",n)})}};e.\u0275fac=function(r){return new(r||e)(G(Os))},e.\u0275cmp=$e({type:e,selectors:[["app-root"]],decls:18,vars:0,consts:[[1,"toolbar"],["color","primary"],["src","../assets/images/logolol.png","alt","Logo",1,"logo"],[1,"spacer"],[1,"nav"],["mat-button","","routerLink","/accueil","routerLinkActive","active-link",1,"large-button"],["mat-button","","routerLink","/champions","routerLinkActive","active-link",1,"large-button"],["mat-button","","routerLink","/sorts","routerLinkActive","active-link",1,"large-button"],["mat-button","","routerLink","/statistique","routerLinkActive","active-link",1,"large-button"],[1,"large-button"]],template:function(r,o){r&1&&(ce(0,"div",0)(1,"mat-toolbar",1)(2,"mat-toolbar-row"),at(3,"img",2)(4,"span",3),ce(5,"div",4)(6,"button",5),Ue(7,"Accueil"),ue(),ce(8,"button",6),Ue(9,"Champions"),ue(),ce(10,"button",7),Ue(11,"Sorts"),ue(),ce(12,"button",8),Ue(13,"Statistique"),ue()(),at(14,"span",3),ce(15,"span",9),Ue(16,"Wiki"),ue()()()(),at(17,"router-outlet"))},dependencies:[ux,mm,wA,kP,ow,zm],styles:['.toolbar[_ngcontent-%COMP%]{margin-top:1em}.logo[_ngcontent-%COMP%]{font-size:1.5em;font-weight:700;color:#fff;height:40px;margin-right:16px}.spacer[_ngcontent-%COMP%]{flex:1 1 auto}mat-toolbar[_ngcontent-%COMP%]{display:flex;align-items:center;margin-top:1em;margin-bottom:5em}.mat-button[_ngcontent-%COMP%]{font-size:18px!important;font-weight:700}.large-button[_ngcontent-%COMP%]{margin-left:1em;margin-right:1em}.active-link[_ngcontent-%COMP%]{position:relative;color:#0ac8b9!important}.active-link[_ngcontent-%COMP%]:after{content:"";position:absolute;left:0;right:0;bottom:-2px;height:2px;background-color:gold;transform:scaleX(0);transform-origin:bottom right;transition:transform .3s ease-out}.active-link.active[_ngcontent-%COMP%]:after{transform:scaleX(1);transform-origin:bottom left}']});let t=e;return t})();var ze=function(t){return t[t.State=0]="State",t[t.Transition=1]="Transition",t[t.Sequence=2]="Sequence",t[t.Group=3]="Group",t[t.Animate=4]="Animate",t[t.Keyframes=5]="Keyframes",t[t.Style=6]="Style",t[t.Trigger=7]="Trigger",t[t.Reference=8]="Reference",t[t.AnimateChild=9]="AnimateChild",t[t.AnimateRef=10]="AnimateRef",t[t.Query=11]="Query",t[t.Stagger=12]="Stagger",t}(ze||{}),Do="*";function OP(t,e=null){return{type:ze.Sequence,steps:t,options:e}}function sw(t){return{type:ze.Style,styles:t,offset:null}}var pa=class{constructor(e=0,i=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+i}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){let i=e=="start"?this._onStartFns:this._onDoneFns;i.forEach(n=>n()),i.length=0}},Hh=class{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let i=0,n=0,r=0,o=this.players.length;o==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++i==o&&this._onFinish()}),s.onDestroy(()=>{++n==o&&this._onDestroy()}),s.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){let i=e*this.totalTime;this.players.forEach(n=>{let r=n.totalTime?Math.min(1,i/n.totalTime):1;n.setPosition(r)})}getPosition(){let e=this.players.reduce((i,n)=>i===null||n.totalTime>i.totalTime?n:i,null);return e!=null?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){let i=e=="start"?this._onStartFns:this._onDoneFns;i.forEach(n=>n()),i.length=0}},cy="!";function PP(t){return new W(3e3,!1)}function a9(){return new W(3100,!1)}function l9(){return new W(3101,!1)}function c9(t){return new W(3001,!1)}function d9(t){return new W(3003,!1)}function u9(t){return new W(3004,!1)}function h9(t,e){return new W(3005,!1)}function f9(){return new W(3006,!1)}function p9(){return new W(3007,!1)}function m9(t,e){return new W(3008,!1)}function g9(t){return new W(3002,!1)}function y9(t,e,i,n,r){return new W(3010,!1)}function b9(){return new W(3011,!1)}function v9(){return new W(3012,!1)}function x9(){return new W(3200,!1)}function _9(){return new W(3202,!1)}function M9(){return new W(3013,!1)}function D9(t){return new W(3014,!1)}function w9(t){return new W(3015,!1)}function I9(t){return new W(3016,!1)}function S9(t,e){return new W(3404,!1)}function C9(t){return new W(3502,!1)}function E9(t){return new W(3503,!1)}function T9(){return new W(3300,!1)}function A9(t){return new W(3504,!1)}function N9(t){return new W(3301,!1)}function k9(t,e){return new W(3302,!1)}function R9(t){return new W(3303,!1)}function L9(t,e){return new W(3400,!1)}function O9(t){return new W(3401,!1)}function P9(t){return new W(3402,!1)}function F9(t,e){return new W(3505,!1)}function ma(t){switch(t.length){case 0:return new pa;case 1:return t[0];default:return new Hh(t)}}function KP(t,e,i=new Map,n=new Map){let r=[],o=[],s=-1,a=null;if(e.forEach(l=>{let c=l.get("offset"),d=c==s,u=d&&a||new Map;l.forEach((h,f)=>{let p=f,m=h;if(f!=="offset")switch(p=t.normalizePropertyName(p,r),m){case cy:m=i.get(f);break;case Do:m=n.get(f);break;default:m=t.normalizeStyleValue(f,p,m,r);break}u.set(p,m)}),d||o.push(u),a=u,s=c}),r.length)throw C9(r);return o}function Tw(t,e,i,n){switch(e){case"start":t.onStart(()=>n(i&&aw(i,"start",t)));break;case"done":t.onDone(()=>n(i&&aw(i,"done",t)));break;case"destroy":t.onDestroy(()=>n(i&&aw(i,"destroy",t)));break}}function aw(t,e,i){let n=i.totalTime,r=!!i.disabled,o=Aw(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,n??t.totalTime,r),s=t._data;return s!=null&&(o._data=s),o}function Aw(t,e,i,n,r="",o=0,s){return{element:t,triggerName:e,fromState:i,toState:n,phaseName:r,totalTime:o,disabled:!!s}}function On(t,e,i){let n=t.get(e);return n||t.set(e,n=i),n}function FP(t){let e=t.indexOf(":"),i=t.substring(1,e),n=t.slice(e+1);return[i,n]}var j9=typeof document>"u"?null:document.documentElement;function Nw(t){let e=t.parentNode||t.host||null;return e===j9?null:e}function B9(t){return t.substring(1,6)=="ebkit"}var kl=null,jP=!1;function z9(t){kl||(kl=V9()||{},jP=kl.style?"WebkitAppearance"in kl.style:!1);let e=!0;return kl.style&&!B9(t)&&(e=t in kl.style,!e&&jP&&(e="Webkit"+t.charAt(0).toUpperCase()+t.slice(1)in kl.style)),e}function V9(){return typeof document<"u"?document.body:null}function XP(t,e){for(;e;){if(e===t)return!0;e=Nw(e)}return!1}function QP(t,e,i){if(i)return Array.from(t.querySelectorAll(e));let n=t.querySelector(e);return n?[n]:[]}var kw=(()=>{let e=class e{validateStyleProperty(n){return z9(n)}matchesElement(n,r){return!1}containsElement(n,r){return XP(n,r)}getParentElement(n){return Nw(n)}query(n,r,o){return QP(n,r,o)}computeStyle(n,r,o){return o||""}animate(n,r,o,s,a,l=[],c){return new pa(o,s)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac});let t=e;return t})(),Pw=class Pw{};Pw.NOOP=new kw;var Ol=Pw,Pl=class{};var U9=1e3,JP="{{",G9="}}",eF="ng-enter",fw="ng-leave",dy="ng-trigger",my=".ng-trigger",BP="ng-animating",pw=".ng-animating";function ls(t){if(typeof t=="number")return t;let e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:mw(parseFloat(e[1]),e[2])}function mw(t,e){switch(e){case"s":return t*U9;default:return t}}function gy(t,e,i){return t.hasOwnProperty("duration")?t:H9(t,e,i)}function H9(t,e,i){let n=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,r,o=0,s="";if(typeof t=="string"){let a=t.match(n);if(a===null)return e.push(PP(t)),{duration:0,delay:0,easing:""};r=mw(parseFloat(a[1]),a[2]);let l=a[3];l!=null&&(o=mw(parseFloat(l),a[4]));let c=a[5];c&&(s=c)}else r=t;if(!i){let a=!1,l=e.length;r<0&&(e.push(a9()),a=!0),o<0&&(e.push(l9()),a=!0),a&&e.splice(l,0,PP(t))}return{duration:r,delay:o,easing:s}}function $9(t){return t.length?t[0]instanceof Map?t:t.map(e=>new Map(Object.entries(e))):[]}function wo(t,e,i){e.forEach((n,r)=>{let o=Rw(r);i&&!i.has(r)&&i.set(r,t.style[o]),t.style[o]=n})}function Ll(t,e){e.forEach((i,n)=>{let r=Rw(n);t.style[r]=""})}function $h(t){return Array.isArray(t)?t.length==1?t[0]:OP(t):t}function W9(t,e,i){let n=e.params||{},r=tF(t);r.length&&r.forEach(o=>{n.hasOwnProperty(o)||i.push(c9(o))})}var gw=new RegExp(`${JP}\\s*(.+?)\\s*${G9}`,"g");function tF(t){let e=[];if(typeof t=="string"){let i;for(;i=gw.exec(t);)e.push(i[1]);gw.lastIndex=0}return e}function Yh(t,e,i){let n=`${t}`,r=n.replace(gw,(o,s)=>{let a=e[s];return a==null&&(i.push(d9(s)),a=""),a.toString()});return r==n?t:r}var Y9=/-+([a-z0-9])/g;function Rw(t){return t.replace(Y9,(...e)=>e[1].toUpperCase())}function Z9(t,e){return t===0||e===0}function q9(t,e,i){if(i.size&&e.length){let n=e[0],r=[];if(i.forEach((o,s)=>{n.has(s)||r.push(s),n.set(s,o)}),r.length)for(let o=1;o<e.length;o++){let s=e[o];r.forEach(a=>s.set(a,Lw(t,a)))}}return e}function Ln(t,e,i){switch(e.type){case ze.Trigger:return t.visitTrigger(e,i);case ze.State:return t.visitState(e,i);case ze.Transition:return t.visitTransition(e,i);case ze.Sequence:return t.visitSequence(e,i);case ze.Group:return t.visitGroup(e,i);case ze.Animate:return t.visitAnimate(e,i);case ze.Keyframes:return t.visitKeyframes(e,i);case ze.Style:return t.visitStyle(e,i);case ze.Reference:return t.visitReference(e,i);case ze.AnimateChild:return t.visitAnimateChild(e,i);case ze.AnimateRef:return t.visitAnimateRef(e,i);case ze.Query:return t.visitQuery(e,i);case ze.Stagger:return t.visitStagger(e,i);default:throw u9(e.type)}}function Lw(t,e){return window.getComputedStyle(t)[e]}var K9=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),yy=class extends Pl{normalizePropertyName(e,i){return Rw(e)}normalizeStyleValue(e,i,n,r){let o="",s=n.toString().trim();if(K9.has(i)&&n!==0&&n!=="0")if(typeof n=="number")o="px";else{let a=n.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&r.push(h9(e,n))}return s+o}};var by="*";function X9(t,e){let i=[];return typeof t=="string"?t.split(/\s*,\s*/).forEach(n=>Q9(n,i,e)):i.push(t),i}function Q9(t,e,i){if(t[0]==":"){let l=J9(t,i);if(typeof l=="function"){e.push(l);return}t=l}let n=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(n==null||n.length<4)return i.push(w9(t)),e;let r=n[1],o=n[2],s=n[3];e.push(zP(r,s));let a=r==by&&s==by;o[0]=="<"&&!a&&e.push(zP(s,r))}function J9(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(i,n)=>parseFloat(n)>parseFloat(i);case":decrement":return(i,n)=>parseFloat(n)<parseFloat(i);default:return e.push(I9(t)),"* => *"}}var uy=new Set(["true","1"]),hy=new Set(["false","0"]);function zP(t,e){let i=uy.has(t)||hy.has(t),n=uy.has(e)||hy.has(e);return(r,o)=>{let s=t==by||t==r,a=e==by||e==o;return!s&&i&&typeof r=="boolean"&&(s=r?uy.has(t):hy.has(t)),!a&&n&&typeof o=="boolean"&&(a=o?uy.has(e):hy.has(e)),s&&a}}var iF=":self",eq=new RegExp(`s*${iF}s*,?`,"g");function nF(t,e,i,n){return new yw(t).build(e,i,n)}var VP="",yw=class{constructor(e){this._driver=e}build(e,i,n){let r=new bw(i);return this._resetContextStyleTimingState(r),Ln(this,$h(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector=VP,e.collectedStyles=new Map,e.collectedStyles.set(VP,new Map),e.currentTime=0}visitTrigger(e,i){let n=i.queryCount=0,r=i.depCount=0,o=[],s=[];return e.name.charAt(0)=="@"&&i.errors.push(f9()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(i),a.type==ze.State){let l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(d=>{l.name=d,o.push(this.visitState(l,i))}),l.name=c}else if(a.type==ze.Transition){let l=this.visitTransition(a,i);n+=l.queryCount,r+=l.depCount,s.push(l)}else i.errors.push(p9())}),{type:ze.Trigger,name:e.name,states:o,transitions:s,queryCount:n,depCount:r,options:null}}visitState(e,i){let n=this.visitStyle(e.styles,i),r=e.options&&e.options.params||null;if(n.containsDynamicStyles){let o=new Set,s=r||{};n.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{tF(l).forEach(c=>{s.hasOwnProperty(c)||o.add(c)})})}),o.size&&i.errors.push(m9(e.name,[...o.values()]))}return{type:ze.State,name:e.name,style:n,options:r?{params:r}:null}}visitTransition(e,i){i.queryCount=0,i.depCount=0;let n=Ln(this,$h(e.animation),i),r=X9(e.expr,i.errors);return{type:ze.Transition,matchers:r,animation:n,queryCount:i.queryCount,depCount:i.depCount,options:Rl(e.options)}}visitSequence(e,i){return{type:ze.Sequence,steps:e.steps.map(n=>Ln(this,n,i)),options:Rl(e.options)}}visitGroup(e,i){let n=i.currentTime,r=0,o=e.steps.map(s=>{i.currentTime=n;let a=Ln(this,s,i);return r=Math.max(r,i.currentTime),a});return i.currentTime=r,{type:ze.Group,steps:o,options:Rl(e.options)}}visitAnimate(e,i){let n=rq(e.timings,i.errors);i.currentAnimateTimings=n;let r,o=e.styles?e.styles:sw({});if(o.type==ze.Keyframes)r=this.visitKeyframes(o,i);else{let s=e.styles,a=!1;if(!s){a=!0;let c={};n.easing&&(c.easing=n.easing),s=sw(c)}i.currentTime+=n.duration+n.delay;let l=this.visitStyle(s,i);l.isEmptyStep=a,r=l}return i.currentAnimateTimings=null,{type:ze.Animate,timings:n,style:r,options:null}}visitStyle(e,i){let n=this._makeStyleAst(e,i);return this._validateStyleAst(n,i),n}_makeStyleAst(e,i){let n=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of r)typeof a=="string"?a===Do?n.push(a):i.errors.push(g9(a)):n.push(new Map(Object.entries(a)));let o=!1,s=null;return n.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o)){for(let l of a.values())if(l.toString().indexOf(JP)>=0){o=!0;break}}}),{type:ze.Style,styles:n,easing:s,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,i){let n=i.currentAnimateTimings,r=i.currentTime,o=i.currentTime;n&&o>0&&(o-=n.duration+n.delay),e.styles.forEach(s=>{typeof s!="string"&&s.forEach((a,l)=>{let c=i.collectedStyles.get(i.currentQuerySelector),d=c.get(l),u=!0;d&&(o!=r&&o>=d.startTime&&r<=d.endTime&&(i.errors.push(y9(l,d.startTime,d.endTime,o,r)),u=!1),o=d.startTime),u&&c.set(l,{startTime:o,endTime:r}),i.options&&W9(a,i.options,i.errors)})})}visitKeyframes(e,i){let n={type:ze.Keyframes,styles:[],options:null};if(!i.currentAnimateTimings)return i.errors.push(b9()),n;let r=1,o=0,s=[],a=!1,l=!1,c=0,d=e.steps.map(g=>{let v=this._makeStyleAst(g,i),M=v.offset!=null?v.offset:nq(v.styles),w=0;return M!=null&&(o++,w=v.offset=M),l=l||w<0||w>1,a=a||w<c,c=w,s.push(w),v});l&&i.errors.push(v9()),a&&i.errors.push(x9());let u=e.steps.length,h=0;o>0&&o<u?i.errors.push(_9()):o==0&&(h=r/(u-1));let f=u-1,p=i.currentTime,m=i.currentAnimateTimings,b=m.duration;return d.forEach((g,v)=>{let M=h>0?v==f?1:h*v:s[v],w=M*b;i.currentTime=p+m.delay+w,m.duration=w,this._validateStyleAst(g,i),g.offset=M,n.styles.push(g)}),n}visitReference(e,i){return{type:ze.Reference,animation:Ln(this,$h(e.animation),i),options:Rl(e.options)}}visitAnimateChild(e,i){return i.depCount++,{type:ze.AnimateChild,options:Rl(e.options)}}visitAnimateRef(e,i){return{type:ze.AnimateRef,animation:this.visitReference(e.animation,i),options:Rl(e.options)}}visitQuery(e,i){let n=i.currentQuerySelector,r=e.options||{};i.queryCount++,i.currentQuery=e;let[o,s]=tq(e.selector);i.currentQuerySelector=n.length?n+" "+o:o,On(i.collectedStyles,i.currentQuerySelector,new Map);let a=Ln(this,$h(e.animation),i);return i.currentQuery=null,i.currentQuerySelector=n,{type:ze.Query,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:a,originalSelector:e.selector,options:Rl(e.options)}}visitStagger(e,i){i.currentQuery||i.errors.push(M9());let n=e.timings==="full"?{duration:0,delay:0,easing:"full"}:gy(e.timings,i.errors,!0);return{type:ze.Stagger,animation:Ln(this,$h(e.animation),i),timings:n,options:null}}};function tq(t){let e=!!t.split(/\s*,\s*/).find(i=>i==iF);return e&&(t=t.replace(eq,"")),t=t.replace(/@\*/g,my).replace(/@\w+/g,i=>my+"-"+i.slice(1)).replace(/:animating/g,pw),[t,e]}function iq(t){return t?C({},t):null}var bw=class{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}};function nq(t){if(typeof t=="string")return null;let e=null;if(Array.isArray(t))t.forEach(i=>{if(i instanceof Map&&i.has("offset")){let n=i;e=parseFloat(n.get("offset")),n.delete("offset")}});else if(t instanceof Map&&t.has("offset")){let i=t;e=parseFloat(i.get("offset")),i.delete("offset")}return e}function rq(t,e){if(t.hasOwnProperty("duration"))return t;if(typeof t=="number"){let o=gy(t,e).duration;return lw(o,0,"")}let i=t;if(i.split(/\s+/).some(o=>o.charAt(0)=="{"&&o.charAt(1)=="{")){let o=lw(0,0,"");return o.dynamic=!0,o.strValue=i,o}let r=gy(i,e);return lw(r.duration,r.delay,r.easing)}function Rl(t){return t?(t=C({},t),t.params&&(t.params=iq(t.params))):t={},t}function lw(t,e,i){return{duration:t,delay:e,easing:i}}function Ow(t,e,i,n,r,o,s=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:i,postStyleProps:n,duration:r,delay:o,totalTime:r+o,easing:s,subTimeline:a}}var Zh=class{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,i){let n=this._map.get(e);n||this._map.set(e,n=[]),n.push(...i)}has(e){return this._map.has(e)}clear(){this._map.clear()}},oq=1,sq=":enter",aq=new RegExp(sq,"g"),lq=":leave",cq=new RegExp(lq,"g");function rF(t,e,i,n,r,o=new Map,s=new Map,a,l,c=[]){return new vw().buildKeyframes(t,e,i,n,r,o,s,a,l,c)}var vw=class{buildKeyframes(e,i,n,r,o,s,a,l,c,d=[]){c=c||new Zh;let u=new xw(e,i,c,r,o,d,[]);u.options=l;let h=l.delay?ls(l.delay):0;u.currentTimeline.delayNextStep(h),u.currentTimeline.setStyles([s],null,u.errors,l),Ln(this,n,u);let f=u.timelines.filter(p=>p.containsAnimation());if(f.length&&a.size){let p;for(let m=f.length-1;m>=0;m--){let b=f[m];if(b.element===i){p=b;break}}p&&!p.allowOnlyTimelineStyles()&&p.setStyles([a],null,u.errors,l)}return f.length?f.map(p=>p.buildKeyframes()):[Ow(i,[],[],[],0,h,"",!1)]}visitTrigger(e,i){}visitState(e,i){}visitTransition(e,i){}visitAnimateChild(e,i){let n=i.subInstructions.get(i.element);if(n){let r=i.createSubContext(e.options),o=i.currentTimeline.currentTime,s=this._visitSubInstructions(n,r,r.options);o!=s&&i.transformIntoNewTimeline(s)}i.previousNode=e}visitAnimateRef(e,i){let n=i.createSubContext(e.options);n.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],i,n),this.visitReference(e.animation,n),i.transformIntoNewTimeline(n.currentTimeline.currentTime),i.previousNode=e}_applyAnimationRefDelays(e,i,n){for(let r of e){let o=r?.delay;if(o){let s=typeof o=="number"?o:ls(Yh(o,r?.params??{},i.errors));n.delayNextStep(s)}}}_visitSubInstructions(e,i,n){let o=i.currentTimeline.currentTime,s=n.duration!=null?ls(n.duration):null,a=n.delay!=null?ls(n.delay):null;return s!==0&&e.forEach(l=>{let c=i.appendInstructionToTimeline(l,s,a);o=Math.max(o,c.duration+c.delay)}),o}visitReference(e,i){i.updateOptions(e.options,!0),Ln(this,e.animation,i),i.previousNode=e}visitSequence(e,i){let n=i.subContextCount,r=i,o=e.options;if(o&&(o.params||o.delay)&&(r=i.createSubContext(o),r.transformIntoNewTimeline(),o.delay!=null)){r.previousNode.type==ze.Style&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=vy);let s=ls(o.delay);r.delayNextStep(s)}e.steps.length&&(e.steps.forEach(s=>Ln(this,s,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),i.previousNode=e}visitGroup(e,i){let n=[],r=i.currentTimeline.currentTime,o=e.options&&e.options.delay?ls(e.options.delay):0;e.steps.forEach(s=>{let a=i.createSubContext(e.options);o&&a.delayNextStep(o),Ln(this,s,a),r=Math.max(r,a.currentTimeline.currentTime),n.push(a.currentTimeline)}),n.forEach(s=>i.currentTimeline.mergeTimelineCollectedStyles(s)),i.transformIntoNewTimeline(r),i.previousNode=e}_visitTiming(e,i){if(e.dynamic){let n=e.strValue,r=i.params?Yh(n,i.params,i.errors):n;return gy(r,i.errors)}else return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,i){let n=i.currentAnimateTimings=this._visitTiming(e.timings,i),r=i.currentTimeline;n.delay&&(i.incrementTime(n.delay),r.snapshotCurrentStyles());let o=e.style;o.type==ze.Keyframes?this.visitKeyframes(o,i):(i.incrementTime(n.duration),this.visitStyle(o,i),r.applyStylesToKeyframe()),i.currentAnimateTimings=null,i.previousNode=e}visitStyle(e,i){let n=i.currentTimeline,r=i.currentAnimateTimings;!r&&n.hasCurrentStyleProperties()&&n.forwardFrame();let o=r&&r.easing||e.easing;e.isEmptyStep?n.applyEmptyStep(o):n.setStyles(e.styles,o,i.errors,i.options),i.previousNode=e}visitKeyframes(e,i){let n=i.currentAnimateTimings,r=i.currentTimeline.duration,o=n.duration,a=i.createSubContext().currentTimeline;a.easing=n.easing,e.styles.forEach(l=>{let c=l.offset||0;a.forwardTime(c*o),a.setStyles(l.styles,l.easing,i.errors,i.options),a.applyStylesToKeyframe()}),i.currentTimeline.mergeTimelineCollectedStyles(a),i.transformIntoNewTimeline(r+o),i.previousNode=e}visitQuery(e,i){let n=i.currentTimeline.currentTime,r=e.options||{},o=r.delay?ls(r.delay):0;o&&(i.previousNode.type===ze.Style||n==0&&i.currentTimeline.hasCurrentStyleProperties())&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=vy);let s=n,a=i.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,i.errors);i.currentQueryTotal=a.length;let l=null;a.forEach((c,d)=>{i.currentQueryIndex=d;let u=i.createSubContext(e.options,c);o&&u.delayNextStep(o),c===i.element&&(l=u.currentTimeline),Ln(this,e.animation,u),u.currentTimeline.applyStylesToKeyframe();let h=u.currentTimeline.currentTime;s=Math.max(s,h)}),i.currentQueryIndex=0,i.currentQueryTotal=0,i.transformIntoNewTimeline(s),l&&(i.currentTimeline.mergeTimelineCollectedStyles(l),i.currentTimeline.snapshotCurrentStyles()),i.previousNode=e}visitStagger(e,i){let n=i.parentContext,r=i.currentTimeline,o=e.timings,s=Math.abs(o.duration),a=s*(i.currentQueryTotal-1),l=s*i.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":l=a-l;break;case"full":l=n.currentStaggerTime;break}let d=i.currentTimeline;l&&d.delayNextStep(l);let u=d.currentTime;Ln(this,e.animation,i),i.previousNode=e,n.currentStaggerTime=r.currentTime-u+(r.startTime-n.currentTimeline.startTime)}},vy={},xw=class t{constructor(e,i,n,r,o,s,a,l){this._driver=e,this.element=i,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=vy,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new xy(this._driver,i,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,i){if(!e)return;let n=e,r=this.options;n.duration!=null&&(r.duration=ls(n.duration)),n.delay!=null&&(r.delay=ls(n.delay));let o=n.params;if(o){let s=r.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!i||!s.hasOwnProperty(a))&&(s[a]=Yh(o[a],s,this.errors))})}}_copyOptions(){let e={};if(this.options){let i=this.options.params;if(i){let n=e.params={};Object.keys(i).forEach(r=>{n[r]=i[r]})}}return e}createSubContext(e=null,i,n){let r=i||this.element,o=new t(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=vy,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,i,n){let r={duration:i??e.duration,delay:this.currentTimeline.currentTime+(n??0)+e.delay,easing:""},o=new _w(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,i,n,r,o,s){let a=[];if(r&&a.push(this.element),e.length>0){e=e.replace(aq,"."+this._enterClassName),e=e.replace(cq,"."+this._leaveClassName);let l=n!=1,c=this._driver.query(this.element,e,l);n!==0&&(c=n<0?c.slice(c.length+n,c.length):c.slice(0,n)),a.push(...c)}return!o&&a.length==0&&s.push(D9(i)),a}},xy=class t{constructor(e,i,n,r){this._driver=e,this.element=i,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(i),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(i,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){let i=this._keyframes.size===1&&this._pendingStyles.size;this.duration||i?(this.forwardTime(this.currentTime+e),i&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,i){return this.applyStylesToKeyframe(),new t(this._driver,e,i||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=oq,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,i){this._localTimelineStyles.set(e,i),this._globalTimelineStyles.set(e,i),this._styleSummary.set(e,{time:this.currentTime,value:i})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[i,n]of this._globalTimelineStyles)this._backFill.set(i,n||Do),this._currentKeyframe.set(i,Do);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,i,n,r){i&&this._previousKeyframe.set("easing",i);let o=r&&r.params||{},s=dq(e,this._globalTimelineStyles);for(let[a,l]of s){let c=Yh(l,o,n);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??Do),this._updateStyle(a,c)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((e,i)=>{this._currentKeyframe.set(i,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,i)=>{this._currentKeyframe.has(i)||this._currentKeyframe.set(i,e)}))}snapshotCurrentStyles(){for(let[e,i]of this._localTimelineStyles)this._pendingStyles.set(e,i),this._updateStyle(e,i)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let e=[];for(let i in this._currentKeyframe)e.push(i);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((i,n)=>{let r=this._styleSummary.get(n);(!r||i.time>r.time)&&this._updateStyle(n,i.value)})}buildKeyframes(){this.applyStylesToKeyframe();let e=new Set,i=new Set,n=this._keyframes.size===1&&this.duration===0,r=[];this._keyframes.forEach((a,l)=>{let c=new Map([...this._backFill,...a]);c.forEach((d,u)=>{d===cy?e.add(u):d===Do&&i.add(u)}),n||c.set("offset",l/this.duration),r.push(c)});let o=[...e.values()],s=[...i.values()];if(n){let a=r[0],l=new Map(a);a.set("offset",0),l.set("offset",1),r=[a,l]}return Ow(this.element,r,o,s,this.duration,this.startTime,this.easing,!1)}},_w=class extends xy{constructor(e,i,n,r,o,s,a=!1){super(e,i,s.delay),this.keyframes=n,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:i,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&i){let o=[],s=n+i,a=i/s,l=new Map(e[0]);l.set("offset",0),o.push(l);let c=new Map(e[0]);c.set("offset",UP(a)),o.push(c);let d=e.length-1;for(let u=1;u<=d;u++){let h=new Map(e[u]),f=h.get("offset"),p=i+f*n;h.set("offset",UP(p/s)),o.push(h)}n=s,i=0,r="",e=o}return Ow(this.element,e,this.preStyleProps,this.postStyleProps,n,i,r,!0)}};function UP(t,e=3){let i=Math.pow(10,e-1);return Math.round(t*i)/i}function dq(t,e){let i=new Map,n;return t.forEach(r=>{if(r==="*"){n??=e.keys();for(let o of n)i.set(o,Do)}else for(let[o,s]of r)i.set(o,s)}),i}function GP(t,e,i,n,r,o,s,a,l,c,d,u,h){return{type:0,element:t,triggerName:e,isRemovalTransition:r,fromState:i,fromStyles:o,toState:n,toStyles:s,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:d,totalTime:u,errors:h}}var cw={},_y=class{constructor(e,i,n){this._triggerName=e,this.ast=i,this._stateStyles=n}match(e,i,n,r){return uq(this.ast.matchers,e,i,n,r)}buildStyles(e,i,n){let r=this._stateStyles.get("*");return e!==void 0&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(i,n):new Map}build(e,i,n,r,o,s,a,l,c,d){let u=[],h=this.ast.options&&this.ast.options.params||cw,f=a&&a.params||cw,p=this.buildStyles(n,f,u),m=l&&l.params||cw,b=this.buildStyles(r,m,u),g=new Set,v=new Map,M=new Map,w=r==="void",I={params:oF(m,h),delay:this.ast.options?.delay},D=d?[]:rF(e,i,this.ast.animation,o,s,p,b,I,c,u),_=0;return D.forEach(S=>{_=Math.max(S.duration+S.delay,_)}),u.length?GP(i,this._triggerName,n,r,w,p,b,[],[],v,M,_,u):(D.forEach(S=>{let E=S.element,T=On(v,E,new Set);S.preStyleProps.forEach(P=>T.add(P));let k=On(M,E,new Set);S.postStyleProps.forEach(P=>k.add(P)),E!==i&&g.add(E)}),GP(i,this._triggerName,n,r,w,p,b,D,[...g.values()],v,M,_))}};function uq(t,e,i,n,r){return t.some(o=>o(e,i,n,r))}function oF(t,e){let i=C({},e);return Object.entries(t).forEach(([n,r])=>{r!=null&&(i[n]=r)}),i}var Mw=class{constructor(e,i,n){this.styles=e,this.defaultParams=i,this.normalizer=n}buildStyles(e,i){let n=new Map,r=oF(e,this.defaultParams);return this.styles.styles.forEach(o=>{typeof o!="string"&&o.forEach((s,a)=>{s&&(s=Yh(s,r,i));let l=this.normalizer.normalizePropertyName(a,i);s=this.normalizer.normalizeStyleValue(a,l,s,i),n.set(a,s)})}),n}};function hq(t,e,i){return new Dw(t,e,i)}var Dw=class{constructor(e,i,n){this.name=e,this.ast=i,this._normalizer=n,this.transitionFactories=[],this.states=new Map,i.states.forEach(r=>{let o=r.options&&r.options.params||{};this.states.set(r.name,new Mw(r.style,o,n))}),HP(this.states,"true","1"),HP(this.states,"false","0"),i.transitions.forEach(r=>{this.transitionFactories.push(new _y(e,r,this.states))}),this.fallbackTransition=fq(e,this.states,this._normalizer)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,i,n,r){return this.transitionFactories.find(s=>s.match(e,i,n,r))||null}matchStyles(e,i,n){return this.fallbackTransition.buildStyles(e,i,n)}};function fq(t,e,i){let n=[(s,a)=>!0],r={type:ze.Sequence,steps:[],options:null},o={type:ze.Transition,animation:r,matchers:n,options:null,queryCount:0,depCount:0};return new _y(t,o,e)}function HP(t,e,i){t.has(e)?t.has(i)||t.set(i,t.get(e)):t.has(i)&&t.set(e,t.get(i))}var pq=new Zh,ww=class{constructor(e,i,n){this.bodyNode=e,this._driver=i,this._normalizer=n,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,i){let n=[],r=[],o=nF(this._driver,i,n,r);if(n.length)throw E9(n);r.length&&void 0,this._animations.set(e,o)}_buildPlayer(e,i,n){let r=e.element,o=KP(this._normalizer,e.keyframes,i,n);return this._driver.animate(r,o,e.duration,e.delay,e.easing,[],!0)}create(e,i,n={}){let r=[],o=this._animations.get(e),s,a=new Map;if(o?(s=rF(this._driver,i,o,eF,fw,new Map,new Map,n,pq,r),s.forEach(d=>{let u=On(a,d.element,new Map);d.postStyleProps.forEach(h=>u.set(h,null))})):(r.push(T9()),s=[]),r.length)throw A9(r);a.forEach((d,u)=>{d.forEach((h,f)=>{d.set(f,this._driver.computeStyle(u,f,Do))})});let l=s.map(d=>{let u=a.get(d.element);return this._buildPlayer(d,new Map,u)}),c=ma(l);return this._playersById.set(e,c),c.onDestroy(()=>this.destroy(e)),this.players.push(c),c}destroy(e){let i=this._getPlayer(e);i.destroy(),this._playersById.delete(e);let n=this.players.indexOf(i);n>=0&&this.players.splice(n,1)}_getPlayer(e){let i=this._playersById.get(e);if(!i)throw N9(e);return i}listen(e,i,n,r){let o=Aw(i,"","","");return Tw(this._getPlayer(e),n,o,r),()=>{}}command(e,i,n,r){if(n=="register"){this.register(e,r[0]);return}if(n=="create"){let s=r[0]||{};this.create(e,i,s);return}let o=this._getPlayer(e);switch(n){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e);break}}},$P="ng-animate-queued",mq=".ng-animate-queued",dw="ng-animate-disabled",gq=".ng-animate-disabled",yq="ng-star-inserted",bq=".ng-star-inserted",vq=[],sF={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},xq={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Gr="__ng_removed",qh=class{get params(){return this.options.params}constructor(e,i=""){this.namespaceId=i;let n=e&&e.hasOwnProperty("value"),r=n?e.value:e;if(this.value=Mq(r),n){let o=e,{value:s}=o,a=pt(o,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){let i=e.params;if(i){let n=this.options.params;Object.keys(i).forEach(r=>{n[r]==null&&(n[r]=i[r])})}}},Wh="void",uw=new qh(Wh),Iw=class{constructor(e,i,n){this.id=e,this.hostElement=i,this._engine=n,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,pr(i,this._hostClassName)}listen(e,i,n,r){if(!this._triggers.has(i))throw k9(n,i);if(n==null||n.length==0)throw R9(i);if(!Dq(n))throw L9(n,i);let o=On(this._elementListeners,e,[]),s={name:i,phase:n,callback:r};o.push(s);let a=On(this._engine.statesByElement,e,new Map);return a.has(i)||(pr(e,dy),pr(e,dy+"-"+i),a.set(i,uw)),()=>{this._engine.afterFlush(()=>{let l=o.indexOf(s);l>=0&&o.splice(l,1),this._triggers.has(i)||a.delete(i)})}}register(e,i){return this._triggers.has(e)?!1:(this._triggers.set(e,i),!0)}_getTrigger(e){let i=this._triggers.get(e);if(!i)throw O9(e);return i}trigger(e,i,n,r=!0){let o=this._getTrigger(i),s=new Kh(this.id,i,e),a=this._engine.statesByElement.get(e);a||(pr(e,dy),pr(e,dy+"-"+i),this._engine.statesByElement.set(e,a=new Map));let l=a.get(i),c=new qh(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(i,c),l||(l=uw),!(c.value===Wh)&&l.value===c.value){if(!Sq(l.params,c.params)){let m=[],b=o.matchStyles(l.value,l.params,m),g=o.matchStyles(c.value,c.params,m);m.length?this._engine.reportError(m):this._engine.afterFlush(()=>{Ll(e,b),wo(e,g)})}return}let h=On(this._engine.playersByElement,e,[]);h.forEach(m=>{m.namespaceId==this.id&&m.triggerName==i&&m.queued&&m.destroy()});let f=o.matchTransition(l.value,c.value,e,c.params),p=!1;if(!f){if(!r)return;f=o.fallbackTransition,p=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:i,transition:f,fromState:l,toState:c,player:s,isFallbackTransition:p}),p||(pr(e,$P),s.onStart(()=>{Md(e,$P)})),s.onDone(()=>{let m=this.players.indexOf(s);m>=0&&this.players.splice(m,1);let b=this._engine.playersByElement.get(e);if(b){let g=b.indexOf(s);g>=0&&b.splice(g,1)}}),this.players.push(s),h.push(s),s}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(i=>i.delete(e)),this._elementListeners.forEach((i,n)=>{this._elementListeners.set(n,i.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);let i=this._engine.playersByElement.get(e);i&&(i.forEach(n=>n.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,i){let n=this._engine.driver.query(e,my,!0);n.forEach(r=>{if(r[Gr])return;let o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(s=>s.triggerLeaveAnimation(r,i,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,i,n,r){let o=this._engine.statesByElement.get(e),s=new Map;if(o){let a=[];if(o.forEach((l,c)=>{if(s.set(c,l.value),this._triggers.has(c)){let d=this.trigger(e,c,Wh,r);d&&a.push(d)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,i,s),n&&ma(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){let i=this._elementListeners.get(e),n=this._engine.statesByElement.get(e);if(i&&n){let r=new Set;i.forEach(o=>{let s=o.name;if(r.has(s))return;r.add(s);let l=this._triggers.get(s).fallbackTransition,c=n.get(s)||uw,d=new qh(Wh),u=new Kh(this.id,s,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:s,transition:l,fromState:c,toState:d,player:u,isFallbackTransition:!0})})}}removeNode(e,i){let n=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,i),this.triggerLeaveAnimation(e,i,!0))return;let r=!1;if(n.totalAnimations){let o=n.players.length?n.playersByQueriedElement.get(e):[];if(o&&o.length)r=!0;else{let s=e;for(;s=s.parentNode;)if(n.statesByElement.get(s)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)n.markElementAsRemoved(this.id,e,!1,i);else{let o=e[Gr];(!o||o===sF)&&(n.afterFlush(()=>this.clearElementCache(e)),n.destroyInnerAnimations(e),n._onRemovalComplete(e,i))}}insertNode(e,i){pr(e,this._hostClassName)}drainQueuedTransitions(e){let i=[];return this._queue.forEach(n=>{let r=n.player;if(r.destroyed)return;let o=n.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==n.triggerName){let l=Aw(o,n.triggerName,n.fromState.value,n.toState.value);l._data=e,Tw(n.player,a.phase,l,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):i.push(n)}),this._queue=[],i.sort((n,r)=>{let o=n.transition.ast.depCount,s=r.transition.ast.depCount;return o==0||s==0?o-s:this._engine.driver.containsElement(n.element,r.element)?1:-1})}destroy(e){this.players.forEach(i=>i.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}},Sw=class{_onRemovalComplete(e,i){this.onRemovalComplete(e,i)}constructor(e,i,n,r){this.bodyNode=e,this.driver=i,this._normalizer=n,this.scheduler=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(o,s)=>{}}get queuedPlayers(){let e=[];return this._namespaceList.forEach(i=>{i.players.forEach(n=>{n.queued&&e.push(n)})}),e}createNamespace(e,i){let n=new Iw(e,i,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,i)?this._balanceNamespaceList(n,i):(this.newHostElements.set(i,n),this.collectEnterElement(i)),this._namespaceLookup[e]=n}_balanceNamespaceList(e,i){let n=this._namespaceList,r=this.namespacesByHostElement;if(n.length-1>=0){let s=!1,a=this.driver.getParentElement(i);for(;a;){let l=r.get(a);if(l){let c=n.indexOf(l);n.splice(c+1,0,e),s=!0;break}a=this.driver.getParentElement(a)}s||n.unshift(e)}else n.push(e);return r.set(i,e),e}register(e,i){let n=this._namespaceLookup[e];return n||(n=this.createNamespace(e,i)),n}registerTrigger(e,i,n){let r=this._namespaceLookup[e];r&&r.register(i,n)&&this.totalAnimations++}destroy(e,i){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let n=this._fetchNamespace(e);this.namespacesByHostElement.delete(n.hostElement);let r=this._namespaceList.indexOf(n);r>=0&&this._namespaceList.splice(r,1),n.destroy(i),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){let i=new Set,n=this.statesByElement.get(e);if(n){for(let r of n.values())if(r.namespaceId){let o=this._fetchNamespace(r.namespaceId);o&&i.add(o)}}return i}trigger(e,i,n,r){if(fy(i)){let o=this._fetchNamespace(e);if(o)return o.trigger(i,n,r),!0}return!1}insertNode(e,i,n,r){if(!fy(i))return;let o=i[Gr];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;let s=this.collectedLeaveElements.indexOf(i);s>=0&&this.collectedLeaveElements.splice(s,1)}if(e){let s=this._fetchNamespace(e);s&&s.insertNode(i,n)}r&&this.collectEnterElement(i)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,i){i?this.disabledNodes.has(e)||(this.disabledNodes.add(e),pr(e,dw)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Md(e,dw))}removeNode(e,i,n){if(fy(i)){this.scheduler?.notify();let r=e?this._fetchNamespace(e):null;r?r.removeNode(i,n):this.markElementAsRemoved(e,i,!1,n);let o=this.namespacesByHostElement.get(i);o&&o.id!==e&&o.removeNode(i,n)}else this._onRemovalComplete(i,n)}markElementAsRemoved(e,i,n,r,o){this.collectedLeaveElements.push(i),i[Gr]={namespaceId:e,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,i,n,r,o){return fy(i)?this._fetchNamespace(e).listen(i,n,r,o):()=>{}}_buildInstruction(e,i,n,r,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,n,r,e.fromState.options,e.toState.options,i,o)}destroyInnerAnimations(e){let i=this.driver.query(e,my,!0);i.forEach(n=>this.destroyActiveAnimationsForElement(n)),this.playersByQueriedElement.size!=0&&(i=this.driver.query(e,pw,!0),i.forEach(n=>this.finishActiveQueriedAnimationOnElement(n)))}destroyActiveAnimationsForElement(e){let i=this.playersByElement.get(e);i&&i.forEach(n=>{n.queued?n.markedForDestroy=!0:n.destroy()})}finishActiveQueriedAnimationOnElement(e){let i=this.playersByQueriedElement.get(e);i&&i.forEach(n=>n.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return ma(this.players).onDone(()=>e());e()})}processLeaveNode(e){let i=e[Gr];if(i&&i.setForRemoval){if(e[Gr]=sF,i.namespaceId){this.destroyInnerAnimations(e);let n=this._fetchNamespace(i.namespaceId);n&&n.clearElementCache(e)}this._onRemovalComplete(e,i.setForRemoval)}e.classList?.contains(dw)&&this.markElementAsDisabled(e,!1),this.driver.query(e,gq,!0).forEach(n=>{this.markElementAsDisabled(n,!1)})}flush(e=-1){let i=[];if(this.newHostElements.size&&(this.newHostElements.forEach((n,r)=>this._balanceNamespaceList(n,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++){let r=this.collectedEnterElements[n];pr(r,yq)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let n=[];try{i=this._flushAnimations(n,e)}finally{for(let r=0;r<n.length;r++)n[r]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++){let r=this.collectedLeaveElements[n];this.processLeaveNode(r)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(n=>n()),this._flushFns=[],this._whenQuietFns.length){let n=this._whenQuietFns;this._whenQuietFns=[],i.length?ma(i).onDone(()=>{n.forEach(r=>r())}):n.forEach(r=>r())}}reportError(e){throw P9(e)}_flushAnimations(e,i){let n=new Zh,r=[],o=new Map,s=[],a=new Map,l=new Map,c=new Map,d=new Set;this.disabledNodes.forEach(R=>{d.add(R);let A=this.driver.query(R,mq,!0);for(let B=0;B<A.length;B++)d.add(A[B])});let u=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=ZP(h,this.collectedEnterElements),p=new Map,m=0;f.forEach((R,A)=>{let B=eF+m++;p.set(A,B),R.forEach(ee=>pr(ee,B))});let b=[],g=new Set,v=new Set;for(let R=0;R<this.collectedLeaveElements.length;R++){let A=this.collectedLeaveElements[R],B=A[Gr];B&&B.setForRemoval&&(b.push(A),g.add(A),B.hasAnimation?this.driver.query(A,bq,!0).forEach(ee=>g.add(ee)):v.add(A))}let M=new Map,w=ZP(h,Array.from(g));w.forEach((R,A)=>{let B=fw+m++;M.set(A,B),R.forEach(ee=>pr(ee,B))}),e.push(()=>{f.forEach((R,A)=>{let B=p.get(A);R.forEach(ee=>Md(ee,B))}),w.forEach((R,A)=>{let B=M.get(A);R.forEach(ee=>Md(ee,B))}),b.forEach(R=>{this.processLeaveNode(R)})});let I=[],D=[];for(let R=this._namespaceList.length-1;R>=0;R--)this._namespaceList[R].drainQueuedTransitions(i).forEach(B=>{let ee=B.player,O=B.element;if(I.push(ee),this.collectedEnterElements.length){let V=O[Gr];if(V&&V.setForMove){if(V.previousTriggersValues&&V.previousTriggersValues.has(B.triggerName)){let q=V.previousTriggersValues.get(B.triggerName),ie=this.statesByElement.get(B.element);if(ie&&ie.has(B.triggerName)){let pe=ie.get(B.triggerName);pe.value=q,ie.set(B.triggerName,pe)}}ee.destroy();return}}let oe=!u||!this.driver.containsElement(u,O),te=M.get(O),$=p.get(O),X=this._buildInstruction(B,n,$,te,oe);if(X.errors&&X.errors.length){D.push(X);return}if(oe){ee.onStart(()=>Ll(O,X.fromStyles)),ee.onDestroy(()=>wo(O,X.toStyles)),r.push(ee);return}if(B.isFallbackTransition){ee.onStart(()=>Ll(O,X.fromStyles)),ee.onDestroy(()=>wo(O,X.toStyles)),r.push(ee);return}let F=[];X.timelines.forEach(V=>{V.stretchStartingKeyframe=!0,this.disabledNodes.has(V.element)||F.push(V)}),X.timelines=F,n.append(O,X.timelines);let de={instruction:X,player:ee,element:O};s.push(de),X.queriedElements.forEach(V=>On(a,V,[]).push(ee)),X.preStyleProps.forEach((V,q)=>{if(V.size){let ie=l.get(q);ie||l.set(q,ie=new Set),V.forEach((pe,he)=>ie.add(he))}}),X.postStyleProps.forEach((V,q)=>{let ie=c.get(q);ie||c.set(q,ie=new Set),V.forEach((pe,he)=>ie.add(he))})});if(D.length){let R=[];D.forEach(A=>{R.push(F9(A.triggerName,A.errors))}),I.forEach(A=>A.destroy()),this.reportError(R)}let _=new Map,S=new Map;s.forEach(R=>{let A=R.element;n.has(A)&&(S.set(A,A),this._beforeAnimationBuild(R.player.namespaceId,R.instruction,_))}),r.forEach(R=>{let A=R.element;this._getPreviousPlayers(A,!1,R.namespaceId,R.triggerName,null).forEach(ee=>{On(_,A,[]).push(ee),ee.destroy()})});let E=b.filter(R=>qP(R,l,c)),T=new Map;YP(T,this.driver,v,c,Do).forEach(R=>{qP(R,l,c)&&E.push(R)});let P=new Map;f.forEach((R,A)=>{YP(P,this.driver,new Set(R),l,cy)}),E.forEach(R=>{let A=T.get(R),B=P.get(R);T.set(R,new Map([...A?.entries()??[],...B?.entries()??[]]))});let Z=[],ne=[],z={};s.forEach(R=>{let{element:A,player:B,instruction:ee}=R;if(n.has(A)){if(d.has(A)){B.onDestroy(()=>wo(A,ee.toStyles)),B.disabled=!0,B.overrideTotalTime(ee.totalTime),r.push(B);return}let O=z;if(S.size>1){let te=A,$=[];for(;te=te.parentNode;){let X=S.get(te);if(X){O=X;break}$.push(te)}$.forEach(X=>S.set(X,O))}let oe=this._buildAnimation(B.namespaceId,ee,_,o,P,T);if(B.setRealPlayer(oe),O===z)Z.push(B);else{let te=this.playersByElement.get(O);te&&te.length&&(B.parentPlayer=ma(te)),r.push(B)}}else Ll(A,ee.fromStyles),B.onDestroy(()=>wo(A,ee.toStyles)),ne.push(B),d.has(A)&&r.push(B)}),ne.forEach(R=>{let A=o.get(R.element);if(A&&A.length){let B=ma(A);R.setRealPlayer(B)}}),r.forEach(R=>{R.parentPlayer?R.syncPlayerEvents(R.parentPlayer):R.destroy()});for(let R=0;R<b.length;R++){let A=b[R],B=A[Gr];if(Md(A,fw),B&&B.hasAnimation)continue;let ee=[];if(a.size){let oe=a.get(A);oe&&oe.length&&ee.push(...oe);let te=this.driver.query(A,pw,!0);for(let $=0;$<te.length;$++){let X=a.get(te[$]);X&&X.length&&ee.push(...X)}}let O=ee.filter(oe=>!oe.destroyed);O.length?wq(this,A,O):this.processLeaveNode(A)}return b.length=0,Z.forEach(R=>{this.players.push(R),R.onDone(()=>{R.destroy();let A=this.players.indexOf(R);this.players.splice(A,1)}),R.play()}),Z}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,i,n,r,o){let s=[];if(i){let a=this.playersByQueriedElement.get(e);a&&(s=a)}else{let a=this.playersByElement.get(e);if(a){let l=!o||o==Wh;a.forEach(c=>{c.queued||!l&&c.triggerName!=r||s.push(c)})}}return(n||r)&&(s=s.filter(a=>!(n&&n!=a.namespaceId||r&&r!=a.triggerName))),s}_beforeAnimationBuild(e,i,n){let r=i.triggerName,o=i.element,s=i.isRemovalTransition?void 0:e,a=i.isRemovalTransition?void 0:r;for(let l of i.timelines){let c=l.element,d=c!==o,u=On(n,c,[]);this._getPreviousPlayers(c,d,s,a,i.toState).forEach(f=>{let p=f.getRealPlayer();p.beforeDestroy&&p.beforeDestroy(),f.destroy(),u.push(f)})}Ll(o,i.fromStyles)}_buildAnimation(e,i,n,r,o,s){let a=i.triggerName,l=i.element,c=[],d=new Set,u=new Set,h=i.timelines.map(p=>{let m=p.element;d.add(m);let b=m[Gr];if(b&&b.removedBeforeQueried)return new pa(p.duration,p.delay);let g=m!==l,v=Iq((n.get(m)||vq).map(_=>_.getRealPlayer())).filter(_=>{let S=_;return S.element?S.element===m:!1}),M=o.get(m),w=s.get(m),I=KP(this._normalizer,p.keyframes,M,w),D=this._buildPlayer(p,I,v);if(p.subTimeline&&r&&u.add(m),g){let _=new Kh(e,a,m);_.setRealPlayer(D),c.push(_)}return D});c.forEach(p=>{On(this.playersByQueriedElement,p.element,[]).push(p),p.onDone(()=>_q(this.playersByQueriedElement,p.element,p))}),d.forEach(p=>pr(p,BP));let f=ma(h);return f.onDestroy(()=>{d.forEach(p=>Md(p,BP)),wo(l,i.toStyles)}),u.forEach(p=>{On(r,p,[]).push(f)}),f}_buildPlayer(e,i,n){return i.length>0?this.driver.animate(e.element,i,e.duration,e.delay,e.easing,n):new pa(e.duration,e.delay)}},Kh=class{constructor(e,i,n){this.namespaceId=e,this.triggerName=i,this.element=n,this._player=new pa,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((i,n)=>{i.forEach(r=>Tw(e,n,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){let i=this._player;i.triggerCallback&&e.onStart(()=>i.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,i){On(this._queuedCallbacks,e,[]).push(i)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){let i=this._player;i.triggerCallback&&i.triggerCallback(e)}};function _q(t,e,i){let n=t.get(e);if(n){if(n.length){let r=n.indexOf(i);n.splice(r,1)}n.length==0&&t.delete(e)}return n}function Mq(t){return t??null}function fy(t){return t&&t.nodeType===1}function Dq(t){return t=="start"||t=="done"}function WP(t,e){let i=t.style.display;return t.style.display=e??"none",i}function YP(t,e,i,n,r){let o=[];i.forEach(l=>o.push(WP(l)));let s=[];n.forEach((l,c)=>{let d=new Map;l.forEach(u=>{let h=e.computeStyle(c,u,r);d.set(u,h),(!h||h.length==0)&&(c[Gr]=xq,s.push(c))}),t.set(c,d)});let a=0;return i.forEach(l=>WP(l,o[a++])),s}function ZP(t,e){let i=new Map;if(t.forEach(a=>i.set(a,[])),e.length==0)return i;let n=1,r=new Set(e),o=new Map;function s(a){if(!a)return n;let l=o.get(a);if(l)return l;let c=a.parentNode;return i.has(c)?l=c:r.has(c)?l=n:l=s(c),o.set(a,l),l}return e.forEach(a=>{let l=s(a);l!==n&&i.get(l).push(a)}),i}function pr(t,e){t.classList?.add(e)}function Md(t,e){t.classList?.remove(e)}function wq(t,e,i){ma(i).onDone(()=>t.processLeaveNode(e))}function Iq(t){let e=[];return aF(t,e),e}function aF(t,e){for(let i=0;i<t.length;i++){let n=t[i];n instanceof Hh?aF(n.players,e):e.push(n)}}function Sq(t,e){let i=Object.keys(t),n=Object.keys(e);if(i.length!=n.length)return!1;for(let r=0;r<i.length;r++){let o=i[r];if(!e.hasOwnProperty(o)||t[o]!==e[o])return!1}return!0}function qP(t,e,i){let n=i.get(t);if(!n)return!1;let r=e.get(t);return r?n.forEach(o=>r.add(o)):e.set(t,n),i.delete(t),!0}var wd=class{constructor(e,i,n,r){this._driver=i,this._normalizer=n,this._triggerCache={},this.onRemovalComplete=(o,s)=>{},this._transitionEngine=new Sw(e.body,i,n,r),this._timelineEngine=new ww(e.body,i,n),this._transitionEngine.onRemovalComplete=(o,s)=>this.onRemovalComplete(o,s)}registerTrigger(e,i,n,r,o){let s=e+"-"+r,a=this._triggerCache[s];if(!a){let l=[],c=[],d=nF(this._driver,o,l,c);if(l.length)throw S9(r,l);c.length&&void 0,a=hq(r,d,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(i,r,a)}register(e,i){this._transitionEngine.register(e,i)}destroy(e,i){this._transitionEngine.destroy(e,i)}onInsert(e,i,n,r){this._transitionEngine.insertNode(e,i,n,r)}onRemove(e,i,n){this._transitionEngine.removeNode(e,i,n)}disableAnimations(e,i){this._transitionEngine.markElementAsDisabled(e,i)}process(e,i,n,r){if(n.charAt(0)=="@"){let[o,s]=FP(n),a=r;this._timelineEngine.command(o,i,s,a)}else this._transitionEngine.trigger(e,i,n,r)}listen(e,i,n,r,o){if(n.charAt(0)=="@"){let[s,a]=FP(n);return this._timelineEngine.listen(s,i,a,o)}return this._transitionEngine.listen(e,i,n,r,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}};function Cq(t,e){let i=null,n=null;return Array.isArray(e)&&e.length?(i=hw(e[0]),e.length>1&&(n=hw(e[e.length-1]))):e instanceof Map&&(i=hw(e)),i||n?new Cw(t,i,n):null}var Dd=class Dd{constructor(e,i,n){this._element=e,this._startStyles=i,this._endStyles=n,this._state=0;let r=Dd.initialStylesByElement.get(e);r||Dd.initialStylesByElement.set(e,r=new Map),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&wo(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(wo(this._element,this._initialStyles),this._endStyles&&(wo(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(Dd.initialStylesByElement.delete(this._element),this._startStyles&&(Ll(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Ll(this._element,this._endStyles),this._endStyles=null),wo(this._element,this._initialStyles),this._state=3)}};Dd.initialStylesByElement=new WeakMap;var Cw=Dd;function hw(t){let e=null;return t.forEach((i,n)=>{Eq(n)&&(e=e||new Map,e.set(n,i))}),e}function Eq(t){return t==="display"||t==="position"}var My=class{constructor(e,i,n,r){this.element=e,this.keyframes=i,this.options=n,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;let i=()=>this._onFinish();this.domPlayer.addEventListener("finish",i),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",i)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){let i=[];return e.forEach(n=>{i.push(Object.fromEntries(n))}),i}_triggerWebAnimation(e,i,n){return e.animate(this._convertKeyframesToObject(i),n)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((n,r)=>{r!=="offset"&&e.set(r,this._finished?n:Lw(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){let i=e==="start"?this._onStartFns:this._onDoneFns;i.forEach(n=>n()),i.length=0}},Dy=class{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,i){return!1}containsElement(e,i){return XP(e,i)}getParentElement(e){return Nw(e)}query(e,i,n){return QP(e,i,n)}computeStyle(e,i,n){return Lw(e,i)}animate(e,i,n,r,o,s=[]){let a=r==0?"both":"forwards",l={duration:n,delay:r,fill:a};o&&(l.easing=o);let c=new Map,d=s.filter(f=>f instanceof My);Z9(n,r)&&d.forEach(f=>{f.currentSnapshot.forEach((p,m)=>c.set(m,p))});let u=$9(i).map(f=>new Map(f));u=q9(e,u,c);let h=Cq(e,u);return new My(e,u,l,h)}};var py="@",lF="@.disabled",wy=class{constructor(e,i,n,r){this.namespaceId=e,this.delegate=i,this.engine=n,this._onDestroy=r,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,i){return this.delegate.createElement(e,i)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,i){this.delegate.appendChild(e,i),this.engine.onInsert(this.namespaceId,i,e,!1)}insertBefore(e,i,n,r=!0){this.delegate.insertBefore(e,i,n),this.engine.onInsert(this.namespaceId,i,e,r)}removeChild(e,i,n){this.engine.onRemove(this.namespaceId,i,this.delegate)}selectRootElement(e,i){return this.delegate.selectRootElement(e,i)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,i,n,r){this.delegate.setAttribute(e,i,n,r)}removeAttribute(e,i,n){this.delegate.removeAttribute(e,i,n)}addClass(e,i){this.delegate.addClass(e,i)}removeClass(e,i){this.delegate.removeClass(e,i)}setStyle(e,i,n,r){this.delegate.setStyle(e,i,n,r)}removeStyle(e,i,n){this.delegate.removeStyle(e,i,n)}setProperty(e,i,n){i.charAt(0)==py&&i==lF?this.disableAnimations(e,!!n):this.delegate.setProperty(e,i,n)}setValue(e,i){this.delegate.setValue(e,i)}listen(e,i,n){return this.delegate.listen(e,i,n)}disableAnimations(e,i){this.engine.disableAnimations(e,i)}},Ew=class extends wy{constructor(e,i,n,r,o){super(i,n,r,o),this.factory=e,this.namespaceId=i}setProperty(e,i,n){i.charAt(0)==py?i.charAt(1)=="."&&i==lF?(n=n===void 0?!0:!!n,this.disableAnimations(e,n)):this.engine.process(this.namespaceId,e,i.slice(1),n):this.delegate.setProperty(e,i,n)}listen(e,i,n){if(i.charAt(0)==py){let r=Tq(e),o=i.slice(1),s="";return o.charAt(0)!=py&&([o,s]=Aq(o)),this.engine.listen(this.namespaceId,r,o,s,a=>{let l=a._data||-1;this.factory.scheduleListenerCallback(l,n,a)})}return this.delegate.listen(e,i,n)}};function Tq(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}function Aq(t){let e=t.indexOf("."),i=t.substring(0,e),n=t.slice(e+1);return[i,n]}var Iy=class{constructor(e,i,n){this.delegate=e,this.engine=i,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,i.onRemovalComplete=(r,o)=>{let s=o?.parentNode(r);s&&o.removeChild(s,r)}}createRenderer(e,i){let n="",r=this.delegate.createRenderer(e,i);if(!e||!i?.data?.animation){let c=this._rendererCache,d=c.get(r);if(!d){let u=()=>c.delete(r);d=new wy(n,r,this.engine,u),c.set(r,d)}return d}let o=i.id,s=i.id+"-"+this._currentId;this._currentId++,this.engine.register(s,e);let a=c=>{Array.isArray(c)?c.forEach(a):this.engine.registerTrigger(o,s,e,c.name,c)};return i.data.animation.forEach(a),new Ew(this,s,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,n){if(e>=0&&e<this._microtaskId){this._zone.run(()=>i(n));return}let r=this._animationCallbacksBuffer;r.length==0&&queueMicrotask(()=>{this._zone.run(()=>{r.forEach(o=>{let[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),r.push([i,n])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}};var kq=(()=>{let e=class e extends wd{constructor(n,r,o){super(n,r,o,U(ac,{optional:!0}))}ngOnDestroy(){this.flush()}};e.\u0275fac=function(r){return new(r||e)(N(Se),N(Ol),N(Pl))},e.\u0275prov=H({token:e,factory:e.\u0275fac});let t=e;return t})();function Rq(){return new yy}function Lq(t,e,i){return new Iy(t,e,i)}var dF=[{provide:Pl,useFactory:Rq},{provide:wd,useClass:kq},{provide:Na,useFactory:Lq,deps:[Kp,wd,ge]}],cF=[{provide:Ol,useFactory:()=>new Dy},{provide:_n,useValue:"BrowserAnimations"},...dF],Oq=[{provide:Ol,useClass:kw},{provide:_n,useValue:"NoopAnimations"},...dF],uF=(()=>{let e=class e{static withConfig(n){return{ngModule:e,providers:n.disableAnimations?Oq:cF}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=be({type:e}),e.\u0275inj=ye({providers:cF,imports:[Qp]});let t=e;return t})();var hF=(()=>{let e=class e{constructor(){this._listeners=[]}notify(n,r){for(let o of this._listeners)o(n,r)}listen(n){return this._listeners.push(n),()=>{this._listeners=this._listeners.filter(r=>n!==r)}}ngOnDestroy(){this._listeners=[]}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Fq=20,fF=(()=>{let e=class e{constructor(n,r,o){this._ngZone=n,this._platform=r,this._scrolled=new qe,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=o}register(n){this.scrollContainers.has(n)||this.scrollContainers.set(n,n.elementScrolled().subscribe(()=>this._scrolled.next(n)))}deregister(n){let r=this.scrollContainers.get(n);r&&(r.unsubscribe(),this.scrollContainers.delete(n))}scrolled(n=Fq){return this._platform.isBrowser?new Ie(r=>{this._globalSubscription||this._addGlobalListener();let o=n>0?this._scrolled.pipe(Tf(n)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{o.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):le()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((n,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(n,r){let o=this.getAncestorScrollContainers(n);return this.scrolled(r).pipe(Ht(s=>!s||o.indexOf(s)>-1))}getAncestorScrollContainers(n){let r=[];return this.scrollContainers.forEach((o,s)=>{this._scrollableContainsElement(s,n)&&r.push(s)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(n,r){let o=Bo(r),s=n.getElementRef().nativeElement;do if(o==s)return!0;while(o=o.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{let n=this._getWindow();return Ad(n.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}};e.\u0275fac=function(r){return new(r||e)(N(ge),N(Ot),N(Se,8))},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var jq=20,Fw=(()=>{let e=class e{constructor(n,r,o){this._platform=n,this._change=new qe,this._changeListener=s=>{this._change.next(s)},this._document=o,r.runOutsideAngular(()=>{if(n.isBrowser){let s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){let n=this._getWindow();n.removeEventListener("resize",this._changeListener),n.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let n={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),n}getViewportRect(){let n=this.getViewportScrollPosition(),{width:r,height:o}=this.getViewportSize();return{top:n.top,left:n.left,bottom:n.top+o,right:n.left+r,height:o,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let n=this._document,r=this._getWindow(),o=n.documentElement,s=o.getBoundingClientRect(),a=-s.top||n.body.scrollTop||r.scrollY||o.scrollTop||0,l=-s.left||n.body.scrollLeft||r.scrollX||o.scrollLeft||0;return{top:a,left:l}}change(n=jq){return n>0?this._change.pipe(Tf(n)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let n=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:n.innerWidth,height:n.innerHeight}:{width:0,height:0}}};e.\u0275fac=function(r){return new(r||e)(N(Ot),N(ge),N(Se,8))},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Sy=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=be({type:e}),e.\u0275inj=ye({});let t=e;return t})(),jw=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=be({type:e}),e.\u0275inj=ye({imports:[Ps,Sy,Ps,Sy]});let t=e;return t})();var Xh=class{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;e!=null&&(this._attachedHost=null,e.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(e){this._attachedHost=e}},Bw=class extends Xh{constructor(e,i,n,r,o){super(),this.component=e,this.viewContainerRef=i,this.injector=n,this.componentFactoryResolver=r,this.projectableNodes=o}},Cy=class extends Xh{constructor(e,i,n,r){super(),this.templateRef=e,this.viewContainerRef=i,this.context=n,this.injector=r}get origin(){return this.templateRef.elementRef}attach(e,i=this.context){return this.context=i,super.attach(e)}detach(){return this.context=void 0,super.detach()}},zw=class extends Xh{constructor(e){super(),this.element=e instanceof ke?e.nativeElement:e}},Vw=class{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){if(e instanceof Bw)return this._attachedPortal=e,this.attachComponentPortal(e);if(e instanceof Cy)return this._attachedPortal=e,this.attachTemplatePortal(e);if(this.attachDomPortal&&e instanceof zw)return this._attachedPortal=e,this.attachDomPortal(e)}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}};var Ey=class extends Vw{constructor(e,i,n,r,o){super(),this.outletElement=e,this._componentFactoryResolver=i,this._appRef=n,this._defaultInjector=r,this.attachDomPortal=s=>{this._document;let a=s.element;a.parentNode;let l=this._document.createComment("dom-portal");a.parentNode.insertBefore(l,a),this.outletElement.appendChild(a),this._attachedPortal=s,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(a,l)})},this._document=o}attachComponentPortal(e){let n=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),r;return e.viewContainerRef?(r=e.viewContainerRef.createComponent(n,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector,e.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=n.create(e.injector||this._defaultInjector||zi.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=e,r}attachTemplatePortal(e){let i=e.viewContainerRef,n=i.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return n.rootNodes.forEach(r=>this.outletElement.appendChild(r)),n.detectChanges(),this.setDisposeFn(()=>{let r=i.indexOf(n);r!==-1&&i.remove(r)}),this._attachedPortal=e,n}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}};var pF=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=be({type:e}),e.\u0275inj=ye({});let t=e;return t})();var mF=EA(),Uw=class{constructor(e,i){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=i}attach(){}enable(){if(this._canBeEnabled()){let e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=Yt(-this._previousScrollPosition.left),e.style.top=Yt(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){let e=this._document.documentElement,i=this._document.body,n=e.style,r=i.style,o=n.scrollBehavior||"",s=r.scrollBehavior||"";this._isEnabled=!1,n.left=this._previousHTMLStyles.left,n.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),mF&&(n.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),mF&&(n.scrollBehavior=o,r.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;let i=this._document.body,n=this._viewportRuler.getViewportSize();return i.scrollHeight>n.height||i.scrollWidth>n.width}};var Gw=class{constructor(e,i,n,r){this._scrollDispatcher=e,this._ngZone=i,this._viewportRuler=n,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef,this._overlayRef=e}enable(){if(this._scrollSubscription)return;let e=this._scrollDispatcher.scrolled(0).pipe(Ht(i=>!i||!this._overlayRef.overlayElement.contains(i.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{let i=this._viewportRuler.getViewportScrollPosition().top;Math.abs(i-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},Ty=class{enable(){}disable(){}attach(){}};function Hw(t,e){return e.some(i=>{let n=t.bottom<i.top,r=t.top>i.bottom,o=t.right<i.left,s=t.left>i.right;return n||r||o||s})}function gF(t,e){return e.some(i=>{let n=t.top<i.top,r=t.bottom>i.bottom,o=t.left<i.left,s=t.right>i.right;return n||r||o||s})}var $w=class{constructor(e,i,n,r){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=n,this._config=r,this._scrollSubscription=null}attach(e){this._overlayRef,this._overlayRef=e}enable(){if(!this._scrollSubscription){let e=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(e).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){let i=this._overlayRef.overlayElement.getBoundingClientRect(),{width:n,height:r}=this._viewportRuler.getViewportSize();Hw(i,[{width:n,height:r,bottom:r,right:n,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},zq=(()=>{let e=class e{constructor(n,r,o,s){this._scrollDispatcher=n,this._viewportRuler=r,this._ngZone=o,this.noop=()=>new Ty,this.close=a=>new Gw(this._scrollDispatcher,this._ngZone,this._viewportRuler,a),this.block=()=>new Uw(this._viewportRuler,this._document),this.reposition=a=>new $w(this._scrollDispatcher,this._viewportRuler,this._ngZone,a),this._document=s}};e.\u0275fac=function(r){return new(r||e)(N(fF),N(Fw),N(ge),N(Se))},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Ww=class{constructor(e){if(this.scrollStrategy=new Ty,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){let i=Object.keys(e);for(let n of i)e[n]!==void 0&&(this[n]=e[n])}}};var Yw=class{constructor(e,i){this.connectionPair=e,this.scrollableViewProperties=i}};var _F=(()=>{let e=class e{constructor(n){this._attachedOverlays=[],this._document=n}ngOnDestroy(){this.detach()}add(n){this.remove(n),this._attachedOverlays.push(n)}remove(n){let r=this._attachedOverlays.indexOf(n);r>-1&&this._attachedOverlays.splice(r,1),this._attachedOverlays.length===0&&this.detach()}};e.\u0275fac=function(r){return new(r||e)(N(Se))},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Vq=(()=>{let e=class e extends _F{constructor(n,r){super(n),this._ngZone=r,this._keydownListener=o=>{let s=this._attachedOverlays;for(let a=s.length-1;a>-1;a--)if(s[a]._keydownEvents.observers.length>0){let l=s[a]._keydownEvents;this._ngZone?this._ngZone.run(()=>l.next(o)):l.next(o);break}}}add(n){super.add(n),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}};e.\u0275fac=function(r){return new(r||e)(N(Se),N(ge,8))},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Uq=(()=>{let e=class e extends _F{constructor(n,r,o){super(n),this._platform=r,this._ngZone=o,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=kr(s)},this._clickListener=s=>{let a=kr(s),l=s.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:a;this._pointerDownEventTarget=null;let c=this._attachedOverlays.slice();for(let d=c.length-1;d>-1;d--){let u=c[d];if(u._outsidePointerEvents.observers.length<1||!u.hasAttached())continue;if(u.overlayElement.contains(a)||u.overlayElement.contains(l))break;let h=u._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>h.next(s)):h.next(s)}}}add(n){if(super.add(n),!this._isAttached){let r=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(r)):this._addEventListeners(r),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){let n=this._document.body;n.removeEventListener("pointerdown",this._pointerDownListener,!0),n.removeEventListener("click",this._clickListener,!0),n.removeEventListener("auxclick",this._clickListener,!0),n.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(n.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(n){n.addEventListener("pointerdown",this._pointerDownListener,!0),n.addEventListener("click",this._clickListener,!0),n.addEventListener("auxclick",this._clickListener,!0),n.addEventListener("contextmenu",this._clickListener,!0)}};e.\u0275fac=function(r){return new(r||e)(N(Se),N(Ot),N(ge,8))},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),MF=(()=>{let e=class e{constructor(n,r){this._platform=r,this._document=n}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let n="cdk-overlay-container";if(this._platform.isBrowser||Tu()){let o=this._document.querySelectorAll(`.${n}[platform="server"], .${n}[platform="test"]`);for(let s=0;s<o.length;s++)o[s].remove()}let r=this._document.createElement("div");r.classList.add(n),Tu()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}};e.\u0275fac=function(r){return new(r||e)(N(Se),N(Ot))},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Zw=class{constructor(e,i,n,r,o,s,a,l,c,d=!1){this._portalOutlet=e,this._host=i,this._pane=n,this._config=r,this._ngZone=o,this._keyboardDispatcher=s,this._document=a,this._location=l,this._outsideClickDispatcher=c,this._animationsDisabled=d,this._backdropElement=null,this._backdropClick=new qe,this._attachments=new qe,this._detachments=new qe,this._locationChanges=mt.EMPTY,this._backdropClickHandler=u=>this._backdropClick.next(u),this._backdropTransitionendHandler=u=>{this._disposeBackdrop(u.target)},this._keydownEvents=new qe,this._outsidePointerEvents=new qe,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);let i=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(wi(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof i?.onDestroy=="function"&&i.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),i}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();let e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){let e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config=C(C({},this._config),e),this._updateElementSize()}setDirection(e){this._config=L(C({},this._config),{direction:e}),this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){let e=this._config.direction;return e?typeof e=="string"?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;let e=this._pane.style;e.width=Yt(this._config.width),e.height=Yt(this._config.height),e.minWidth=Yt(this._config.minWidth),e.minHeight=Yt(this._config.minHeight),e.maxWidth=Yt(this._config.maxWidth),e.maxHeight=Yt(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){let e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let e=this._backdropElement;if(e){if(this._animationsDisabled){this._disposeBackdrop(e);return}e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,i,n){let r=Cc(i||[]).filter(o=>!!o);r.length&&(n?e.classList.add(...r):e.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{let e=this._ngZone.onStable.pipe(Zr(Qy(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){let e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}},yF="cdk-overlay-connected-position-bounding-box",Gq=/([A-Za-z%]+)$/,qw=class{get positions(){return this._preferredPositions}constructor(e,i,n,r,o){this._viewportRuler=i,this._document=n,this._platform=r,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new qe,this._resizeSubscription=mt.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}attach(e){this._overlayRef&&this._overlayRef,this._validatePositions(),e.hostElement.classList.add(yF),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition){this.reapplyLastPosition();return}this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let e=this._originRect,i=this._overlayRect,n=this._viewportRect,r=this._containerRect,o=[],s;for(let a of this._preferredPositions){let l=this._getOriginPoint(e,r,a),c=this._getOverlayPoint(l,i,a),d=this._getOverlayFit(c,i,n,a);if(d.isCompletelyWithinViewport){this._isPushed=!1,this._applyPosition(a,l);return}if(this._canFitWithFlexibleDimensions(d,c,n)){o.push({position:a,origin:l,overlayRect:i,boundingBoxRect:this._calculateBoundingBoxRect(l,a)});continue}(!s||s.overlayFit.visibleArea<d.visibleArea)&&(s={overlayFit:d,overlayPoint:c,originPoint:l,position:a,overlayRect:i})}if(o.length){let a=null,l=-1;for(let c of o){let d=c.boundingBoxRect.width*c.boundingBoxRect.height*(c.position.weight||1);d>l&&(l=d,a=c)}this._isPushed=!1,this._applyPosition(a.position,a.origin);return}if(this._canPush){this._isPushed=!0,this._applyPosition(s.position,s.originPoint);return}this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Fl(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(yF),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;let e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let i=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,i)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,e.indexOf(this._lastPosition)===-1&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,i,n){let r;if(n.originX=="center")r=e.left+e.width/2;else{let s=this._isRtl()?e.right:e.left,a=this._isRtl()?e.left:e.right;r=n.originX=="start"?s:a}i.left<0&&(r-=i.left);let o;return n.originY=="center"?o=e.top+e.height/2:o=n.originY=="top"?e.top:e.bottom,i.top<0&&(o-=i.top),{x:r,y:o}}_getOverlayPoint(e,i,n){let r;n.overlayX=="center"?r=-i.width/2:n.overlayX==="start"?r=this._isRtl()?-i.width:0:r=this._isRtl()?0:-i.width;let o;return n.overlayY=="center"?o=-i.height/2:o=n.overlayY=="top"?0:-i.height,{x:e.x+r,y:e.y+o}}_getOverlayFit(e,i,n,r){let o=vF(i),{x:s,y:a}=e,l=this._getOffset(r,"x"),c=this._getOffset(r,"y");l&&(s+=l),c&&(a+=c);let d=0-s,u=s+o.width-n.width,h=0-a,f=a+o.height-n.height,p=this._subtractOverflows(o.width,d,u),m=this._subtractOverflows(o.height,h,f),b=p*m;return{visibleArea:b,isCompletelyWithinViewport:o.width*o.height===b,fitsInViewportVertically:m===o.height,fitsInViewportHorizontally:p==o.width}}_canFitWithFlexibleDimensions(e,i,n){if(this._hasFlexibleDimensions){let r=n.bottom-i.y,o=n.right-i.x,s=bF(this._overlayRef.getConfig().minHeight),a=bF(this._overlayRef.getConfig().minWidth),l=e.fitsInViewportVertically||s!=null&&s<=r,c=e.fitsInViewportHorizontally||a!=null&&a<=o;return l&&c}return!1}_pushOverlayOnScreen(e,i,n){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};let r=vF(i),o=this._viewportRect,s=Math.max(e.x+r.width-o.width,0),a=Math.max(e.y+r.height-o.height,0),l=Math.max(o.top-n.top-e.y,0),c=Math.max(o.left-n.left-e.x,0),d=0,u=0;return r.width<=o.width?d=c||-s:d=e.x<this._viewportMargin?o.left-n.left-e.x:0,r.height<=o.height?u=l||-a:u=e.y<this._viewportMargin?o.top-n.top-e.y:0,this._previousPushAmount={x:d,y:u},{x:e.x+d,y:e.y+u}}_applyPosition(e,i){if(this._setTransformOrigin(e),this._setOverlayElementStyles(i,e),this._setBoundingBoxStyles(i,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._positionChanges.observers.length){let n=this._getScrollVisibility();if(e!==this._lastPosition||!this._lastScrollVisibility||!Hq(this._lastScrollVisibility,n)){let r=new Yw(e,n);this._positionChanges.next(r)}this._lastScrollVisibility=n}this._lastPosition=e,this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;let i=this._boundingBox.querySelectorAll(this._transformOriginSelector),n,r=e.overlayY;e.overlayX==="center"?n="center":this._isRtl()?n=e.overlayX==="start"?"right":"left":n=e.overlayX==="start"?"left":"right";for(let o=0;o<i.length;o++)i[o].style.transformOrigin=`${n} ${r}`}_calculateBoundingBoxRect(e,i){let n=this._viewportRect,r=this._isRtl(),o,s,a;if(i.overlayY==="top")s=e.y,o=n.height-s+this._viewportMargin;else if(i.overlayY==="bottom")a=n.height-e.y+this._viewportMargin*2,o=n.height-a+this._viewportMargin;else{let f=Math.min(n.bottom-e.y+n.top,e.y),p=this._lastBoundingBoxSize.height;o=f*2,s=e.y-f,o>p&&!this._isInitialRender&&!this._growAfterOpen&&(s=e.y-p/2)}let l=i.overlayX==="start"&&!r||i.overlayX==="end"&&r,c=i.overlayX==="end"&&!r||i.overlayX==="start"&&r,d,u,h;if(c)h=n.width-e.x+this._viewportMargin*2,d=e.x-this._viewportMargin;else if(l)u=e.x,d=n.right-e.x;else{let f=Math.min(n.right-e.x+n.left,e.x),p=this._lastBoundingBoxSize.width;d=f*2,u=e.x-f,d>p&&!this._isInitialRender&&!this._growAfterOpen&&(u=e.x-p/2)}return{top:s,left:u,bottom:a,right:h,width:d,height:o}}_setBoundingBoxStyles(e,i){let n=this._calculateBoundingBoxRect(e,i);!this._isInitialRender&&!this._growAfterOpen&&(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));let r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{let o=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;r.height=Yt(n.height),r.top=Yt(n.top),r.bottom=Yt(n.bottom),r.width=Yt(n.width),r.left=Yt(n.left),r.right=Yt(n.right),i.overlayX==="center"?r.alignItems="center":r.alignItems=i.overlayX==="end"?"flex-end":"flex-start",i.overlayY==="center"?r.justifyContent="center":r.justifyContent=i.overlayY==="bottom"?"flex-end":"flex-start",o&&(r.maxHeight=Yt(o)),s&&(r.maxWidth=Yt(s))}this._lastBoundingBoxSize=n,Fl(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Fl(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Fl(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,i){let n={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(r){let d=this._viewportRuler.getViewportScrollPosition();Fl(n,this._getExactOverlayY(i,e,d)),Fl(n,this._getExactOverlayX(i,e,d))}else n.position="static";let a="",l=this._getOffset(i,"x"),c=this._getOffset(i,"y");l&&(a+=`translateX(${l}px) `),c&&(a+=`translateY(${c}px)`),n.transform=a.trim(),s.maxHeight&&(r?n.maxHeight=Yt(s.maxHeight):o&&(n.maxHeight="")),s.maxWidth&&(r?n.maxWidth=Yt(s.maxWidth):o&&(n.maxWidth="")),Fl(this._pane.style,n)}_getExactOverlayY(e,i,n){let r={top:"",bottom:""},o=this._getOverlayPoint(i,this._overlayRect,e);if(this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,n)),e.overlayY==="bottom"){let s=this._document.documentElement.clientHeight;r.bottom=`${s-(o.y+this._overlayRect.height)}px`}else r.top=Yt(o.y);return r}_getExactOverlayX(e,i,n){let r={left:"",right:""},o=this._getOverlayPoint(i,this._overlayRect,e);this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,n));let s;if(this._isRtl()?s=e.overlayX==="end"?"left":"right":s=e.overlayX==="end"?"right":"left",s==="right"){let a=this._document.documentElement.clientWidth;r.right=`${a-(o.x+this._overlayRect.width)}px`}else r.left=Yt(o.x);return r}_getScrollVisibility(){let e=this._getOriginRect(),i=this._pane.getBoundingClientRect(),n=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:gF(e,n),isOriginOutsideView:Hw(e,n),isOverlayClipped:gF(i,n),isOverlayOutsideView:Hw(i,n)}}_subtractOverflows(e,...i){return i.reduce((n,r)=>n-Math.max(r,0),e)}_getNarrowedViewportRect(){let e=this._document.documentElement.clientWidth,i=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+e-this._viewportMargin,bottom:n.top+i-this._viewportMargin,width:e-2*this._viewportMargin,height:i-2*this._viewportMargin}}_isRtl(){return this._overlayRef.getDirection()==="rtl"}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,i){return i==="x"?e.offsetX==null?this._offsetX:e.offsetX:e.offsetY==null?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&Cc(e).forEach(i=>{i!==""&&this._appliedPanelClasses.indexOf(i)===-1&&(this._appliedPanelClasses.push(i),this._pane.classList.add(i))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){let e=this._origin;if(e instanceof ke)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();let i=e.width||0,n=e.height||0;return{top:e.y,bottom:e.y+n,left:e.x,right:e.x+i,height:n,width:i}}};function Fl(t,e){for(let i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t}function bF(t){if(typeof t!="number"&&t!=null){let[e,i]=t.split(Gq);return!i||i==="px"?parseFloat(e):null}return t||null}function vF(t){return{top:Math.floor(t.top),right:Math.floor(t.right),bottom:Math.floor(t.bottom),left:Math.floor(t.left),width:Math.floor(t.width),height:Math.floor(t.height)}}function Hq(t,e){return t===e?!0:t.isOriginClipped===e.isOriginClipped&&t.isOriginOutsideView===e.isOriginOutsideView&&t.isOverlayClipped===e.isOverlayClipped&&t.isOverlayOutsideView===e.isOverlayOutsideView}var xF="cdk-global-overlay-wrapper",Kw=class{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){let i=e.getConfig();this._overlayRef=e,this._width&&!i.width&&e.updateSize({width:this._width}),this._height&&!i.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(xF),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;let e=this._overlayRef.overlayElement.style,i=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:s,maxHeight:a}=n,l=(r==="100%"||r==="100vw")&&(!s||s==="100%"||s==="100vw"),c=(o==="100%"||o==="100vh")&&(!a||a==="100%"||a==="100vh"),d=this._xPosition,u=this._xOffset,h=this._overlayRef.getConfig().direction==="rtl",f="",p="",m="";l?m="flex-start":d==="center"?(m="center",h?p=u:f=u):h?d==="left"||d==="end"?(m="flex-end",f=u):(d==="right"||d==="start")&&(m="flex-start",p=u):d==="left"||d==="start"?(m="flex-start",f=u):(d==="right"||d==="end")&&(m="flex-end",p=u),e.position=this._cssPosition,e.marginLeft=l?"0":f,e.marginTop=c?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=l?"0":p,i.justifyContent=m,i.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;let e=this._overlayRef.overlayElement.style,i=this._overlayRef.hostElement,n=i.style;i.classList.remove(xF),n.justifyContent=n.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}},$q=(()=>{let e=class e{constructor(n,r,o,s){this._viewportRuler=n,this._document=r,this._platform=o,this._overlayContainer=s}global(){return new Kw}flexibleConnectedTo(n){return new qw(n,this._viewportRuler,this._document,this._platform,this._overlayContainer)}};e.\u0275fac=function(r){return new(r||e)(N(Fw),N(Se),N(Ot),N(MF))},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Wq=0,Id=(()=>{let e=class e{constructor(n,r,o,s,a,l,c,d,u,h,f,p){this.scrollStrategies=n,this._overlayContainer=r,this._componentFactoryResolver=o,this._positionBuilder=s,this._keyboardDispatcher=a,this._injector=l,this._ngZone=c,this._document=d,this._directionality=u,this._location=h,this._outsideClickDispatcher=f,this._animationsModuleType=p}create(n){let r=this._createHostElement(),o=this._createPaneElement(r),s=this._createPortalOutlet(o),a=new Ww(n);return a.direction=a.direction||this._directionality.value,new Zw(s,r,o,a,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,this._animationsModuleType==="NoopAnimations")}position(){return this._positionBuilder}_createPaneElement(n){let r=this._document.createElement("div");return r.id=`cdk-overlay-${Wq++}`,r.classList.add("cdk-overlay-pane"),n.appendChild(r),r}_createHostElement(){let n=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(n),n}_createPortalOutlet(n){return this._appRef||(this._appRef=this._injector.get(Oo)),new Ey(n,this._componentFactoryResolver,this._appRef,this._injector,this._document)}};e.\u0275fac=function(r){return new(r||e)(N(zq),N(MF),N(Ra),N($q),N(Vq),N(zi),N(ge),N(Se),N(BA),N(Es),N(Uq),N(_n,8))},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Yq=new J("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{let t=U(Id);return()=>t.scrollStrategies.reposition()}});function Zq(t){return()=>t.scrollStrategies.reposition()}var qq={provide:Yq,deps:[Id],useFactory:Zq},DF=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=be({type:e}),e.\u0275inj=ye({providers:[Id,qq],imports:[Ps,pF,jw,jw]});let t=e;return t})();var Ay=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=be({type:e}),e.\u0275inj=ye({imports:[Et,io,AA,Et]});let t=e;return t})();var Xq=new J("mat-select-scroll-strategy",{providedIn:"root",factory:()=>{let t=U(Id);return()=>t.scrollStrategies.reposition()}});function Qq(t){return()=>t.scrollStrategies.reposition()}var Jq={provide:Xq,deps:[Id],useFactory:Qq};var wF=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=be({type:e}),e.\u0275inj=ye({providers:[Jq],imports:[io,DF,Ax,Et,Sy,Ay,Ax,Et]});let t=e;return t})();var eK=["input"],tK=["formField"],iK=["*"],nK=0,Xw=class{constructor(e,i){this.source=e,this.value=i}};var rK=new J("MatRadioGroup"),oK=new J("mat-radio-default-options",{providedIn:"root",factory:sK});function sK(){return{color:"accent"}}var aK=(()=>{let e=class e{get checked(){return this._checked}set checked(n){this._checked!==n&&(this._checked=n,n&&this.radioGroup&&this.radioGroup.value!==this.value?this.radioGroup.selected=this:!n&&this.radioGroup&&this.radioGroup.value===this.value&&(this.radioGroup.selected=null),n&&this._radioDispatcher.notify(this.id,this.name),this._changeDetector.markForCheck())}get value(){return this._value}set value(n){this._value!==n&&(this._value=n,this.radioGroup!==null&&(this.checked||(this.checked=this.radioGroup.value===n),this.checked&&(this.radioGroup.selected=this)))}get labelPosition(){return this._labelPosition||this.radioGroup&&this.radioGroup.labelPosition||"after"}set labelPosition(n){this._labelPosition=n}get disabled(){return this._disabled||this.radioGroup!==null&&this.radioGroup.disabled}set disabled(n){this._setDisabled(n)}get required(){return this._required||this.radioGroup&&this.radioGroup.required}set required(n){this._required=n}get color(){return this._color||this.radioGroup&&this.radioGroup.color||this._providerOverride&&this._providerOverride.color||"accent"}set color(n){this._color=n}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(n,r,o,s,a,l,c,d){this._elementRef=r,this._changeDetector=o,this._focusMonitor=s,this._radioDispatcher=a,this._providerOverride=c,this._uniqueId=`mat-radio-${++nK}`,this.id=this._uniqueId,this.disableRipple=!1,this.tabIndex=0,this.change=new Ye,this._checked=!1,this._value=null,this._removeUniqueSelectionListener=()=>{},this.radioGroup=n,this._noopAnimations=l==="NoopAnimations",d&&(this.tabIndex=fc(d,0))}focus(n,r){r?this._focusMonitor.focusVia(this._inputElement,r,n):this._inputElement.nativeElement.focus(n)}_markForCheck(){this._changeDetector.markForCheck()}ngOnInit(){this.radioGroup&&(this.checked=this.radioGroup.value===this._value,this.checked&&(this.radioGroup.selected=this),this.name=this.radioGroup.name),this._removeUniqueSelectionListener=this._radioDispatcher.listen((n,r)=>{n!==this.id&&r===this.name&&(this.checked=!1)})}ngDoCheck(){this._updateTabIndex()}ngAfterViewInit(){this._updateTabIndex(),this._focusMonitor.monitor(this._elementRef,!0).subscribe(n=>{!n&&this.radioGroup&&this.radioGroup._touch()})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._removeUniqueSelectionListener()}_emitChangeEvent(){this.change.emit(new Xw(this,this._value))}_isRippleDisabled(){return this.disableRipple||this.disabled}_onInputClick(n){n.stopPropagation()}_onInputInteraction(n){if(n.stopPropagation(),!this.checked&&!this.disabled){let r=this.radioGroup&&this.value!==this.radioGroup.value;this.checked=!0,this._emitChangeEvent(),this.radioGroup&&(this.radioGroup._controlValueAccessorChangeFn(this.value),r&&this.radioGroup._emitChangeEvent())}}_onTouchTargetClick(n){this._onInputInteraction(n),this.disabled||this._inputElement.nativeElement.focus()}_setDisabled(n){this._disabled!==n&&(this._disabled=n,this._changeDetector.markForCheck())}_updateTabIndex(){let n=this.radioGroup,r;if(!n||!n.selected||this.disabled?r=this.tabIndex:r=n.selected===this?this.tabIndex:-1,r!==this._previousTabIndex){let o=this._inputElement?.nativeElement;o&&(o.setAttribute("tabindex",r+""),this._previousTabIndex=r)}}};e.\u0275fac=function(r){return new(r||e)(G(rK,8),G(ke),G(nn),G(Dm),G(hF),G(_n,8),G(oK,8),Ro("tabindex"))},e.\u0275cmp=$e({type:e,selectors:[["mat-radio-button"]],viewQuery:function(r,o){if(r&1&&(Fa(eK,5),Fa(tK,7,ke)),r&2){let s;Tr(s=Ar())&&(o._inputElement=s.first),Tr(s=Ar())&&(o._rippleTrigger=s.first)}},hostAttrs:[1,"mat-mdc-radio-button"],hostVars:15,hostBindings:function(r,o){r&1&&it("focus",function(){return o._inputElement.nativeElement.focus()}),r&2&&(Ei("id",o.id)("tabindex",null)("aria-label",null)("aria-labelledby",null)("aria-describedby",null),Dt("mat-primary",o.color==="primary")("mat-accent",o.color==="accent")("mat-warn",o.color==="warn")("mat-mdc-radio-checked",o.checked)("_mat-animation-noopable",o._noopAnimations))},inputs:{id:"id",name:"name",ariaLabel:[_e.None,"aria-label","ariaLabel"],ariaLabelledby:[_e.None,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[_e.None,"aria-describedby","ariaDescribedby"],disableRipple:[_e.HasDecoratorInputTransform,"disableRipple","disableRipple",Lt],tabIndex:[_e.HasDecoratorInputTransform,"tabIndex","tabIndex",n=>n==null?0:fc(n)],checked:[_e.HasDecoratorInputTransform,"checked","checked",Lt],value:"value",labelPosition:"labelPosition",disabled:[_e.HasDecoratorInputTransform,"disabled","disabled",Lt],required:[_e.HasDecoratorInputTransform,"required","required",Lt],color:"color"},outputs:{change:"change"},exportAs:["matRadioButton"],standalone:!0,features:[Vi,Wt],ngContentSelectors:iK,decls:13,vars:16,consts:[["formField",""],["input",""],["mat-internal-form-field","",3,"labelPosition"],[1,"mdc-radio"],[1,"mat-mdc-radio-touch-target",3,"click"],["type","radio",1,"mdc-radio__native-control",3,"change","id","checked","disabled","required"],[1,"mdc-radio__background"],[1,"mdc-radio__outer-circle"],[1,"mdc-radio__inner-circle"],["mat-ripple","",1,"mat-radio-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mat-ripple-element","mat-radio-persistent-ripple"],[1,"mdc-label",3,"for"]],template:function(r,o){if(r&1){let s=Er();yi(),ce(0,"div",2,0)(2,"div",3)(3,"div",4),it("click",function(l){return zn(s),Vn(o._onTouchTargetClick(l))}),ue(),ce(4,"input",5,1),it("change",function(l){return zn(s),Vn(o._onInputInteraction(l))}),ue(),ce(6,"div",6),at(7,"div",7)(8,"div",8),ue(),ce(9,"div",9),at(10,"div",10),ue()(),ce(11,"label",11),kt(12),ue()()}r&2&&(Ct("labelPosition",o.labelPosition),Ze(2),Dt("mdc-radio--disabled",o.disabled),Ze(2),Ct("id",o.inputId)("checked",o.checked)("disabled",o.disabled)("required",o.required),Ei("name",o.name)("value",o.value)("aria-label",o.ariaLabel)("aria-labelledby",o.ariaLabelledby)("aria-describedby",o.ariaDescribedby),Ze(5),Ct("matRippleTrigger",o._rippleTrigger.nativeElement)("matRippleDisabled",o._isRippleDisabled())("matRippleCentered",!0),Ze(2),Ct("for",o.inputId))},dependencies:[Tx,XA],styles:['.mdc-radio{display:inline-block;position:relative;flex:0 0 auto;box-sizing:content-box;width:20px;height:20px;cursor:pointer;will-change:opacity,transform,border-color,color}.mdc-radio[hidden]{display:none}.mdc-radio__background{display:inline-block;position:relative;box-sizing:border-box;width:20px;height:20px}.mdc-radio__background::before{position:absolute;transform:scale(0, 0);border-radius:50%;opacity:0;pointer-events:none;content:"";transition:opacity 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__outer-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;border-width:2px;border-style:solid;border-radius:50%;transition:border-color 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__inner-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;transform:scale(0, 0);border-width:10px;border-style:solid;border-radius:50%;transition:transform 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1),border-color 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit;z-index:1}.mdc-radio--touch{margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-radio--touch .mdc-radio__native-control{top:calc((40px - 48px) / 2);right:calc((40px - 48px) / 2);left:calc((40px - 48px) / 2);width:48px;height:48px}.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%}@media screen and (forced-colors: active){.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring{border-color:CanvasText}}.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring::after,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring::after,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring::after{border-color:CanvasText}}.mdc-radio__native-control:checked+.mdc-radio__background,.mdc-radio__native-control:disabled+.mdc-radio__background{transition:opacity 120ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__outer-circle{transition:border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle,.mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{transition:transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1),border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio--disabled{cursor:default;pointer-events:none}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle{transform:scale(0.5);transition:transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1),border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:disabled+.mdc-radio__background,[aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background{cursor:default}.mdc-radio__native-control:focus+.mdc-radio__background::before{transform:scale(1);opacity:.12;transition:opacity 120ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-radio-button .mdc-radio{padding:calc((var(--mdc-radio-state-layer-size) - 20px) / 2)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-selected-icon-color)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-disabled-selected-icon-color)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:checked+.mdc-radio__background .mdc-radio__outer-circle{opacity:var(--mdc-radio-disabled-selected-icon-opacity)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{opacity:var(--mdc-radio-disabled-selected-icon-opacity)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-unselected-icon-color)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{opacity:var(--mdc-radio-disabled-unselected-icon-opacity)}.mat-mdc-radio-button .mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-focus-icon-color)}.mat-mdc-radio-button .mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-focus-icon-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-hover-icon-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-hover-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-icon-color)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-pressed-icon-color)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-pressed-icon-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-hover-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-icon-color)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-pressed-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__background::before{top:calc(-1 * (var(--mdc-radio-state-layer-size) - 20px) / 2);left:calc(-1 * (var(--mdc-radio-state-layer-size) - 20px) / 2);width:var(--mdc-radio-state-layer-size);height:var(--mdc-radio-state-layer-size)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control{top:calc((var(--mdc-radio-state-layer-size) - var(--mdc-radio-state-layer-size)) / 2);right:calc((var(--mdc-radio-state-layer-size) - var(--mdc-radio-state-layer-size)) / 2);left:calc((var(--mdc-radio-state-layer-size) - var(--mdc-radio-state-layer-size)) / 2);width:var(--mdc-radio-state-layer-size);height:var(--mdc-radio-state-layer-size)}.mat-mdc-radio-button .mdc-radio .mdc-radio__background::before{background-color:var(--mat-radio-ripple-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:not([disabled]):not(:focus)~.mdc-radio__background::before{opacity:.04;transform:scale(1)}.mat-mdc-radio-button.mat-mdc-radio-checked .mdc-radio__background::before{background-color:var(--mat-radio-checked-ripple-color)}.mat-mdc-radio-button.mat-mdc-radio-checked .mat-ripple-element{background-color:var(--mat-radio-checked-ripple-color)}.mat-mdc-radio-button .mdc-radio--disabled+label{color:var(--mat-radio-disabled-label-color)}.mat-mdc-radio-button .mat-radio-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:50%}.mat-mdc-radio-button .mat-radio-ripple .mat-ripple-element{opacity:.14}.mat-mdc-radio-button .mat-radio-ripple::before{border-radius:50%}.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__background::before,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__outer-circle,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__inner-circle{transition:none !important}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:focus:enabled:not(:checked)~.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-focus-icon-color, black)}.mat-mdc-radio-button.cdk-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-radio-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-radio-touch-target-display)}[dir=rtl] .mat-mdc-radio-touch-target{left:0;right:50%;transform:translate(50%, -50%)}'],encapsulation:2,changeDetection:0});let t=e;return t})(),IF=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=be({type:e}),e.\u0275inj=ye({imports:[Et,io,Nu,aK,Et]});let t=e;return t})();function lK(t,e){return new Ie(i=>{let n=!1,r=!1,o=t.subscribe(s=>{r=!0,setTimeout(()=>{i.next(s),n&&i.complete()},e)},s=>setTimeout(()=>i.error(s),e),()=>{n=!0,r||i.complete()});return()=>o.unsubscribe()})}var It={CONTINUE:100,SWITCHING_PROTOCOLS:101,OK:200,CREATED:201,ACCEPTED:202,NON_AUTHORITATIVE_INFORMATION:203,NO_CONTENT:204,RESET_CONTENT:205,PARTIAL_CONTENT:206,MULTIPLE_CHOICES:300,MOVED_PERMANTENTLY:301,FOUND:302,SEE_OTHER:303,NOT_MODIFIED:304,USE_PROXY:305,TEMPORARY_REDIRECT:307,BAD_REQUEST:400,UNAUTHORIZED:401,PAYMENT_REQUIRED:402,FORBIDDEN:403,NOT_FOUND:404,METHOD_NOT_ALLOWED:405,NOT_ACCEPTABLE:406,PROXY_AUTHENTICATION_REQUIRED:407,REQUEST_TIMEOUT:408,CONFLICT:409,GONE:410,LENGTH_REQUIRED:411,PRECONDITION_FAILED:412,PAYLOAD_TO_LARGE:413,URI_TOO_LONG:414,UNSUPPORTED_MEDIA_TYPE:415,RANGE_NOT_SATISFIABLE:416,EXPECTATION_FAILED:417,IM_A_TEAPOT:418,UPGRADE_REQUIRED:426,INTERNAL_SERVER_ERROR:500,NOT_IMPLEMENTED:501,BAD_GATEWAY:502,SERVICE_UNAVAILABLE:503,GATEWAY_TIMEOUT:504,HTTP_VERSION_NOT_SUPPORTED:505,PROCESSING:102,MULTI_STATUS:207,IM_USED:226,PERMANENT_REDIRECT:308,UNPROCESSABLE_ENTRY:422,LOCKED:423,FAILED_DEPENDENCY:424,PRECONDITION_REQUIRED:428,TOO_MANY_REQUESTS:429,REQUEST_HEADER_FIELDS_TOO_LARGE:431,UNAVAILABLE_FOR_LEGAL_REASONS:451,VARIANT_ALSO_NEGOTIATES:506,INSUFFICIENT_STORAGE:507,NETWORK_AUTHENTICATION_REQUIRED:511},cK={100:{code:100,text:"Continue",description:'"The initial part of a request has been received and has not yet been rejected by the server."',spec_title:"RFC7231#6.2.1",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.2.1"},101:{code:101,text:"Switching Protocols",description:`"The server understands and is willing to comply with the client's request, via the Upgrade header field, for a change in the application protocol being used on this connection."`,spec_title:"RFC7231#6.2.2",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.2.2"},200:{code:200,text:"OK",description:'"The request has succeeded."',spec_title:"RFC7231#6.3.1",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.3.1"},201:{code:201,text:"Created",description:'"The request has been fulfilled and has resulted in one or more new resources being created."',spec_title:"RFC7231#6.3.2",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.3.2"},202:{code:202,text:"Accepted",description:'"The request has been accepted for processing, but the processing has not been completed."',spec_title:"RFC7231#6.3.3",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.3.3"},203:{code:203,text:"Non-Authoritative Information",description:`"The request was successful but the enclosed payload has been modified from that of the origin server's 200 (OK) response by a transforming proxy."`,spec_title:"RFC7231#6.3.4",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.3.4"},204:{code:204,text:"No Content",description:'"The server has successfully fulfilled the request and that there is no additional content to send in the response payload body."',spec_title:"RFC7231#6.3.5",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.3.5"},205:{code:205,text:"Reset Content",description:'"The server has fulfilled the request and desires that the user agent reset the "document view", which caused the request to be sent, to its original state as received from the origin server."',spec_title:"RFC7231#6.3.6",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.3.6"},206:{code:206,text:"Partial Content",description:`"The server is successfully fulfilling a range request for the target resource by transferring one or more parts of the selected representation that correspond to the satisfiable ranges found in the requests's Range header field."`,spec_title:"RFC7233#4.1",spec_href:"https://tools.ietf.org/html/rfc7233#section-4.1"},300:{code:300,text:"Multiple Choices",description:'"The target resource has more than one representation, each with its own more specific identifier, and information about the alternatives is being provided so that the user (or user agent) can select a preferred representation by redirecting its request to one or more of those identifiers."',spec_title:"RFC7231#6.4.1",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.4.1"},301:{code:301,text:"Moved Permanently",description:'"The target resource has been assigned a new permanent URI and any future references to this resource ought to use one of the enclosed URIs."',spec_title:"RFC7231#6.4.2",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.4.2"},302:{code:302,text:"Found",description:'"The target resource resides temporarily under a different URI."',spec_title:"RFC7231#6.4.3",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.4.3"},303:{code:303,text:"See Other",description:'"The server is redirecting the user agent to a different resource, as indicated by a URI in the Location header field, that is intended to provide an indirect response to the original request."',spec_title:"RFC7231#6.4.4",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.4.4"},304:{code:304,text:"Not Modified",description:'"A conditional GET request has been received and would have resulted in a 200 (OK) response if it were not for the fact that the condition has evaluated to false."',spec_title:"RFC7232#4.1",spec_href:"https://tools.ietf.org/html/rfc7232#section-4.1"},305:{code:305,text:"Use Proxy",description:"*deprecated*",spec_title:"RFC7231#6.4.5",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.4.5"},307:{code:307,text:"Temporary Redirect",description:'"The target resource resides temporarily under a different URI and the user agent MUST NOT change the request method if it performs an automatic redirection to that URI."',spec_title:"RFC7231#6.4.7",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.4.7"},400:{code:400,text:"Bad Request",description:'"The server cannot or will not process the request because the received syntax is invalid, nonsensical, or exceeds some limitation on what the server is willing to process."',spec_title:"RFC7231#6.5.1",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.1"},401:{code:401,text:"Unauthorized",description:'"The request has not been applied because it lacks valid authentication credentials for the target resource."',spec_title:"RFC7235#6.3.1",spec_href:"https://tools.ietf.org/html/rfc7235#section-3.1"},402:{code:402,text:"Payment Required",description:"*reserved*",spec_title:"RFC7231#6.5.2",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.2"},403:{code:403,text:"Forbidden",description:'"The server understood the request but refuses to authorize it."',spec_title:"RFC7231#6.5.3",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.3"},404:{code:404,text:"Not Found",description:'"The origin server did not find a current representation for the target resource or is not willing to disclose that one exists."',spec_title:"RFC7231#6.5.4",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.4"},405:{code:405,text:"Method Not Allowed",description:'"The method specified in the request-line is known by the origin server but not supported by the target resource."',spec_title:"RFC7231#6.5.5",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.5"},406:{code:406,text:"Not Acceptable",description:'"The target resource does not have a current representation that would be acceptable to the user agent, according to the proactive negotiation header fields received in the request, and the server is unwilling to supply a default representation."',spec_title:"RFC7231#6.5.6",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.6"},407:{code:407,text:"Proxy Authentication Required",description:'"The client needs to authenticate itself in order to use a proxy."',spec_title:"RFC7231#6.3.2",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.3.2"},408:{code:408,text:"Request Timeout",description:'"The server did not receive a complete request message within the time that it was prepared to wait."',spec_title:"RFC7231#6.5.7",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.7"},409:{code:409,text:"Conflict",description:'"The request could not be completed due to a conflict with the current state of the resource."',spec_title:"RFC7231#6.5.8",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.8"},410:{code:410,text:"Gone",description:'"Access to the target resource is no longer available at the origin server and that this condition is likely to be permanent."',spec_title:"RFC7231#6.5.9",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.9"},411:{code:411,text:"Length Required",description:'"The server refuses to accept the request without a defined Content-Length."',spec_title:"RFC7231#6.5.10",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.10"},412:{code:412,text:"Precondition Failed",description:'"One or more preconditions given in the request header fields evaluated to false when tested on the server."',spec_title:"RFC7232#4.2",spec_href:"https://tools.ietf.org/html/rfc7232#section-4.2"},413:{code:413,text:"Payload Too Large",description:'"The server is refusing to process a request because the request payload is larger than the server is willing or able to process."',spec_title:"RFC7231#6.5.11",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.11"},414:{code:414,text:"URI Too Long",description:'"The server is refusing to service the request because the request-target is longer than the server is willing to interpret."',spec_title:"RFC7231#6.5.12",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.12"},415:{code:415,text:"Unsupported Media Type",description:'"The origin server is refusing to service the request because the payload is in a format not supported by the target resource for this method."',spec_title:"RFC7231#6.5.13",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.13"},416:{code:416,text:"Range Not Satisfiable",description:`"None of the ranges in the request's Range header field overlap the current extent of the selected resource or that the set of ranges requested has been rejected due to invalid ranges or an excessive request of small or overlapping ranges."`,spec_title:"RFC7233#4.4",spec_href:"https://tools.ietf.org/html/rfc7233#section-4.4"},417:{code:417,text:"Expectation Failed",description:`"The expectation given in the request's Expect header field could not be met by at least one of the inbound servers."`,spec_title:"RFC7231#6.5.14",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.14"},418:{code:418,text:"I'm a teapot",description:'"1988 April Fools Joke. Returned by tea pots requested to brew coffee."',spec_title:"RFC 2324",spec_href:"https://tools.ietf.org/html/rfc2324"},426:{code:426,text:"Upgrade Required",description:'"The server refuses to perform the request using the current protocol but might be willing to do so after the client upgrades to a different protocol."',spec_title:"RFC7231#6.5.15",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.15"},500:{code:500,text:"Internal Server Error",description:'"The server encountered an unexpected condition that prevented it from fulfilling the request."',spec_title:"RFC7231#6.6.1",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.6.1"},501:{code:501,text:"Not Implemented",description:'"The server does not support the functionality required to fulfill the request."',spec_title:"RFC7231#6.6.2",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.6.2"},502:{code:502,text:"Bad Gateway",description:'"The server, while acting as a gateway or proxy, received an invalid response from an inbound server it accessed while attempting to fulfill the request."',spec_title:"RFC7231#6.6.3",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.6.3"},503:{code:503,text:"Service Unavailable",description:'"The server is currently unable to handle the request due to a temporary overload or scheduled maintenance, which will likely be alleviated after some delay."',spec_title:"RFC7231#6.6.4",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.6.4"},504:{code:504,text:"Gateway Time-out",description:'"The server, while acting as a gateway or proxy, did not receive a timely response from an upstream server it needed to access in order to complete the request."',spec_title:"RFC7231#6.6.5",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.6.5"},505:{code:505,text:"HTTP Version Not Supported",description:'"The server does not support, or refuses to support, the protocol version that was used in the request message."',spec_title:"RFC7231#6.6.6",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.6.6"},102:{code:102,text:"Processing",description:'"An interim response to inform the client that the server has accepted the complete request, but has not yet completed it."',spec_title:"RFC5218#10.1",spec_href:"https://tools.ietf.org/html/rfc2518#section-10.1"},207:{code:207,text:"Multi-Status",description:'"Status for multiple independent operations."',spec_title:"RFC5218#10.2",spec_href:"https://tools.ietf.org/html/rfc2518#section-10.2"},226:{code:226,text:"IM Used",description:'"The server has fulfilled a GET request for the resource, and the response is a representation of the result of one or more instance-manipulations applied to the current instance."',spec_title:"RFC3229#10.4.1",spec_href:"https://tools.ietf.org/html/rfc3229#section-10.4.1"},308:{code:308,text:"Permanent Redirect",description:'"The target resource has been assigned a new permanent URI and any future references to this resource SHOULD use one of the returned URIs. [...] This status code is similar to 301 Moved Permanently (Section 7.3.2 of rfc7231), except that it does not allow rewriting the request method from POST to GET."',spec_title:"RFC7238",spec_href:"https://tools.ietf.org/html/rfc7238"},422:{code:422,text:"Unprocessable Entity",description:'"The server understands the content type of the request entity (hence a 415(Unsupported Media Type) status code is inappropriate), and the syntax of the request entity is correct (thus a 400 (Bad Request) status code is inappropriate) but was unable to process the contained instructions."',spec_title:"RFC5218#10.3",spec_href:"https://tools.ietf.org/html/rfc2518#section-10.3"},423:{code:423,text:"Locked",description:'"The source or destination resource of a method is locked."',spec_title:"RFC5218#10.4",spec_href:"https://tools.ietf.org/html/rfc2518#section-10.4"},424:{code:424,text:"Failed Dependency",description:'"The method could not be performed on the resource because the requested action depended on another action and that action failed."',spec_title:"RFC5218#10.5",spec_href:"https://tools.ietf.org/html/rfc2518#section-10.5"},428:{code:428,text:"Precondition Required",description:'"The origin server requires the request to be conditional."',spec_title:"RFC6585#3",spec_href:"https://tools.ietf.org/html/rfc6585#section-3"},429:{code:429,text:"Too Many Requests",description:'"The user has sent too many requests in a given amount of time ("rate limiting")."',spec_title:"RFC6585#4",spec_href:"https://tools.ietf.org/html/rfc6585#section-4"},431:{code:431,text:"Request Header Fields Too Large",description:'"The server is unwilling to process the request because its header fields are too large."',spec_title:"RFC6585#5",spec_href:"https://tools.ietf.org/html/rfc6585#section-5"},451:{code:451,text:"Unavailable For Legal Reasons",description:'"The server is denying access to the resource in response to a legal demand."',spec_title:"draft-ietf-httpbis-legally-restricted-status",spec_href:"https://tools.ietf.org/html/draft-ietf-httpbis-legally-restricted-status"},506:{code:506,text:"Variant Also Negotiates",description:'"The server has an internal configuration error: the chosen variant resource is configured to engage in transparent content negotiation itself, and is therefore not a proper end point in the negotiation process."',spec_title:"RFC2295#8.1",spec_href:"https://tools.ietf.org/html/rfc2295#section-8.1"},507:{code:507,text:"Insufficient Storage",description:'The method could not be performed on the resource because the server is unable to store the representation needed to successfully complete the request."',spec_title:"RFC5218#10.6",spec_href:"https://tools.ietf.org/html/rfc2518#section-10.6"},511:{code:511,text:"Network Authentication Required",description:'"The client needs to authenticate to gain network access."',spec_title:"RFC6585#6",spec_href:"https://tools.ietf.org/html/rfc6585#section-6"}};function dK(t){return cK[t+""].text||"Unknown Status"}function uK(t){return t>=200&&t<300}var Qh=class{},Qw=class{},Ny=(()=>{let e=class e{constructor(n={}){Object.assign(this,{caseSensitiveSearch:!1,dataEncapsulation:!1,delay:500,delete404:!1,passThruUnknownUrl:!1,post204:!0,post409:!1,put204:!0,put404:!1,apiBase:void 0,host:void 0,rootPath:void 0},n)}};e.\u0275fac=function(r){return new(r||e)(N(Qw))},e.\u0275prov=H({token:e,factory:e.\u0275fac});let t=e;return t})();function hK(t){let i=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(t),n={source:"",protocol:"",authority:"",userInfo:"",user:"",password:"",host:"",port:"",relative:"",path:"",directory:"",file:"",query:"",anchor:""},r=Object.keys(n),o=r.length;for(;o--;)n[r[o]]=i&&i[o]||"";return n}function fK(t){return t.replace(/\/$/,"")}var Jw=class{constructor(e,i={}){this.inMemDbService=e,this.config=new Ny,this.db={},this.requestInfoUtils=this.getRequestInfoUtils();let n=this.getLocation("/");this.config.host=n.host,this.config.rootPath=n.path,Object.assign(this.config,i)}get dbReady(){return this.dbReadySubject||(this.dbReadySubject=new Gt(!1),this.resetDb()),this.dbReadySubject.asObservable().pipe(bn(e=>e))}handleRequest(e){return this.dbReady.pipe(jn(()=>this.handleRequest_(e)))}handleRequest_(e){let i=e.urlWithParams?e.urlWithParams:e.url,n=this.bind("parseRequestUrl"),r=n&&n(i,this.requestInfoUtils)||this.parseRequestUrl(i),o=r.collectionName,s=this.db[o],a={req:e,apiBase:r.apiBase,collection:s,collectionName:o,headers:this.createHeaders({"Content-Type":"application/json"}),id:this.parseId(s,o,r.id),method:this.getRequestMethod(e),query:r.query,resourceUrl:r.resourceUrl,url:i,utils:this.requestInfoUtils},l;if(/commands\/?$/i.test(a.apiBase))return this.commands(a);let c=this.bind(a.method);if(c){let d=c(a);if(d)return d}return this.db[o]?this.createResponse$(()=>this.collectionHandler(a)):this.config.passThruUnknownUrl?this.getPassThruBackend().handle(e):(l=this.createErrorResponseOptions(i,It.NOT_FOUND,`Collection '${o}' not found`),this.createResponse$(()=>l))}addDelay(e){let i=this.config.delay;return i===0?e:lK(e,i||500)}applyQuery(e,i){let n=[],r=this.config.caseSensitiveSearch?void 0:"i";i.forEach((s,a)=>{s.forEach(l=>n.push({name:a,rx:new RegExp(decodeURI(l),r)}))});let o=n.length;return o?e.filter(s=>{let a=!0,l=o;for(;a&&l;){l-=1;let c=n[l];a=c.rx.test(s[c.name])}return a}):e}bind(e){let i=this.inMemDbService[e];return i?i.bind(this.inMemDbService):void 0}bodify(e){return this.config.dataEncapsulation?{data:e}:e}clone(e){return JSON.parse(JSON.stringify(e))}collectionHandler(e){let i;switch(e.method){case"get":i=this.get(e);break;case"post":i=this.post(e);break;case"put":i=this.put(e);break;case"delete":i=this.delete(e);break;default:i=this.createErrorResponseOptions(e.url,It.METHOD_NOT_ALLOWED,"Method not allowed");break}let n=this.bind("responseInterceptor");return n?n(i,e):i}commands(e){let i=e.collectionName.toLowerCase(),n=e.method,r={url:e.url};switch(i){case"resetdb":return r.status=It.NO_CONTENT,this.resetDb(e).pipe(jn(()=>this.createResponse$(()=>r,!1)));case"config":if(n==="get")r.status=It.OK,r.body=this.clone(this.config);else{let o=this.getJsonBody(e.req);Object.assign(this.config,o),this.passThruBackend=void 0,r.status=It.NO_CONTENT}break;default:r=this.createErrorResponseOptions(e.url,It.INTERNAL_SERVER_ERROR,`Unknown command "${i}"`)}return this.createResponse$(()=>r,!1)}createErrorResponseOptions(e,i,n){return{body:{error:`${n}`},url:e,headers:this.createHeaders({"Content-Type":"application/json"}),status:i}}createResponse$(e,i=!0){let n=this.createResponseOptions$(e),r=this.createResponse$fromResponseOptions$(n);return i?this.addDelay(r):r}createResponseOptions$(e){return new Ie(i=>{let n;try{n=e()}catch(o){let s=o.message||o;n=this.createErrorResponseOptions("",It.INTERNAL_SERVER_ERROR,`${s}`)}let r=n.status;try{n.statusText=r!=null?dK(r):void 0}catch{}return r!=null&&uK(r)?(i.next(n),i.complete()):i.error(n),()=>{}})}delete({collection:e,collectionName:i,headers:n,id:r,url:o}){if(r==null)return this.createErrorResponseOptions(o,It.NOT_FOUND,`Missing "${i}" id`);let s=this.removeById(e,r);return{headers:n,status:s||!this.config.delete404?It.NO_CONTENT:It.NOT_FOUND}}findById(e,i){return e.find(n=>n.id===i)}genId(e,i){let n=this.bind("genId");if(n){let r=n(e,i);if(r!=null)return r}return this.genIdDefault(e,i)}genIdDefault(e,i){if(!this.isCollectionIdNumeric(e,i))throw new Error(`Collection '${i}' id type is non-numeric or unknown. Can only generate numeric ids.`);let n=0;return e.reduce((r,o)=>{n=Math.max(n,typeof o.id=="number"?o.id:n)},void 0),n+1}get({collection:e,collectionName:i,headers:n,id:r,query:o,url:s}){let a=e;return r!=null&&r!==""?a=this.findById(e,r):o&&(a=this.applyQuery(e,o)),a?{body:this.bodify(this.clone(a)),headers:n,status:It.OK}:this.createErrorResponseOptions(s,It.NOT_FOUND,`'${i}' with id='${r}' not found`)}getLocation(e){if(!e.startsWith("http")){let i=typeof document>"u"?void 0:document,n=i?i.location.protocol+"//"+i.location.host:"http://fake";e=e.startsWith("/")?n+e:n+"/"+e}return hK(e)}getPassThruBackend(){return this.passThruBackend?this.passThruBackend:this.passThruBackend=this.createPassThruBackend()}getRequestInfoUtils(){return{createResponse$:this.createResponse$.bind(this),findById:this.findById.bind(this),isCollectionIdNumeric:this.isCollectionIdNumeric.bind(this),getConfig:()=>this.config,getDb:()=>this.db,getJsonBody:this.getJsonBody.bind(this),getLocation:this.getLocation.bind(this),getPassThruBackend:this.getPassThruBackend.bind(this),parseRequestUrl:this.parseRequestUrl.bind(this)}}indexOf(e,i){return e.findIndex(n=>n.id===i)}parseId(e,i,n){if(!this.isCollectionIdNumeric(e,i))return n;let r=parseFloat(n);return isNaN(r)?n:r}isCollectionIdNumeric(e,i){return!!(e&&e[0])&&typeof e[0].id=="number"}parseRequestUrl(e){try{let i=this.getLocation(e),n=(this.config.rootPath||"").length,r="";i.host!==this.config.host&&(n=1,r=i.protocol+"//"+i.host+"/");let s=i.path.substring(n).split("/"),a=0,l;this.config.apiBase==null?l=s[a++]:(l=fK(this.config.apiBase.trim()),l?a=l.split("/").length:a=0),l+="/";let c=s[a++];c=c&&c.split(".")[0];let d=s[a++],u=this.createQueryMap(i.query),h=r+l+c+"/";return{apiBase:l,collectionName:c,id:d,query:u,resourceUrl:h}}catch(i){let n=`unable to parse url '${e}'; original error: ${i.message}`;throw new Error(n)}}post({collection:e,collectionName:i,headers:n,id:r,req:o,resourceUrl:s,url:a}){let l=this.clone(this.getJsonBody(o));if(l.id==null)try{l.id=r||this.genId(e,i)}catch(u){let h=u.message||"";return/id type is non-numeric/.test(h)?this.createErrorResponseOptions(a,It.UNPROCESSABLE_ENTRY,h):this.createErrorResponseOptions(a,It.INTERNAL_SERVER_ERROR,`Failed to generate new id for '${i}'`)}if(r&&r!==l.id)return this.createErrorResponseOptions(a,It.BAD_REQUEST,"Request id does not match item.id");r=l.id;let c=this.indexOf(e,r),d=this.bodify(l);return c===-1?(e.push(l),n.set("Location",s+"/"+r),{headers:n,body:d,status:It.CREATED}):this.config.post409?this.createErrorResponseOptions(a,It.CONFLICT,`'${i}' item with id='${r} exists and may not be updated with POST; use PUT instead.`):(e[c]=l,this.config.post204?{headers:n,status:It.NO_CONTENT}:{headers:n,body:d,status:It.OK})}put({collection:e,collectionName:i,headers:n,id:r,req:o,url:s}){let a=this.clone(this.getJsonBody(o));if(a.id==null)return this.createErrorResponseOptions(s,It.NOT_FOUND,`Missing '${i}' id`);if(r&&r!==a.id)return this.createErrorResponseOptions(s,It.BAD_REQUEST,`Request for '${i}' id does not match item.id`);r=a.id;let l=this.indexOf(e,r),c=this.bodify(a);return l>-1?(e[l]=a,this.config.put204?{headers:n,status:It.NO_CONTENT}:{headers:n,body:c,status:It.OK}):this.config.put404?this.createErrorResponseOptions(s,It.NOT_FOUND,`'${i}' item with id='${r} not found and may not be created with PUT; use POST instead.`):(e.push(a),{headers:n,body:c,status:It.CREATED})}removeById(e,i){let n=this.indexOf(e,i);return n>-1?(e.splice(n,1),!0):!1}resetDb(e){this.dbReadySubject&&this.dbReadySubject.next(!1);let i=this.inMemDbService.createDb(e);return(i instanceof Ie?i:typeof i.then=="function"?ot(i):le(i)).pipe(bn()).subscribe(r=>{this.db=r,this.dbReadySubject&&this.dbReadySubject.next(!0)}),this.dbReady}},pK=(()=>{let e=class e extends Jw{constructor(n,r,o){super(n,r),this.xhrFactory=o}handle(n){try{return this.handleRequest(n)}catch(r){let o=r.message||r,s=this.createErrorResponseOptions(n.url,It.INTERNAL_SERVER_ERROR,`${o}`);return this.createResponse$(()=>s)}}getJsonBody(n){return n.body}getRequestMethod(n){return(n.method||"get").toLowerCase()}createHeaders(n){return new Dn(n)}createQueryMap(n){let r=new Map;if(n){let o=new no({fromString:n});o.keys().forEach(s=>r.set(s,o.getAll(s)||[]))}return r}createResponse$fromResponseOptions$(n){return n.pipe(me(r=>new gc(r)))}createPassThruBackend(){try{return new Yp(this.xhrFactory)}catch(n){throw n.message="Cannot create passThru404 backend; "+(n.message||""),n}}};e.\u0275fac=function(r){return new(r||e)(N(Qh),N(Ny,8),N(to))},e.\u0275prov=H({token:e,factory:e.\u0275fac});let t=e;return t})();function mK(t,e,i){return new pK(t,e,i)}var SF=(()=>{let e=class e{static forRoot(n,r){return{ngModule:e,providers:[{provide:Qh,useClass:n},{provide:Ny,useValue:r},{provide:mc,useFactory:mK,deps:[Qh,Ny,to]}]}}static forFeature(n,r){return e.forRoot(n,r)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=be({type:e}),e.\u0275inj=ye({});let t=e;return t})();var CF=(()=>{let e=class e{createDb(){return{champions:[{tags:["Fighter","Tank"],title:"the Monkey King",id:62,key:"MonkeyKing",name:"Wukong"},{tags:["Fighter","Assassin"],title:"Grandmaster at Arms",id:24,key:"Jax",name:"Jax"},{tags:["Mage","Support"],title:"the Harbinger of Doom",id:9,key:"Fiddlesticks",name:"Fiddlesticks"},{tags:["Assassin"],title:"the Demon Jester",id:35,key:"Shaco",name:"Shaco"},{tags:["Fighter","Tank"],title:"the Uncaged Wrath of Zaun",id:19,key:"Warwick",name:"Warwick"},{tags:["Marksman"],title:"the Rebel",id:498,key:"Xayah",name:"Xayah"},{tags:["Assassin","Fighter"],title:"the Bestial Huntress",id:76,key:"Nidalee",name:"Nidalee"},{tags:["Mage","Support"],title:"Rise of the Thorns",id:143,key:"Zyra",name:"Zyra"},{tags:["Fighter","Tank"],title:"the Cantankerous Cavalier",id:240,key:"Kled",name:"Kled"},{tags:["Mage"],title:"the Burning Vengeance",id:63,key:"Brand",name:"Brand"},{tags:["Tank","Fighter"],title:"the Armordillo",id:33,key:"Rammus",name:"Rammus"},{tags:["Fighter","Tank"],title:"the Kraken Priestess",id:420,key:"Illaoi",name:"Illaoi"},{tags:["Marksman"],title:"the Daring Bombardier",id:42,key:"Corki",name:"Corki"},{tags:["Support","Tank"],title:"the Heart of the Freljord",id:201,key:"Braum",name:"Braum"},{tags:["Fighter","Tank"],title:"the Hand of Noxus",id:122,key:"Darius",name:"Darius"},{tags:["Fighter","Assassin"],title:"the Barbarian King",id:23,key:"Tryndamere",name:"Tryndamere"},{tags:["Marksman"],title:"the Bounty Hunter",id:21,key:"MissFortune",name:"Miss Fortune"},{tags:["Fighter","Tank"],title:"Shepherd of Souls",id:83,key:"Yorick",name:"Yorick"},{tags:["Mage","Assassin"],title:"the Magus Ascendant",id:101,key:"Xerath",name:"Xerath"},{tags:["Marksman"],title:"the Battle Mistress",id:15,key:"Sivir",name:"Sivir"},{tags:["Fighter","Assassin"],title:"the Exile",id:92,key:"Riven",name:"Riven"},{tags:["Mage","Support"],title:"the Lady of Clockwork",id:61,key:"Orianna",name:"Orianna"},{tags:["Fighter"],title:"the Saltwater Scourge",id:41,key:"Gangplank",name:"Gangplank"},{tags:["Tank","Fighter"],title:"Shard of the Monolith",id:54,key:"Malphite",name:"Malphite"},{tags:["Tank","Fighter"],title:"Keeper of the Hammer",id:78,key:"Poppy",name:"Poppy"},{tags:["Mage"],title:"the Deathsinger",id:30,key:"Karthus",name:"Karthus"},{tags:["Fighter","Marksman"],title:"the Defender of Tomorrow",id:126,key:"Jayce",name:"Jayce"},{tags:["Support","Fighter"],title:"the Yeti Rider",id:20,key:"Nunu",name:"Nunu"},{tags:["Fighter","Tank"],title:"the Troll King",id:48,key:"Trundle",name:"Trundle"},{tags:["Marksman"],title:"the Outlaw",id:104,key:"Graves",name:"Graves"},{tags:["Mage","Support"],title:"Fallen Angel",id:25,key:"Morgana",name:"Morgana"},{tags:["Fighter","Tank"],title:"the Missing Link",id:150,key:"Gnar",name:"Gnar"},{tags:["Mage","Support"],title:"the Lady of Luminosity",id:99,key:"Lux",name:"Lux"},{tags:["Fighter","Tank"],title:"the Half-Dragon",id:102,key:"Shyvana",name:"Shyvana"},{tags:["Fighter","Tank"],title:"the Butcher of the Sands",id:58,key:"Renekton",name:"Renekton"},{tags:["Fighter","Assassin"],title:"the Grand Duelist",id:114,key:"Fiora",name:"Fiora"},{tags:["Marksman"],title:"the Loose Cannon",id:222,key:"Jinx",name:"Jinx"},{tags:["Marksman"],title:"the Spear of Vengeance",id:429,key:"Kalista",name:"Kalista"},{tags:["Assassin","Fighter"],title:"the Tidal Trickster",id:105,key:"Fizz",name:"Fizz"},{tags:["Assassin","Mage"],title:"the Void Walker",id:38,key:"Kassadin",name:"Kassadin"},{tags:["Support","Mage"],title:"Maven of the Strings",id:37,key:"Sona",name:"Sona"},{tags:["Fighter","Assassin"],title:"the Will of the Blades",id:39,key:"Irelia",name:"Irelia"},{tags:["Mage"],title:"the Machine Herald",id:112,key:"Viktor",name:"Viktor"},{tags:["Support"],title:"The Charmer",id:497,key:"Rakan",name:"Rakan"},{tags:["Marksman"],title:"The Eternal Hunters",id:203,key:"Kindred",name:"Kindred"},{tags:["Mage"],title:"the Serpent's Embrace",id:69,key:"Cassiopeia",name:"Cassiopeia"},{tags:["Tank","Mage"],title:"the Twisted Treant",id:57,key:"Maokai",name:"Maokai"},{tags:["Tank","Fighter"],title:"The Fire below the Mountain",id:516,key:"Ornn",name:"Ornn"},{tags:["Support","Fighter"],title:"the Chain Warden",id:412,key:"Thresh",name:"Thresh"},{tags:["Fighter","Support"],title:"The Judicator",id:10,key:"Kayle",name:"Kayle"},{tags:["Fighter","Tank"],title:"the Shadow of War",id:120,key:"Hecarim",name:"Hecarim"},{tags:["Assassin","Fighter"],title:"the Voidreaver",id:121,key:"Khazix",name:"Kha'Zix"},{tags:["Fighter","Tank"],title:"the Berserker",id:2,key:"Olaf",name:"Olaf"},{tags:["Mage"],title:"the Hexplosives Expert",id:115,key:"Ziggs",name:"Ziggs"},{tags:["Mage","Support"],title:"the Dark Sovereign",id:134,key:"Syndra",name:"Syndra"},{tags:["Fighter","Tank"],title:"the Madman of Zaun",id:36,key:"DrMundo",name:"Dr. Mundo"},{tags:["Mage","Support"],title:"the Enlightened One",id:43,key:"Karma",name:"Karma"},{tags:["Mage"],title:"the Dark Child",id:1,key:"Annie",name:"Annie"},{tags:["Assassin"],title:"the Fist of Shadow",id:84,key:"Akali",name:"Akali"},{tags:["Fighter","Tank"],title:"the Thunder's Roar",id:106,key:"Volibear",name:"Volibear"},{tags:["Fighter","Assassin"],title:"the Unforgiven",id:157,key:"Yasuo",name:"Yasuo"},{tags:["Mage","Marksman"],title:"the Heart of the Tempest",id:85,key:"Kennen",name:"Kennen"},{tags:["Assassin","Fighter"],title:"the Pridestalker",id:107,key:"Rengar",name:"Rengar"},{tags:["Mage","Fighter"],title:"the Rune Mage",id:13,key:"Ryze",name:"Ryze"},{tags:["Tank"],title:"the Eye of Twilight",id:98,key:"Shen",name:"Shen"},{tags:["Tank","Fighter"],title:"the Secret Weapon",id:154,key:"Zac",name:"Zac"},{tags:["Assassin","Fighter"],title:"the Blade's Shadow",id:91,key:"Talon",name:"Talon"},{tags:["Mage","Fighter"],title:"the Master Tactician",id:50,key:"Swain",name:"Swain"},{tags:["Support","Mage"],title:"the Wandering Caretaker",id:432,key:"Bard",name:"Bard"},{tags:["Tank","Fighter"],title:"The Undead Juggernaut",id:14,key:"Sion",name:"Sion"},{tags:["Marksman","Assassin"],title:"the Night Hunter",id:67,key:"Vayne",name:"Vayne"},{tags:["Fighter","Tank"],title:"the Curator of the Sands",id:75,key:"Nasus",name:"Nasus"},{tags:["Fighter","Assassin"],title:"the Shadow Reaper",id:141,key:"Kayn",name:"Kayn"},{tags:["Mage"],title:"the Card Master",id:4,key:"TwistedFate",name:"Twisted Fate"},{tags:["Tank","Mage"],title:"the Terror of the Void",id:31,key:"Chogath",name:"Cho'Gath"},{tags:["Fighter","Tank"],title:"the Spirit Walker",id:77,key:"Udyr",name:"Udyr"},{tags:["Marksman"],title:"the Purifier",id:236,key:"Lucian",name:"Lucian"},{tags:["Support","Mage"],title:"the Green Father",id:427,key:"Ivern",name:"Ivern"},{tags:["Tank","Support"],title:"the Radiant Dawn",id:89,key:"Leona",name:"Leona"},{tags:["Marksman"],title:"the Sheriff of Piltover",id:51,key:"Caitlyn",name:"Caitlyn"},{tags:["Tank","Fighter"],title:"Fury of the North",id:113,key:"Sejuani",name:"Sejuani"},{tags:["Assassin","Fighter"],title:"the Eternal Nightmare",id:56,key:"Nocturne",name:"Nocturne"},{tags:["Support","Mage"],title:"the Chronokeeper",id:26,key:"Zilean",name:"Zilean"},{tags:["Mage","Marksman"],title:"the Emperor of the Sands",id:268,key:"Azir",name:"Azir"},{tags:["Fighter","Mage"],title:"the Mechanized Menace",id:68,key:"Rumble",name:"Rumble"},{tags:["Mage","Support"],title:"the Stoneweaver",id:163,key:"Taliyah",name:"Taliyah"},{tags:["Marksman","Assassin"],title:"the Swift Scout",id:17,key:"Teemo",name:"Teemo"},{tags:["Fighter","Marksman"],title:"the Dreadnought",id:6,key:"Urgot",name:"Urgot"},{tags:["Tank","Mage"],title:"the Sad Mummy",id:32,key:"Amumu",name:"Amumu"},{tags:["Tank","Mage"],title:"the Colossus",id:3,key:"Galio",name:"Galio"},{tags:["Mage","Support"],title:"the Revered Inventor",id:74,key:"Heimerdinger",name:"Heimerdinger"},{tags:["Mage","Support"],title:"the Cryophoenix",id:34,key:"Anivia",name:"Anivia"},{tags:["Marksman","Support"],title:"the Frost Archer",id:22,key:"Ashe",name:"Ashe"},{tags:["Mage"],title:"the Eye of the Void",id:161,key:"Velkoz",name:"Vel'Koz"},{tags:["Tank","Fighter"],title:"the Mad Chemist",id:27,key:"Singed",name:"Singed"},{tags:["Fighter","Tank"],title:"the Crystal Vanguard",id:72,key:"Skarner",name:"Skarner"},{tags:["Marksman","Mage"],title:"the Arrow of Retribution",id:110,key:"Varus",name:"Varus"},{tags:["Marksman","Assassin"],title:"the Plague Rat",id:29,key:"Twitch",name:"Twitch"},{tags:["Fighter","Tank"],title:"The Might of Demacia",id:86,key:"Garen",name:"Garen"},{tags:["Tank","Fighter"],title:"the Great Steam Golem",id:53,key:"Blitzcrank",name:"Blitzcrank"},{tags:["Assassin","Fighter"],title:"the Wuju Bladesman",id:11,key:"MasterYi",name:"Master Yi"},{tags:["Mage","Fighter"],title:"the Spider Queen",id:60,key:"Elise",name:"Elise"},{tags:["Tank","Support"],title:"the Minotaur",id:12,key:"Alistar",name:"Alistar"},{tags:["Assassin","Mage"],title:"the Sinister Blade",id:55,key:"Katarina",name:"Katarina"},{tags:["Assassin","Fighter"],title:"the Boy Who Shattered Time",id:245,key:"Ekko",name:"Ekko"},{tags:["Fighter"],title:"the Iron Revenant",id:82,key:"Mordekaiser",name:"Mordekaiser"},{tags:["Support","Mage"],title:"the Fae Sorceress",id:117,key:"Lulu",name:"Lulu"},{tags:["Fighter","Tank"],title:"the Steel Shadow",id:164,key:"Camille",name:"Camille"},{tags:["Fighter","Tank"],title:"the Darkin Blade",id:266,key:"Aatrox",name:"Aatrox"},{tags:["Marksman"],title:"the Glorious Executioner",id:119,key:"Draven",name:"Draven"},{tags:["Support","Tank"],title:"the River King",id:223,key:"TahmKench",name:"Tahm Kench"},{tags:["Fighter","Assassin"],title:"the Artisan of War",id:80,key:"Pantheon",name:"Pantheon"},{tags:["Fighter","Assassin"],title:"the Seneschal of Demacia",id:5,key:"XinZhao",name:"Xin Zhao"},{tags:["Mage","Fighter"],title:"The Star Forger",id:136,key:"AurelionSol",name:"Aurelion Sol"},{tags:["Fighter","Assassin"],title:"the Blind Monk",id:64,key:"LeeSin",name:"Lee Sin"},{tags:["Support","Fighter"],title:"the Shield of Valoran",id:44,key:"Taric",name:"Taric"},{tags:["Mage","Assassin"],title:"the Prophet of the Void",id:90,key:"Malzahar",name:"Malzahar"},{tags:["Mage"],title:"the Ice Witch",id:127,key:"Lissandra",name:"Lissandra"},{tags:["Fighter","Mage"],title:"Scorn of the Moon",id:131,key:"Diana",name:"Diana"},{tags:["Marksman","Assassin"],title:"the Yordle Gunner",id:18,key:"Tristana",name:"Tristana"},{tags:["Fighter"],title:"the Void Burrower",id:421,key:"RekSai",name:"Rek'Sai"},{tags:["Mage","Tank"],title:"the Crimson Reaper",id:8,key:"Vladimir",name:"Vladimir"},{tags:["Tank","Fighter"],title:"the Exemplar of Demacia",id:59,key:"JarvanIV",name:"Jarvan IV"},{tags:["Support","Mage"],title:"the Tidecaller",id:267,key:"Nami",name:"Nami"},{tags:["Marksman","Assassin"],title:"the Virtuoso",id:202,key:"Jhin",name:"Jhin"},{tags:["Support","Mage"],title:"the Starchild",id:16,key:"Soraka",name:"Soraka"},{tags:["Mage"],title:"the Tiny Master of Evil",id:45,key:"Veigar",name:"Veigar"},{tags:["Support","Mage"],title:"the Storm's Fury",id:40,key:"Janna",name:"Janna"},{tags:["Tank","Fighter"],title:"the Titan of the Depths",id:111,key:"Nautilus",name:"Nautilus"},{tags:["Assassin","Mage"],title:"the Widowmaker",id:28,key:"Evelynn",name:"Evelynn"},{tags:["Fighter","Mage"],title:"the Rabble Rouser",id:79,key:"Gragas",name:"Gragas"},{tags:["Assassin","Fighter"],title:"the Master of Shadows",id:238,key:"Zed",name:"Zed"},{tags:["Fighter","Assassin"],title:"the Piltover Enforcer",id:254,key:"Vi",name:"Vi"},{tags:["Marksman","Mage"],title:"the Mouth of the Abyss",id:96,key:"KogMaw",name:"Kog'Maw"},{tags:["Mage","Assassin"],title:"the Nine-Tailed Fox",id:103,key:"Ahri",name:"Ahri"},{tags:["Marksman","Fighter"],title:"Demacia's Wings",id:133,key:"Quinn",name:"Quinn"},{tags:["Assassin","Mage"],title:"the Deceiver",id:7,key:"Leblanc",name:"LeBlanc"},{tags:["Marksman","Mage"],title:"the Prodigal Explorer",id:81,key:"Ezreal",name:"Ezreal"}],sorts:[{id:1,summonerLevel:6,name:"Cleanse",key:"SummonerBoost",description:"Removes all disables (excluding suppression and airborne) and summoner spell debuffs affecting your champion and lowers the duration of incoming disables by 65% for 3 seconds."},{id:3,summonerLevel:4,name:"Exhaust",key:"SummonerExhaust",description:"Exhausts target enemy champion, reducing their Movement Speed by 30%, and their damage dealt by 40% for 2.5 seconds."},{id:4,summonerLevel:8,name:"Flash",key:"SummonerFlash",description:"Teleports your champion a short distance toward your cursor's location."},{id:6,summonerLevel:1,name:"Ghost",key:"SummonerHaste",description:"Your champion gains increased Movement Speed and can move through units for 10 seconds. Grants a maximum of 28-45% (depending on champion level) Movement Speed after accelerating for 2 seconds."},{id:7,summonerLevel:1,name:"Heal",key:"SummonerHeal",description:"Restores 90-345 Health (depending on champion level) and grants 30% Movement Speed for 1 second to you and target allied champion. This healing is halved for units recently affected by Summoner Heal."},{id:11,summonerLevel:10,name:"Smite",key:"SummonerSmite",description:"Deals 390-1000 true damage (depending on champion level) to target epic, large, or medium monster or enemy minion. Restores Health based on your maximum life when used against monsters."},{id:12,summonerLevel:6,name:"Teleport",key:"SummonerTeleport",description:"After channeling for 4.5 seconds, teleports your champion to target allied structure, minion, or ward."},{id:13,summonerLevel:1,name:"Clarity",key:"SummonerMana",description:"Restores 50% of your champion's maximum Mana. Also restores allies for 25% of their maximum Mana."},{id:14,summonerLevel:10,name:"Ignite",key:"SummonerDot",description:"Ignites target enemy champion, dealing 70-410 true damage (depending on champion level) over 5 seconds, grants you vision of the target, and reduces healing effects on them for the duration."},{id:21,summonerLevel:4,name:"Barrier",key:"SummonerBarrier",description:"Shields your champion from 115-455 damage (depending on champion level) for 2 seconds."},{id:30,summonerLevel:1,name:"To the King!",key:"SummonerPoroRecall",description:"Quickly travel to the Poro King's side."},{id:31,summonerLevel:1,name:"Poro Toss",key:"SummonerPoroThrow",description:"Toss a Poro at your enemies. If it hits, you can quickly travel to your target as a follow up."},{id:32,summonerLevel:1,name:"Mark",key:"SummonerSnowball",description:"Throw a snowball in a straight line at your enemies. If it hits an enemy, they become marked, granting True Sight, and your champion can quickly travel to the marked target as a follow up."},{id:33,summonerLevel:1,name:"Nexus Siege: Siege Weapon Slot",key:"SummonerSiegeChampSelect1",description:"In Nexus Siege, Summoner Spells are replaced with Siege Weapon Slots. Spend Crystal Shards to buy single-use Siege Weapons from the item shop, then use your Summoner Spell keys to activate them!"},{id:34,summonerLevel:1,name:"Nexus Siege: Siege Weapon Slot",key:"SummonerSiegeChampSelect2",description:"In Nexus Siege, Summoner Spells are replaced with Siege Weapon Slots. Spend Crystal Shards to buy single-use Siege Weapons from the item shop, then use your Summoner Spell keys to activate them!"},{id:35,summonerLevel:1,name:"Disabled Summoner Spells",key:"SummonerDarkStarChampSelect1",description:"Summoner spells are disabled in this mode."},{id:36,summonerLevel:1,name:"Disabled Summoner Spells",key:"SummonerDarkStarChampSelect2",description:"Summoner spells are disabled in this mode."}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var EF=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=be({type:e,bootstrap:[LP]}),e.\u0275inj=ye({imports:[Qp,AT,SF.forRoot(CF,{dataEncapsulation:!1}),NP,ly,RP,YN,tN,Ay,ek,wF,FN,PN,IF,uF]});let t=e;return t})();FT().bootstrapModule(EF).catch(t=>console.error(t));
